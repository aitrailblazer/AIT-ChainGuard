var Yz=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var v_e=Yz(Nd=>{function Jz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(n,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function c6(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const Vz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wz=c6(Vz);function kR(t){return!!t||t===""}function HI(t){if(It(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=Kn(n)?eY(n):HI(n);if(o)for(const i in o)e[i]=o[i]}return e}else{if(Kn(t))return t;if(Jr(t))return t}}const Zz=/;(?![^(]*\))/g,Xz=/:(.+)/;function eY(t){const e={};return t.split(Zz).forEach(r=>{if(r){const n=r.split(Xz);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function $l(t){let e="";if(Kn(t))e=t;else if(It(t))for(let r=0;r<t.length;r++){const n=$l(t[r]);n&&(e+=n+" ")}else if(Jr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ig=t=>Kn(t)?t:t==null?"":It(t)||Jr(t)&&(t.toString===UR||!St(t.toString))?JSON.stringify(t,TR,2):String(t),TR=(t,e)=>e&&e.__v_isRef?TR(t,e.value):pg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:FR(e)?{[`Set(${e.size})`]:[...e.values()]}:Jr(e)&&!It(e)&&!RR(e)?String(e):e,xr={},gg=[],Ja=()=>{},tY=()=>!1,rY=/^on[^a-z]/,lv=t=>rY.test(t),f6=t=>t.startsWith("onUpdate:"),ci=Object.assign,d6=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},nY=Object.prototype.hasOwnProperty,jt=(t,e)=>nY.call(t,e),It=Array.isArray,pg=t=>uv(t)==="[object Map]",FR=t=>uv(t)==="[object Set]",St=t=>typeof t=="function",Kn=t=>typeof t=="string",l6=t=>typeof t=="symbol",Jr=t=>t!==null&&typeof t=="object",MR=t=>Jr(t)&&St(t.then)&&St(t.catch),UR=Object.prototype.toString,uv=t=>UR.call(t),iY=t=>uv(t).slice(8,-1),RR=t=>uv(t)==="[object Object]",u6=t=>Kn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,D1=c6(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hv=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},oY=/-(\w)/g,Zc=hv(t=>t.replace(oY,(e,r)=>r?r.toUpperCase():"")),sY=/\B([A-Z])/g,M0=hv(t=>t.replace(sY,"-$1").toLowerCase()),Av=hv(t=>t.charAt(0).toUpperCase()+t.slice(1)),k1=hv(t=>t?`on${Av(t)}`:""),Yy=(t,e)=>!Object.is(t,e),T1=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},yb=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Ib=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let PD;const aY=()=>PD||(PD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{});let wc;class cY{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=wc,!e&&wc&&(this.index=(wc.scopes||(wc.scopes=[])).push(this)-1)}run(e){if(this.active){const r=wc;try{return wc=this,e()}finally{wc=r}}}on(){wc=this}off(){wc=this.parent}stop(e){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function fY(t,e=wc){e&&e.active&&e.effects.push(t)}const h6=t=>{const e=new Set(t);return e.w=0,e.n=0,e},NR=t=>(t.w&jl)>0,PR=t=>(t.n&jl)>0,dY=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=jl},lY=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const o=e[n];NR(o)&&!PR(o)?o.delete(t):e[r++]=o,o.w&=~jl,o.n&=~jl}e.length=r}},QQ=new WeakMap;let dy=0,jl=1;const xQ=30;let Ha;const bh=Symbol(""),SQ=Symbol("");class A6{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,fY(this,n)}run(){if(!this.active)return this.fn();let e=Ha,r=Rl;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ha,Ha=this,Rl=!0,jl=1<<++dy,dy<=xQ?dY(this):OD(this),this.fn()}finally{dy<=xQ&&lY(this),jl=1<<--dy,Ha=this.parent,Rl=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ha===this?this.deferStop=!0:this.active&&(OD(this),this.onStop&&this.onStop(),this.active=!1)}}function OD(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Rl=!0;const OR=[];function U0(){OR.push(Rl),Rl=!1}function R0(){const t=OR.pop();Rl=t===void 0?!0:t}function Ss(t,e,r){if(Rl&&Ha){let n=QQ.get(t);n||QQ.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=h6()),KR(o)}}function KR(t,e){let r=!1;dy<=xQ?PR(t)||(t.n|=jl,r=!NR(t)):r=!t.has(Ha),r&&(t.add(Ha),Ha.deps.push(t))}function md(t,e,r,n,o,i){const s=QQ.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(r==="length"&&It(t))s.forEach((c,d)=>{(d==="length"||d>=n)&&a.push(c)});else switch(r!==void 0&&a.push(s.get(r)),e){case"add":It(t)?u6(r)&&a.push(s.get("length")):(a.push(s.get(bh)),pg(t)&&a.push(s.get(SQ)));break;case"delete":It(t)||(a.push(s.get(bh)),pg(t)&&a.push(s.get(SQ)));break;case"set":pg(t)&&a.push(s.get(bh));break}if(a.length===1)a[0]&&_Q(a[0]);else{const c=[];for(const d of a)d&&c.push(...d);_Q(h6(c))}}function _Q(t,e){const r=It(t)?t:[...t];for(const n of r)n.computed&&KD(n);for(const n of r)n.computed||KD(n)}function KD(t,e){(t!==Ha||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const uY=c6("__proto__,__v_isRef,__isVue"),HR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(l6)),hY=g6(),AY=g6(!1,!0),gY=g6(!0),HD=pY();function pY(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Vt(this);for(let i=0,s=this.length;i<s;i++)Ss(n,"get",i+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(Vt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){U0();const n=Vt(this)[e].apply(this,r);return R0(),n}}),t}function g6(t=!1,e=!1){return function(n,o,i){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&i===(t?e?TY:jR:e?$R:qR).get(n))return n;const s=It(n);if(!t&&s&&jt(HD,o))return Reflect.get(HD,o,i);const a=Reflect.get(n,o,i);return(l6(o)?HR.has(o):uY(o))||(t||Ss(n,"get",o),e)?a:io(a)?s&&u6(o)?a:a.value:Jr(a)?t?zR(a):I6(a):a}}const yY=LR(),IY=LR(!0);function LR(t=!1){return function(r,n,o,i){let s=r[n];if(qg(s)&&io(s)&&!io(o))return!1;if(!t&&(!mb(o)&&!qg(o)&&(s=Vt(s),o=Vt(o)),!It(r)&&io(s)&&!io(o)))return s.value=o,!0;const a=It(r)&&u6(n)?Number(n)<r.length:jt(r,n),c=Reflect.set(r,n,o,i);return r===Vt(i)&&(a?Yy(o,s)&&md(r,"set",n,o):md(r,"add",n,o)),c}}function mY(t,e){const r=jt(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&md(t,"delete",e,void 0),n}function wY(t,e){const r=Reflect.has(t,e);return(!l6(e)||!HR.has(e))&&Ss(t,"has",e),r}function bY(t){return Ss(t,"iterate",It(t)?"length":bh),Reflect.ownKeys(t)}const GR={get:hY,set:yY,deleteProperty:mY,has:wY,ownKeys:bY},EY={get:gY,set(t,e){return!0},deleteProperty(t,e){return!0}},vY=ci({},GR,{get:AY,set:IY}),p6=t=>t,gv=t=>Reflect.getPrototypeOf(t);function Wm(t,e,r=!1,n=!1){t=t.__v_raw;const o=Vt(t),i=Vt(e);r||(e!==i&&Ss(o,"get",e),Ss(o,"get",i));const{has:s}=gv(o),a=n?p6:r?w6:Jy;if(s.call(o,e))return a(t.get(e));if(s.call(o,i))return a(t.get(i));t!==o&&t.get(e)}function Zm(t,e=!1){const r=this.__v_raw,n=Vt(r),o=Vt(t);return e||(t!==o&&Ss(n,"has",t),Ss(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function Xm(t,e=!1){return t=t.__v_raw,!e&&Ss(Vt(t),"iterate",bh),Reflect.get(t,"size",t)}function LD(t){t=Vt(t);const e=Vt(this);return gv(e).has.call(e,t)||(e.add(t),md(e,"add",t,t)),this}function GD(t,e){e=Vt(e);const r=Vt(this),{has:n,get:o}=gv(r);let i=n.call(r,t);i||(t=Vt(t),i=n.call(r,t));const s=o.call(r,t);return r.set(t,e),i?Yy(e,s)&&md(r,"set",t,e):md(r,"add",t,e),this}function qD(t){const e=Vt(this),{has:r,get:n}=gv(e);let o=r.call(e,t);o||(t=Vt(t),o=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return o&&md(e,"delete",t,void 0),i}function $D(){const t=Vt(this),e=t.size!==0,r=t.clear();return e&&md(t,"clear",void 0,void 0),r}function ew(t,e){return function(n,o){const i=this,s=i.__v_raw,a=Vt(s),c=e?p6:t?w6:Jy;return!t&&Ss(a,"iterate",bh),s.forEach((d,f)=>n.call(o,c(d),c(f),i))}}function tw(t,e,r){return function(...n){const o=this.__v_raw,i=Vt(o),s=pg(i),a=t==="entries"||t===Symbol.iterator&&s,c=t==="keys"&&s,d=o[t](...n),f=r?p6:e?w6:Jy;return!e&&Ss(i,"iterate",c?SQ:bh),{next(){const{value:l,done:u}=d.next();return u?{value:l,done:u}:{value:a?[f(l[0]),f(l[1])]:f(l),done:u}},[Symbol.iterator](){return this}}}}function Od(t){return function(...e){return t==="delete"?!1:this}}function BY(){const t={get(i){return Wm(this,i)},get size(){return Xm(this)},has:Zm,add:LD,set:GD,delete:qD,clear:$D,forEach:ew(!1,!1)},e={get(i){return Wm(this,i,!1,!0)},get size(){return Xm(this)},has:Zm,add:LD,set:GD,delete:qD,clear:$D,forEach:ew(!1,!0)},r={get(i){return Wm(this,i,!0)},get size(){return Xm(this,!0)},has(i){return Zm.call(this,i,!0)},add:Od("add"),set:Od("set"),delete:Od("delete"),clear:Od("clear"),forEach:ew(!0,!1)},n={get(i){return Wm(this,i,!0,!0)},get size(){return Xm(this,!0)},has(i){return Zm.call(this,i,!0)},add:Od("add"),set:Od("set"),delete:Od("delete"),clear:Od("clear"),forEach:ew(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=tw(i,!1,!1),r[i]=tw(i,!0,!1),e[i]=tw(i,!1,!0),n[i]=tw(i,!0,!0)}),[t,r,e,n]}const[CY,QY,xY,SY]=BY();function y6(t,e){const r=e?t?SY:xY:t?QY:CY;return(n,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(jt(r,o)&&o in n?r:n,o,i)}const _Y={get:y6(!1,!1)},DY={get:y6(!1,!0)},kY={get:y6(!0,!1)},qR=new WeakMap,$R=new WeakMap,jR=new WeakMap,TY=new WeakMap;function FY(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function MY(t){return t.__v_skip||!Object.isExtensible(t)?0:FY(iY(t))}function I6(t){return qg(t)?t:m6(t,!1,GR,_Y,qR)}function UY(t){return m6(t,!1,vY,DY,$R)}function zR(t){return m6(t,!0,EY,kY,jR)}function m6(t,e,r,n,o){if(!Jr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const s=MY(t);if(s===0)return t;const a=new Proxy(t,s===2?n:r);return o.set(t,a),a}function yg(t){return qg(t)?yg(t.__v_raw):!!(t&&t.__v_isReactive)}function qg(t){return!!(t&&t.__v_isReadonly)}function mb(t){return!!(t&&t.__v_isShallow)}function YR(t){return yg(t)||qg(t)}function Vt(t){const e=t&&t.__v_raw;return e?Vt(e):t}function JR(t){return yb(t,"__v_skip",!0),t}const Jy=t=>Jr(t)?I6(t):t,w6=t=>Jr(t)?zR(t):t;function VR(t){Rl&&Ha&&(t=Vt(t),KR(t.dep||(t.dep=h6())))}function WR(t,e){t=Vt(t),t.dep&&_Q(t.dep)}function io(t){return!!(t&&t.__v_isRef===!0)}function Kd(t){return RY(t,!1)}function RY(t,e){return io(t)?t:new NY(t,e)}class NY{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Vt(e),this._value=r?e:Jy(e)}get value(){return VR(this),this._value}set value(e){const r=this.__v_isShallow||mb(e)||qg(e);e=r?e:Vt(e),Yy(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Jy(e),WR(this))}}function pl(t){return io(t)?t.value:t}const PY={get:(t,e,r)=>pl(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return io(o)&&!io(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function ZR(t){return yg(t)?t:new Proxy(t,PY)}var XR;class OY{constructor(e,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[XR]=!1,this._dirty=!0,this.effect=new A6(e,()=>{this._dirty||(this._dirty=!0,WR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=Vt(this);return VR(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}XR="__v_isReadonly";function KY(t,e,r=!1){let n,o;const i=St(t);return i?(n=t,o=Ja):(n=t.get,o=t.set),new OY(n,o,i||!o,r)}function Nl(t,e,r,n){let o;try{o=n?t(...n):t()}catch(i){pv(i,e,r)}return o}function ra(t,e,r,n){if(St(t)){const i=Nl(t,e,r,n);return i&&MR(i)&&i.catch(s=>{pv(s,e,r)}),i}const o=[];for(let i=0;i<t.length;i++)o.push(ra(t[i],e,r,n));return o}function pv(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const s=e.proxy,a=r;for(;i;){const d=i.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,s,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Nl(c,null,10,[t,s,a]);return}}HY(t,r,o,n)}function HY(t,e,r,n=!0){console.error(t)}let Vy=!1,DQ=!1;const ro=[];let kc=0;const Ig=[];let Kf=null,Wu=0;const eN=Promise.resolve();let b6=null;function tN(t){const e=b6||eN;return t?e.then(this?t.bind(this):t):e}function LY(t){let e=kc+1,r=ro.length;for(;e<r;){const n=e+r>>>1;Wy(ro[n])<t?e=n+1:r=n}return e}function E6(t){(!ro.length||!ro.includes(t,Vy&&t.allowRecurse?kc+1:kc))&&(t.id==null?ro.push(t):ro.splice(LY(t.id),0,t),rN())}function rN(){!Vy&&!DQ&&(DQ=!0,b6=eN.then(iN))}function GY(t){const e=ro.indexOf(t);e>kc&&ro.splice(e,1)}function qY(t){It(t)?Ig.push(...t):(!Kf||!Kf.includes(t,t.allowRecurse?Wu+1:Wu))&&Ig.push(t),rN()}function jD(t,e=Vy?kc+1:0){for(;e<ro.length;e++){const r=ro[e];r&&r.pre&&(ro.splice(e,1),e--,r())}}function nN(t){if(Ig.length){const e=[...new Set(Ig)];if(Ig.length=0,Kf){Kf.push(...e);return}for(Kf=e,Kf.sort((r,n)=>Wy(r)-Wy(n)),Wu=0;Wu<Kf.length;Wu++)Kf[Wu]();Kf=null,Wu=0}}const Wy=t=>t.id==null?1/0:t.id,$Y=(t,e)=>{const r=Wy(t)-Wy(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function iN(t){DQ=!1,Vy=!0,ro.sort($Y);const e=Ja;try{for(kc=0;kc<ro.length;kc++){const r=ro[kc];r&&r.active!==!1&&Nl(r,null,14)}}finally{kc=0,ro.length=0,nN(),Vy=!1,b6=null,(ro.length||Ig.length)&&iN()}}function jY(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||xr;let o=r;const i=e.startsWith("update:"),s=i&&e.slice(7);if(s&&s in n){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:l,trim:u}=n[f]||xr;u&&(o=r.map(p=>p.trim())),l&&(o=r.map(Ib))}let a,c=n[a=k1(e)]||n[a=k1(Zc(e))];!c&&i&&(c=n[a=k1(M0(e))]),c&&ra(c,t,6,o);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ra(d,t,6,o)}}function oN(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const i=t.emits;let s={},a=!1;if(!St(t)){const c=d=>{const f=oN(d,e,!0);f&&(a=!0,ci(s,f))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Jr(t)&&n.set(t,null),null):(It(i)?i.forEach(c=>s[c]=null):ci(s,i),Jr(t)&&n.set(t,s),s)}function yv(t,e){return!t||!lv(e)?!1:(e=e.slice(2).replace(/Once$/,""),jt(t,e[0].toLowerCase()+e.slice(1))||jt(t,M0(e))||jt(t,e))}let oo=null,sN=null;function wb(t){const e=oo;return oo=t,sN=t&&t.type.__scopeId||null,e}function LI(t,e=oo,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&i5(-1);const i=wb(e);let s;try{s=t(...o)}finally{wb(i),n._d&&i5(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function NC(t){const{type:e,vnode:r,proxy:n,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:c,emit:d,render:f,renderCache:l,data:u,setupState:p,ctx:A,inheritAttrs:h}=t;let y,v;const B=wb(t);try{if(r.shapeFlag&4){const x=o||n;y=Sc(f.call(x,x,l,i,p,u,A)),v=c}else{const x=e;y=Sc(x.length>1?x(i,{attrs:c,slots:a,emit:d}):x(i,null)),v=e.props?c:zY(c)}}catch(x){Cy.length=0,pv(x,t,1),y=Po(na)}let S=y;if(v&&h!==!1){const x=Object.keys(v),{shapeFlag:Q}=S;x.length&&Q&7&&(s&&x.some(f6)&&(v=YY(v,s)),S=zl(S,v))}return r.dirs&&(S=zl(S),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&(S.transition=r.transition),y=S,wb(B),y}const zY=t=>{let e;for(const r in t)(r==="class"||r==="style"||lv(r))&&((e||(e={}))[r]=t[r]);return e},YY=(t,e)=>{const r={};for(const n in t)(!f6(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function JY(t,e,r){const{props:n,children:o,component:i}=t,{props:s,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?zD(n,s,d):!!s;if(c&8){const f=e.dynamicProps;for(let l=0;l<f.length;l++){const u=f[l];if(s[u]!==n[u]&&!yv(d,u))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:n===s?!1:n?s?zD(n,s,d):!0:!!s;return!1}function zD(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==t[i]&&!yv(r,i))return!0}return!1}function VY({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const WY=t=>t.__isSuspense;function ZY(t,e){e&&e.pendingBranch?It(t)?e.effects.push(...t):e.effects.push(t):qY(t)}function XY(t,e){if(ti){let r=ti.provides;const n=ti.parent&&ti.parent.provides;n===r&&(r=ti.provides=Object.create(n)),r[t]=e}}function PC(t,e,r=!1){const n=ti||oo;if(n){const o=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&St(e)?e.call(n.proxy):e}}const YD={};function OC(t,e,r){return aN(t,e,r)}function aN(t,e,{immediate:r,deep:n,flush:o,onTrack:i,onTrigger:s}=xr){const a=ti;let c,d=!1,f=!1;if(io(t)?(c=()=>t.value,d=mb(t)):yg(t)?(c=()=>t,n=!0):It(t)?(f=!0,d=t.some(v=>yg(v)||mb(v)),c=()=>t.map(v=>{if(io(v))return v.value;if(yg(v))return ah(v);if(St(v))return Nl(v,a,2)})):St(t)?e?c=()=>Nl(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return l&&l(),ra(t,a,3,[u])}:c=Ja,e&&n){const v=c;c=()=>ah(v())}let l,u=v=>{l=y.onStop=()=>{Nl(v,a,4)}};if(tI)return u=Ja,e?r&&ra(e,a,3,[c(),f?[]:void 0,u]):c(),Ja;let p=f?[]:YD;const A=()=>{if(y.active)if(e){const v=y.run();(n||d||(f?v.some((B,S)=>Yy(B,p[S])):Yy(v,p)))&&(l&&l(),ra(e,a,3,[v,p===YD?void 0:p,u]),p=v)}else y.run()};A.allowRecurse=!!e;let h;o==="sync"?h=A:o==="post"?h=()=>Fo(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),h=()=>E6(A));const y=new A6(c,h);return e?r?A():p=y.run():o==="post"?Fo(y.run.bind(y),a&&a.suspense):y.run(),()=>{y.stop(),a&&a.scope&&d6(a.scope.effects,y)}}function eJ(t,e,r){const n=this.proxy,o=Kn(t)?t.includes(".")?cN(n,t):()=>n[t]:t.bind(n,n);let i;St(e)?i=e:(i=e.handler,r=e);const s=ti;$g(this);const a=aN(o,i.bind(n),r);return s?$g(s):Eh(),a}function cN(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function ah(t,e){if(!Jr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),io(t))ah(t.value,e);else if(It(t))for(let r=0;r<t.length;r++)ah(t[r],e);else if(FR(t)||pg(t))t.forEach(r=>{ah(r,e)});else if(RR(t))for(const r in t)ah(t[r],e);return t}function fN(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hN(()=>{t.isMounted=!0}),gN(()=>{t.isUnmounting=!0}),t}const Us=[Function,Array],tJ={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Us,onEnter:Us,onAfterEnter:Us,onEnterCancelled:Us,onBeforeLeave:Us,onLeave:Us,onAfterLeave:Us,onLeaveCancelled:Us,onBeforeAppear:Us,onAppear:Us,onAfterAppear:Us,onAppearCancelled:Us},setup(t,{slots:e}){const r=kN(),n=fN();let o;return()=>{const i=e.default&&v6(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const h of i)if(h.type!==na){s=h;break}}const a=Vt(t),{mode:c}=a;if(n.isLeaving)return KC(s);const d=JD(s);if(!d)return KC(s);const f=Zy(d,a,n,r);Xy(d,f);const l=r.subTree,u=l&&JD(l);let p=!1;const{getTransitionKey:A}=d.type;if(A){const h=A();o===void 0?o=h:h!==o&&(o=h,p=!0)}if(u&&u.type!==na&&(!Zu(d,u)||p)){const h=Zy(u,a,n,r);if(Xy(u,h),c==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update()},KC(s);c==="in-out"&&d.type!==na&&(h.delayLeave=(y,v,B)=>{const S=dN(n,u);S[String(u.key)]=u,y._leaveCb=()=>{v(),y._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=B})}return s}}},rJ=tJ;function dN(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Zy(t,e,r,n){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:l,onLeave:u,onAfterLeave:p,onLeaveCancelled:A,onBeforeAppear:h,onAppear:y,onAfterAppear:v,onAppearCancelled:B}=e,S=String(t.key),x=dN(r,t),Q=(G,z)=>{G&&ra(G,n,9,z)},N=(G,z)=>{const Y=z[1];Q(G,z),It(G)?G.every(R=>R.length<=1)&&Y():G.length<=1&&Y()},$={mode:i,persisted:s,beforeEnter(G){let z=a;if(!r.isMounted)if(o)z=h||a;else return;G._leaveCb&&G._leaveCb(!0);const Y=x[S];Y&&Zu(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),Q(z,[G])},enter(G){let z=c,Y=d,R=f;if(!r.isMounted)if(o)z=y||c,Y=v||d,R=B||f;else return;let C=!1;const m=G._enterCb=g=>{C||(C=!0,g?Q(R,[G]):Q(Y,[G]),$.delayedLeave&&$.delayedLeave(),G._enterCb=void 0)};z?N(z,[G,m]):m()},leave(G,z){const Y=String(t.key);if(G._enterCb&&G._enterCb(!0),r.isUnmounting)return z();Q(l,[G]);let R=!1;const C=G._leaveCb=m=>{R||(R=!0,z(),m?Q(A,[G]):Q(p,[G]),G._leaveCb=void 0,x[Y]===t&&delete x[Y])};x[Y]=t,u?N(u,[G,C]):C()},clone(G){return Zy(G,e,r,n)}};return $}function KC(t){if(Iv(t))return t=zl(t),t.children=null,t}function JD(t){return Iv(t)?t.children?t.children[0]:void 0:t}function Xy(t,e){t.shapeFlag&6&&t.component?Xy(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function v6(t,e=!1,r){let n=[],o=0;for(let i=0;i<t.length;i++){let s=t[i];const a=r==null?s.key:String(r)+String(s.key!=null?s.key:i);s.type===ki?(s.patchFlag&128&&o++,n=n.concat(v6(s.children,e,a))):(e||s.type!==na)&&n.push(a!=null?zl(s,{key:a}):s)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function iA(t){return St(t)?{setup:t,name:t.name}:t}const vy=t=>!!t.type.__asyncLoader,Iv=t=>t.type.__isKeepAlive;function nJ(t,e){lN(t,"a",e)}function iJ(t,e){lN(t,"da",e)}function lN(t,e,r=ti){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(mv(e,n,r),r){let o=r.parent;for(;o&&o.parent;)Iv(o.parent.vnode)&&oJ(n,e,r,o),o=o.parent}}function oJ(t,e,r,n){const o=mv(e,t,n,!0);pN(()=>{d6(n[e],o)},r)}function mv(t,e,r=ti,n=!1){if(r){const o=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...s)=>{if(r.isUnmounted)return;U0(),$g(r);const a=ra(e,r,t,s);return Eh(),R0(),a});return n?o.unshift(i):o.push(i),i}}const Td=t=>(e,r=ti)=>(!tI||t==="sp")&&mv(t,(...n)=>e(...n),r),uN=Td("bm"),hN=Td("m"),sJ=Td("bu"),AN=Td("u"),gN=Td("bum"),pN=Td("um"),aJ=Td("sp"),cJ=Td("rtg"),fJ=Td("rtc");function dJ(t,e=ti){mv("ec",t,e)}function VD(t,e){const r=oo;if(r===null)return t;const n=Ev(r)||r.proxy,o=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,a,c,d=xr]=e[i];St(s)&&(s={mounted:s,updated:s}),s.deep&&ah(a),o.push({dir:s,instance:n,value:a,oldValue:void 0,arg:c,modifiers:d})}return t}function vu(t,e,r,n){const o=t.dirs,i=e&&e.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let c=a.dir[n];c&&(U0(),ra(c,r,8,[t.el,a,t,e]),R0())}}const B6="components";function By(t,e){return IN(B6,t,!0,e)||t}const yN=Symbol();function C6(t){return Kn(t)?IN(B6,t,!1)||t:t||yN}function IN(t,e,r=!0,n=!1){const o=oo||ti;if(o){const i=o.type;if(t===B6){const a=KJ(i,!1);if(a&&(a===e||a===Zc(e)||a===Av(Zc(e))))return i}const s=WD(o[t]||i[t],e)||WD(o.appContext[t],e);return!s&&n?i:s}}function WD(t,e){return t&&(t[e]||t[Zc(e)]||t[Av(Zc(e))])}function kQ(t,e,r,n){let o;const i=r&&r[n];if(It(t)||Kn(t)){o=new Array(t.length);for(let s=0,a=t.length;s<a;s++)o[s]=e(t[s],s,void 0,i&&i[s])}else if(typeof t=="number"){o=new Array(t);for(let s=0;s<t;s++)o[s]=e(s+1,s,void 0,i&&i[s])}else if(Jr(t))if(t[Symbol.iterator])o=Array.from(t,(s,a)=>e(s,a,void 0,i&&i[a]));else{const s=Object.keys(t);o=new Array(s.length);for(let a=0,c=s.length;a<c;a++){const d=s[a];o[a]=e(t[d],d,a,i&&i[a])}}else o=[];return r&&(r[n]=o),o}function lJ(t,e,r={},n,o){if(oo.isCE||oo.parent&&vy(oo.parent)&&oo.parent.isCE)return Po("slot",e==="default"?null:{name:e},n&&n());let i=t[e];i&&i._c&&(i._d=!1),er();const s=i&&mN(i(r)),a=ja(ki,{key:r.key||s&&s.key||`_${e}`},s||(n?n():[]),s&&t._===1?64:-2);return!o&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function mN(t){return t.some(e=>_N(e)?!(e.type===na||e.type===ki&&!mN(e.children)):!0)?t:null}function uJ(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:k1(n)]=t[n];return r}const TQ=t=>t?TN(t)?Ev(t)||t.proxy:TQ(t.parent):null,bb=ci(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>TQ(t.parent),$root:t=>TQ(t.root),$emit:t=>t.emit,$options:t=>Q6(t),$forceUpdate:t=>t.f||(t.f=()=>E6(t.update)),$nextTick:t=>t.n||(t.n=tN.bind(t.proxy)),$watch:t=>eJ.bind(t)}),hJ={get({_:t},e){const{ctx:r,setupState:n,data:o,props:i,accessCache:s,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const p=s[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return i[e]}else{if(n!==xr&&jt(n,e))return s[e]=1,n[e];if(o!==xr&&jt(o,e))return s[e]=2,o[e];if((d=t.propsOptions[0])&&jt(d,e))return s[e]=3,i[e];if(r!==xr&&jt(r,e))return s[e]=4,r[e];FQ&&(s[e]=0)}}const f=bb[e];let l,u;if(f)return e==="$attrs"&&Ss(t,"get",e),f(t);if((l=a.__cssModules)&&(l=l[e]))return l;if(r!==xr&&jt(r,e))return s[e]=4,r[e];if(u=c.config.globalProperties,jt(u,e))return u[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:i}=t;return o!==xr&&jt(o,e)?(o[e]=r,!0):n!==xr&&jt(n,e)?(n[e]=r,!0):jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:i}},s){let a;return!!r[s]||t!==xr&&jt(t,s)||e!==xr&&jt(e,s)||(a=i[0])&&jt(a,s)||jt(n,s)||jt(bb,s)||jt(o.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:jt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};let FQ=!0;function AJ(t){const e=Q6(t),r=t.proxy,n=t.ctx;FQ=!1,e.beforeCreate&&ZD(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:s,watch:a,provide:c,inject:d,created:f,beforeMount:l,mounted:u,beforeUpdate:p,updated:A,activated:h,deactivated:y,beforeDestroy:v,beforeUnmount:B,destroyed:S,unmounted:x,render:Q,renderTracked:N,renderTriggered:$,errorCaptured:G,serverPrefetch:z,expose:Y,inheritAttrs:R,components:C,directives:m,filters:g}=e;if(d&&gJ(d,n,null,t.appContext.config.unwrapInjectedRef),s)for(const H in s){const K=s[H];St(K)&&(n[H]=K.bind(r))}if(o){const H=o.call(r,r);Jr(H)&&(t.data=I6(H))}if(FQ=!0,i)for(const H in i){const K=i[H],D=St(K)?K.bind(r,r):St(K.get)?K.get.bind(r,r):Ja,I=!St(K)&&St(K.set)?K.set.bind(r):Ja,P=LJ({get:D,set:I});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>P.value,set:T=>P.value=T})}if(a)for(const H in a)wN(a[H],n,r,H);if(c){const H=St(c)?c.call(r):c;Reflect.ownKeys(H).forEach(K=>{XY(K,H[K])})}f&&ZD(f,t,"c");function F(H,K){It(K)?K.forEach(D=>H(D.bind(r))):K&&H(K.bind(r))}if(F(uN,l),F(hN,u),F(sJ,p),F(AN,A),F(nJ,h),F(iJ,y),F(dJ,G),F(fJ,N),F(cJ,$),F(gN,B),F(pN,x),F(aJ,z),It(Y))if(Y.length){const H=t.exposed||(t.exposed={});Y.forEach(K=>{Object.defineProperty(H,K,{get:()=>r[K],set:D=>r[K]=D})})}else t.exposed||(t.exposed={});Q&&t.render===Ja&&(t.render=Q),R!=null&&(t.inheritAttrs=R),C&&(t.components=C),m&&(t.directives=m)}function gJ(t,e,r=Ja,n=!1){It(t)&&(t=MQ(t));for(const o in t){const i=t[o];let s;Jr(i)?"default"in i?s=PC(i.from||o,i.default,!0):s=PC(i.from||o):s=PC(i),io(s)&&n?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[o]=s}}function ZD(t,e,r){ra(It(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function wN(t,e,r,n){const o=n.includes(".")?cN(r,n):()=>r[n];if(Kn(t)){const i=e[t];St(i)&&OC(o,i)}else if(St(t))OC(o,t.bind(r));else if(Jr(t))if(It(t))t.forEach(i=>wN(i,e,r,n));else{const i=St(t.handler)?t.handler.bind(r):e[t.handler];St(i)&&OC(o,i,t)}}function Q6(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=t.appContext,a=i.get(e);let c;return a?c=a:!o.length&&!r&&!n?c=e:(c={},o.length&&o.forEach(d=>Eb(c,d,s,!0)),Eb(c,e,s)),Jr(e)&&i.set(e,c),c}function Eb(t,e,r,n=!1){const{mixins:o,extends:i}=e;i&&Eb(t,i,r,!0),o&&o.forEach(s=>Eb(t,s,r,!0));for(const s in e)if(!(n&&s==="expose")){const a=pJ[s]||r&&r[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const pJ={data:XD,props:zu,emits:zu,methods:zu,computed:zu,beforeCreate:lo,created:lo,beforeMount:lo,mounted:lo,beforeUpdate:lo,updated:lo,beforeDestroy:lo,beforeUnmount:lo,destroyed:lo,unmounted:lo,activated:lo,deactivated:lo,errorCaptured:lo,serverPrefetch:lo,components:zu,directives:zu,watch:IJ,provide:XD,inject:yJ};function XD(t,e){return e?t?function(){return ci(St(t)?t.call(this,this):t,St(e)?e.call(this,this):e)}:e:t}function yJ(t,e){return zu(MQ(t),MQ(e))}function MQ(t){if(It(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function lo(t,e){return t?[...new Set([].concat(t,e))]:e}function zu(t,e){return t?ci(ci(Object.create(null),t),e):e}function IJ(t,e){if(!t)return e;if(!e)return t;const r=ci(Object.create(null),t);for(const n in e)r[n]=lo(t[n],e[n]);return r}function mJ(t,e,r,n=!1){const o={},i={};yb(i,wv,1),t.propsDefaults=Object.create(null),bN(t,e,o,i);for(const s in t.propsOptions[0])s in o||(o[s]=void 0);r?t.props=n?o:UY(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function wJ(t,e,r,n){const{props:o,attrs:i,vnode:{patchFlag:s}}=t,a=Vt(o),[c]=t.propsOptions;let d=!1;if((n||s>0)&&!(s&16)){if(s&8){const f=t.vnode.dynamicProps;for(let l=0;l<f.length;l++){let u=f[l];if(yv(t.emitsOptions,u))continue;const p=e[u];if(c)if(jt(i,u))p!==i[u]&&(i[u]=p,d=!0);else{const A=Zc(u);o[A]=UQ(c,a,A,p,t,!1)}else p!==i[u]&&(i[u]=p,d=!0)}}}else{bN(t,e,o,i)&&(d=!0);let f;for(const l in a)(!e||!jt(e,l)&&((f=M0(l))===l||!jt(e,f)))&&(c?r&&(r[l]!==void 0||r[f]!==void 0)&&(o[l]=UQ(c,a,l,void 0,t,!0)):delete o[l]);if(i!==a)for(const l in i)(!e||!jt(e,l))&&(delete i[l],d=!0)}d&&md(t,"set","$attrs")}function bN(t,e,r,n){const[o,i]=t.propsOptions;let s=!1,a;if(e)for(let c in e){if(D1(c))continue;const d=e[c];let f;o&&jt(o,f=Zc(c))?!i||!i.includes(f)?r[f]=d:(a||(a={}))[f]=d:yv(t.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,s=!0)}if(i){const c=Vt(r),d=a||xr;for(let f=0;f<i.length;f++){const l=i[f];r[l]=UQ(o,c,l,d[l],t,!jt(d,l))}}return s}function UQ(t,e,r,n,o,i){const s=t[r];if(s!=null){const a=jt(s,"default");if(a&&n===void 0){const c=s.default;if(s.type!==Function&&St(c)){const{propsDefaults:d}=o;r in d?n=d[r]:($g(o),n=d[r]=c.call(null,e),Eh())}else n=c}s[0]&&(i&&!a?n=!1:s[1]&&(n===""||n===M0(r))&&(n=!0))}return n}function EN(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const i=t.props,s={},a=[];let c=!1;if(!St(t)){const f=l=>{c=!0;const[u,p]=EN(l,e,!0);ci(s,u),p&&a.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return Jr(t)&&n.set(t,gg),gg;if(It(i))for(let f=0;f<i.length;f++){const l=Zc(i[f]);e5(l)&&(s[l]=xr)}else if(i)for(const f in i){const l=Zc(f);if(e5(l)){const u=i[f],p=s[l]=It(u)||St(u)?{type:u}:u;if(p){const A=n5(Boolean,p.type),h=n5(String,p.type);p[0]=A>-1,p[1]=h<0||A<h,(A>-1||jt(p,"default"))&&a.push(l)}}}const d=[s,a];return Jr(t)&&n.set(t,d),d}function e5(t){return t[0]!=="$"}function t5(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function r5(t,e){return t5(t)===t5(e)}function n5(t,e){return It(e)?e.findIndex(r=>r5(r,t)):St(e)&&r5(e,t)?0:-1}const vN=t=>t[0]==="_"||t==="$stable",x6=t=>It(t)?t.map(Sc):[Sc(t)],bJ=(t,e,r)=>{if(e._n)return e;const n=LI((...o)=>x6(e(...o)),r);return n._c=!1,n},BN=(t,e,r)=>{const n=t._ctx;for(const o in t){if(vN(o))continue;const i=t[o];if(St(i))e[o]=bJ(o,i,n);else if(i!=null){const s=x6(i);e[o]=()=>s}}},CN=(t,e)=>{const r=x6(e);t.slots.default=()=>r},EJ=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Vt(e),yb(e,"_",r)):BN(e,t.slots={})}else t.slots={},e&&CN(t,e);yb(t.slots,wv,1)},vJ=(t,e,r)=>{const{vnode:n,slots:o}=t;let i=!0,s=xr;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:(ci(o,e),!r&&a===1&&delete o._):(i=!e.$stable,BN(e,o)),s=e}else e&&(CN(t,e),s={default:1});if(i)for(const a in o)!vN(a)&&!(a in s)&&delete o[a]};function QN(){return{app:null,config:{isNativeTag:tY,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let BJ=0;function CJ(t,e){return function(n,o=null){St(n)||(n=Object.assign({},n)),o!=null&&!Jr(o)&&(o=null);const i=QN(),s=new Set;let a=!1;const c=i.app={_uid:BJ++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:GJ,get config(){return i.config},set config(d){},use(d,...f){return s.has(d)||(d&&St(d.install)?(s.add(d),d.install(c,...f)):St(d)&&(s.add(d),d(c,...f))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,f){return f?(i.components[d]=f,c):i.components[d]},directive(d,f){return f?(i.directives[d]=f,c):i.directives[d]},mount(d,f,l){if(!a){const u=Po(n,o);return u.appContext=i,f&&e?e(u,d):t(u,d,l),a=!0,c._container=d,d.__vue_app__=c,Ev(u.component)||u.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(d,f){return i.provides[d]=f,c}};return c}}function RQ(t,e,r,n,o=!1){if(It(t)){t.forEach((u,p)=>RQ(u,e&&(It(e)?e[p]:e),r,n,o));return}if(vy(n)&&!o)return;const i=n.shapeFlag&4?Ev(n.component)||n.component.proxy:n.el,s=o?null:i,{i:a,r:c}=t,d=e&&e.r,f=a.refs===xr?a.refs={}:a.refs,l=a.setupState;if(d!=null&&d!==c&&(Kn(d)?(f[d]=null,jt(l,d)&&(l[d]=null)):io(d)&&(d.value=null)),St(c))Nl(c,a,12,[s,f]);else{const u=Kn(c),p=io(c);if(u||p){const A=()=>{if(t.f){const h=u?jt(l,c)?l[c]:f[c]:c.value;o?It(h)&&d6(h,i):It(h)?h.includes(i)||h.push(i):u?(f[c]=[i],jt(l,c)&&(l[c]=f[c])):(c.value=[i],t.k&&(f[t.k]=c.value))}else u?(f[c]=s,jt(l,c)&&(l[c]=s)):p&&(c.value=s,t.k&&(f[t.k]=s))};s?(A.id=-1,Fo(A,r)):A()}}}const Fo=ZY;function QJ(t){return xJ(t)}function xJ(t,e){const r=aY();r.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:s,createText:a,createComment:c,setText:d,setElementText:f,parentNode:l,nextSibling:u,setScopeId:p=Ja,insertStaticContent:A}=t,h=(M,E,b,k=null,U=null,_=null,L=!1,J=null,te=!!E.dynamicChildren)=>{if(M===E)return;M&&!Zu(M,E)&&(k=ne(M),T(M,U,_,!0),M=null),E.patchFlag===-2&&(te=!1,E.dynamicChildren=null);const{type:oe,ref:fe,shapeFlag:ue}=E;switch(oe){case S6:y(M,E,b,k);break;case na:v(M,E,b,k);break;case HC:M==null&&B(E,b,k,L);break;case ki:C(M,E,b,k,U,_,L,J,te);break;default:ue&1?Q(M,E,b,k,U,_,L,J,te):ue&6?m(M,E,b,k,U,_,L,J,te):(ue&64||ue&128)&&oe.process(M,E,b,k,U,_,L,J,te,re)}fe!=null&&U&&RQ(fe,M&&M.ref,_,E||M,!E)},y=(M,E,b,k)=>{if(M==null)n(E.el=a(E.children),b,k);else{const U=E.el=M.el;E.children!==M.children&&d(U,E.children)}},v=(M,E,b,k)=>{M==null?n(E.el=c(E.children||""),b,k):E.el=M.el},B=(M,E,b,k)=>{[M.el,M.anchor]=A(M.children,E,b,k,M.el,M.anchor)},S=({el:M,anchor:E},b,k)=>{let U;for(;M&&M!==E;)U=u(M),n(M,b,k),M=U;n(E,b,k)},x=({el:M,anchor:E})=>{let b;for(;M&&M!==E;)b=u(M),o(M),M=b;o(E)},Q=(M,E,b,k,U,_,L,J,te)=>{L=L||E.type==="svg",M==null?N(E,b,k,U,_,L,J,te):z(M,E,U,_,L,J,te)},N=(M,E,b,k,U,_,L,J)=>{let te,oe;const{type:fe,props:ue,shapeFlag:Ae,transition:ie,dirs:ae}=M;if(te=M.el=s(M.type,_,ue&&ue.is,ue),Ae&8?f(te,M.children):Ae&16&&G(M.children,te,null,k,U,_&&fe!=="foreignObject",L,J),ae&&vu(M,null,k,"created"),ue){for(const ge in ue)ge!=="value"&&!D1(ge)&&i(te,ge,null,ue[ge],_,M.children,k,U,Z);"value"in ue&&i(te,"value",null,ue.value),(oe=ue.onVnodeBeforeMount)&&fc(oe,k,M)}$(te,M,M.scopeId,L,k),ae&&vu(M,null,k,"beforeMount");const le=(!U||U&&!U.pendingBranch)&&ie&&!ie.persisted;le&&ie.beforeEnter(te),n(te,E,b),((oe=ue&&ue.onVnodeMounted)||le||ae)&&Fo(()=>{oe&&fc(oe,k,M),le&&ie.enter(te),ae&&vu(M,null,k,"mounted")},U)},$=(M,E,b,k,U)=>{if(b&&p(M,b),k)for(let _=0;_<k.length;_++)p(M,k[_]);if(U){let _=U.subTree;if(E===_){const L=U.vnode;$(M,L,L.scopeId,L.slotScopeIds,U.parent)}}},G=(M,E,b,k,U,_,L,J,te=0)=>{for(let oe=te;oe<M.length;oe++){const fe=M[oe]=J?yl(M[oe]):Sc(M[oe]);h(null,fe,E,b,k,U,_,L,J)}},z=(M,E,b,k,U,_,L)=>{const J=E.el=M.el;let{patchFlag:te,dynamicChildren:oe,dirs:fe}=E;te|=M.patchFlag&16;const ue=M.props||xr,Ae=E.props||xr;let ie;b&&Bu(b,!1),(ie=Ae.onVnodeBeforeUpdate)&&fc(ie,b,E,M),fe&&vu(E,M,b,"beforeUpdate"),b&&Bu(b,!0);const ae=U&&E.type!=="foreignObject";if(oe?Y(M.dynamicChildren,oe,J,b,k,ae,_):L||K(M,E,J,null,b,k,ae,_,!1),te>0){if(te&16)R(J,E,ue,Ae,b,k,U);else if(te&2&&ue.class!==Ae.class&&i(J,"class",null,Ae.class,U),te&4&&i(J,"style",ue.style,Ae.style,U),te&8){const le=E.dynamicProps;for(let ge=0;ge<le.length;ge++){const me=le[ge],ve=ue[me],Ue=Ae[me];(Ue!==ve||me==="value")&&i(J,me,ve,Ue,U,M.children,b,k,Z)}}te&1&&M.children!==E.children&&f(J,E.children)}else!L&&oe==null&&R(J,E,ue,Ae,b,k,U);((ie=Ae.onVnodeUpdated)||fe)&&Fo(()=>{ie&&fc(ie,b,E,M),fe&&vu(E,M,b,"updated")},k)},Y=(M,E,b,k,U,_,L)=>{for(let J=0;J<E.length;J++){const te=M[J],oe=E[J],fe=te.el&&(te.type===ki||!Zu(te,oe)||te.shapeFlag&70)?l(te.el):b;h(te,oe,fe,null,k,U,_,L,!0)}},R=(M,E,b,k,U,_,L)=>{if(b!==k){if(b!==xr)for(const J in b)!D1(J)&&!(J in k)&&i(M,J,b[J],null,L,E.children,U,_,Z);for(const J in k){if(D1(J))continue;const te=k[J],oe=b[J];te!==oe&&J!=="value"&&i(M,J,oe,te,L,E.children,U,_,Z)}"value"in k&&i(M,"value",b.value,k.value)}},C=(M,E,b,k,U,_,L,J,te)=>{const oe=E.el=M?M.el:a(""),fe=E.anchor=M?M.anchor:a("");let{patchFlag:ue,dynamicChildren:Ae,slotScopeIds:ie}=E;ie&&(J=J?J.concat(ie):ie),M==null?(n(oe,b,k),n(fe,b,k),G(E.children,b,fe,U,_,L,J,te)):ue>0&&ue&64&&Ae&&M.dynamicChildren?(Y(M.dynamicChildren,Ae,b,U,_,L,J),(E.key!=null||U&&E===U.subTree)&&xN(M,E,!0)):K(M,E,b,fe,U,_,L,J,te)},m=(M,E,b,k,U,_,L,J,te)=>{E.slotScopeIds=J,M==null?E.shapeFlag&512?U.ctx.activate(E,b,k,L,te):g(E,b,k,U,_,L,te):w(M,E,te)},g=(M,E,b,k,U,_,L)=>{const J=M.component=UJ(M,k,U);if(Iv(M)&&(J.ctx.renderer=re),RJ(J),J.asyncDep){if(U&&U.registerDep(J,F),!M.el){const te=J.subTree=Po(na);v(null,te,E,b)}return}F(J,M,E,b,U,_,L)},w=(M,E,b)=>{const k=E.component=M.component;if(JY(M,E,b))if(k.asyncDep&&!k.asyncResolved){H(k,E,b);return}else k.next=E,GY(k.update),k.update();else E.el=M.el,k.vnode=E},F=(M,E,b,k,U,_,L)=>{const J=()=>{if(M.isMounted){let{next:fe,bu:ue,u:Ae,parent:ie,vnode:ae}=M,le=fe,ge;Bu(M,!1),fe?(fe.el=ae.el,H(M,fe,L)):fe=ae,ue&&T1(ue),(ge=fe.props&&fe.props.onVnodeBeforeUpdate)&&fc(ge,ie,fe,ae),Bu(M,!0);const me=NC(M),ve=M.subTree;M.subTree=me,h(ve,me,l(ve.el),ne(ve),M,U,_),fe.el=me.el,le===null&&VY(M,me.el),Ae&&Fo(Ae,U),(ge=fe.props&&fe.props.onVnodeUpdated)&&Fo(()=>fc(ge,ie,fe,ae),U)}else{let fe;const{el:ue,props:Ae}=E,{bm:ie,m:ae,parent:le}=M,ge=vy(E);if(Bu(M,!1),ie&&T1(ie),!ge&&(fe=Ae&&Ae.onVnodeBeforeMount)&&fc(fe,le,E),Bu(M,!0),ue&&j){const me=()=>{M.subTree=NC(M),j(ue,M.subTree,M,U,null)};ge?E.type.__asyncLoader().then(()=>!M.isUnmounted&&me()):me()}else{const me=M.subTree=NC(M);h(null,me,b,k,M,U,_),E.el=me.el}if(ae&&Fo(ae,U),!ge&&(fe=Ae&&Ae.onVnodeMounted)){const me=E;Fo(()=>fc(fe,le,me),U)}(E.shapeFlag&256||le&&vy(le.vnode)&&le.vnode.shapeFlag&256)&&M.a&&Fo(M.a,U),M.isMounted=!0,E=b=k=null}},te=M.effect=new A6(J,()=>E6(oe),M.scope),oe=M.update=()=>te.run();oe.id=M.uid,Bu(M,!0),oe()},H=(M,E,b)=>{E.component=M;const k=M.vnode.props;M.vnode=E,M.next=null,wJ(M,E.props,k,b),vJ(M,E.children,b),U0(),jD(),R0()},K=(M,E,b,k,U,_,L,J,te=!1)=>{const oe=M&&M.children,fe=M?M.shapeFlag:0,ue=E.children,{patchFlag:Ae,shapeFlag:ie}=E;if(Ae>0){if(Ae&128){I(oe,ue,b,k,U,_,L,J,te);return}else if(Ae&256){D(oe,ue,b,k,U,_,L,J,te);return}}ie&8?(fe&16&&Z(oe,U,_),ue!==oe&&f(b,ue)):fe&16?ie&16?I(oe,ue,b,k,U,_,L,J,te):Z(oe,U,_,!0):(fe&8&&f(b,""),ie&16&&G(ue,b,k,U,_,L,J,te))},D=(M,E,b,k,U,_,L,J,te)=>{M=M||gg,E=E||gg;const oe=M.length,fe=E.length,ue=Math.min(oe,fe);let Ae;for(Ae=0;Ae<ue;Ae++){const ie=E[Ae]=te?yl(E[Ae]):Sc(E[Ae]);h(M[Ae],ie,b,null,U,_,L,J,te)}oe>fe?Z(M,U,_,!0,!1,ue):G(E,b,k,U,_,L,J,te,ue)},I=(M,E,b,k,U,_,L,J,te)=>{let oe=0;const fe=E.length;let ue=M.length-1,Ae=fe-1;for(;oe<=ue&&oe<=Ae;){const ie=M[oe],ae=E[oe]=te?yl(E[oe]):Sc(E[oe]);if(Zu(ie,ae))h(ie,ae,b,null,U,_,L,J,te);else break;oe++}for(;oe<=ue&&oe<=Ae;){const ie=M[ue],ae=E[Ae]=te?yl(E[Ae]):Sc(E[Ae]);if(Zu(ie,ae))h(ie,ae,b,null,U,_,L,J,te);else break;ue--,Ae--}if(oe>ue){if(oe<=Ae){const ie=Ae+1,ae=ie<fe?E[ie].el:k;for(;oe<=Ae;)h(null,E[oe]=te?yl(E[oe]):Sc(E[oe]),b,ae,U,_,L,J,te),oe++}}else if(oe>Ae)for(;oe<=ue;)T(M[oe],U,_,!0),oe++;else{const ie=oe,ae=oe,le=new Map;for(oe=ae;oe<=Ae;oe++){const We=E[oe]=te?yl(E[oe]):Sc(E[oe]);We.key!=null&&le.set(We.key,oe)}let ge,me=0;const ve=Ae-ae+1;let Ue=!1,ut=0;const _e=new Array(ve);for(oe=0;oe<ve;oe++)_e[oe]=0;for(oe=ie;oe<=ue;oe++){const We=M[oe];if(me>=ve){T(We,U,_,!0);continue}let Fe;if(We.key!=null)Fe=le.get(We.key);else for(ge=ae;ge<=Ae;ge++)if(_e[ge-ae]===0&&Zu(We,E[ge])){Fe=ge;break}Fe===void 0?T(We,U,_,!0):(_e[Fe-ae]=oe+1,Fe>=ut?ut=Fe:Ue=!0,h(We,E[Fe],b,null,U,_,L,J,te),me++)}const Qt=Ue?SJ(_e):gg;for(ge=Qt.length-1,oe=ve-1;oe>=0;oe--){const We=ae+oe,Fe=E[We],Le=We+1<fe?E[We+1].el:k;_e[oe]===0?h(null,Fe,b,Le,U,_,L,J,te):Ue&&(ge<0||oe!==Qt[ge]?P(Fe,b,Le,2):ge--)}}},P=(M,E,b,k,U=null)=>{const{el:_,type:L,transition:J,children:te,shapeFlag:oe}=M;if(oe&6){P(M.component.subTree,E,b,k);return}if(oe&128){M.suspense.move(E,b,k);return}if(oe&64){L.move(M,E,b,re);return}if(L===ki){n(_,E,b);for(let ue=0;ue<te.length;ue++)P(te[ue],E,b,k);n(M.anchor,E,b);return}if(L===HC){S(M,E,b);return}if(k!==2&&oe&1&&J)if(k===0)J.beforeEnter(_),n(_,E,b),Fo(()=>J.enter(_),U);else{const{leave:ue,delayLeave:Ae,afterLeave:ie}=J,ae=()=>n(_,E,b),le=()=>{ue(_,()=>{ae(),ie&&ie()})};Ae?Ae(_,ae,le):le()}else n(_,E,b)},T=(M,E,b,k=!1,U=!1)=>{const{type:_,props:L,ref:J,children:te,dynamicChildren:oe,shapeFlag:fe,patchFlag:ue,dirs:Ae}=M;if(J!=null&&RQ(J,null,b,M,!0),fe&256){E.ctx.deactivate(M);return}const ie=fe&1&&Ae,ae=!vy(M);let le;if(ae&&(le=L&&L.onVnodeBeforeUnmount)&&fc(le,E,M),fe&6)se(M.component,b,k);else{if(fe&128){M.suspense.unmount(b,k);return}ie&&vu(M,null,E,"beforeUnmount"),fe&64?M.type.remove(M,E,b,U,re,k):oe&&(_!==ki||ue>0&&ue&64)?Z(oe,E,b,!1,!0):(_===ki&&ue&384||!U&&fe&16)&&Z(te,E,b),k&&V(M)}(ae&&(le=L&&L.onVnodeUnmounted)||ie)&&Fo(()=>{le&&fc(le,E,M),ie&&vu(M,null,E,"unmounted")},b)},V=M=>{const{type:E,el:b,anchor:k,transition:U}=M;if(E===ki){ee(b,k);return}if(E===HC){x(M);return}const _=()=>{o(b),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(M.shapeFlag&1&&U&&!U.persisted){const{leave:L,delayLeave:J}=U,te=()=>L(b,_);J?J(M.el,_,te):te()}else _()},ee=(M,E)=>{let b;for(;M!==E;)b=u(M),o(M),M=b;o(E)},se=(M,E,b)=>{const{bum:k,scope:U,update:_,subTree:L,um:J}=M;k&&T1(k),U.stop(),_&&(_.active=!1,T(L,M,E,b)),J&&Fo(J,E),Fo(()=>{M.isUnmounted=!0},E),E&&E.pendingBranch&&!E.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===E.pendingId&&(E.deps--,E.deps===0&&E.resolve())},Z=(M,E,b,k=!1,U=!1,_=0)=>{for(let L=_;L<M.length;L++)T(M[L],E,b,k,U)},ne=M=>M.shapeFlag&6?ne(M.component.subTree):M.shapeFlag&128?M.suspense.next():u(M.anchor||M.el),X=(M,E,b)=>{M==null?E._vnode&&T(E._vnode,null,null,!0):h(E._vnode||null,M,E,null,null,null,b),jD(),nN(),E._vnode=M},re={p:h,um:T,m:P,r:V,mt:g,mc:G,pc:K,pbc:Y,n:ne,o:t};let W,j;return e&&([W,j]=e(re)),{render:X,hydrate:W,createApp:CJ(X,W)}}function Bu({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function xN(t,e,r=!1){const n=t.children,o=e.children;if(It(n)&&It(o))for(let i=0;i<n.length;i++){const s=n[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=yl(o[i]),a.el=s.el),r||xN(s,a))}}function SJ(t){const e=t.slice(),r=[0];let n,o,i,s,a;const c=t.length;for(n=0;n<c;n++){const d=t[n];if(d!==0){if(o=r[r.length-1],t[o]<d){e[n]=o,r.push(n);continue}for(i=0,s=r.length-1;i<s;)a=i+s>>1,t[r[a]]<d?i=a+1:s=a;d<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=e[s];return r}const _J=t=>t.__isTeleport,ki=Symbol(void 0),S6=Symbol(void 0),na=Symbol(void 0),HC=Symbol(void 0),Cy=[];let $a=null;function er(t=!1){Cy.push($a=t?null:[])}function DJ(){Cy.pop(),$a=Cy[Cy.length-1]||null}let eI=1;function i5(t){eI+=t}function SN(t){return t.dynamicChildren=eI>0?$a||gg:null,DJ(),eI>0&&$a&&$a.push(t),t}function In(t,e,r,n,o,i){return SN(Xt(t,e,r,n,o,i,!0))}function ja(t,e,r,n,o){return SN(Po(t,e,r,n,o,!0))}function _N(t){return t?t.__v_isVNode===!0:!1}function Zu(t,e){return t.type===e.type&&t.key===e.key}const wv="__vInternal",DN=({key:t})=>t??null,F1=({ref:t,ref_key:e,ref_for:r})=>t!=null?Kn(t)||io(t)||St(t)?{i:oo,r:t,k:e,f:!!r}:t:null;function Xt(t,e=null,r=null,n=0,o=null,i=t===ki?0:1,s=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DN(e),ref:e&&F1(e),scopeId:sN,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null};return a?(_6(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=Kn(r)?8:16),eI>0&&!s&&$a&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&$a.push(c),c}const Po=kJ;function kJ(t,e=null,r=null,n=0,o=null,i=!1){if((!t||t===yN)&&(t=na),_N(t)){const a=zl(t,e,!0);return r&&_6(a,r),eI>0&&!i&&$a&&(a.shapeFlag&6?$a[$a.indexOf(t)]=a:$a.push(a)),a.patchFlag|=-2,a}if(HJ(t)&&(t=t.__vccOpts),e){e=TJ(e);let{class:a,style:c}=e;a&&!Kn(a)&&(e.class=$l(a)),Jr(c)&&(YR(c)&&!It(c)&&(c=ci({},c)),e.style=HI(c))}const s=Kn(t)?1:WY(t)?128:_J(t)?64:Jr(t)?4:St(t)?2:0;return Xt(t,e,r,n,o,s,i,!0)}function TJ(t){return t?YR(t)||wv in t?ci({},t):t:null}function zl(t,e,r=!1){const{props:n,ref:o,patchFlag:i,children:s}=t,a=e?bv(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&DN(a),ref:e&&e.ref?r&&o?It(o)?o.concat(F1(e)):[o,F1(e)]:F1(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ki?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zl(t.ssContent),ssFallback:t.ssFallback&&zl(t.ssFallback),el:t.el,anchor:t.anchor}}function N0(t=" ",e=0){return Po(S6,null,t,e)}function vl(t="",e=!1){return e?(er(),ja(na,null,t)):Po(na,null,t)}function Sc(t){return t==null||typeof t=="boolean"?Po(na):It(t)?Po(ki,null,t.slice()):typeof t=="object"?yl(t):Po(S6,null,String(t))}function yl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zl(t)}function _6(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(It(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),_6(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(wv in e)?e._ctx=oo:o===3&&oo&&(oo.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:oo},r=32):(e=String(e),n&64?(r=16,e=[N0(e)]):r=8);t.children=e,t.shapeFlag|=r}function bv(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=$l([e.class,n.class]));else if(o==="style")e.style=HI([e.style,n.style]);else if(lv(o)){const i=e[o],s=n[o];s&&i!==s&&!(It(i)&&i.includes(s))&&(e[o]=i?[].concat(i,s):s)}else o!==""&&(e[o]=n[o])}return e}function fc(t,e,r,n=null){ra(t,e,7,[r,n])}const FJ=QN();let MJ=0;function UJ(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||FJ,i={uid:MJ++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new cY(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:EN(n,o),emitsOptions:oN(n,o),emit:null,emitted:null,propsDefaults:xr,inheritAttrs:n.inheritAttrs,ctx:xr,data:xr,props:xr,attrs:xr,slots:xr,refs:xr,setupState:xr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=jY.bind(null,i),t.ce&&t.ce(i),i}let ti=null;const kN=()=>ti||oo,$g=t=>{ti=t,t.scope.on()},Eh=()=>{ti&&ti.scope.off(),ti=null};function TN(t){return t.vnode.shapeFlag&4}let tI=!1;function RJ(t,e=!1){tI=e;const{props:r,children:n}=t.vnode,o=TN(t);mJ(t,r,o,e),EJ(t,n);const i=o?NJ(t,e):void 0;return tI=!1,i}function NJ(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=JR(new Proxy(t.ctx,hJ));const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?OJ(t):null;$g(t),U0();const i=Nl(n,t,0,[t.props,o]);if(R0(),Eh(),MR(i)){if(i.then(Eh,Eh),e)return i.then(s=>{o5(t,s,e)}).catch(s=>{pv(s,t,0)});t.asyncDep=i}else o5(t,i,e)}else FN(t,e)}function o5(t,e,r){St(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Jr(e)&&(t.setupState=ZR(e)),FN(t,r)}let s5;function FN(t,e,r){const n=t.type;if(!t.render){if(!e&&s5&&!n.render){const o=n.template||Q6(t).template;if(o){const{isCustomElement:i,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:c}=n,d=ci(ci({isCustomElement:i,delimiters:a},s),c);n.render=s5(o,d)}}t.render=n.render||Ja}$g(t),U0(),AJ(t),R0(),Eh()}function PJ(t){return new Proxy(t.attrs,{get(e,r){return Ss(t,"get","$attrs"),e[r]}})}function OJ(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=PJ(t))},slots:t.slots,emit:t.emit,expose:e}}function Ev(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ZR(JR(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in bb)return bb[r](t)}}))}function KJ(t,e=!0){return St(t)?t.displayName||t.name:t.name||e&&t.__name}function HJ(t){return St(t)&&"__vccOpts"in t}const LJ=(t,e)=>KY(t,e,tI),GJ="3.2.41",qJ="http://www.w3.org/2000/svg",Xu=typeof document<"u"?document:null,a5=Xu&&Xu.createElement("template"),$J={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e?Xu.createElementNS(qJ,t):Xu.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>Xu.createTextNode(t),createComment:t=>Xu.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Xu.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,i){const s=r?r.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===i||!(o=o.nextSibling)););else{a5.innerHTML=n?`<svg>${t}</svg>`:t;const a=a5.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function jJ(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function zJ(t,e,r){const n=t.style,o=Kn(r);if(r&&!o){for(const i in r)NQ(n,i,r[i]);if(e&&!Kn(e))for(const i in e)r[i]==null&&NQ(n,i,"")}else{const i=n.display;o?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const c5=/\s*!important$/;function NQ(t,e,r){if(It(r))r.forEach(n=>NQ(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=YJ(t,e);c5.test(r)?t.setProperty(M0(n),r.replace(c5,""),"important"):t[n]=r}}const f5=["Webkit","Moz","ms"],LC={};function YJ(t,e){const r=LC[e];if(r)return r;let n=Zc(e);if(n!=="filter"&&n in t)return LC[e]=n;n=Av(n);for(let o=0;o<f5.length;o++){const i=f5[o]+n;if(i in t)return LC[e]=i}return e}const d5="http://www.w3.org/1999/xlink";function JJ(t,e,r,n,o){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(d5,e.slice(6,e.length)):t.setAttributeNS(d5,e,r);else{const i=Wz(e);r==null||i&&!kR(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function VJ(t,e,r,n,o,i,s){if(e==="innerHTML"||e==="textContent"){n&&s(n,o,i),t[e]=r??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const c=r??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),r==null&&t.removeAttribute(e);return}let a=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=kR(r):r==null&&c==="string"?(r="",a=!0):c==="number"&&(r=0,a=!0)}try{t[e]=r}catch{}a&&t.removeAttribute(e)}function VA(t,e,r,n){t.addEventListener(e,r,n)}function WJ(t,e,r,n){t.removeEventListener(e,r,n)}function ZJ(t,e,r,n,o=null){const i=t._vei||(t._vei={}),s=i[e];if(n&&s)s.value=n;else{const[a,c]=XJ(e);if(n){const d=i[e]=rV(n,o);VA(t,a,d,c)}else s&&(WJ(t,a,s,c),i[e]=void 0)}}const l5=/(?:Once|Passive|Capture)$/;function XJ(t){let e;if(l5.test(t)){e={};let n;for(;n=t.match(l5);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):M0(t.slice(2)),e]}let GC=0;const eV=Promise.resolve(),tV=()=>GC||(eV.then(()=>GC=0),GC=Date.now());function rV(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ra(nV(n,r.value),e,5,[n])};return r.value=t,r.attached=tV(),r}function nV(t,e){if(It(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const u5=/^on[a-z]/,iV=(t,e,r,n,o=!1,i,s,a,c)=>{e==="class"?jJ(t,n,o):e==="style"?zJ(t,r,n):lv(e)?f6(e)||ZJ(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):oV(t,e,n,o))?VJ(t,e,n,i,s,a,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),JJ(t,e,n,o))};function oV(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&u5.test(e)&&St(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||u5.test(e)&&Kn(r)?!1:e in t}const Hd="transition",bp="animation",MN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sV=ci({},rJ.props,MN),Cu=(t,e=[])=>{It(t)?t.forEach(r=>r(...e)):t&&t(...e)},h5=t=>t?It(t)?t.some(e=>e.length>1):t.length>1:!1;function aV(t){const e={};for(const C in t)C in MN||(e[C]=t[C]);if(t.css===!1)return e;const{name:r="v",type:n,duration:o,enterFromClass:i=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:d=s,appearToClass:f=a,leaveFromClass:l=`${r}-leave-from`,leaveActiveClass:u=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=t,A=cV(o),h=A&&A[0],y=A&&A[1],{onBeforeEnter:v,onEnter:B,onEnterCancelled:S,onLeave:x,onLeaveCancelled:Q,onBeforeAppear:N=v,onAppear:$=B,onAppearCancelled:G=S}=e,z=(C,m,g)=>{hl(C,m?f:a),hl(C,m?d:s),g&&g()},Y=(C,m)=>{C._isLeaving=!1,hl(C,l),hl(C,p),hl(C,u),m&&m()},R=C=>(m,g)=>{const w=C?$:B,F=()=>z(m,C,g);Cu(w,[m,F]),A5(()=>{hl(m,C?c:i),Ff(m,C?f:a),h5(w)||g5(m,n,h,F)})};return ci(e,{onBeforeEnter(C){Cu(v,[C]),Ff(C,i),Ff(C,s)},onBeforeAppear(C){Cu(N,[C]),Ff(C,c),Ff(C,d)},onEnter:R(!1),onAppear:R(!0),onLeave(C,m){C._isLeaving=!0;const g=()=>Y(C,m);Ff(C,l),RN(),Ff(C,u),A5(()=>{C._isLeaving&&(hl(C,l),Ff(C,p),h5(x)||g5(C,n,y,g))}),Cu(x,[C,g])},onEnterCancelled(C){z(C,!1),Cu(S,[C])},onAppearCancelled(C){z(C,!0),Cu(G,[C])},onLeaveCancelled(C){Y(C),Cu(Q,[C])}})}function cV(t){if(t==null)return null;if(Jr(t))return[qC(t.enter),qC(t.leave)];{const e=qC(t);return[e,e]}}function qC(t){return Ib(t)}function Ff(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t._vtc||(t._vtc=new Set)).add(e)}function hl(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:r}=t;r&&(r.delete(e),r.size||(t._vtc=void 0))}function A5(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let fV=0;function g5(t,e,r,n){const o=t._endId=++fV,i=()=>{o===t._endId&&n()};if(r)return setTimeout(i,r);const{type:s,timeout:a,propCount:c}=UN(t,e);if(!s)return n();const d=s+"end";let f=0;const l=()=>{t.removeEventListener(d,u),i()},u=p=>{p.target===t&&++f>=c&&l()};setTimeout(()=>{f<c&&l()},a+1),t.addEventListener(d,u)}function UN(t,e){const r=window.getComputedStyle(t),n=A=>(r[A]||"").split(", "),o=n(Hd+"Delay"),i=n(Hd+"Duration"),s=p5(o,i),a=n(bp+"Delay"),c=n(bp+"Duration"),d=p5(a,c);let f=null,l=0,u=0;e===Hd?s>0&&(f=Hd,l=s,u=i.length):e===bp?d>0&&(f=bp,l=d,u=c.length):(l=Math.max(s,d),f=l>0?s>d?Hd:bp:null,u=f?f===Hd?i.length:c.length:0);const p=f===Hd&&/\b(transform|all)(,|$)/.test(r[Hd+"Property"]);return{type:f,timeout:l,propCount:u,hasTransform:p}}function p5(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>y5(r)+y5(t[n])))}function y5(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function RN(){return document.body.offsetHeight}const NN=new WeakMap,PN=new WeakMap,dV={name:"TransitionGroup",props:ci({},sV,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=kN(),n=fN();let o,i;return AN(()=>{if(!o.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!gV(o[0].el,r.vnode.el,s))return;o.forEach(uV),o.forEach(hV);const a=o.filter(AV);RN(),a.forEach(c=>{const d=c.el,f=d.style;Ff(d,s),f.transform=f.webkitTransform=f.transitionDuration="";const l=d._moveCb=u=>{u&&u.target!==d||(!u||/transform$/.test(u.propertyName))&&(d.removeEventListener("transitionend",l),d._moveCb=null,hl(d,s))};d.addEventListener("transitionend",l)})}),()=>{const s=Vt(t),a=aV(s);let c=s.tag||ki;o=i,i=e.default?v6(e.default()):[];for(let d=0;d<i.length;d++){const f=i[d];f.key!=null&&Xy(f,Zy(f,a,n,r))}if(o)for(let d=0;d<o.length;d++){const f=o[d];Xy(f,Zy(f,a,n,r)),NN.set(f,f.el.getBoundingClientRect())}return Po(c,null,i)}}},lV=dV;function uV(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function hV(t){PN.set(t,t.el.getBoundingClientRect())}function AV(t){const e=NN.get(t),r=PN.get(t),n=e.left-r.left,o=e.top-r.top;if(n||o){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${o}px)`,i.transitionDuration="0s",t}}function gV(t,e,r){const n=t.cloneNode();t._vtc&&t._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&n.classList.remove(a))}),r.split(/\s+/).forEach(s=>s&&n.classList.add(s)),n.style.display="none";const o=e.nodeType===1?e:e.parentNode;o.appendChild(n);const{hasTransform:i}=UN(n);return o.removeChild(n),i}const I5=t=>{const e=t.props["onUpdate:modelValue"]||!1;return It(e)?r=>T1(e,r):e};function pV(t){t.target.composing=!0}function m5(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const w5={created(t,{modifiers:{lazy:e,trim:r,number:n}},o){t._assign=I5(o);const i=n||o.props&&o.props.type==="number";VA(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=Ib(a)),t._assign(a)}),r&&VA(t,"change",()=>{t.value=t.value.trim()}),e||(VA(t,"compositionstart",pV),VA(t,"compositionend",m5),VA(t,"change",m5))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:o}},i){if(t._assign=I5(i),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(o||t.type==="number")&&Ib(t.value)===e))return;const s=e??"";t.value!==s&&(t.value=s)}},yV=["ctrl","shift","alt","meta"],IV={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>yV.some(r=>t[`${r}Key`]&&!e.includes(r))},ON=(t,e)=>(r,...n)=>{for(let o=0;o<e.length;o++){const i=IV[e[o]];if(i&&i(r,e))return}return t(r,...n)},mV=ci({patchProp:iV},$J);let b5;function wV(){return b5||(b5=QJ(mV))}const KN=(...t)=>{const e=wV().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=bV(n);if(!o)return;const i=e._component;!St(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},e};function bV(t){return Kn(t)?document.querySelector(t):t}var EV=Object.defineProperty,E5=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,BV=Object.prototype.propertyIsEnumerable,v5=(t,e,r)=>e in t?EV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,HN=(t,e)=>{for(var r in e||(e={}))vV.call(e,r)&&v5(t,r,e[r]);if(E5)for(var r of E5(e))BV.call(e,r)&&v5(t,r,e[r]);return t},vv=t=>typeof t=="function",Bv=t=>typeof t=="string",LN=t=>Bv(t)&&t.trim().length>0,CV=t=>typeof t=="number",ch=t=>typeof t>"u",rI=t=>typeof t=="object"&&t!==null,QV=t=>Kc(t,"tag")&&LN(t.tag),GN=t=>window.TouchEvent&&t instanceof TouchEvent,qN=t=>Kc(t,"component")&&$N(t.component),xV=t=>vv(t)||rI(t),$N=t=>!ch(t)&&(Bv(t)||xV(t)||qN(t)),B5=t=>rI(t)&&["height","width","right","left","top","bottom"].every(e=>CV(t[e])),Kc=(t,e)=>(rI(t)||vv(t))&&e in t,SV=(t=>()=>t++)(0);function $C(t){return GN(t)?t.targetTouches[0].clientX:t.clientX}function C5(t){return GN(t)?t.targetTouches[0].clientY:t.clientY}var _V=t=>{ch(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},GI=t=>qN(t)?GI(t.component):QV(t)?iA({render(){return t}}):typeof t=="string"?t:Vt(pl(t)),DV=t=>{if(typeof t=="string")return t;const e=Kc(t,"props")&&rI(t.props)?t.props:{},r=Kc(t,"listeners")&&rI(t.listeners)?t.listeners:{};return{component:GI(t),props:e,listeners:r}},kV=()=>typeof window<"u",D6=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const r=this.getHandlers(t);r.push(e),this.allHandlers[t]=r}off(t,e){const r=this.getHandlers(t);r.splice(r.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(n=>n(e))}},TV=t=>["on","off","emit"].every(e=>Kc(t,e)&&vv(t[e])),ms;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(ms||(ms={}));var vb;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(vb||(vb={}));var ws;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(ws||(ws={}));var za="Vue-Toastification",Pa={type:{type:String,default:ms.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},jN={type:Pa.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},M1={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Pa.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},PQ={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},zN={transition:{type:[Object,String],default:`${za}__bounce`}},FV={position:{type:String,default:vb.TOP_RIGHT},draggable:Pa.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Pa.trueBoolean,pauseOnHover:Pa.trueBoolean,closeOnClick:Pa.trueBoolean,timeout:PQ.timeout,hideProgressBar:PQ.hideProgressBar,toastClassName:Pa.classNames,bodyClassName:Pa.classNames,icon:jN.customIcon,closeButton:M1.component,closeButtonClassName:M1.classNames,showCloseButtonOnHover:M1.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new D6}},MV={id:{type:[String,Number],required:!0,default:0},type:Pa.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},UV={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Pa.trueBoolean,maxToasts:{type:Number,default:20},transition:zN.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:Pa.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},id={CORE_TOAST:FV,TOAST:MV,CONTAINER:UV,PROGRESS_BAR:PQ,ICON:jN,TRANSITION:zN,CLOSE_BUTTON:M1},YN=iA({name:"VtProgressBar",props:id.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${za}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function RV(t,e){return er(),In("div",{style:HI(t.style),class:$l(t.cpClass)},null,6)}YN.render=RV;var NV=YN,JN=iA({name:"VtCloseButton",props:id.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?GI(this.component):"button"},classes(){const t=[`${za}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),PV=N0("  ");function OV(t,e){return er(),ja(C6(t.buttonComponent),bv({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:LI(()=>[PV]),_:1},16,["aria-label","class"])}JN.render=OV;var KV=JN,VN={},HV={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},LV=Xt("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),GV=[LV];function qV(t,e){return er(),In("svg",HV,GV)}VN.render=qV;var $V=VN,WN={},jV={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},zV=Xt("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),YV=[zV];function JV(t,e){return er(),In("svg",jV,YV)}WN.render=JV;var Q5=WN,ZN={},VV={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},WV=Xt("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),ZV=[WV];function XV(t,e){return er(),In("svg",VV,ZV)}ZN.render=XV;var eW=ZN,XN={},tW={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},rW=Xt("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),nW=[rW];function iW(t,e){return er(),In("svg",tW,nW)}XN.render=iW;var oW=XN,e7=iA({name:"VtIcon",props:id.ICON,computed:{customIconChildren(){return Kc(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Bv(this.customIcon)?this.trimValue(this.customIcon):Kc(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Kc(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:$N(this.customIcon)?GI(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[ms.DEFAULT]:Q5,[ms.INFO]:Q5,[ms.SUCCESS]:$V,[ms.ERROR]:oW,[ms.WARNING]:eW}[this.type]},iconClasses(){const t=[`${za}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return LN(t)?t.trim():e}}});function sW(t,e){return er(),ja(C6(t.component),{class:$l(t.iconClasses)},{default:LI(()=>[N0(ig(t.customIconChildren),1)]),_:1},8,["class"])}e7.render=sW;var aW=e7,t7=iA({name:"VtToast",components:{ProgressBar:NV,CloseButton:KV,Icon:aW},inheritAttrs:!1,props:Object.assign({},id.CORE_TOAST,id.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${za}__toast`,`${za}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${za}__toast--rtl`),t},bodyClasses(){return[`${za}__toast-${Bv(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return B5(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Kc,getVueComponentFromObj:GI,closeToast(){this.eventBus.emit(ws.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:$C(t),y:C5(t)},this.dragStart=$C(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:$C(t),y:C5(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,B5(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),cW=["role"];function fW(t,e){const r=By("Icon"),n=By("CloseButton"),o=By("ProgressBar");return er(),In("div",{class:$l(t.classes),style:HI(t.draggableStyle),onClick:e[0]||(e[0]=(...i)=>t.clickHandler&&t.clickHandler(...i)),onMouseenter:e[1]||(e[1]=(...i)=>t.hoverPause&&t.hoverPause(...i)),onMouseleave:e[2]||(e[2]=(...i)=>t.hoverPlay&&t.hoverPlay(...i))},[t.icon?(er(),ja(r,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):vl("v-if",!0),Xt("div",{role:t.accessibility.toastRole||"alert",class:$l(t.bodyClasses)},[typeof t.content=="string"?(er(),In(ki,{key:0},[N0(ig(t.content),1)],2112)):(er(),ja(C6(t.getVueComponentFromObj(t.content)),bv({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},uJ(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,cW),t.closeButton?(er(),ja(n,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:ON(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):vl("v-if",!0),t.timeout?(er(),ja(o,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):vl("v-if",!0)],38)}t7.render=fW;var dW=t7,r7=iA({name:"VtTransition",props:id.TRANSITION,emits:["leave"],methods:{hasProp:Kc,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function lW(t,e){return er(),ja(lV,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:LI(()=>[lJ(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}r7.render=lW;var uW=r7,n7=iA({name:"VueToastification",devtools:{hide:!0},components:{Toast:dW,VtTransition:uW},props:Object.assign({},id.CORE_TOAST,id.CONTAINER,id.TRANSITION),data(){return{count:0,positions:Object.values(vb),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(ws.ADD,this.addToast),t.on(ws.CLEAR,this.clearToasts),t.on(ws.DISMISS,this.dismissToast),t.on(ws.UPDATE,this.updateToast),t.on(ws.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){vv(t)&&(t=await t()),_V(this.$el),t.appendChild(this.$el)},setToast(t){ch(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=DV(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),r=this.defaults.filterBeforeCreate(e,this.toastArray);r&&this.setToast(r)},dismissToast(t){const e=this.toasts[t];!ch(e)&&!ch(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(r=>r.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){ch(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:r}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):r&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${za}__container`,t].concat(this.defaults.containerClassName)}}});function hW(t,e){const r=By("Toast"),n=By("VtTransition");return er(),In("div",null,[(er(!0),In(ki,null,kQ(t.positions,o=>(er(),In("div",{key:o},[Po(n,{transition:t.defaults.transition,class:$l(t.getClasses(o))},{default:LI(()=>[(er(!0),In(ki,null,kQ(t.getPositionToasts(o),i=>(er(),ja(r,bv({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}n7.render=hW;var AW=n7,x5=(t={},e=!0)=>{const r=t.eventBus=t.eventBus||new D6;e&&tN(()=>{const i=KN(AW,HN({},t)),s=i.mount(document.createElement("div")),a=t.onMounted;if(ch(a)||a(s,i),t.shareAppContext){const c=t.shareAppContext;c===!0?console.warn(`[${za}] App to share context with was not provided.`):(i._context.components=c._context.components,i._context.directives=c._context.directives,i._context.mixins=c._context.mixins,i._context.provides=c._context.provides,i.config.globalProperties=c.config.globalProperties)}});const n=(i,s)=>{const a=Object.assign({},{id:SV(),type:ms.DEFAULT},s,{content:i});return r.emit(ws.ADD,a),a.id};n.clear=()=>r.emit(ws.CLEAR,void 0),n.updateDefaults=i=>{r.emit(ws.UPDATE_DEFAULTS,i)},n.dismiss=i=>{r.emit(ws.DISMISS,i)};function o(i,{content:s,options:a},c=!1){const d=Object.assign({},a,{content:s});r.emit(ws.UPDATE,{id:i,options:d,create:c})}return n.update=o,n.success=(i,s)=>n(i,Object.assign({},s,{type:ms.SUCCESS})),n.info=(i,s)=>n(i,Object.assign({},s,{type:ms.INFO})),n.error=(i,s)=>n(i,Object.assign({},s,{type:ms.ERROR})),n.warning=(i,s)=>n(i,Object.assign({},s,{type:ms.WARNING})),n},gW=()=>{const t=()=>console.warn(`[${za}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function pW(t){return kV()?TV(t)?x5({eventBus:t},!1):x5(t,!0):gW()}var yW=Symbol("VueToastification"),IW=new D6,mW=(t,e)=>{e?.shareAppContext===!0&&(e.shareAppContext=t);const r=pW(HN({eventBus:IW},e));t.provide(yW,r)},wW=mW;function bW(t,e){return er(),ja("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[Po("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})])}class k6 extends Error{}class Cs extends k6{}class EW extends k6{}class nI extends k6{}class i7{checkAlgorithmName(e){const{algorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'algorithmName'");if(r!==this.name)throw new EW(`Algorithm not supported: '${r}'`)}checkCryptoKey(e){const{key:r}=e;if(!("algorithm"in r&&"extractable"in r&&"type"in r&&"usages"in r))throw new TypeError("Object is not a CryptoKey")}checkKeyAlgorithm(e){const{keyAlgorithmName:r}=e;if(r===void 0)throw new TypeError("Required parameter missing: 'keyAlgorithmName'");if(r&&r!==this.name)throw new Cs(`Algorithm '${this.name}' does not match the provided '${r}' key.`)}checkKeyType(e){const{keyType:r,allowedKeyType:n}=e;if(r===void 0||n===void 0)throw new TypeError("One or more required parameters missing: 'keyType, allowedKeyType'");if(r&&r!==n)throw new Cs(`Requested operation is not valid for the provided '${r}' key.`)}checkKeyUsages(e){const{keyUsages:r,allowedKeyUsages:n}=e;if(!(r&&r.length>0))throw new TypeError("Required parameter missing or empty: 'keyUsages'");const o=Array.isArray(n)?n:[...n.privateKey,...n.publicKey];if(!r.every(i=>o.includes(i)))throw new Cs(`Requested operation(s) '${r.join(", ")}' is not valid for the provided key.`)}static create(){return new this}}function vW(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var h=0,y=0,v=0,B=A.length;v!==B&&A[v]===0;)v++,h++;for(var S=(B-v)*f+1>>>0,x=new Uint8Array(S);v!==B;){for(var Q=A[v],N=0,$=S-1;(Q!==0||N<y)&&$!==-1;$--,N++)Q+=256*x[$]>>>0,x[$]=Q%a>>>0,Q=Q/a>>>0;if(Q!==0)throw new Error("Non-zero carry");y=N,v++}for(var G=S-y;G!==S&&x[G]===0;)G++;for(var z=c.repeat(h);G<S;++G)z+=t.charAt(x[G]);return z}function u(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var h=0;if(A[h]!==" "){for(var y=0,v=0;A[h]===c;)y++,h++;for(var B=(A.length-h)*d+1>>>0,S=new Uint8Array(B);A[h];){var x=r[A.charCodeAt(h)];if(x===255)return;for(var Q=0,N=B-1;(x!==0||Q<v)&&N!==-1;N--,Q++)x+=a*S[N]>>>0,S[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");v=Q,h++}if(A[h]!==" "){for(var $=B-v;$!==B&&S[$]===0;)$++;for(var G=new Uint8Array(y+(B-$)),z=y;$!==B;)G[z++]=S[$++];return G}}}function p(A){var h=u(A);if(h)return h;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:u,decode:p}}var BW=vW,CW=BW;const QW=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},P0=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};let xW=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},SW=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return o7(this,e)}},_W=class{constructor(e){this.decoders=e}or(e){return o7(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const o7=(t,e)=>new _W({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let DW=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new xW(e,r,n),this.decoder=new SW(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const s7=({name:t,prefix:e,encode:r,decode:n})=>new DW(t,e,r,n),a7=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=CW(r,e);return s7({prefix:t,name:e,encode:n,decode:i=>P0(o(i))})},kW=(t,e,r,n)=>{const o={};for(let f=0;f<e.length;++f)o[e[f]]=f;let i=t.length;for(;t[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,d=0;for(let f=0;f<i;++f){const l=o[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,a+=r,a>=8&&(a-=8,s[d++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},TW=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},ks=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>s7({prefix:e,name:t,encode(o){return TW(o,n,r)},decode(o){return kW(o,n,r,t)}}),ei=a7({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});a7({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});ks({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6});ks({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const an=ks({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});ks({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function FW(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function Yl(t){const r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,o]=r;return o}const rw=new TextEncoder,Ep=new TextDecoder;let mi=class Ks{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new Ks(e,"ArrayBuffer")}static base58Btc(e){return new Ks(e,"Base58Btc")}static base64Url(e){return new Ks(e,"Base64Url")}static bufferSource(e){return new Ks(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Ks(e,"Hex")}static multibase(e){return new Ks(e,"Multibase")}static object(e){return new Ks(e,"Object")}static string(e){return new Ks(e,"String")}static uint8Array(e){return new Ks(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return ei.baseDecode(this.data).buffer;case"Base64Url":return an.baseDecode(this.data).buffer;case"BufferSource":{if(Yl(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return FW(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return ei.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return ei.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return an.baseEncode(e)}case"BufferSource":{const e=this.toUint8Array();return an.baseEncode(e)}case"Object":{const e=JSON.stringify(this.data),r=rw.encode(e);return an.baseEncode(r)}case"String":{const e=rw.encode(this.data);return an.baseEncode(e)}case"Uint8Array":return an.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toHex(){const e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const r=this.toUint8Array();return Ks.uint8Array(r).toHex()}case"Base64Url":{const r=this.toUint8Array();return Ks.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const e=an.baseDecode(this.data),r=Ep.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{const e=Ep.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":return Ep.decode(this.data);case"Base64Url":{const e=an.baseDecode(this.data);return Ep.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return Ep.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return ei.baseDecode(this.data);case"Base64Url":return an.baseDecode(this.data);case"BufferSource":{const e=Yl(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){const n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{const e=JSON.stringify(this.data);return rw.encode(e)}case"String":return rw.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}};var MW=c7,S5=128,UW=127,RW=~UW,NW=Math.pow(2,31);function c7(t,e,r){e=e||[],r=r||0;for(var n=r;t>=NW;)e[r++]=t&255|S5,t/=128;for(;t&RW;)e[r++]=t&255|S5,t>>>=7;return e[r]=t|0,c7.bytes=r-n+1,e}var PW=OQ,OW=128,_5=127;function OQ(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw OQ.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&_5)<<o:(s&_5)*Math.pow(2,o),o+=7}while(s>=OW);return OQ.bytes=i-n,r}var KW=Math.pow(2,7),HW=Math.pow(2,14),LW=Math.pow(2,21),GW=Math.pow(2,28),qW=Math.pow(2,35),$W=Math.pow(2,42),jW=Math.pow(2,49),zW=Math.pow(2,56),YW=Math.pow(2,63),JW=function(t){return t<KW?1:t<HW?2:t<LW?3:t<GW?4:t<qW?5:t<$W?6:t<jW?7:t<zW?8:t<YW?9:10},VW={encode:MW,decode:PW,encodingLength:JW},Bb=VW;const Rh=(t,e=0)=>[Bb.decode(t,e),Bb.decode.bytes],jg=(t,e,r=0)=>(Bb.encode(t,e,r),e),zg=t=>Bb.encodingLength(t),Cb=(t,e)=>{const r=e.byteLength,n=zg(t),o=n+zg(r),i=new Uint8Array(o+r);return jg(t,i,0),jg(r,i,n),i.set(e,o),new F6(t,r,e,i)},T6=t=>{const e=P0(t),[r,n]=Rh(e),[o,i]=Rh(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new F6(r,o,s,e)},WW=(t,e)=>{if(t===e)return!0;{const r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&QW(t.bytes,r.bytes)}};let F6=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};const Yf=ks({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});ks({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});ks({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});ks({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});ks({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});ks({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});ks({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});ks({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});ks({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const D5=(t,e)=>{const{bytes:r,version:n}=t;switch(n){case 0:return XW(r,KQ(t),e||ei.encoder);default:return eZ(r,KQ(t),e||Yf.encoder)}},k5=new WeakMap,KQ=t=>{const e=k5.get(t);if(e==null){const r=new Map;return k5.set(t,r),r}return e};let ln=class zi{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:r}=this;if(e!==vp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==tZ)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return zi.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=Cb(e,r);return zi.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return zi.equals(this,e)}static equals(e,r){const n=r;return n&&e.code===n.code&&e.version===n.version&&WW(e.multihash,n.multihash)}toString(e){return D5(this,e)}toJSON(){return{"/":D5(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const r=e;if(r instanceof zi)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){const{version:n,code:o,multihash:i,bytes:s}=r;return new zi(n,o,i,s||T5(n,o,i.bytes))}else if(r[rZ]===!0){const{version:n,multihash:o,code:i}=r,s=T6(o);return zi.create(n,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==vp)throw new Error(`Version 0 CID must use dag-pb (code: ${vp}) block encoding`);return new zi(e,r,n,n.bytes)}case 1:{const o=T5(e,r,n.bytes);return new zi(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return zi.create(0,vp,e)}static createV1(e,r){return zi.create(1,e,r)}static decode(e){const[r,n]=zi.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=zi.inspectBytes(e),n=r.size-r.multihashSize,o=P0(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const i=o.subarray(r.multihashSize-r.digestSize),s=new F6(r.multihashCode,r.digestSize,i,o);return[r.version===0?zi.createV0(s):zi.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[l,u]=Rh(e.subarray(r));return r+=u,l};let o=n(),i=vp;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const s=r,a=n(),c=n(),d=r+c,f=d-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:f,size:d}}static parse(e,r){const[n,o]=ZW(e,r),i=zi.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return KQ(i).set(n,e),i}};const ZW=(t,e)=>{switch(t[0]){case"Q":{const r=e||ei;return[ei.prefix,r.decode(`${ei.prefix}${t}`)]}case ei.prefix:{const r=e||ei;return[ei.prefix,r.decode(t)]}case Yf.prefix:{const r=e||Yf;return[Yf.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},XW=(t,e,r)=>{const{prefix:n}=r;if(n!==ei.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const i=r.encode(t).slice(1);return e.set(n,i),i}else return o},eZ=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const i=r.encode(t);return e.set(n,i),i}else return o},vp=112,tZ=18,T5=(t,e,r)=>{const n=zg(t),o=n+zg(e),i=new Uint8Array(o+r.byteLength);return jg(t,i,0),jg(e,i,n),i.set(r,o),i},rZ=Symbol.for("@ipld/js-cid/CID"),nZ=({name:t,code:e,encode:r})=>new iZ(t,e,r);let iZ=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?Cb(this.code,r):r.then(n=>Cb(this.code,n))}else throw Error("Unknown type, must be binary type")}},sa=class Al{static addPrefix(e){var r;let{code:n,data:o,name:i}=e;if(!(i?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Al.codeToName.has(n)?n:Al.nameToCode.get(i),n===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);const s=zg(n),a=new Uint8Array(s+o.byteLength);return a.set(o,s),jg(n,a),a}static getCodeFromData(e){const{prefixedData:r}=e,[n,o]=Rh(r);return n}static getCodeFromName(e){const{name:r}=e,n=Al.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){const{code:r}=e,n=Al.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){Al.codeToName.set(e.code,e.name),Al.nameToCode.set(e.name,e.code)}static removePrefix(e){const{prefixedData:r}=e,[n,o]=Rh(r),i=Al.codeToName.get(n);if(i===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(o),name:i}}};sa.codeToName=new Map;sa.nameToCode=new Map;sa.registerCodec({code:237,name:"ed25519-pub"});sa.registerCodec({code:4864,name:"ed25519-priv"});sa.registerCodec({code:236,name:"x25519-pub"});sa.registerCodec({code:4866,name:"x25519-priv"});sa.registerCodec({code:231,name:"secp256k1-pub"});sa.registerCodec({code:4865,name:"secp256k1-priv"});function f7(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&f7(t[e])})}var ea=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Qo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(e,o);return new i}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var d7={},hu={},Qv={},l7={};l7.supports=function(...e){const r=e.reduce((n,o)=>Object.assign(n,o),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})};var u7={},df=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},oA={},qe={},xv={};xv.byteLength=aZ;xv.toByteArray=fZ;xv.fromByteArray=uZ;var Tc=[],$s=[],oZ=typeof Uint8Array<"u"?Uint8Array:Array,jC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var QA=0,sZ=jC.length;QA<sZ;++QA)Tc[QA]=jC[QA],$s[jC.charCodeAt(QA)]=QA;$s["-".charCodeAt(0)]=62;$s["_".charCodeAt(0)]=63;function h7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function aZ(t){var e=h7(t),r=e[0],n=e[1];return(r+n)*3/4-n}function cZ(t,e,r){return(e+r)*3/4-r}function fZ(t){var e,r=h7(t),n=r[0],o=r[1],i=new oZ(cZ(t,n,o)),s=0,a=o>0?n-4:n,c;for(c=0;c<a;c+=4)e=$s[t.charCodeAt(c)]<<18|$s[t.charCodeAt(c+1)]<<12|$s[t.charCodeAt(c+2)]<<6|$s[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=$s[t.charCodeAt(c)]<<2|$s[t.charCodeAt(c+1)]>>4,i[s++]=e&255),o===1&&(e=$s[t.charCodeAt(c)]<<10|$s[t.charCodeAt(c+1)]<<4|$s[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function dZ(t){return Tc[t>>18&63]+Tc[t>>12&63]+Tc[t>>6&63]+Tc[t&63]}function lZ(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(dZ(n));return o.join("")}function uZ(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(lZ(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(Tc[e>>2]+Tc[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Tc[e>>10]+Tc[e>>4&63]+Tc[e<<2&63]+"=")),o.join("")}var M6={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */M6.read=function(t,e,r,n,o){var i,s,a=o*8-n-1,c=(1<<a)-1,d=c>>1,f=-7,l=r?o-1:0,u=r?-1:1,p=t[e+l];for(l+=u,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=i*256+t[e+l],l+=u,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=s*256+t[e+l],l+=u,f-=8);if(i===0)i=1-d;else{if(i===c)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-d}return(p?-1:1)*s*Math.pow(2,i-n)};M6.write=function(t,e,r,n,o,i){var s,a,c,d=i*8-o-1,f=(1<<d)-1,l=f>>1,u=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,A=n?1:-1,h=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+l>=1?e+=u/c:e+=u*Math.pow(2,1-l),e*c>=2&&(s++,c/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*c-1)*Math.pow(2,o),s=s+l):(a=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;t[r+p]=a&255,p+=A,a/=256,o-=8);for(s=s<<o|a,d+=o;d>0;t[r+p]=s&255,p+=A,s/=256,d-=8);t[r+p-A]|=h*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=xv,r=M6,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=B,t.INSPECT_MAX_BYTES=50;var o=2147483647;t.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),U.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(U){if(U>o)throw new RangeError('The value "'+U+'" is invalid for option "size"');var _=new Uint8Array(U);return Object.setPrototypeOf(_,a.prototype),_}function a(U,_,L){if(typeof U=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(U)}return c(U,_,L)}a.poolSize=8192;function c(U,_,L){if(typeof U=="string")return u(U,_);if(ArrayBuffer.isView(U))return A(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(E(U,ArrayBuffer)||U&&E(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(E(U,SharedArrayBuffer)||U&&E(U.buffer,SharedArrayBuffer)))return h(U,_,L);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var J=U.valueOf&&U.valueOf();if(J!=null&&J!==U)return a.from(J,_,L);var te=y(U);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return a.from(U[Symbol.toPrimitive]("string"),_,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}a.from=function(U,_,L){return c(U,_,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function f(U,_,L){return d(U),U<=0?s(U):_!==void 0?typeof L=="string"?s(U).fill(_,L):s(U).fill(_):s(U)}a.alloc=function(U,_,L){return f(U,_,L)};function l(U){return d(U),s(U<0?0:v(U)|0)}a.allocUnsafe=function(U){return l(U)},a.allocUnsafeSlow=function(U){return l(U)};function u(U,_){if((typeof _!="string"||_==="")&&(_="utf8"),!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);var L=S(U,_)|0,J=s(L),te=J.write(U,_);return te!==L&&(J=J.slice(0,te)),J}function p(U){for(var _=U.length<0?0:v(U.length)|0,L=s(_),J=0;J<_;J+=1)L[J]=U[J]&255;return L}function A(U){if(E(U,Uint8Array)){var _=new Uint8Array(U);return h(_.buffer,_.byteOffset,_.byteLength)}return p(U)}function h(U,_,L){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(L||0))throw new RangeError('"length" is outside of buffer bounds');var J;return _===void 0&&L===void 0?J=new Uint8Array(U):L===void 0?J=new Uint8Array(U,_):J=new Uint8Array(U,_,L),Object.setPrototypeOf(J,a.prototype),J}function y(U){if(a.isBuffer(U)){var _=v(U.length)|0,L=s(_);return L.length===0||U.copy(L,0,0,_),L}if(U.length!==void 0)return typeof U.length!="number"||b(U.length)?s(0):p(U);if(U.type==="Buffer"&&Array.isArray(U.data))return p(U.data)}function v(U){if(U>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return U|0}function B(U){return+U!=U&&(U=0),a.alloc(+U)}a.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==a.prototype},a.compare=function(_,L){if(E(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),E(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(_)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===L)return 0;for(var J=_.length,te=L.length,oe=0,fe=Math.min(J,te);oe<fe;++oe)if(_[oe]!==L[oe]){J=_[oe],te=L[oe];break}return J<te?-1:te<J?1:0},a.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(_,L){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return a.alloc(0);var J;if(L===void 0)for(L=0,J=0;J<_.length;++J)L+=_[J].length;var te=a.allocUnsafe(L),oe=0;for(J=0;J<_.length;++J){var fe=_[J];if(E(fe,Uint8Array))oe+fe.length>te.length?a.from(fe).copy(te,oe):Uint8Array.prototype.set.call(te,fe,oe);else if(a.isBuffer(fe))fe.copy(te,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=fe.length}return te};function S(U,_){if(a.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||E(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var L=U.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&L===0)return 0;for(var te=!1;;)switch(_){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return X(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return j(U).length;default:if(te)return J?-1:X(U).length;_=(""+_).toLowerCase(),te=!0}}a.byteLength=S;function x(U,_,L){var J=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,_>>>=0,L<=_))return"";for(U||(U="utf8");;)switch(U){case"hex":return D(this,_,L);case"utf8":case"utf-8":return g(this,_,L);case"ascii":return H(this,_,L);case"latin1":case"binary":return K(this,_,L);case"base64":return m(this,_,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,_,L);default:if(J)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),J=!0}}a.prototype._isBuffer=!0;function Q(U,_,L){var J=U[_];U[_]=U[L],U[L]=J}a.prototype.swap16=function(){var _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<_;L+=2)Q(this,L,L+1);return this},a.prototype.swap32=function(){var _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<_;L+=4)Q(this,L,L+3),Q(this,L+1,L+2);return this},a.prototype.swap64=function(){var _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<_;L+=8)Q(this,L,L+7),Q(this,L+1,L+6),Q(this,L+2,L+5),Q(this,L+3,L+4);return this},a.prototype.toString=function(){var _=this.length;return _===0?"":arguments.length===0?g(this,0,_):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(_){if(!a.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:a.compare(this,_)===0},a.prototype.inspect=function(){var _="",L=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(_+=" ... "),"<Buffer "+_+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(_,L,J,te,oe){if(E(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(L===void 0&&(L=0),J===void 0&&(J=_?_.length:0),te===void 0&&(te=0),oe===void 0&&(oe=this.length),L<0||J>_.length||te<0||oe>this.length)throw new RangeError("out of range index");if(te>=oe&&L>=J)return 0;if(te>=oe)return-1;if(L>=J)return 1;if(L>>>=0,J>>>=0,te>>>=0,oe>>>=0,this===_)return 0;for(var fe=oe-te,ue=J-L,Ae=Math.min(fe,ue),ie=this.slice(te,oe),ae=_.slice(L,J),le=0;le<Ae;++le)if(ie[le]!==ae[le]){fe=ie[le],ue=ae[le];break}return fe<ue?-1:ue<fe?1:0};function N(U,_,L,J,te){if(U.length===0)return-1;if(typeof L=="string"?(J=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,b(L)&&(L=te?0:U.length-1),L<0&&(L=U.length+L),L>=U.length){if(te)return-1;L=U.length-1}else if(L<0)if(te)L=0;else return-1;if(typeof _=="string"&&(_=a.from(_,J)),a.isBuffer(_))return _.length===0?-1:$(U,_,L,J,te);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?te?Uint8Array.prototype.indexOf.call(U,_,L):Uint8Array.prototype.lastIndexOf.call(U,_,L):$(U,[_],L,J,te);throw new TypeError("val must be string, number or Buffer")}function $(U,_,L,J,te){var oe=1,fe=U.length,ue=_.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(U.length<2||_.length<2)return-1;oe=2,fe/=2,ue/=2,L/=2}function Ae(me,ve){return oe===1?me[ve]:me.readUInt16BE(ve*oe)}var ie;if(te){var ae=-1;for(ie=L;ie<fe;ie++)if(Ae(U,ie)===Ae(_,ae===-1?0:ie-ae)){if(ae===-1&&(ae=ie),ie-ae+1===ue)return ae*oe}else ae!==-1&&(ie-=ie-ae),ae=-1}else for(L+ue>fe&&(L=fe-ue),ie=L;ie>=0;ie--){for(var le=!0,ge=0;ge<ue;ge++)if(Ae(U,ie+ge)!==Ae(_,ge)){le=!1;break}if(le)return ie}return-1}a.prototype.includes=function(_,L,J){return this.indexOf(_,L,J)!==-1},a.prototype.indexOf=function(_,L,J){return N(this,_,L,J,!0)},a.prototype.lastIndexOf=function(_,L,J){return N(this,_,L,J,!1)};function G(U,_,L,J){L=Number(L)||0;var te=U.length-L;J?(J=Number(J),J>te&&(J=te)):J=te;var oe=_.length;J>oe/2&&(J=oe/2);for(var fe=0;fe<J;++fe){var ue=parseInt(_.substr(fe*2,2),16);if(b(ue))return fe;U[L+fe]=ue}return fe}function z(U,_,L,J){return M(X(_,U.length-L),U,L,J)}function Y(U,_,L,J){return M(re(_),U,L,J)}function R(U,_,L,J){return M(j(_),U,L,J)}function C(U,_,L,J){return M(W(_,U.length-L),U,L,J)}a.prototype.write=function(_,L,J,te){if(L===void 0)te="utf8",J=this.length,L=0;else if(J===void 0&&typeof L=="string")te=L,J=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(J)?(J=J>>>0,te===void 0&&(te="utf8")):(te=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-L;if((J===void 0||J>oe)&&(J=oe),_.length>0&&(J<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var fe=!1;;)switch(te){case"hex":return G(this,_,L,J);case"utf8":case"utf-8":return z(this,_,L,J);case"ascii":case"latin1":case"binary":return Y(this,_,L,J);case"base64":return R(this,_,L,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,_,L,J);default:if(fe)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),fe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(U,_,L){return _===0&&L===U.length?e.fromByteArray(U):e.fromByteArray(U.slice(_,L))}function g(U,_,L){L=Math.min(U.length,L);for(var J=[],te=_;te<L;){var oe=U[te],fe=null,ue=oe>239?4:oe>223?3:oe>191?2:1;if(te+ue<=L){var Ae,ie,ae,le;switch(ue){case 1:oe<128&&(fe=oe);break;case 2:Ae=U[te+1],(Ae&192)===128&&(le=(oe&31)<<6|Ae&63,le>127&&(fe=le));break;case 3:Ae=U[te+1],ie=U[te+2],(Ae&192)===128&&(ie&192)===128&&(le=(oe&15)<<12|(Ae&63)<<6|ie&63,le>2047&&(le<55296||le>57343)&&(fe=le));break;case 4:Ae=U[te+1],ie=U[te+2],ae=U[te+3],(Ae&192)===128&&(ie&192)===128&&(ae&192)===128&&(le=(oe&15)<<18|(Ae&63)<<12|(ie&63)<<6|ae&63,le>65535&&le<1114112&&(fe=le))}}fe===null?(fe=65533,ue=1):fe>65535&&(fe-=65536,J.push(fe>>>10&1023|55296),fe=56320|fe&1023),J.push(fe),te+=ue}return F(J)}var w=4096;function F(U){var _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);for(var L="",J=0;J<_;)L+=String.fromCharCode.apply(String,U.slice(J,J+=w));return L}function H(U,_,L){var J="";L=Math.min(U.length,L);for(var te=_;te<L;++te)J+=String.fromCharCode(U[te]&127);return J}function K(U,_,L){var J="";L=Math.min(U.length,L);for(var te=_;te<L;++te)J+=String.fromCharCode(U[te]);return J}function D(U,_,L){var J=U.length;(!_||_<0)&&(_=0),(!L||L<0||L>J)&&(L=J);for(var te="",oe=_;oe<L;++oe)te+=k[U[oe]];return te}function I(U,_,L){for(var J=U.slice(_,L),te="",oe=0;oe<J.length-1;oe+=2)te+=String.fromCharCode(J[oe]+J[oe+1]*256);return te}a.prototype.slice=function(_,L){var J=this.length;_=~~_,L=L===void 0?J:~~L,_<0?(_+=J,_<0&&(_=0)):_>J&&(_=J),L<0?(L+=J,L<0&&(L=0)):L>J&&(L=J),L<_&&(L=_);var te=this.subarray(_,L);return Object.setPrototypeOf(te,a.prototype),te};function P(U,_,L){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+_>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(_,L,J){_=_>>>0,L=L>>>0,J||P(_,L,this.length);for(var te=this[_],oe=1,fe=0;++fe<L&&(oe*=256);)te+=this[_+fe]*oe;return te},a.prototype.readUintBE=a.prototype.readUIntBE=function(_,L,J){_=_>>>0,L=L>>>0,J||P(_,L,this.length);for(var te=this[_+--L],oe=1;L>0&&(oe*=256);)te+=this[_+--L]*oe;return te},a.prototype.readUint8=a.prototype.readUInt8=function(_,L){return _=_>>>0,L||P(_,1,this.length),this[_]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(_,L){return _=_>>>0,L||P(_,2,this.length),this[_]|this[_+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(_,L){return _=_>>>0,L||P(_,2,this.length),this[_]<<8|this[_+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(_,L){return _=_>>>0,L||P(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(_,L){return _=_>>>0,L||P(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},a.prototype.readIntLE=function(_,L,J){_=_>>>0,L=L>>>0,J||P(_,L,this.length);for(var te=this[_],oe=1,fe=0;++fe<L&&(oe*=256);)te+=this[_+fe]*oe;return oe*=128,te>=oe&&(te-=Math.pow(2,8*L)),te},a.prototype.readIntBE=function(_,L,J){_=_>>>0,L=L>>>0,J||P(_,L,this.length);for(var te=L,oe=1,fe=this[_+--te];te>0&&(oe*=256);)fe+=this[_+--te]*oe;return oe*=128,fe>=oe&&(fe-=Math.pow(2,8*L)),fe},a.prototype.readInt8=function(_,L){return _=_>>>0,L||P(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},a.prototype.readInt16LE=function(_,L){_=_>>>0,L||P(_,2,this.length);var J=this[_]|this[_+1]<<8;return J&32768?J|4294901760:J},a.prototype.readInt16BE=function(_,L){_=_>>>0,L||P(_,2,this.length);var J=this[_+1]|this[_]<<8;return J&32768?J|4294901760:J},a.prototype.readInt32LE=function(_,L){return _=_>>>0,L||P(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},a.prototype.readInt32BE=function(_,L){return _=_>>>0,L||P(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},a.prototype.readFloatLE=function(_,L){return _=_>>>0,L||P(_,4,this.length),r.read(this,_,!0,23,4)},a.prototype.readFloatBE=function(_,L){return _=_>>>0,L||P(_,4,this.length),r.read(this,_,!1,23,4)},a.prototype.readDoubleLE=function(_,L){return _=_>>>0,L||P(_,8,this.length),r.read(this,_,!0,52,8)},a.prototype.readDoubleBE=function(_,L){return _=_>>>0,L||P(_,8,this.length),r.read(this,_,!1,52,8)};function T(U,_,L,J,te,oe){if(!a.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>te||_<oe)throw new RangeError('"value" argument is out of bounds');if(L+J>U.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(_,L,J,te){if(_=+_,L=L>>>0,J=J>>>0,!te){var oe=Math.pow(2,8*J)-1;T(this,_,L,J,oe,0)}var fe=1,ue=0;for(this[L]=_&255;++ue<J&&(fe*=256);)this[L+ue]=_/fe&255;return L+J},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(_,L,J,te){if(_=+_,L=L>>>0,J=J>>>0,!te){var oe=Math.pow(2,8*J)-1;T(this,_,L,J,oe,0)}var fe=J-1,ue=1;for(this[L+fe]=_&255;--fe>=0&&(ue*=256);)this[L+fe]=_/ue&255;return L+J},a.prototype.writeUint8=a.prototype.writeUInt8=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,1,255,0),this[L]=_&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,2,65535,0),this[L]=_&255,this[L+1]=_>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,2,65535,0),this[L]=_>>>8,this[L+1]=_&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,4,4294967295,0),this[L+3]=_>>>24,this[L+2]=_>>>16,this[L+1]=_>>>8,this[L]=_&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,4,4294967295,0),this[L]=_>>>24,this[L+1]=_>>>16,this[L+2]=_>>>8,this[L+3]=_&255,L+4},a.prototype.writeIntLE=function(_,L,J,te){if(_=+_,L=L>>>0,!te){var oe=Math.pow(2,8*J-1);T(this,_,L,J,oe-1,-oe)}var fe=0,ue=1,Ae=0;for(this[L]=_&255;++fe<J&&(ue*=256);)_<0&&Ae===0&&this[L+fe-1]!==0&&(Ae=1),this[L+fe]=(_/ue>>0)-Ae&255;return L+J},a.prototype.writeIntBE=function(_,L,J,te){if(_=+_,L=L>>>0,!te){var oe=Math.pow(2,8*J-1);T(this,_,L,J,oe-1,-oe)}var fe=J-1,ue=1,Ae=0;for(this[L+fe]=_&255;--fe>=0&&(ue*=256);)_<0&&Ae===0&&this[L+fe+1]!==0&&(Ae=1),this[L+fe]=(_/ue>>0)-Ae&255;return L+J},a.prototype.writeInt8=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,1,127,-128),_<0&&(_=255+_+1),this[L]=_&255,L+1},a.prototype.writeInt16LE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,2,32767,-32768),this[L]=_&255,this[L+1]=_>>>8,L+2},a.prototype.writeInt16BE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,2,32767,-32768),this[L]=_>>>8,this[L+1]=_&255,L+2},a.prototype.writeInt32LE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,4,2147483647,-2147483648),this[L]=_&255,this[L+1]=_>>>8,this[L+2]=_>>>16,this[L+3]=_>>>24,L+4},a.prototype.writeInt32BE=function(_,L,J){return _=+_,L=L>>>0,J||T(this,_,L,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[L]=_>>>24,this[L+1]=_>>>16,this[L+2]=_>>>8,this[L+3]=_&255,L+4};function V(U,_,L,J,te,oe){if(L+J>U.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function ee(U,_,L,J,te){return _=+_,L=L>>>0,te||V(U,_,L,4),r.write(U,_,L,J,23,4),L+4}a.prototype.writeFloatLE=function(_,L,J){return ee(this,_,L,!0,J)},a.prototype.writeFloatBE=function(_,L,J){return ee(this,_,L,!1,J)};function se(U,_,L,J,te){return _=+_,L=L>>>0,te||V(U,_,L,8),r.write(U,_,L,J,52,8),L+8}a.prototype.writeDoubleLE=function(_,L,J){return se(this,_,L,!0,J)},a.prototype.writeDoubleBE=function(_,L,J){return se(this,_,L,!1,J)},a.prototype.copy=function(_,L,J,te){if(!a.isBuffer(_))throw new TypeError("argument should be a Buffer");if(J||(J=0),!te&&te!==0&&(te=this.length),L>=_.length&&(L=_.length),L||(L=0),te>0&&te<J&&(te=J),te===J||_.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),_.length-L<te-J&&(te=_.length-L+J);var oe=te-J;return this===_&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,J,te):Uint8Array.prototype.set.call(_,this.subarray(J,te),L),oe},a.prototype.fill=function(_,L,J,te){if(typeof _=="string"){if(typeof L=="string"?(te=L,L=0,J=this.length):typeof J=="string"&&(te=J,J=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!a.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(_.length===1){var oe=_.charCodeAt(0);(te==="utf8"&&oe<128||te==="latin1")&&(_=oe)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(L<0||this.length<L||this.length<J)throw new RangeError("Out of range index");if(J<=L)return this;L=L>>>0,J=J===void 0?this.length:J>>>0,_||(_=0);var fe;if(typeof _=="number")for(fe=L;fe<J;++fe)this[fe]=_;else{var ue=a.isBuffer(_)?_:a.from(_,te),Ae=ue.length;if(Ae===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(fe=0;fe<J-L;++fe)this[fe+L]=ue[fe%Ae]}return this};var Z=/[^+/0-9A-Za-z-_]/g;function ne(U){if(U=U.split("=")[0],U=U.trim().replace(Z,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function X(U,_){_=_||1/0;for(var L,J=U.length,te=null,oe=[],fe=0;fe<J;++fe){if(L=U.charCodeAt(fe),L>55295&&L<57344){if(!te){if(L>56319){(_-=3)>-1&&oe.push(239,191,189);continue}else if(fe+1===J){(_-=3)>-1&&oe.push(239,191,189);continue}te=L;continue}if(L<56320){(_-=3)>-1&&oe.push(239,191,189),te=L;continue}L=(te-55296<<10|L-56320)+65536}else te&&(_-=3)>-1&&oe.push(239,191,189);if(te=null,L<128){if((_-=1)<0)break;oe.push(L)}else if(L<2048){if((_-=2)<0)break;oe.push(L>>6|192,L&63|128)}else if(L<65536){if((_-=3)<0)break;oe.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((_-=4)<0)break;oe.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return oe}function re(U){for(var _=[],L=0;L<U.length;++L)_.push(U.charCodeAt(L)&255);return _}function W(U,_){for(var L,J,te,oe=[],fe=0;fe<U.length&&!((_-=2)<0);++fe)L=U.charCodeAt(fe),J=L>>8,te=L%256,oe.push(te),oe.push(J);return oe}function j(U){return e.toByteArray(ne(U))}function M(U,_,L,J){for(var te=0;te<J&&!(te+L>=_.length||te>=U.length);++te)_[te+L]=U[te];return te}function E(U,_){return U instanceof _||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===_.name}function b(U){return U!==U}var k=function(){for(var U="0123456789abcdef",_=new Array(256),L=0;L<16;++L)for(var J=L*16,te=0;te<16;++te)_[J+te]=U[L]+U[te];return _}()})(qe);let zC=null;var A7=function(){return zC===null&&(zC={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),zC},qI={},U6={};const YC=df,hZ=new Set(["buffer","view","utf8"]);let AZ=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!hZ.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new YC(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new YC(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new YC(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};U6.Encoding=AZ;const{Buffer:R6}=qe||{},{Encoding:N6}=U6,gZ=A7;let P6=class extends N6{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new O6({encode:this.encode,decode:e=>this.decode(R6.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},O6=class extends N6{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new P6({encode:e=>{const r=this.encode(e);return R6.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},pZ=class extends N6{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new P6({encode:e=>R6.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:r}=gZ();return new O6({encode:n=>e.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};qI.BufferFormat=P6;qI.ViewFormat=O6;qI.UTF8Format=pZ;const{Buffer:no}=qe||{Buffer:{isBuffer:()=>!1}},{textEncoder:g7,textDecoder:F5}=A7(),{BufferFormat:$I,ViewFormat:K6,UTF8Format:p7}=qI,Qb=t=>t;oA.utf8=new p7({encode:function(t){return no.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?F5.decode(t):String(t)},decode:Qb,name:"utf8",createViewTranscoder(){return new K6({encode:function(t){return ArrayBuffer.isView(t)?t:g7.encode(t)},decode:function(t){return F5.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new $I({encode:function(t){return no.isBuffer(t)?t:ArrayBuffer.isView(t)?no.from(t.buffer,t.byteOffset,t.byteLength):no.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});oA.json=new p7({encode:JSON.stringify,decode:JSON.parse,name:"json"});oA.buffer=new $I({encode:function(t){return no.isBuffer(t)?t:ArrayBuffer.isView(t)?no.from(t.buffer,t.byteOffset,t.byteLength):no.from(String(t),"utf8")},decode:Qb,name:"buffer",createViewTranscoder(){return new K6({encode:function(t){return ArrayBuffer.isView(t)?t:no.from(String(t),"utf8")},decode:function(t){return no.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});oA.view=new K6({encode:function(t){return ArrayBuffer.isView(t)?t:g7.encode(t)},decode:Qb,name:"view",createBufferTranscoder(){return new $I({encode:function(t){return no.isBuffer(t)?t:ArrayBuffer.isView(t)?no.from(t.buffer,t.byteOffset,t.byteLength):no.from(String(t),"utf8")},decode:Qb,name:`${this.name}+buffer`})}});oA.hex=new $I({encode:function(t){return no.isBuffer(t)?t:no.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});oA.base64=new $I({encode:function(t){return no.isBuffer(t)?t:no.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"});const M5=df,xb=oA,{Encoding:yZ}=U6,{BufferFormat:IZ,ViewFormat:mZ,UTF8Format:wZ}=qI,Bp=Symbol("formats"),nw=Symbol("encodings"),bZ=new Set(["buffer","view","utf8"]);let EZ=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>bZ.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[nw]=new Map,this[Bp]=new Set(e);for(const r in xb)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[nw].values()))}encoding(e){let r=this[nw].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=QZ[e],!r)throw new M5(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=vZ(e)}const{name:n,format:o}=r;if(!this[Bp].has(o))if(this[Bp].has("view"))r=r.createViewTranscoder();else if(this[Bp].has("buffer"))r=r.createBufferTranscoder();else if(this[Bp].has("utf8"))r=r.createUTF8Transcoder();else throw new M5(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const i of[e,n,r.name,r.commonName])this[nw].set(i,r)}return r}};u7.Transcoder=EZ;function vZ(t){if(t instanceof yZ)return t;const e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${xZ++}`;switch(BZ(t)){case"view":return new mZ({...t,name:r});case"utf8":return new wZ({...t,name:r});case"buffer":return new IZ({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function BZ(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}const CZ={binary:xb.buffer,"utf-8":xb.utf8},QZ={...xb,...CZ};let xZ=0;var H6={exports:{}},mg=typeof Reflect=="object"?Reflect:null,U5=mg&&typeof mg.apply=="function"?mg.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},U1;mg&&typeof mg.ownKeys=="function"?U1=mg.ownKeys:Object.getOwnPropertySymbols?U1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:U1=function(e){return Object.getOwnPropertyNames(e)};function SZ(t){console&&console.warn&&console.warn(t)}var y7=Number.isNaN||function(e){return e!==e};function Er(){Er.init.call(this)}H6.exports=Er;H6.exports.once=TZ;Er.EventEmitter=Er;Er.prototype._events=void 0;Er.prototype._eventsCount=0;Er.prototype._maxListeners=void 0;var R5=10;function Sv(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Er,"defaultMaxListeners",{enumerable:!0,get:function(){return R5},set:function(t){if(typeof t!="number"||t<0||y7(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");R5=t}});Er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Er.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||y7(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function I7(t){return t._maxListeners===void 0?Er.defaultMaxListeners:t._maxListeners}Er.prototype.getMaxListeners=function(){return I7(this)};Er.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=e==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(c===void 0)return!1;if(typeof c=="function")U5(c,this,r);else for(var d=c.length,f=v7(c,d),n=0;n<d;++n)U5(f[n],this,r);return!0};function m7(t,e,r,n){var o,i,s;if(Sv(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),s===void 0)s=i[e]=r,++t._eventsCount;else if(typeof s=="function"?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),o=I7(t),o>0&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,SZ(a)}return t}Er.prototype.addListener=function(e,r){return m7(this,e,r,!1)};Er.prototype.on=Er.prototype.addListener;Er.prototype.prependListener=function(e,r){return m7(this,e,r,!0)};function _Z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w7(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=_Z.bind(n);return o.listener=r,n.wrapFn=o,o}Er.prototype.once=function(e,r){return Sv(r),this.on(e,w7(this,e,r)),this};Er.prototype.prependOnceListener=function(e,r){return Sv(r),this.prependListener(e,w7(this,e,r)),this};Er.prototype.removeListener=function(e,r){var n,o,i,s,a;if(Sv(r),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():DZ(n,i),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};Er.prototype.off=Er.prototype.removeListener;Er.prototype.removeAllListeners=function(e){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),s;for(o=0;o<i.length;++o)s=i[o],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(e,r[o]);return this};function b7(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?kZ(o):v7(o,o.length)}Er.prototype.listeners=function(e){return b7(this,e,!0)};Er.prototype.rawListeners=function(e){return b7(this,e,!1)};Er.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):E7.call(t,e)};Er.prototype.listenerCount=E7;function E7(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Er.prototype.eventNames=function(){return this._eventsCount>0?U1(this._events):[]};function v7(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function DZ(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function kZ(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function TZ(t,e){return new Promise(function(r,n){function o(s){t.removeListener(e,i),n(s)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}B7(t,e,i,{once:!0}),e!=="error"&&FZ(t,o,{once:!0})})}function FZ(t,e,r){typeof t.on=="function"&&B7(t,"error",e,r)}function B7(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(i){n.once&&t.removeEventListener(e,o),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var sA=H6.exports,O0={},MZ=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t),N5=MZ;O0.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(n,o){t=function(i,s){i?o(i):n(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};O0.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){N5(()=>e(null,r))}).catch(function(r){N5(()=>e(r))})};var lf={},jI={};jI.getCallback=function(t,e){return typeof t=="function"?t:e};jI.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}};const{fromCallback:JC}=O0,as=df,{getOptions:VC,getCallback:P5}=jI,Qu=Symbol("promise"),xA=Symbol("callback"),dc=Symbol("working"),fh=Symbol("handleOne"),Gf=Symbol("handleMany"),WC=Symbol("autoClose"),Jl=Symbol("finishWork"),Hc=Symbol("returnMany"),Ld=Symbol("closing"),Cp=Symbol("handleClose"),iw=Symbol("closed"),Qp=Symbol("closeCallbacks"),Pl=Symbol("keyEncoding"),Nh=Symbol("valueEncoding"),ZC=Symbol("abortOnClose"),ow=Symbol("legacy"),XC=Symbol("keys"),e2=Symbol("values"),Gd=Symbol("limit"),Vs=Symbol("count"),sw=Object.freeze({}),UZ=()=>{};let O5=!1;class L6{constructor(e,r,n){if(typeof e!="object"||e===null){const o=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${o}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[iw]=!1,this[Qp]=[],this[dc]=!1,this[Ld]=!1,this[WC]=!1,this[xA]=null,this[fh]=this[fh].bind(this),this[Gf]=this[Gf].bind(this),this[Cp]=this[Cp].bind(this),this[Pl]=r[Pl],this[Nh]=r[Nh],this[ow]=n,this[Gd]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[Vs]=0,this[ZC]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[Vs]}get limit(){return this[Gd]}next(e){let r;if(e===void 0)r=new Promise((n,o)=>{e=(i,s,a)=>{i?o(i):this[ow]?s===void 0&&a===void 0?n():n([s,a]):n(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Ld]?this.nextTick(e,new as("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[dc]?this.nextTick(e,new as("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[dc]=!0,this[xA]=e,this[Vs]>=this[Gd]?this.nextTick(this[fh],null):this._next(this[fh])),r}_next(e){this.nextTick(e)}nextv(e,r,n){return n=P5(r,n),n=JC(n,Qu),r=VC(r,sw),Number.isInteger(e)?(this[Ld]?this.nextTick(n,new as("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[dc]?this.nextTick(n,new as("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Gd]<1/0&&(e=Math.min(e,this[Gd]-this[Vs])),this[dc]=!0,this[xA]=n,e<=0?this.nextTick(this[Gf],null,[]):this._nextv(e,r,this[Gf])),n[Qu]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[Qu])}_nextv(e,r,n){const o=[],i=(s,a,c)=>{if(s)return n(s);if(this[ow]?a===void 0&&c===void 0:a===void 0)return n(null,o);o.push(this[ow]?[a,c]:a),o.length===e?n(null,o):this._next(i)};this._next(i)}all(e,r){return r=P5(e,r),r=JC(r,Qu),e=VC(e,sw),this[Ld]?this.nextTick(r,new as("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[dc]?this.nextTick(r,new as("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[dc]=!0,this[xA]=r,this[WC]=!0,this[Vs]>=this[Gd]?this.nextTick(this[Gf],null,[]):this._all(e,this[Gf])),r[Qu]}_all(e,r){let n=this[Vs];const o=[],i=()=>{const a=this[Gd]<1/0?Math.min(1e3,this[Gd]-n):1e3;a<=0?this.nextTick(r,null,o):this._nextv(a,sw,s)},s=(a,c)=>{a?r(a):c.length===0?r(null,o):(o.push.apply(o,c),n+=c.length,i())};i()}[Jl](){const e=this[xA];return this[ZC]&&e===null?UZ:(this[dc]=!1,this[xA]=null,this[Ld]&&this._close(this[Cp]),e)}[Hc](e,r,n){this[WC]?this.close(e.bind(null,r,n)):e(r,n)}seek(e,r){if(r=VC(r,sw),!this[Ld]){if(this[dc])throw new as("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const n=this.db.keyEncoding(r.keyEncoding||this[Pl]),o=n.format;r.keyEncoding!==o&&(r={...r,keyEncoding:o});const i=this.db.prefixKey(n.encode(e),o);this._seek(i,r)}}}_seek(e,r){throw new as("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=JC(e,Qu),this[iw]?this.nextTick(e):this[Ld]?this[Qp].push(e):(this[Ld]=!0,this[Qp].push(e),this[dc]?this[ZC]&&this[Jl]()(new as("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Cp])),e[Qu]}_close(e){this.nextTick(e)}[Cp](){this[iw]=!0,this.db.detachResource(this);const e=this[Qp];this[Qp]=[];for(const r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[iw]||await this.close()}}}let _v=class extends L6{constructor(e,r){super(e,r,!0),this[XC]=r.keys!==!1,this[e2]=r.values!==!1}[fh](e,r,n){const o=this[Jl]();if(e)return o(e);try{r=this[XC]&&r!==void 0?this[Pl].decode(r):void 0,n=this[e2]&&n!==void 0?this[Nh].decode(n):void 0}catch(i){return o(new Yg("entry",i))}r===void 0&&n===void 0||this[Vs]++,o(null,r,n)}[Gf](e,r){const n=this[Jl]();if(e)return this[Hc](n,e);try{for(const o of r){const i=o[0],s=o[1];o[0]=this[XC]&&i!==void 0?this[Pl].decode(i):void 0,o[1]=this[e2]&&s!==void 0?this[Nh].decode(s):void 0}}catch(o){return this[Hc](n,new Yg("entries",o))}this[Vs]+=r.length,this[Hc](n,null,r)}end(e){return!O5&&typeof console<"u"&&(O5=!0,console.warn(new as("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},RZ=class extends L6{constructor(e,r){super(e,r,!1)}[fh](e,r){const n=this[Jl]();if(e)return n(e);try{r=r!==void 0?this[Pl].decode(r):void 0}catch(o){return n(new Yg("key",o))}r!==void 0&&this[Vs]++,n(null,r)}[Gf](e,r){const n=this[Jl]();if(e)return this[Hc](n,e);try{for(let o=0;o<r.length;o++){const i=r[o];r[o]=i!==void 0?this[Pl].decode(i):void 0}}catch(o){return this[Hc](n,new Yg("keys",o))}this[Vs]+=r.length,this[Hc](n,null,r)}},NZ=class extends L6{constructor(e,r){super(e,r,!1)}[fh](e,r){const n=this[Jl]();if(e)return n(e);try{r=r!==void 0?this[Nh].decode(r):void 0}catch(o){return n(new Yg("value",o))}r!==void 0&&this[Vs]++,n(null,r)}[Gf](e,r){const n=this[Jl]();if(e)return this[Hc](n,e);try{for(let o=0;o<r.length;o++){const i=r[o];r[o]=i!==void 0?this[Nh].decode(i):void 0}}catch(o){return this[Hc](n,new Yg("values",o))}this[Vs]+=r.length,this[Hc](n,null,r)}};class Yg extends as{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}}for(const t of["_ended property","_nexting property","_end method"])Object.defineProperty(_v.prototype,t.split(" ")[0],{get(){throw new as(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new as(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});_v.keyEncoding=Pl;_v.valueEncoding=Nh;lf.AbstractIterator=_v;lf.AbstractKeyIterator=RZ;lf.AbstractValueIterator=NZ;var G6={};const{AbstractKeyIterator:PZ,AbstractValueIterator:OZ}=lf,eh=Symbol("iterator"),xp=Symbol("callback"),Jg=Symbol("handleOne"),vh=Symbol("handleMany");let HQ=class extends PZ{constructor(e,r){super(e,r),this[eh]=e.iterator({...r,keys:!0,values:!1}),this[Jg]=this[Jg].bind(this),this[vh]=this[vh].bind(this)}},C7=class extends OZ{constructor(e,r){super(e,r),this[eh]=e.iterator({...r,keys:!1,values:!0}),this[Jg]=this[Jg].bind(this),this[vh]=this[vh].bind(this)}};for(const t of[HQ,C7]){const e=t===HQ,r=e?n=>n[0]:n=>n[1];t.prototype._next=function(n){this[xp]=n,this[eh].next(this[Jg])},t.prototype[Jg]=function(n,o,i){const s=this[xp];n?s(n):s(null,e?o:i)},t.prototype._nextv=function(n,o,i){this[xp]=i,this[eh].nextv(n,o,this[vh])},t.prototype._all=function(n,o){this[xp]=o,this[eh].all(n,this[vh])},t.prototype[vh]=function(n,o){const i=this[xp];n?i(n):i(null,o.map(r))},t.prototype._seek=function(n,o){this[eh].seek(n,o)},t.prototype._close=function(n){this[eh].close(n)}}G6.DefaultKeyIterator=HQ;G6.DefaultValueIterator=C7;var Dv={};const{AbstractIterator:KZ,AbstractKeyIterator:HZ,AbstractValueIterator:LZ}=lf,t2=df,Mo=Symbol("nut"),kv=Symbol("undefer"),Tv=Symbol("factory");let Q7=class extends KZ{constructor(e,r){super(e,r),this[Mo]=null,this[Tv]=()=>e.iterator(r),this.db.defer(()=>this[kv]())}},x7=class extends HZ{constructor(e,r){super(e,r),this[Mo]=null,this[Tv]=()=>e.keys(r),this.db.defer(()=>this[kv]())}},S7=class extends LZ{constructor(e,r){super(e,r),this[Mo]=null,this[Tv]=()=>e.values(r),this.db.defer(()=>this[kv]())}};for(const t of[Q7,x7,S7])t.prototype[kv]=function(){this.db.status==="open"&&(this[Mo]=this[Tv]())},t.prototype._next=function(e){this[Mo]!==null?this[Mo].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new t2("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,n){this[Mo]!==null?this[Mo].nextv(e,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,n)):this.nextTick(n,new t2("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Mo]!==null?this[Mo].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new t2("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Mo]!==null?this[Mo]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Mo]!==null?this[Mo].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};Dv.DeferredIterator=Q7;Dv.DeferredKeyIterator=x7;Dv.DeferredValueIterator=S7;var _7={},q6={};const{fromCallback:K5}=O0,aw=df,{getCallback:GZ,getOptions:qZ}=jI,cw=Symbol("promise"),Rs=Symbol("status"),SA=Symbol("operations"),Sp=Symbol("finishClose"),_A=Symbol("closeCallbacks");let $Z=class{constructor(e){if(typeof e!="object"||e===null){const r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[SA]=[],this[_A]=[],this[Rs]="open",this[Sp]=this[Sp].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[SA].length}put(e,r,n){if(this[Rs]!=="open")throw new aw("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const o=this.db._checkKey(e)||this.db._checkValue(r);if(o)throw o;const i=n&&n.sublevel!=null?n.sublevel:this.db,s=n,a=i.keyEncoding(n&&n.keyEncoding),c=i.valueEncoding(n&&n.valueEncoding),d=a.format;n={...n,keyEncoding:d,valueEncoding:c.format},i!==this.db&&(n.sublevel=null);const f=i.prefixKey(a.encode(e),d),l=c.encode(r);return this._put(f,l,n),this[SA].push({...s,type:"put",key:e,value:r}),this}_put(e,r,n){}del(e,r){if(this[Rs]!=="open")throw new aw("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const n=this.db._checkKey(e);if(n)throw n;const o=r&&r.sublevel!=null?r.sublevel:this.db,i=r,s=o.keyEncoding(r&&r.keyEncoding),a=s.format;return r={...r,keyEncoding:a},o!==this.db&&(r.sublevel=null),this._del(o.prefixKey(s.encode(e),a),r),this[SA].push({...i,type:"del",key:e}),this}_del(e,r){}clear(){if(this[Rs]!=="open")throw new aw("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[SA]=[],this}_clear(){}write(e,r){return r=GZ(e,r),r=K5(r,cw),e=qZ(e),this[Rs]!=="open"?this.nextTick(r,new aw("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[Rs]="writing",this._write(e,n=>{this[Rs]="closing",this[_A].push(()=>r(n)),n||this.db.emit("batch",this[SA]),this._close(this[Sp])})),r[cw]}_write(e,r){}close(e){return e=K5(e,cw),this[Rs]==="closing"?this[_A].push(e):this[Rs]==="closed"?this.nextTick(e):(this[_A].push(e),this[Rs]!=="writing"&&(this[Rs]="closing",this._close(this[Sp]))),e[cw]}_close(e){this.nextTick(e)}[Sp](){this[Rs]="closed",this.db.detachResource(this);const e=this[_A];this[_A]=[];for(const r of e)r()}};q6.AbstractChainedBatch=$Z;const{AbstractChainedBatch:jZ}=q6,zZ=df,DA=Symbol("encoded");let YZ=class extends jZ{constructor(e){super(e),this[DA]=[]}_put(e,r,n){this[DA].push({...n,type:"put",key:e,value:r})}_del(e,r){this[DA].push({...r,type:"del",key:e})}_clear(){this[DA]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[DA].length===0?this.nextTick(r):this.db._batch(this[DA],e,r):this.nextTick(r,new zZ("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};_7.DefaultChainedBatch=YZ;const H5=df,JZ=Object.prototype.hasOwnProperty,VZ=new Set(["lt","lte","gt","gte"]);var WZ=function(t,e){const r={};for(const n in t)if(JZ.call(t,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new H5(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new H5("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});VZ.has(n)?r[n]=e.encode(t[n]):r[n]=t[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let L5;var D7=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(L5||(L5=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),r2,G5;function ZZ(){if(G5)return r2;G5=1;const t=D7;return r2=function(e,...r){r.length===0?t(e):t(()=>e(...r))},r2}var _p={},q5;function XZ(){if(q5)return _p;q5=1;const{AbstractIterator:t,AbstractKeyIterator:e,AbstractValueIterator:r}=lf,n=Symbol("unfix"),o=Symbol("iterator"),i=Symbol("handleOne"),s=Symbol("handleMany"),a=Symbol("callback");class c extends t{constructor(u,p,A,h){super(u,p),this[o]=A,this[n]=h,this[i]=this[i].bind(this),this[s]=this[s].bind(this),this[a]=null}[i](u,p,A){const h=this[a];if(u)return h(u);p!==void 0&&(p=this[n](p)),h(u,p,A)}[s](u,p){const A=this[a];if(u)return A(u);for(const h of p){const y=h[0];y!==void 0&&(h[0]=this[n](y))}A(u,p)}}class d extends e{constructor(u,p,A,h){super(u,p),this[o]=A,this[n]=h,this[i]=this[i].bind(this),this[s]=this[s].bind(this),this[a]=null}[i](u,p){const A=this[a];if(u)return A(u);p!==void 0&&(p=this[n](p)),A(u,p)}[s](u,p){const A=this[a];if(u)return A(u);for(let h=0;h<p.length;h++){const y=p[h];y!==void 0&&(p[h]=this[n](y))}A(u,p)}}class f extends r{constructor(u,p,A){super(u,p),this[o]=A}}for(const l of[c,d])l.prototype._next=function(u){this[a]=u,this[o].next(this[i])},l.prototype._nextv=function(u,p,A){this[a]=A,this[o].nextv(u,p,this[s])},l.prototype._all=function(u,p){this[a]=p,this[o].all(u,this[s])};for(const l of[f])l.prototype._next=function(u){this[o].next(u)},l.prototype._nextv=function(u,p,A){this[o].nextv(u,p,A)},l.prototype._all=function(u,p){this[o].all(u,p)};for(const l of[c,d,f])l.prototype._seek=function(u,p){this[o].seek(u,p)},l.prototype._close=function(u){this[o].close(u)};return _p.AbstractSublevelIterator=c,_p.AbstractSublevelKeyIterator=d,_p.AbstractSublevelValueIterator=f,_p}var n2,$5;function eX(){if($5)return n2;$5=1;const t=df,{Buffer:e}=qe||{},{AbstractSublevelIterator:r,AbstractSublevelKeyIterator:n,AbstractSublevelValueIterator:o}=XZ(),i=Symbol("prefix"),s=Symbol("upperBound"),a=Symbol("prefixRange"),c=Symbol("parent"),d=Symbol("unfix"),f=new TextEncoder,l={separator:"!"};n2=function({AbstractLevel:v}){class B extends v{static defaults(x){if(typeof x=="string")throw new t("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(x&&x.open)throw new t("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return x==null?l:x.separator?x:{...x,separator:"!"}}constructor(x,Q,N){const{separator:$,manifest:G,...z}=B.defaults(N);Q=y(Q,$);const Y=$.charCodeAt(0)+1,R=x[c]||x;if(!f.encode(Q).every(g=>g>Y&&g<127))throw new t(`Prefix must use bytes > ${Y} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(u(R,G),z);const C=(x.prefix||"")+$+Q+$,m=C.slice(0,-1)+String.fromCharCode(Y);this[c]=R,this[i]=new A(C),this[s]=new A(m),this[d]=new h,this.nextTick=R.nextTick}prefixKey(x,Q){if(Q==="utf8")return this[i].utf8+x;if(x.byteLength===0)return this[i][Q];if(Q==="view"){const N=this[i].view,$=new Uint8Array(N.byteLength+x.byteLength);return $.set(N,0),$.set(x,N.byteLength),$}else{const N=this[i].buffer;return e.concat([N,x],N.byteLength+x.byteLength)}}[a](x,Q){x.gte!==void 0?x.gte=this.prefixKey(x.gte,Q):x.gt!==void 0?x.gt=this.prefixKey(x.gt,Q):x.gte=this[i][Q],x.lte!==void 0?x.lte=this.prefixKey(x.lte,Q):x.lt!==void 0?x.lt=this.prefixKey(x.lt,Q):x.lte=this[s][Q]}get prefix(){return this[i].utf8}get db(){return this[c]}_open(x,Q){this[c].open({passive:!0},Q)}_put(x,Q,N,$){this[c].put(x,Q,N,$)}_get(x,Q,N){this[c].get(x,Q,N)}_getMany(x,Q,N){this[c].getMany(x,Q,N)}_del(x,Q,N){this[c].del(x,Q,N)}_batch(x,Q,N){this[c].batch(x,Q,N)}_clear(x,Q){this[a](x,x.keyEncoding),this[c].clear(x,Q)}_iterator(x){this[a](x,x.keyEncoding);const Q=this[c].iterator(x),N=this[d].get(this[i].utf8.length,x.keyEncoding);return new r(this,x,Q,N)}_keys(x){this[a](x,x.keyEncoding);const Q=this[c].keys(x),N=this[d].get(this[i].utf8.length,x.keyEncoding);return new n(this,x,Q,N)}_values(x){this[a](x,x.keyEncoding);const Q=this[c].values(x);return new o(this,x,Q)}}return{AbstractSublevel:B}};const u=function(v,B){return{...v.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...B,encodings:{utf8:p(v,"utf8"),buffer:p(v,"buffer"),view:p(v,"view")}}},p=function(v,B){return v.supports.encodings[B]?v.keyEncoding(B).name===B:!1};class A{constructor(B){this.utf8=B,this.view=f.encode(B),this.buffer=e?e.from(this.view.buffer,0,this.view.byteLength):{}}}class h{constructor(){this.cache=new Map}get(B,S){let x=this.cache.get(S);return x===void 0&&(S==="view"?x=function(Q,N){return N.subarray(Q)}.bind(null,B):x=function(Q,N){return N.slice(Q)}.bind(null,B),this.cache.set(S,x)),x}}const y=function(v,B){let S=0,x=v.length;for(;S<x&&v[S]===B;)S++;for(;x>S&&v[x-1]===B;)x--;return v.slice(S,x)};return n2}const{supports:tX}=l7,{Transcoder:rX}=u7,{EventEmitter:nX}=sA,{fromCallback:qd}=O0,_a=df,{AbstractIterator:xu}=lf,{DefaultKeyIterator:iX,DefaultValueIterator:oX}=G6,{DeferredIterator:sX,DeferredKeyIterator:aX,DeferredValueIterator:cX}=Dv,{DefaultChainedBatch:j5}=_7,{getCallback:Su,getOptions:$d}=jI,fw=WZ,_t=Symbol("promise"),bf=Symbol("landed"),_u=Symbol("resources"),i2=Symbol("closeResources"),Dp=Symbol("operations"),kp=Symbol("undefer"),dw=Symbol("deferOpen"),z5=Symbol("options"),Pt=Symbol("status"),Du=Symbol("defaultOptions"),kA=Symbol("transcoder"),lw=Symbol("keyEncoding"),o2=Symbol("valueEncoding"),fX=()=>{};let $6=class extends nX{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=$d(r);const{keyEncoding:n,valueEncoding:o,passive:i,...s}=r;this[_u]=new Set,this[Dp]=[],this[dw]=!0,this[z5]=s,this[Pt]="opening",this.supports=tX(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kA]=new rX(dX(this)),this[lw]=this[kA].encoding(n||"utf8"),this[o2]=this[kA].encoding(o||"utf8");for(const a of this[kA].encodings())this.supports.encodings[a.commonName]||(this.supports.encodings[a.commonName]=!0);this[Du]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[lw].commonName,valueEncoding:this[o2].commonName}),key:Object.freeze({keyEncoding:this[lw].commonName})},this.nextTick(()=>{this[dw]&&this.open({passive:!1},fX)})}get status(){return this[Pt]}keyEncoding(e){return this[kA].encoding(e??this[lw])}valueEncoding(e){return this[kA].encoding(e??this[o2])}open(e,r){r=Su(e,r),r=qd(r,_t),e={...this[z5],...$d(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;const n=o=>{this[Pt]==="closing"||this[Pt]==="opening"?this.once(bf,o?()=>n(o):n):this[Pt]!=="open"?r(new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:o})):r()};return e.passive?this[Pt]==="opening"?this.once(bf,n):this.nextTick(n):this[Pt]==="closed"||this[dw]?(this[dw]=!1,this[Pt]="opening",this.emit("opening"),this._open(e,o=>{if(o){this[Pt]="closed",this[i2](()=>{this.emit(bf),n(o)}),this[kp]();return}this[Pt]="open",this[kp](),this.emit(bf),this[Pt]==="open"&&this.emit("open"),this[Pt]==="open"&&this.emit("ready"),n()})):this[Pt]==="open"?this.nextTick(n):this.once(bf,()=>this.open(e,r)),r[_t]}_open(e,r){this.nextTick(r)}close(e){e=qd(e,_t);const r=n=>{this[Pt]==="opening"||this[Pt]==="closing"?this.once(bf,n?r(n):r):this[Pt]!=="closed"?e(new _a("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if(this[Pt]==="open"){this[Pt]="closing",this.emit("closing");const n=o=>{this[Pt]="open",this[kp](),this.emit(bf),r(o)};this[i2](()=>{this._close(o=>{if(o)return n(o);this[Pt]="closed",this[kp](),this.emit(bf),this[Pt]==="closed"&&this.emit("closed"),r()})})}else this[Pt]==="closed"?this.nextTick(r):this.once(bf,()=>this.close(e));return e[_t]}[i2](e){if(this[_u].size===0)return this.nextTick(e);let r=this[_u].size,n=!0;const o=()=>{--r===0&&(n?this.nextTick(e):e())};for(const i of this[_u])i.close(o);n=!1,this[_u].clear()}_close(e){this.nextTick(e)}get(e,r,n){if(n=Su(r,n),n=qd(n,_t),r=$d(r,this[Du].entry),this[Pt]==="opening")return this.defer(()=>this.get(e,r,n)),n[_t];if(TA(this,n))return n[_t];const o=this._checkKey(e);if(o)return this.nextTick(n,o),n[_t];const i=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),a=i.format,c=s.format;return(r.keyEncoding!==a||r.valueEncoding!==c)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:c})),this._get(this.prefixKey(i.encode(e),a),r,(d,f)=>{if(d)return(d.code==="LEVEL_NOT_FOUND"||d.notFound||/NotFound/i.test(d))&&(d.code||(d.code="LEVEL_NOT_FOUND"),d.notFound||(d.notFound=!0),d.status||(d.status=404)),n(d);try{f=s.decode(f)}catch(l){return n(new _a("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:l}))}n(null,f)}),n[_t]}_get(e,r,n){this.nextTick(n,new Error("NotFound"))}getMany(e,r,n){if(n=Su(r,n),n=qd(n,_t),r=$d(r,this[Du].entry),this[Pt]==="opening")return this.defer(()=>this.getMany(e,r,n)),n[_t];if(TA(this,n))return n[_t];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[_t];if(e.length===0)return this.nextTick(n,null,[]),n[_t];const o=this.keyEncoding(r.keyEncoding),i=this.valueEncoding(r.valueEncoding),s=o.format,a=i.format;(r.keyEncoding!==s||r.valueEncoding!==a)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:a}));const c=new Array(e.length);for(let d=0;d<e.length;d++){const f=e[d],l=this._checkKey(f);if(l)return this.nextTick(n,l),n[_t];c[d]=this.prefixKey(o.encode(f),s)}return this._getMany(c,r,(d,f)=>{if(d)return n(d);try{for(let l=0;l<f.length;l++)f[l]!==void 0&&(f[l]=i.decode(f[l]))}catch(l){return n(new _a(`Could not decode one or more of ${f.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:l}))}n(null,f)}),n[_t]}_getMany(e,r,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,r,n,o){if(o=Su(n,o),o=qd(o,_t),n=$d(n,this[Du].entry),this[Pt]==="opening")return this.defer(()=>this.put(e,r,n,o)),o[_t];if(TA(this,o))return o[_t];const i=this._checkKey(e)||this._checkValue(r);if(i)return this.nextTick(o,i),o[_t];const s=this.keyEncoding(n.keyEncoding),a=this.valueEncoding(n.valueEncoding),c=s.format,d=a.format;(n.keyEncoding!==c||n.valueEncoding!==d)&&(n=Object.assign({},n,{keyEncoding:c,valueEncoding:d}));const f=this.prefixKey(s.encode(e),c),l=a.encode(r);return this._put(f,l,n,u=>{if(u)return o(u);this.emit("put",e,r),o()}),o[_t]}_put(e,r,n,o){this.nextTick(o)}del(e,r,n){if(n=Su(r,n),n=qd(n,_t),r=$d(r,this[Du].key),this[Pt]==="opening")return this.defer(()=>this.del(e,r,n)),n[_t];if(TA(this,n))return n[_t];const o=this._checkKey(e);if(o)return this.nextTick(n,o),n[_t];const i=this.keyEncoding(r.keyEncoding),s=i.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(i.encode(e),s),r,a=>{if(a)return n(a);this.emit("del",e),n()}),n[_t]}_del(e,r,n){this.nextTick(n)}batch(e,r,n){if(!arguments.length){if(this[Pt]==="opening")return new j5(this);if(this[Pt]!=="open")throw new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?n=e:n=Su(r,n),n=qd(n,_t),r=$d(r,this[Du].empty),this[Pt]==="opening")return this.defer(()=>this.batch(e,r,n)),n[_t];if(TA(this,n))return n[_t];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[_t];if(e.length===0)return this.nextTick(n),n[_t];const o=new Array(e.length),{keyEncoding:i,valueEncoding:s,...a}=r;for(let c=0;c<e.length;c++){if(typeof e[c]!="object"||e[c]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[_t];const d=Object.assign({},e[c]);if(d.type!=="put"&&d.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[_t];const f=this._checkKey(d.key);if(f)return this.nextTick(n,f),n[_t];const l=d.sublevel!=null?d.sublevel:this,u=l.keyEncoding(d.keyEncoding||i),p=u.format;if(d.key=l.prefixKey(u.encode(d.key),p),d.keyEncoding=p,d.type==="put"){const A=this._checkValue(d.value);if(A)return this.nextTick(n,A),n[_t];const h=l.valueEncoding(d.valueEncoding||s);d.value=h.encode(d.value),d.valueEncoding=h.format}l!==this&&(d.sublevel=null),o[c]=d}return this._batch(o,a,c=>{if(c)return n(c);this.emit("batch",e),n()}),n[_t]}_batch(e,r,n){this.nextTick(n)}sublevel(e,r){return this._sublevel(e,LQ.defaults(r))}_sublevel(e,r){return new LQ(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=Su(e,r),r=qd(r,_t),e=$d(e,this[Du].empty),this[Pt]==="opening")return this.defer(()=>this.clear(e,r)),r[_t];if(TA(this,r))return r[_t];const n=e,o=this.keyEncoding(e.keyEncoding);return e=fw(e,o),e.keyEncoding=o.format,e.limit===0?this.nextTick(r):this._clear(e,i=>{if(i)return r(i);this.emit("clear",n),r()}),r[_t]}_clear(e,r){this.nextTick(r)}iterator(e){const r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=fw(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[xu.keyEncoding]=r,e[xu.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Pt]==="opening")return new sX(this,e);if(this[Pt]!=="open")throw new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new xu(this,e)}keys(e){const r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=fw(e,r),e[xu.keyEncoding]=r,e[xu.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Pt]==="opening")return new aX(this,e);if(this[Pt]!=="open")throw new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new iX(this,e)}values(e){const r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=fw(e,r),e[xu.keyEncoding]=r,e[xu.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[Pt]==="opening")return new cX(this,e);if(this[Pt]!=="open")throw new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new oX(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[Dp].push(e)}[kp](){if(this[Dp].length===0)return;const e=this[Dp];this[Dp]=[];for(const r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[_u].add(e)}detachResource(e){this[_u].delete(e)}_chainedBatch(){return new j5(this)}_checkKey(e){if(e==null)return new _a("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new _a("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};$6.prototype.nextTick=ZZ();const{AbstractSublevel:LQ}=eX()({AbstractLevel:$6});Qv.AbstractLevel=$6;Qv.AbstractSublevel=LQ;const TA=function(t,e){return t[Pt]!=="open"?(t.nextTick(e,new _a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},dX=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])};hu.AbstractLevel=Qv.AbstractLevel;hu.AbstractSublevel=Qv.AbstractSublevel;hu.AbstractIterator=lf.AbstractIterator;hu.AbstractKeyIterator=lf.AbstractKeyIterator;hu.AbstractValueIterator=lf.AbstractValueIterator;hu.AbstractChainedBatch=q6.AbstractChainedBatch;/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var lX=hX;const uX=D7;function hX(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let n,o,i,s,a,c=!0,d;Array.isArray(t)?(n=[],i=o=t.length):(s=Object.keys(t),n={},i=o=s.length);function f(u){function p(){r&&r(u,n),r=null}c?uX(p):p()}function l(u,p,A){if(n[u]=A,p&&(a=!0),--i===0||p)f(p);else if(!a&&d<o){let h;s?(h=s[d],d+=1,t[h](function(y,v){l(h,y,v)})):(h=d,d+=1,t[h](function(y,v){l(h,y,v)}))}}d=e,i?s?s.some(function(u,p){return t[u](function(A,h){l(u,A,h)}),p===e-1}):t.some(function(u,p){return u(function(A,h){l(p,A,h)}),p===e-1}):f(null),c=!1}var k7={},T7=function(e){const r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,n=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,o=e.gte===void 0,i=e.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,o,i):r!==void 0?IDBKeyRange.lowerBound(r,o):n!==void 0?IDBKeyRange.upperBound(n,i):null};const AX=new TextEncoder;var F7=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):AX.encode(t)};const{AbstractIterator:gX}=hu,Y5=T7,uw=F7,lc=Symbol("cache"),Ef=Symbol("finished"),zo=Symbol("options"),vf=Symbol("currentOptions"),ku=Symbol("position"),s2=Symbol("location"),FA=Symbol("first"),J5={};let pX=class extends gX{constructor(e,r,n){super(e,n),this[lc]=[],this[Ef]=this.limit===0,this[zo]=n,this[vf]={...n},this[ku]=void 0,this[s2]=r,this[FA]=!0}_nextv(e,r,n){if(this[FA]=!1,this[Ef])return this.nextTick(n,null,[]);if(this[lc].length>0)return e=Math.min(e,this[lc].length),this.nextTick(n,null,this[lc].splice(0,e));this[ku]!==void 0&&(this[zo].reverse?(this[vf].lt=this[ku],this[vf].lte=void 0):(this[vf].gt=this[ku],this[vf].gte=void 0));let o;try{o=Y5(this[vf])}catch{return this[Ef]=!0,this.nextTick(n,null,[])}const i=this.db.db.transaction([this[s2]],"readonly"),s=i.objectStore(this[s2]),a=[];if(this[zo].reverse){const c=!this[zo].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[c](o,"prev").onsuccess=d=>{const f=d.target.result;if(f){const{key:l,value:u}=f;this[ku]=l,a.push([this[zo].keys&&l!==void 0?uw(l):void 0,this[zo].values&&u!==void 0?uw(u):void 0]),a.length<e?f.continue():V5(i)}else this[Ef]=!0}}else{let c,d;const f=()=>{if(c===void 0||d===void 0)return;const l=Math.max(c.length,d.length);l===0||e===1/0?this[Ef]=!0:this[ku]=c[l-1],a.length=l;for(let u=0;u<l;u++){const p=c[u],A=d[u];a[u]=[this[zo].keys&&p!==void 0?uw(p):void 0,this[zo].values&&A!==void 0?uw(A):void 0]}V5(i)};this[zo].keys||e<1/0?s.getAllKeys(o,e<1/0?e:void 0).onsuccess=l=>{c=l.target.result,f()}:(c=[],this.nextTick(f)),this[zo].values?s.getAll(o,e<1/0?e:void 0).onsuccess=l=>{d=l.target.result,f()}:(d=[],this.nextTick(f))}i.onabort=()=>{n(i.error||new Error("aborted by user")),n=null},i.oncomplete=()=>{n(null,a),n=null}}_next(e){if(this[lc].length>0){const[r,n]=this[lc].shift();this.nextTick(e,null,r,n)}else if(this[Ef])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[FA]&&(this[FA]=!1,r=1),this._nextv(r,J5,(n,o)=>{if(n)return e(n);this[lc]=o,this._next(e)})}}_all(e,r){this[FA]=!1;const n=this[lc].splice(0,this[lc].length),o=this.limit-this.count-n.length;if(o<=0)return this.nextTick(r,null,n);this._nextv(o,J5,(i,s)=>{if(i)return r(i);n.length>0&&(s=n.concat(s)),r(null,s)})}_seek(e,r){this[FA]=!0,this[lc]=[],this[Ef]=!1,this[ku]=void 0,this[vf]={...this[zo]};let n;try{n=Y5(this[zo])}catch{this[Ef]=!0;return}n!==null&&!n.includes(e)?this[Ef]=!0:this[zo].reverse?this[vf].lte=e:this[vf].gte=e}};k7.Iterator=pX;function V5(t){typeof t.commit=="function"&&t.commit()}var yX=function(e,r,n,o,i){if(o.limit===0)return e.nextTick(i);const s=e.db.transaction([r],"readwrite"),a=s.objectStore(r);let c=0;s.oncomplete=function(){i()},s.onabort=function(){i(s.error||new Error("aborted by user"))};const d=a.openKeyCursor?"openKeyCursor":"openCursor",f=o.reverse?"prev":"next";a[d](n,f).onsuccess=function(l){const u=l.target.result;u&&(a.delete(u.key).onsuccess=function(){(o.limit<=0||++c<o.limit)&&u.continue()})}};const{AbstractLevel:IX}=hu,W5=df,mX=lX,{fromCallback:wX}=O0,{Iterator:bX}=k7,Z5=F7,EX=yX,vX=T7,M7="level-js-",Tp=Symbol("idb"),a2=Symbol("namePrefix"),Bf=Symbol("location"),c2=Symbol("version"),Tu=Symbol("store"),Fp=Symbol("onComplete"),X5=Symbol("promise");class U7 extends IX{constructor(e,r,n){if(typeof r=="function"||typeof n=="function")throw new W5("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:o,version:i,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[Bf]=e,this[a2]=o??M7,this[c2]=parseInt(i||1,10),this[Tp]=null}get location(){return this[Bf]}get namePrefix(){return this[a2]}get version(){return this[c2]}get db(){return this[Tp]}get type(){return"browser-level"}_open(e,r){const n=indexedDB.open(this[a2]+this[Bf],this[c2]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[Tp]=n.result,r()},n.onupgradeneeded=o=>{const i=o.target.result;i.objectStoreNames.contains(this[Bf])||i.createObjectStore(this[Bf])}}[Tu](e){return this[Tp].transaction([this[Bf]],e).objectStore(this[Bf])}[Fp](e,r){const n=e.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,e.result)}}_get(e,r,n){const o=this[Tu]("readonly");let i;try{i=o.get(e)}catch(s){return this.nextTick(n,s)}this[Fp](i,function(s,a){if(s)return n(s);if(a===void 0)return n(new W5("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,Z5(a))})}_getMany(e,r,n){const o=this[Tu]("readonly"),i=e.map(s=>a=>{let c;try{c=o.get(s)}catch(d){return a(d)}c.onsuccess=()=>{const d=c.result;a(null,d===void 0?d:Z5(d))},c.onerror=d=>{d.stopPropagation(),a(c.error)}});mX(i,16,n)}_del(e,r,n){const o=this[Tu]("readwrite");let i;try{i=o.delete(e)}catch(s){return this.nextTick(n,s)}this[Fp](i,n)}_put(e,r,n,o){const i=this[Tu]("readwrite");let s;try{s=i.put(r,e)}catch(a){return this.nextTick(o,a)}this[Fp](s,o)}_iterator(e){return new bX(this,this[Bf],e)}_batch(e,r,n){const o=this[Tu]("readwrite"),i=o.transaction;let s=0,a;i.onabort=function(){n(a||i.error||new Error("aborted by user"))},i.oncomplete=function(){n()};function c(){const d=e[s++],f=d.key;let l;try{l=d.type==="del"?o.delete(f):o.put(d.value,f)}catch(u){a=u,i.abort();return}s<e.length?l.onsuccess=c:typeof i.commit=="function"&&i.commit()}c()}_clear(e,r){let n,o;try{n=vX(e)}catch{return this.nextTick(r)}if(e.limit>=0)return EX(this,this[Bf],n,e,r);try{const i=this[Tu]("readwrite");o=n?i.delete(n):i.clear()}catch(i){return this.nextTick(r,i)}this[Fp](o,r)}_close(e){this[Tp].close(),this.nextTick(e)}}U7.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=M7),r=wX(r,X5);const n=indexedDB.deleteDatabase(e+t);return n.onsuccess=function(){r()},n.onerror=function(o){r(o)},r[X5]};d7.BrowserLevel=U7;var Fv=d7.BrowserLevel;globalThis&&globalThis.__awaiter;const ed=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const j6=t=>t instanceof Uint8Array,f2=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),uc=(t,e)=>t<<32-e|t>>>e,BX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!BX)throw new Error("Non little-endian hardware is not supported");const CX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function QX(t){if(!j6(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=CX[t[r]];return e}function R7(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function iI(t){if(typeof t=="string"&&(t=R7(t)),!j6(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function N7(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!j6(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}let P7=class{clone(){return this._cloneInto()}};function K0(t){const e=n=>t().update(iI(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Mv(t=32){if(ed&&typeof ed.getRandomValues=="function")return ed.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function od(t){if(!t||t.property===void 0||t.inObject===void 0)throw new TypeError("One or more required parameters missing: 'property, properties'");const{property:e,inObject:r}=t;if(!(e in r))throw new TypeError(`Required parameter missing: '${e}'`)}function O7(t){if(!t||t.property===void 0||t.allowedProperties===void 0)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");const{property:e,allowedProperties:r}=t;if(Array.isArray(r)&&!r.includes(e)||r instanceof Set&&!r.has(e)||r instanceof Map&&!r.has(e)){const n=Array.from(r instanceof Map?r.keys():r).join(", ");throw new TypeError(`Out of range: '${e}'. Must be one of '${n}'`)}}function z6(t){return!!(t&&"privateKey"in t&&"publicKey"in t&&Yl(t.privateKey)==="Uint8Array"&&Yl(t.publicKey)==="Uint8Array")}function xX(t){return t&&"privateKey"in t&&"publicKey"in t}function K7(t){const{key:e,multicodecCode:r,multicodecName:n}=t,o=sa.addPrefix({code:r,data:e,name:n}),i=mi.uint8Array(o).toBase58Btc();return mi.base58Btc(i).toMultibase()}function SX(){return!!(globalThis.crypto&&globalThis.crypto.subtle)}function ek(t){const{multibaseKeyId:e}=t,r=mi.multibase(e).toBase58Btc(),n=mi.base58Btc(r).toUint8Array(),{code:o,data:i,name:s}=sa.removePrefix({prefixedData:n});return{key:i,multicodecCode:o,multicodecName:s}}function H7(t){return Mv(t)}function H0(){const t=H7(16);t[6]=t[6]&15|64,t[8]=t[8]&63|128;const e=QX(t);t.fill(0);const r=[e.slice(0,8),e.slice(8,12),e.slice(12,16),e.slice(16,20),e.slice(20,32)],n=r.join("-");return r.fill("0"),n}var tk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Y6 extends i7{checkGenerateKey(e){const{algorithm:r,keyUsages:n}=e;this.checkAlgorithmName({algorithmName:r.name}),od({property:"namedCurve",inObject:r}),O7({property:r.namedCurve,allowedProperties:this.namedCurves}),this.checkKeyUsages({keyUsages:n,allowedKeyUsages:this.keyUsages})}decrypt(){return tk(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'decrypt' is not valid for ${this.name} keys.`)})}encrypt(){return tk(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'encrypt' is not valid for ${this.name} keys.`)})}}var rk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class _X extends Y6{constructor(){super(...arguments),this.name="ECDH",this.keyUsages={privateKey:["deriveBits","deriveKey"],publicKey:["deriveBits","deriveKey"]}}checkAlgorithmOptions(e){const{algorithm:r,baseKey:n}=e;if(this.checkAlgorithmName({algorithmName:r.name}),od({property:"publicKey",inObject:r}),this.checkCryptoKey({key:r.publicKey}),this.checkKeyType({keyType:r.publicKey.type,allowedKeyType:"public"}),this.checkKeyAlgorithm({keyAlgorithmName:r.publicKey.algorithm.name}),od({property:"baseKey",inObject:e}),this.checkCryptoKey({key:n}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"private"}),"namedCurve"in r.publicKey.algorithm&&"namedCurve"in n.algorithm&&r.publicKey.algorithm.namedCurve!==n.algorithm.namedCurve)throw new Cs("The named curve of the publicKey and baseKey must match.")}sign(){return rk(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'sign' is not valid for ${this.name} keys.`)})}verify(){return rk(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'verify' is not valid for ${this.name} keys.`)})}}var DX=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class kX extends Y6{constructor(){super(...arguments),this.name="ECDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){const{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name}),od({property:"hash",inObject:r}),O7({property:r.hash,allowedProperties:this.hashAlgorithms})}deriveBits(){return DX(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}}var TX=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class FX extends Y6{constructor(){super(...arguments),this.name="EdDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){const{algorithm:r}=e;this.checkAlgorithmName({algorithmName:r.name})}deriveBits(){return TX(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}}var d2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class MX extends i7{checkGenerateKey(e){const{algorithm:r,keyUsages:n}=e;if(this.checkAlgorithmName({algorithmName:r.name}),od({property:"length",inObject:r}),Yl(r.length)!=="Number")throw new TypeError("Algorithm 'length' is not of type: Number.");if(![128,192,256].includes(r.length))throw new nI("Algorithm 'length' must be 128, 192, or 256.");this.checkKeyUsages({keyUsages:n,allowedKeyUsages:this.keyUsages})}deriveBits(){return d2(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)})}sign(){return d2(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'sign' is not valid for ${this.name} keys.`)})}verify(){return d2(this,void 0,void 0,function*(){throw new Cs(`Requested operation 'verify' is not valid for ${this.name} keys.`)})}}class UX extends MX{constructor(){super(...arguments),this.name="AES-CTR",this.keyUsages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmOptions(e){const{algorithm:r,key:n}=e;if(this.checkAlgorithmName({algorithmName:r.name}),od({property:"counter",inObject:r}),Yl(r.counter)!=="Uint8Array")throw new TypeError("Algorithm 'counter' is not of type: Uint8Array.");if(r.counter.byteLength!==16)throw new nI("Algorithm 'counter' must have length: 16 bytes.");if(od({property:"length",inObject:r}),Yl(r.length)!=="Number")throw new TypeError("Algorithm 'length' is not of type: Number.");if(r.length<1||r.length>128)throw new nI("Algorithm 'length' should be in the range: 1 to 128.");od({property:"key",inObject:e}),this.checkCryptoKey({key:n}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"secret"})}}class wd{constructor(e,r,n,o,i){this.algorithm=e,this.extractable=r,this.material=n,this.type=o,this.usages=i,Object.defineProperties(this,{type:{enumerable:!0,writable:!1,value:o},extractable:{enumerable:!0,writable:!0,value:r},algorithm:{enumerable:!0,writable:!1,value:e},usages:{enumerable:!0,writable:!0,value:i},material:{enumerable:!1,writable:!1,value:n}})}}globalThis&&globalThis.__awaiter;const RX="modulepreload",NX=function(t){return"/"+t},nk={},PX=function(e,r,n){if(!r||r.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=NX(i),i in nk)return;nk[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let f=o.length-1;f>=0;f--){const l=o[f];if(l.href===i&&(!s||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":RX,s||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),s)return new Promise((f,l)=>{d.addEventListener("load",f),d.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};var l2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Sb{static deriveKey(e){return l2(this,void 0,void 0,function*(){return SX()?Sb.deriveKeyWithWebCrypto(e):Sb.deriveKeyWithNodeCrypto(e)})}static deriveKeyWithNodeCrypto(e){return l2(this,void 0,void 0,function*(){const{password:r,salt:n,iterations:o}=e,s={"SHA-256":"sha256","SHA-384":"sha384","SHA-512":"sha512"}[e.hash],a=e.length/8,{pbkdf2:c}=yield PX(()=>Promise.resolve().then(()=>t8e),void 0);return new Promise(d=>{c(r,n,o,a,s,(f,l)=>{f||d(new Uint8Array(l))})})})}static deriveKeyWithWebCrypto(e){return l2(this,void 0,void 0,function*(){const{hash:r,password:n,salt:o,iterations:i,length:s}=e,a=yield ed.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveBits"]),c=yield ed.subtle.deriveBits({name:"PBKDF2",hash:r,salt:o,iterations:i},a,s);return new Uint8Array(c)})}}function GQ(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function OX(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function L7(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function KX(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");GQ(t.outputLen),GQ(t.blockLen)}function HX(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LX(t,e){L7(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Rc={number:GQ,bool:OX,bytes:L7,hash:KX,exists:HX,output:LX};function GX(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}let G7=class extends P7{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=f2(this.buffer)}update(e){Rc.exists(this);const{view:r,buffer:n,blockLen:o}=this;e=iI(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const c=f2(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rc.exists(this),Rc.output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:i}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)r[l]=0;GX(n,o-8,BigInt(this.length*8),i),this.process(n,0);const a=f2(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)a.setUint32(4*l,f[l],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};const hw=BigInt(2**32-1),qQ=BigInt(32);function q7(t,e=!1){return e?{h:Number(t&hw),l:Number(t>>qQ&hw)}:{h:Number(t>>qQ&hw)|0,l:Number(t&hw)|0}}function qX(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=q7(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}const $X=(t,e)=>BigInt(t>>>0)<<qQ|BigInt(e>>>0),jX=(t,e,r)=>t>>>r,zX=(t,e,r)=>t<<32-r|e>>>r,YX=(t,e,r)=>t>>>r|e<<32-r,JX=(t,e,r)=>t<<32-r|e>>>r,VX=(t,e,r)=>t<<64-r|e>>>r-32,WX=(t,e,r)=>t>>>r-32|e<<64-r,ZX=(t,e)=>e,XX=(t,e)=>t,eee=(t,e,r)=>t<<r|e>>>32-r,tee=(t,e,r)=>e<<r|t>>>32-r,ree=(t,e,r)=>e<<r-32|t>>>64-r,nee=(t,e,r)=>t<<r-32|e>>>64-r;function iee(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const oee=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),see=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,aee=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),cee=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,fee=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),dee=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,Dt={fromBig:q7,split:qX,toBig:$X,shrSH:jX,shrSL:zX,rotrSH:YX,rotrSL:JX,rotrBH:VX,rotrBL:WX,rotr32H:ZX,rotr32L:XX,rotlSH:eee,rotlSL:tee,rotlBH:ree,rotlBL:nee,add:iee,add3L:oee,add3H:see,add4L:aee,add4H:cee,add5H:dee,add5L:fee},[lee,uee]=Dt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),jd=new Uint32Array(80),zd=new Uint32Array(80);let Uv=class extends G7{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:l,Fl:u,Gh:p,Gl:A,Hh:h,Hl:y}=this;return[e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y]}set(e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=l|0,this.Fl=u|0,this.Gh=p|0,this.Gl=A|0,this.Hh=h|0,this.Hl=y|0}process(e,r){for(let S=0;S<16;S++,r+=4)jd[S]=e.getUint32(r),zd[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const x=jd[S-15]|0,Q=zd[S-15]|0,N=Dt.rotrSH(x,Q,1)^Dt.rotrSH(x,Q,8)^Dt.shrSH(x,Q,7),$=Dt.rotrSL(x,Q,1)^Dt.rotrSL(x,Q,8)^Dt.shrSL(x,Q,7),G=jd[S-2]|0,z=zd[S-2]|0,Y=Dt.rotrSH(G,z,19)^Dt.rotrBH(G,z,61)^Dt.shrSH(G,z,6),R=Dt.rotrSL(G,z,19)^Dt.rotrBL(G,z,61)^Dt.shrSL(G,z,6),C=Dt.add4L($,R,zd[S-7],zd[S-16]),m=Dt.add4H(C,N,Y,jd[S-7],jd[S-16]);jd[S]=m|0,zd[S]=C|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:l,El:u,Fh:p,Fl:A,Gh:h,Gl:y,Hh:v,Hl:B}=this;for(let S=0;S<80;S++){const x=Dt.rotrSH(l,u,14)^Dt.rotrSH(l,u,18)^Dt.rotrBH(l,u,41),Q=Dt.rotrSL(l,u,14)^Dt.rotrSL(l,u,18)^Dt.rotrBL(l,u,41),N=l&p^~l&h,$=u&A^~u&y,G=Dt.add5L(B,Q,$,uee[S],zd[S]),z=Dt.add5H(G,v,x,N,lee[S],jd[S]),Y=G|0,R=Dt.rotrSH(n,o,28)^Dt.rotrBH(n,o,34)^Dt.rotrBH(n,o,39),C=Dt.rotrSL(n,o,28)^Dt.rotrBL(n,o,34)^Dt.rotrBL(n,o,39),m=n&i^n&a^i&a,g=o&s^o&c^s&c;v=h|0,B=y|0,h=p|0,y=A|0,p=l|0,A=u|0,{h:l,l:u}=Dt.add(d|0,f|0,z|0,Y|0),d=a|0,f=c|0,a=i|0,c=s|0,i=n|0,s=o|0;const w=Dt.add3L(Y,C,g);n=Dt.add3H(w,z,R,m),o=w|0}({h:n,l:o}=Dt.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Dt.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Dt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=Dt.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:l,l:u}=Dt.add(this.Eh|0,this.El|0,l|0,u|0),{h:p,l:A}=Dt.add(this.Fh|0,this.Fl|0,p|0,A|0),{h,l:y}=Dt.add(this.Gh|0,this.Gl|0,h|0,y|0),{h:v,l:B}=Dt.add(this.Hh|0,this.Hl|0,v|0,B|0),this.set(n,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B)}roundClean(){jd.fill(0),zd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},hee=class extends Uv{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},Aee=class extends Uv{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},gee=class extends Uv{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const $7=K0(()=>new Uv);K0(()=>new hee);K0(()=>new Aee);K0(()=>new gee);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const j7=BigInt(0),Rv=BigInt(1),pee=BigInt(2),Nv=t=>t instanceof Uint8Array,yee=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ph(t){if(!Nv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=yee[t[r]];return e}function z7(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function J6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Vg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const o=n*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}function Bh(t){return J6(Ph(t))}function Ol(t){if(!Nv(t))throw new Error("Uint8Array expected");return J6(Ph(Uint8Array.from(t).reverse()))}function Kl(t,e){return Vg(t.toString(16).padStart(e*2,"0"))}function oI(t,e){return Kl(t,e).reverse()}function Iee(t){return Vg(z7(t))}function cn(t,e,r){let n;if(typeof e=="string")try{n=Vg(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Nv(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}function Oh(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!Nv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function mee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wee(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bee(t){let e;for(e=0;t>j7;t>>=Rv,e+=1);return e}function Eee(t,e){return t>>BigInt(e)&Rv}const vee=(t,e,r)=>t|(r?Rv:j7)<<BigInt(e),V6=t=>(pee<<BigInt(t-1))-Rv,u2=t=>new Uint8Array(t),ik=t=>Uint8Array.from(t);function Y7(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=u2(t),o=u2(t),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},a=(...l)=>r(o,n,...l),c=(l=u2())=>{o=a(ik([0]),l),n=a(),l.length!==0&&(o=a(ik([1]),l),n=a())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const u=[];for(;l<e;){n=a();const p=n.slice();u.push(p),l+=n.length}return Oh(...u)};return(l,u)=>{s(),c(l);let p;for(;!(p=u(d()));)c();return s(),p}}const Bee={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function aA(t,e,r={}){const n=(o,i,s)=>{const a=Bee[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[o];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(const[o,i]of Object.entries(e))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return t}const Cee=Object.freeze(Object.defineProperty({__proto__:null,bitGet:Eee,bitLen:bee,bitMask:V6,bitSet:vee,bytesToHex:Ph,bytesToNumberBE:Bh,bytesToNumberLE:Ol,concatBytes:Oh,createHmacDrbg:Y7,ensureBytes:cn,equalBytes:mee,hexToBytes:Vg,hexToNumber:J6,numberToBytesBE:Kl,numberToBytesLE:oI,numberToHexUnpadded:z7,numberToVarBytesBE:Iee,utf8ToBytes:wee,validateObject:aA},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ni=BigInt(0),tn=BigInt(1),th=BigInt(2),Qee=BigInt(3),$Q=BigInt(4),ok=BigInt(5),sk=BigInt(8);BigInt(9);BigInt(16);function Pr(t,e){const r=t%e;return r>=ni?r:e+r}function J7(t,e,r){if(r<=ni||e<ni)throw new Error("Expected power/modulo > 0");if(r===tn)return ni;let n=tn;for(;e>ni;)e&tn&&(n=n*t%r),t=t*t%r,e>>=tn;return n}function Zr(t,e,r){let n=t;for(;e-- >ni;)n*=n,n%=r;return n}function jQ(t,e){if(t===ni||e<=ni)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Pr(t,e),n=e,o=ni,i=tn;for(;r!==ni;){const a=n/r,c=n%r,d=o-i*a;n=r,r=c,o=i,i=d}if(n!==tn)throw new Error("invert: does not exist");return Pr(o,e)}function xee(t){const e=(t-tn)/th;let r,n,o;for(r=t-tn,n=0;r%th===ni;r/=th,n++);for(o=th;o<t&&J7(o,e,t)!==t-tn;o++);if(n===1){const s=(t+tn)/$Q;return function(c,d){const f=c.pow(d,s);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}const i=(r+tn)/th;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let d=n,f=a.pow(a.mul(a.ONE,o),r),l=a.pow(c,i),u=a.pow(c,r);for(;!a.eql(u,a.ONE);){if(a.eql(u,a.ZERO))return a.ZERO;let p=1;for(let h=a.sqr(u);p<d&&!a.eql(h,a.ONE);p++)h=a.sqr(h);const A=a.pow(f,tn<<BigInt(d-p-1));f=a.sqr(A),l=a.mul(l,A),u=a.mul(u,f),d=p}return l}}function See(t){if(t%$Q===Qee){const e=(t+tn)/$Q;return function(n,o){const i=n.pow(o,e);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%sk===ok){const e=(t-ok)/sk;return function(n,o){const i=n.mul(o,th),s=n.pow(i,e),a=n.mul(o,s),c=n.mul(n.mul(a,th),s),d=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),o))throw new Error("Cannot find square root");return d}}return xee(t)}const _ee=(t,e)=>(Pr(t,e)&tn)===tn,Dee=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function kee(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Dee.reduce((n,o)=>(n[o]="function",n),e);return aA(t,r)}function Tee(t,e,r){if(r<ni)throw new Error("Expected power > 0");if(r===ni)return t.ONE;if(r===tn)return e;let n=t.ONE,o=e;for(;r>ni;)r&tn&&(n=t.mul(n,o)),o=t.sqr(o),r>>=tn;return n}function Fee(t,e){const r=new Array(e.length),n=e.reduce((i,s,a)=>t.is0(s)?i:(r[a]=i,t.mul(i,s)),t.ONE),o=t.inv(n);return e.reduceRight((i,s,a)=>t.is0(s)?i:(r[a]=t.mul(i,r[a]),t.mul(i,s)),o),r}function W6(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function V7(t,e,r=!1,n={}){if(t<=ni)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:i}=W6(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=See(t),a=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:V6(o),ZERO:ni,ONE:tn,create:c=>Pr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ni<=c&&c<t},is0:c=>c===ni,isOdd:c=>(c&tn)===tn,neg:c=>Pr(-c,t),eql:(c,d)=>c===d,sqr:c=>Pr(c*c,t),add:(c,d)=>Pr(c+d,t),sub:(c,d)=>Pr(c-d,t),mul:(c,d)=>Pr(c*d,t),pow:(c,d)=>Tee(a,c,d),div:(c,d)=>Pr(c*jQ(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>jQ(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>Fee(a,c),cmov:(c,d,f)=>f?d:c,toBytes:c=>r?oI(c,i):Kl(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?Ol(c):Bh(c)}});return Object.freeze(a)}function Mee(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function Uee(t,e,r=!1){t=cn("privateHash",t);const n=t.length,o=W6(e).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);const i=r?Ol(t):Bh(t);return Pr(i,e-tn)+tn}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ree=BigInt(0),h2=BigInt(1);function W7(t,e){const r=(o,i)=>{const s=i.negate();return o?s:i},n=o=>{const i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:r,unsafeLadder(o,i){let s=t.ZERO,a=o;for(;i>Ree;)i&h2&&(s=s.add(a)),a=a.double(),i>>=h2;return s},precomputeWindow(o,i){const{windows:s,windowSize:a}=n(i),c=[];let d=o,f=d;for(let l=0;l<s;l++){f=d,c.push(f);for(let u=1;u<a;u++)f=f.add(d),c.push(f);d=f.double()}return c},wNAF(o,i,s){const{windows:a,windowSize:c}=n(o);let d=t.ZERO,f=t.BASE;const l=BigInt(2**o-1),u=2**o,p=BigInt(o);for(let A=0;A<a;A++){const h=A*c;let y=Number(s&l);s>>=p,y>c&&(y-=u,s+=h2);const v=h,B=h+Math.abs(y)-1,S=A%2!==0,x=y<0;y===0?f=f.add(r(S,i[v])):d=d.add(r(x,i[B]))}return{p:d,f}},wNAFCached(o,i,s,a){const c=o._WINDOW_SIZE||1;let d=i.get(o);return d||(d=this.precomputeWindow(o,c),c!==1&&i.set(o,a(d))),this.wNAF(c,d,s)}}}function Z6(t){return kee(t.Fp),aA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...W6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const va=BigInt(0),Yo=BigInt(1),Aw=BigInt(2),Nee=BigInt(8),Pee={zip215:!0};function Oee(t){const e=Z6(t);return aA(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function X6(t){const e=Oee(t),{Fp:r,n,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=e,d=Aw<<BigInt(a*8)-Yo,f=r.create,l=e.uvRatio||((K,D)=>{try{return{isValid:!0,value:r.sqrt(K*r.inv(D))}}catch{return{isValid:!1,value:va}}}),u=e.adjustScalarBytes||(K=>K),p=e.domain||((K,D,I)=>{if(D.length||I)throw new Error("Contexts/pre-hash are not supported");return K}),A=K=>typeof K=="bigint"&&va<K,h=(K,D)=>A(K)&&A(D)&&K<D,y=K=>K===va||h(K,d);function v(K,D){if(h(K,D))return K;throw new Error(`Expected valid scalar < ${D}, got ${typeof K} ${K}`)}function B(K){return K===va?K:v(K,n)}const S=new Map;function x(K){if(!(K instanceof Q))throw new Error("ExtendedPoint expected")}class Q{constructor(D,I,P,T){if(this.ex=D,this.ey=I,this.ez=P,this.et=T,!y(D))throw new Error("x required");if(!y(I))throw new Error("y required");if(!y(P))throw new Error("z required");if(!y(T))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(D){if(D instanceof Q)throw new Error("extended point not allowed");const{x:I,y:P}=D||{};if(!y(I)||!y(P))throw new Error("invalid affine point");return new Q(I,P,Yo,f(I*P))}static normalizeZ(D){const I=r.invertBatch(D.map(P=>P.ez));return D.map((P,T)=>P.toAffine(I[T])).map(Q.fromAffine)}_setWindowSize(D){this._WINDOW_SIZE=D,S.delete(this)}assertValidity(){const{a:D,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:P,ey:T,ez:V,et:ee}=this,se=f(P*P),Z=f(T*T),ne=f(V*V),X=f(ne*ne),re=f(se*D),W=f(ne*f(re+Z)),j=f(X+f(I*f(se*Z)));if(W!==j)throw new Error("bad point: equation left != right (1)");const M=f(P*T),E=f(V*ee);if(M!==E)throw new Error("bad point: equation left != right (2)")}equals(D){x(D);const{ex:I,ey:P,ez:T}=this,{ex:V,ey:ee,ez:se}=D,Z=f(I*se),ne=f(V*T),X=f(P*se),re=f(ee*T);return Z===ne&&X===re}is0(){return this.equals(Q.ZERO)}negate(){return new Q(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:D}=e,{ex:I,ey:P,ez:T}=this,V=f(I*I),ee=f(P*P),se=f(Aw*f(T*T)),Z=f(D*V),ne=I+P,X=f(f(ne*ne)-V-ee),re=Z+ee,W=re-se,j=Z-ee,M=f(X*W),E=f(re*j),b=f(X*j),k=f(W*re);return new Q(M,E,k,b)}add(D){x(D);const{a:I,d:P}=e,{ex:T,ey:V,ez:ee,et:se}=this,{ex:Z,ey:ne,ez:X,et:re}=D;if(I===BigInt(-1)){const fe=f((V-T)*(ne+Z)),ue=f((V+T)*(ne-Z)),Ae=f(ue-fe);if(Ae===va)return this.double();const ie=f(ee*Aw*re),ae=f(se*Aw*X),le=ae+ie,ge=ue+fe,me=ae-ie,ve=f(le*Ae),Ue=f(ge*me),ut=f(le*me),_e=f(Ae*ge);return new Q(ve,Ue,_e,ut)}const W=f(T*Z),j=f(V*ne),M=f(se*P*re),E=f(ee*X),b=f((T+V)*(Z+ne)-W-j),k=E-M,U=E+M,_=f(j-I*W),L=f(b*k),J=f(U*_),te=f(b*_),oe=f(k*U);return new Q(L,J,oe,te)}subtract(D){return this.add(D.negate())}wNAF(D){return G.wNAFCached(this,S,D,Q.normalizeZ)}multiply(D){const{p:I,f:P}=this.wNAF(v(D,n));return Q.normalizeZ([I,P])[0]}multiplyUnsafe(D){let I=B(D);return I===va?$:this.equals($)||I===Yo?this:this.equals(N)?this.wNAF(I).p:G.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return G.unsafeLadder(this,n).is0()}toAffine(D){const{ex:I,ey:P,ez:T}=this,V=this.is0();D==null&&(D=V?Nee:r.inv(T));const ee=f(I*D),se=f(P*D),Z=f(T*D);if(V)return{x:va,y:Yo};if(Z!==Yo)throw new Error("invZ was invalid");return{x:ee,y:se}}clearCofactor(){const{h:D}=e;return D===Yo?this:this.multiplyUnsafe(D)}static fromHex(D,I=!1){const{d:P,a:T}=e,V=r.BYTES;D=cn("pointHex",D,V);const ee=D.slice(),se=D[V-1];ee[V-1]=se&-129;const Z=Ol(ee);Z===va||(I?v(Z,d):v(Z,r.ORDER));const ne=f(Z*Z),X=f(ne-Yo),re=f(P*ne-T);let{isValid:W,value:j}=l(X,re);if(!W)throw new Error("Point.fromHex: invalid y coordinate");const M=(j&Yo)===Yo,E=(se&128)!==0;if(!I&&j===va&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==M&&(j=f(-j)),Q.fromAffine({x:j,y:Z})}static fromPrivateKey(D){return R(D).point}toRawBytes(){const{x:D,y:I}=this.toAffine(),P=oI(I,r.BYTES);return P[P.length-1]|=D&Yo?128:0,P}toHex(){return Ph(this.toRawBytes())}}Q.BASE=new Q(e.Gx,e.Gy,Yo,f(e.Gx*e.Gy)),Q.ZERO=new Q(va,Yo,Yo,va);const{BASE:N,ZERO:$}=Q,G=W7(Q,a*8);function z(K){return Pr(K,n)}function Y(K){return z(Ol(K))}function R(K){const D=a;K=cn("private key",K,D);const I=cn("hashed private key",i(K),2*D),P=u(I.slice(0,D)),T=I.slice(D,2*D),V=Y(P),ee=N.multiply(V),se=ee.toRawBytes();return{head:P,prefix:T,scalar:V,point:ee,pointBytes:se}}function C(K){return R(K).pointBytes}function m(K=new Uint8Array,...D){const I=Oh(...D);return Y(i(p(I,cn("context",K),!!o)))}function g(K,D,I={}){K=cn("message",K),o&&(K=o(K));const{prefix:P,scalar:T,pointBytes:V}=R(D),ee=m(I.context,P,K),se=N.multiply(ee).toRawBytes(),Z=m(I.context,se,V,K),ne=z(ee+Z*T);B(ne);const X=Oh(se,oI(ne,r.BYTES));return cn("result",X,a*2)}const w=Pee;function F(K,D,I,P=w){const{context:T,zip215:V}=P,ee=r.BYTES;K=cn("signature",K,2*ee),D=cn("message",D),o&&(D=o(D));const se=Ol(K.slice(ee,2*ee));let Z,ne,X;try{Z=Q.fromHex(I,V),ne=Q.fromHex(K.slice(0,ee),V),X=N.multiplyUnsafe(se)}catch{return!1}if(!V&&Z.isSmallOrder())return!1;const re=m(T,ne.toRawBytes(),Z.toRawBytes(),D);return ne.add(Z.multiplyUnsafe(re)).subtract(X).clearCofactor().equals(Q.ZERO)}return N._setWindowSize(8),{CURVE:e,getPublicKey:C,sign:g,verify:F,ExtendedPoint:Q,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>s(r.BYTES),precompute(K=8,D=Q.BASE){return D._setWindowSize(K),D.multiply(BigInt(3)),D}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mp=BigInt(0),A2=BigInt(1);function Kee(t){return aA(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Hee(t){const e=Kee(t),{P:r}=e,n=S=>Pr(S,r),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>J7(S,r-BigInt(2),r));function d(S,x,Q){const N=n(S*(x-Q));return x=n(x-N),Q=n(Q+N),[x,Q]}function f(S){if(typeof S=="bigint"&&Mp<=S&&S<r)return S;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const l=(e.a-BigInt(2))/BigInt(4);function u(S,x){const Q=f(S),N=f(x),$=Q;let G=A2,z=Mp,Y=Q,R=A2,C=Mp,m;for(let w=BigInt(o-1);w>=Mp;w--){const F=N>>w&A2;C^=F,m=d(C,G,Y),G=m[0],Y=m[1],m=d(C,z,R),z=m[0],R=m[1],C=F;const H=G+z,K=n(H*H),D=G-z,I=n(D*D),P=K-I,T=Y+R,V=Y-R,ee=n(V*H),se=n(T*D),Z=ee+se,ne=ee-se;Y=n(Z*Z),R=n($*n(ne*ne)),G=n(K*I),z=n(P*(K+n(l*P)))}m=d(C,G,Y),G=m[0],Y=m[1],m=d(C,z,R),z=m[0],R=m[1];const g=c(z);return n(G*g)}function p(S){return oI(n(S),i)}function A(S){const x=cn("u coordinate",S,i);return s===i&&(x[s-1]&=127),Ol(x)}function h(S){const x=cn("scalar",S);if(x.length!==i&&x.length!==s)throw new Error(`Expected ${i} or ${s} bytes, got ${x.length}`);return Ol(a(x))}function y(S,x){const Q=A(x),N=h(S),$=u(Q,N);if($===Mp)throw new Error("Invalid private or public key received");return p($)}const v=p(e.Gu);function B(S){return y(S,v)}return{scalarMult:y,scalarMultBase:B,getSharedSecret:(S,x)=>y(S,x),getPublicKey:S=>B(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sI=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ak=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Lee=BigInt(1),zQ=BigInt(2),Gee=BigInt(5),ck=BigInt(10),qee=BigInt(20),$ee=BigInt(40),fk=BigInt(80);function Z7(t){const e=sI,n=t*t%e*t%e,o=Zr(n,zQ,e)*n%e,i=Zr(o,Lee,e)*t%e,s=Zr(i,Gee,e)*i%e,a=Zr(s,ck,e)*s%e,c=Zr(a,qee,e)*a%e,d=Zr(c,$ee,e)*c%e,f=Zr(d,fk,e)*d%e,l=Zr(f,fk,e)*d%e,u=Zr(l,ck,e)*s%e;return{pow_p_5_8:Zr(u,zQ,e)*t%e,b2:n}}function X7(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function jee(t,e){const r=sI,n=Pr(e*e*e,r),o=Pr(n*n*e,r),i=Z7(t*o).pow_p_5_8;let s=Pr(t*n*i,r);const a=Pr(e*s*s,r),c=s,d=Pr(s*ak,r),f=a===t,l=a===Pr(-t,r),u=a===Pr(-t*ak,r);return f&&(s=c),(l||u)&&(s=d),_ee(s,r)&&(s=Pr(-s,r)),{isValid:f||l,value:s}}const ia=V7(sI,void 0,!0),aI={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ia,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$7,randomBytes:Mv,adjustScalarBytes:X7,uvRatio:jee},Yu=X6(aI);function eP(t,e,r){if(e.length>255)throw new Error("Context is too big");return N7(R7("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}X6({...aI,domain:eP});X6({...aI,domain:eP,prehash:$7});const gw=(()=>Hee({P:sI,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=sI,{pow_p_5_8:r,b2:n}=Z7(t);return Pr(Zr(r,BigInt(3),e)*n,e)},adjustScalarBytes:X7,randomBytes:Mv}))();function zee(t){const{y:e}=Yu.ExtendedPoint.fromHex(t),r=BigInt(1);return ia.toBytes(ia.create((r+e)*ia.inv(r-e)))}function Yee(t){const e=aI.hash(t.subarray(0,32));return aI.adjustScalarBytes(e).subarray(0,32)}const Jee=(ia.ORDER+BigInt(3))/BigInt(8);ia.pow(zQ,Jee);ia.sqrt(ia.neg(ia.ONE));(ia.ORDER-BigInt(5))/BigInt(8);BigInt(486662);Mee(ia,ia.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pw=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class YQ{static generateKeyPair(){return pw(this,void 0,void 0,function*(){const e=gw.utils.randomPrivateKey(),r=gw.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return pw(this,void 0,void 0,function*(){let{privateKey:r}=e;return gw.getPublicKey(r)})}static sharedSecret(e){return pw(this,void 0,void 0,function*(){let{privateKey:r,publicKey:n}=e;return gw.getSharedSecret(r,n)})}static validatePublicKey(e){return pw(this,void 0,void 0,function*(){throw new Error("Not implemented: 'validatePublicKey()'")})}}var yw=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class g2{static decrypt(e){return yw(this,void 0,void 0,function*(){const{counter:r,data:n,key:o,length:i}=e,s=yield this.importKey(o),a=yield ed.subtle.decrypt({name:"AES-CTR",counter:r,length:i},s,n);return new Uint8Array(a)})}static encrypt(e){return yw(this,void 0,void 0,function*(){const{counter:r,data:n,key:o,length:i}=e,s=yield this.importKey(o),a=yield ed.subtle.encrypt({name:"AES-CTR",counter:r,length:i},s,n);return new Uint8Array(a)})}static generateKey(e){return yw(this,void 0,void 0,function*(){const{length:r}=e,n=r/8;return ed.getRandomValues(new Uint8Array(n))})}static importKey(e){return yw(this,void 0,void 0,function*(){return ed.subtle.importKey("raw",e.buffer,{name:"AES-CTR",length:e.byteLength*8},!0,["encrypt","decrypt"])})}}globalThis&&globalThis.__awaiter;var Fu=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Hl{static convertPrivateKeyToX25519(e){return Fu(this,void 0,void 0,function*(){const{privateKey:r}=e;return Yee(r)})}static convertPublicKeyToX25519(e){return Fu(this,void 0,void 0,function*(){const{publicKey:r}=e;if(!(yield Hl.validatePublicKey({key:r})))throw new Error("Ed25519: Invalid public key.");return zee(r)})}static generateKeyPair(){return Fu(this,void 0,void 0,function*(){const e=Yu.utils.randomPrivateKey(),r=Yu.getPublicKey(e);return{privateKey:e,publicKey:r}})}static getPublicKey(e){return Fu(this,void 0,void 0,function*(){let{privateKey:r}=e;return Yu.getPublicKey(r)})}static sign(e){return Fu(this,void 0,void 0,function*(){const{key:r,data:n}=e;return Yu.sign(n,r)})}static validatePublicKey(e){return Fu(this,void 0,void 0,function*(){const{key:r}=e;try{Yu.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return Fu(this,void 0,void 0,function*(){const{key:r,signature:n,data:o}=e;return Yu.verify(n,o,r)})}}const Vee=(t,e,r)=>t&e^~t&r,Wee=(t,e,r)=>t&e^t&r^e&r,Zee=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jd=new Uint32Array(64);let tP=class extends G7{constructor(){super(64,32,8,!1),this.A=Yd[0]|0,this.B=Yd[1]|0,this.C=Yd[2]|0,this.D=Yd[3]|0,this.E=Yd[4]|0,this.F=Yd[5]|0,this.G=Yd[6]|0,this.H=Yd[7]|0}get(){const{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)Jd[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const u=Jd[l-15],p=Jd[l-2],A=uc(u,7)^uc(u,18)^u>>>3,h=uc(p,17)^uc(p,19)^p>>>10;Jd[l]=h+Jd[l-7]+A+Jd[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:d,H:f}=this;for(let l=0;l<64;l++){const u=uc(a,6)^uc(a,11)^uc(a,25),p=f+u+Vee(a,c,d)+Zee[l]+Jd[l]|0,h=(uc(n,2)^uc(n,13)^uc(n,22))+Wee(n,o,i)|0;f=d,d=c,c=a,a=s+p|0,s=i,i=o,o=n,n=p+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,o,i,s,a,c,d,f)}roundClean(){Jd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Xee=class extends tP{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Pv=K0(()=>new tP);K0(()=>new Xee);globalThis&&globalThis.__awaiter;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ete(t){const e=Z6(t);aA(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:tte,hexToBytes:rte}=Cee,dh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=dh;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:tte(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=dh,r=typeof t=="string"?rte(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:o,l:i}=dh._parseInt(r.subarray(2)),{d:s,l:a}=dh._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(t){const e=d=>Number.parseInt(d[0],16)&8?"00"+d:d,r=d=>{const f=d.toString(16);return f.length&1?`0${f}`:f},n=e(r(t.s)),o=e(r(t.r)),i=n.length/2,s=o.length/2,a=r(i),c=r(s);return`30${r(s+i+4)}02${c}${o}02${a}${n}`}},Jf=BigInt(0),Ys=BigInt(1);BigInt(2);const dk=BigInt(3);BigInt(4);function nte(t){const e=ete(t),{Fp:r}=e,n=e.toBytes||((A,h,y)=>{const v=h.toAffine();return Oh(Uint8Array.from([4]),r.toBytes(v.x),r.toBytes(v.y))}),o=e.fromBytes||(A=>{const h=A.subarray(1),y=r.fromBytes(h.subarray(0,r.BYTES)),v=r.fromBytes(h.subarray(r.BYTES,2*r.BYTES));return{x:y,y:v}});function i(A){const{a:h,b:y}=e,v=r.sqr(A),B=r.mul(v,A);return r.add(r.add(B,r.mul(A,h)),y)}if(!r.eql(r.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function s(A){return typeof A=="bigint"&&Jf<A&&A<e.n}function a(A){if(!s(A))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(A){const{allowedPrivateKeyLengths:h,nByteLength:y,wrapPrivateKey:v,n:B}=e;if(h&&typeof A!="bigint"){if(A instanceof Uint8Array&&(A=Ph(A)),typeof A!="string"||!h.includes(A.length))throw new Error("Invalid key");A=A.padStart(y*2,"0")}let S;try{S=typeof A=="bigint"?A:Bh(cn("private key",A,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof A}`)}return v&&(S=Pr(S,B)),a(S),S}const d=new Map;function f(A){if(!(A instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(h,y,v){if(this.px=h,this.py=y,this.pz=v,h==null||!r.isValid(h))throw new Error("x required");if(y==null||!r.isValid(y))throw new Error("y required");if(v==null||!r.isValid(v))throw new Error("z required")}static fromAffine(h){const{x:y,y:v}=h||{};if(!h||!r.isValid(y)||!r.isValid(v))throw new Error("invalid affine point");if(h instanceof l)throw new Error("projective point not allowed");const B=S=>r.eql(S,r.ZERO);return B(y)&&B(v)?l.ZERO:new l(y,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const y=r.invertBatch(h.map(v=>v.pz));return h.map((v,B)=>v.toAffine(y[B])).map(l.fromAffine)}static fromHex(h){const y=l.fromAffine(o(cn("pointHex",h)));return y.assertValidity(),y}static fromPrivateKey(h){return l.BASE.multiply(c(h))}_setWindowSize(h){this._WINDOW_SIZE=h,d.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:h,y}=this.toAffine();if(!r.isValid(h)||!r.isValid(y))throw new Error("bad point: x or y not FE");const v=r.sqr(y),B=i(h);if(!r.eql(v,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:h}=this.toAffine();if(r.isOdd)return!r.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){f(h);const{px:y,py:v,pz:B}=this,{px:S,py:x,pz:Q}=h,N=r.eql(r.mul(y,Q),r.mul(S,B)),$=r.eql(r.mul(v,Q),r.mul(x,B));return N&&$}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:h,b:y}=e,v=r.mul(y,dk),{px:B,py:S,pz:x}=this;let Q=r.ZERO,N=r.ZERO,$=r.ZERO,G=r.mul(B,B),z=r.mul(S,S),Y=r.mul(x,x),R=r.mul(B,S);return R=r.add(R,R),$=r.mul(B,x),$=r.add($,$),Q=r.mul(h,$),N=r.mul(v,Y),N=r.add(Q,N),Q=r.sub(z,N),N=r.add(z,N),N=r.mul(Q,N),Q=r.mul(R,Q),$=r.mul(v,$),Y=r.mul(h,Y),R=r.sub(G,Y),R=r.mul(h,R),R=r.add(R,$),$=r.add(G,G),G=r.add($,G),G=r.add(G,Y),G=r.mul(G,R),N=r.add(N,G),Y=r.mul(S,x),Y=r.add(Y,Y),G=r.mul(Y,R),Q=r.sub(Q,G),$=r.mul(Y,z),$=r.add($,$),$=r.add($,$),new l(Q,N,$)}add(h){f(h);const{px:y,py:v,pz:B}=this,{px:S,py:x,pz:Q}=h;let N=r.ZERO,$=r.ZERO,G=r.ZERO;const z=e.a,Y=r.mul(e.b,dk);let R=r.mul(y,S),C=r.mul(v,x),m=r.mul(B,Q),g=r.add(y,v),w=r.add(S,x);g=r.mul(g,w),w=r.add(R,C),g=r.sub(g,w),w=r.add(y,B);let F=r.add(S,Q);return w=r.mul(w,F),F=r.add(R,m),w=r.sub(w,F),F=r.add(v,B),N=r.add(x,Q),F=r.mul(F,N),N=r.add(C,m),F=r.sub(F,N),G=r.mul(z,w),N=r.mul(Y,m),G=r.add(N,G),N=r.sub(C,G),G=r.add(C,G),$=r.mul(N,G),C=r.add(R,R),C=r.add(C,R),m=r.mul(z,m),w=r.mul(Y,w),C=r.add(C,m),m=r.sub(R,m),m=r.mul(z,m),w=r.add(w,m),R=r.mul(C,w),$=r.add($,R),R=r.mul(F,w),N=r.mul(g,N),N=r.sub(N,R),R=r.mul(g,C),G=r.mul(F,G),G=r.add(G,R),new l(N,$,G)}subtract(h){return this.add(h.negate())}is0(){return this.equals(l.ZERO)}wNAF(h){return p.wNAFCached(this,d,h,y=>{const v=r.invertBatch(y.map(B=>B.pz));return y.map((B,S)=>B.toAffine(v[S])).map(l.fromAffine)})}multiplyUnsafe(h){const y=l.ZERO;if(h===Jf)return y;if(a(h),h===Ys)return this;const{endo:v}=e;if(!v)return p.unsafeLadder(this,h);let{k1neg:B,k1:S,k2neg:x,k2:Q}=v.splitScalar(h),N=y,$=y,G=this;for(;S>Jf||Q>Jf;)S&Ys&&(N=N.add(G)),Q&Ys&&($=$.add(G)),G=G.double(),S>>=Ys,Q>>=Ys;return B&&(N=N.negate()),x&&($=$.negate()),$=new l(r.mul($.px,v.beta),$.py,$.pz),N.add($)}multiply(h){a(h);let y=h,v,B;const{endo:S}=e;if(S){const{k1neg:x,k1:Q,k2neg:N,k2:$}=S.splitScalar(y);let{p:G,f:z}=this.wNAF(Q),{p:Y,f:R}=this.wNAF($);G=p.constTimeNegate(x,G),Y=p.constTimeNegate(N,Y),Y=new l(r.mul(Y.px,S.beta),Y.py,Y.pz),v=G.add(Y),B=z.add(R)}else{const{p:x,f:Q}=this.wNAF(y);v=x,B=Q}return l.normalizeZ([v,B])[0]}multiplyAndAddUnsafe(h,y,v){const B=l.BASE,S=(Q,N)=>N===Jf||N===Ys||!Q.equals(B)?Q.multiplyUnsafe(N):Q.multiply(N),x=S(this,y).add(S(h,v));return x.is0()?void 0:x}toAffine(h){const{px:y,py:v,pz:B}=this,S=this.is0();h==null&&(h=S?r.ONE:r.inv(B));const x=r.mul(y,h),Q=r.mul(v,h),N=r.mul(B,h);if(S)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x,y:Q}}isTorsionFree(){const{h,isTorsionFree:y}=e;if(h===Ys)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:y}=e;return h===Ys?this:y?y(l,this):this.multiplyUnsafe(e.h)}toRawBytes(h=!0){return this.assertValidity(),n(l,this,h)}toHex(h=!0){return Ph(this.toRawBytes(h))}}l.BASE=new l(e.Gx,e.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const u=e.nBitLength,p=W7(l,e.endo?Math.ceil(u/2):u);return{CURVE:e,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function ite(t){const e=Z6(t);return aA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ote(t){const e=ite(t),{Fp:r,n}=e,o=r.BYTES+1,i=2*r.BYTES+1;function s(w){return Jf<w&&w<r.ORDER}function a(w){return Pr(w,n)}function c(w){return jQ(w,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:u}=nte({...e,toBytes(w,F,H){const K=F.toAffine(),D=r.toBytes(K.x),I=Oh;return H?I(Uint8Array.from([F.hasEvenY()?2:3]),D):I(Uint8Array.from([4]),D,r.toBytes(K.y))},fromBytes(w){const F=w.length,H=w[0],K=w.subarray(1);if(F===o&&(H===2||H===3)){const D=Bh(K);if(!s(D))throw new Error("Point is not on curve");const I=l(D);let P=r.sqrt(I);const T=(P&Ys)===Ys;return(H&1)===1!==T&&(P=r.neg(P)),{x:D,y:P}}else if(F===i&&H===4){const D=r.fromBytes(K.subarray(0,r.BYTES)),I=r.fromBytes(K.subarray(r.BYTES,2*r.BYTES));return{x:D,y:I}}else throw new Error(`Point of length ${F} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),p=w=>Ph(Kl(w,e.nByteLength));function A(w){const F=n>>Ys;return w>F}function h(w){return A(w)?a(-w):w}const y=(w,F,H)=>Bh(w.slice(F,H));class v{constructor(F,H,K){this.r=F,this.s=H,this.recovery=K,this.assertValidity()}static fromCompact(F){const H=e.nByteLength;return F=cn("compactSignature",F,H*2),new v(y(F,0,H),y(F,H,2*H))}static fromDER(F){const{r:H,s:K}=dh.toSig(cn("DER",F));return new v(H,K)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(F){return new v(this.r,this.s,F)}recoverPublicKey(F){const{r:H,s:K,recovery:D}=this,I=$(cn("msgHash",F));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const P=D===2||D===3?H+e.n:H;if(P>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const T=D&1?"03":"02",V=d.fromHex(T+p(P)),ee=c(P),se=a(-I*ee),Z=a(K*ee),ne=d.BASE.multiplyAndAddUnsafe(V,se,Z);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return A(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Vg(this.toDERHex())}toDERHex(){return dh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Vg(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const B={isValidPrivateKey(w){try{return f(w),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const w=e.randomBytes(r.BYTES+8),F=Uee(w,n);return Kl(F,e.nByteLength)},precompute(w=8,F=d.BASE){return F._setWindowSize(w),F.multiply(BigInt(3)),F}};function S(w,F=!0){return d.fromPrivateKey(w).toRawBytes(F)}function x(w){const F=w instanceof Uint8Array,H=typeof w=="string",K=(F||H)&&w.length;return F?K===o||K===i:H?K===2*o||K===2*i:w instanceof d}function Q(w,F,H=!0){if(x(w))throw new Error("first arg must be private key");if(!x(F))throw new Error("second arg must be public key");return d.fromHex(F).multiply(f(w)).toRawBytes(H)}const N=e.bits2int||function(w){const F=Bh(w),H=w.length*8-e.nBitLength;return H>0?F>>BigInt(H):F},$=e.bits2int_modN||function(w){return a(N(w))},G=V6(e.nBitLength);function z(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(Jf<=w&&w<G))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Kl(w,e.nByteLength)}function Y(w,F,H=R){if(["recovered","canonical"].some(re=>re in H))throw new Error("sign() legacy options not supported");const{hash:K,randomBytes:D}=e;let{lowS:I,prehash:P,extraEntropy:T}=H;I==null&&(I=!0),w=cn("msgHash",w),P&&(w=cn("prehashed msgHash",K(w)));const V=$(w),ee=f(F),se=[z(ee),z(V)];if(T!=null){const re=T===!0?D(r.BYTES):T;se.push(cn("extraEntropy",re,r.BYTES))}const Z=Oh(...se),ne=V;function X(re){const W=N(re);if(!u(W))return;const j=c(W),M=d.BASE.multiply(W).toAffine(),E=a(M.x);if(E===Jf)return;const b=a(j*a(ne+E*ee));if(b===Jf)return;let k=(M.x===E?0:2)|Number(M.y&Ys),U=b;return I&&A(b)&&(U=h(b),k^=1),new v(E,U,k)}return{seed:Z,k2sig:X}}const R={lowS:e.lowS,prehash:!1},C={lowS:e.lowS,prehash:!1};function m(w,F,H=R){const{seed:K,k2sig:D}=Y(w,F,H),I=e;return Y7(I.hash.outputLen,I.nByteLength,I.hmac)(K,D)}d.BASE._setWindowSize(8);function g(w,F,H,K=C){const D=w;if(F=cn("msgHash",F),H=cn("publicKey",H),"strict"in K)throw new Error("options.strict was renamed to lowS");const{lowS:I,prehash:P}=K;let T,V;try{if(typeof D=="string"||D instanceof Uint8Array)try{T=v.fromDER(D)}catch(M){if(!(M instanceof dh.Err))throw M;T=v.fromCompact(D)}else if(typeof D=="object"&&typeof D.r=="bigint"&&typeof D.s=="bigint"){const{r:M,s:E}=D;T=new v(M,E)}else throw new Error("PARSE");V=d.fromHex(H)}catch(M){if(M.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(I&&T.hasHighS())return!1;P&&(F=e.hash(F));const{r:ee,s:se}=T,Z=$(F),ne=c(se),X=a(Z*ne),re=a(ee*ne),W=d.BASE.multiplyAndAddUnsafe(V,X,re)?.toAffine();return W?a(W.x)===ee:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:Q,sign:m,verify:g,ProjectivePoint:d,Signature:v,utils:B}}let rP=class extends P7{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Rc.hash(e);const n=iI(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Rc.exists(this),this.iHash.update(e),this}digestInto(e){Rc.exists(this),Rc.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Ov=(t,e,r)=>new rP(t,e).update(r).digest();Ov.create=(t,e)=>new rP(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ste(t){return{hash:t,hmac:(e,...r)=>Ov(t,e,N7(...r)),randomBytes:Mv}}function ate(t,e){const r=n=>ote({...t,...ste(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cte=BigInt(1),JQ=BigInt(2),uk=(t,e)=>(t+e/JQ)/e;function fte(t){const e=nP,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),d=t*t*t%e,f=d*d*t%e,l=Zr(f,r,e)*f%e,u=Zr(l,r,e)*f%e,p=Zr(u,JQ,e)*d%e,A=Zr(p,o,e)*p%e,h=Zr(A,i,e)*A%e,y=Zr(h,a,e)*h%e,v=Zr(y,c,e)*y%e,B=Zr(v,a,e)*h%e,S=Zr(B,r,e)*f%e,x=Zr(S,s,e)*A%e,Q=Zr(x,n,e)*d%e,N=Zr(Q,JQ,e);if(!VQ.eql(VQ.sqr(N),t))throw new Error("Cannot find square root");return N}const VQ=V7(nP,void 0,void 0,{sqrt:fte}),Da=ate({a:BigInt(0),b:BigInt(7),Fp:VQ,n:lk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=lk,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cte*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=uk(i*t,e),c=uk(-n*t,e);let d=Pr(t-a*r-c*o,e),f=Pr(-a*n-c*i,e);const l=d>s,u=f>s;if(l&&(d=e-d),u&&(f=e-f),d>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:d,k2neg:u,k2:f}}}},Pv);BigInt(0);Da.ProjectivePoint;var Cf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};let sd=class iP{static convertPublicKey(e){return Cf(this,void 0,void 0,function*(){let{publicKey:r,compressedPublicKey:n}=e;return Da.ProjectivePoint.fromHex(r).toRawBytes(n)})}static generateKeyPair(e){return Cf(this,void 0,void 0,function*(){let{compressedPublicKey:r}=e??{};r??(r=!0);const n=Da.utils.randomPrivateKey(),o=Da.getPublicKey(n,r);return{privateKey:n,publicKey:o}})}static getCurvePoints(e){return Cf(this,void 0,void 0,function*(){let{key:r}=e;r.byteLength===32&&(r=yield iP.getPublicKey({privateKey:r}));const n=Da.ProjectivePoint.fromHex(r),o=Kl(n.x,32),i=Kl(n.y,32);return{x:o,y:i}})}static getPublicKey(e){return Cf(this,void 0,void 0,function*(){let{privateKey:r,compressedPublicKey:n}=e;return n??(n=!0),Da.getPublicKey(r,n)})}static sharedSecret(e){return Cf(this,void 0,void 0,function*(){let{privateKey:r,publicKey:n}=e;return Da.getSharedSecret(r,n).slice(1)})}static sign(e){return Cf(this,void 0,void 0,function*(){const{data:r,hash:n,key:o}=e,i=this.hashAlgorithms[n],s=i(r);return Da.sign(s,o).toCompactRawBytes()})}static validatePrivateKey(e){return Cf(this,void 0,void 0,function*(){const{key:r}=e;return Da.utils.isValidPrivateKey(r)})}static validatePublicKey(e){return Cf(this,void 0,void 0,function*(){const{key:r}=e;try{Da.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify(e){return Cf(this,void 0,void 0,function*(){const{data:r,hash:n,key:o,signature:i}=e,s=this.hashAlgorithms[n],a=s(r);return Da.verify(i,a,o,{lowS:!1})})}};sd.hashAlgorithms={"SHA-256":Pv};/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const dte=t=>t instanceof Uint8Array,Fc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),lte=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ute=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ute)throw new Error("Non little-endian hardware is not supported");function e4(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function WQ(t){if(typeof t=="string"&&(t=e4(t)),!dte(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}const hte=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Ate(t,e){if(e!==void 0&&(typeof e!="object"||!hte(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}function ZQ(t,e){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof e=="number"&&t.length!==e)throw new Error(`Uint8Array length ${e} expected`)}function gte(t,e){if(t.length!==e.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let n=0;n<t.length;n++)r&&(r=t[n]===e[n]);return r}function hk(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}function XQ(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function pte(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function oP(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function yte(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");XQ(t.outputLen),XQ(t.blockLen)}function Ite(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function mte(t,e){oP(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const rs={number:XQ,bool:pte,bytes:oP,hash:yte,exists:Ite,output:mte},Ai=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let wte=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=WQ(e),ZQ(e,32);const r=Ai(e,0),n=Ai(e,2),o=Ai(e,4),i=Ai(e,6),s=Ai(e,8),a=Ai(e,10),c=Ai(e,12),d=Ai(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let f=0;f<8;f++)this.pad[f]=Ai(e,16+2*f)}process(e,r,n=!1){const o=n?0:2048,{h:i,r:s}=this,a=s[0],c=s[1],d=s[2],f=s[3],l=s[4],u=s[5],p=s[6],A=s[7],h=s[8],y=s[9],v=Ai(e,r+0),B=Ai(e,r+2),S=Ai(e,r+4),x=Ai(e,r+6),Q=Ai(e,r+8),N=Ai(e,r+10),$=Ai(e,r+12),G=Ai(e,r+14);let z=i[0]+(v&8191),Y=i[1]+((v>>>13|B<<3)&8191),R=i[2]+((B>>>10|S<<6)&8191),C=i[3]+((S>>>7|x<<9)&8191),m=i[4]+((x>>>4|Q<<12)&8191),g=i[5]+(Q>>>1&8191),w=i[6]+((Q>>>14|N<<2)&8191),F=i[7]+((N>>>11|$<<5)&8191),H=i[8]+(($>>>8|G<<8)&8191),K=i[9]+(G>>>5|o),D=0,I=D+z*a+Y*(5*y)+R*(5*h)+C*(5*A)+m*(5*p);D=I>>>13,I&=8191,I+=g*(5*u)+w*(5*l)+F*(5*f)+H*(5*d)+K*(5*c),D+=I>>>13,I&=8191;let P=D+z*c+Y*a+R*(5*y)+C*(5*h)+m*(5*A);D=P>>>13,P&=8191,P+=g*(5*p)+w*(5*u)+F*(5*l)+H*(5*f)+K*(5*d),D+=P>>>13,P&=8191;let T=D+z*d+Y*c+R*a+C*(5*y)+m*(5*h);D=T>>>13,T&=8191,T+=g*(5*A)+w*(5*p)+F*(5*u)+H*(5*l)+K*(5*f),D+=T>>>13,T&=8191;let V=D+z*f+Y*d+R*c+C*a+m*(5*y);D=V>>>13,V&=8191,V+=g*(5*h)+w*(5*A)+F*(5*p)+H*(5*u)+K*(5*l),D+=V>>>13,V&=8191;let ee=D+z*l+Y*f+R*d+C*c+m*a;D=ee>>>13,ee&=8191,ee+=g*(5*y)+w*(5*h)+F*(5*A)+H*(5*p)+K*(5*u),D+=ee>>>13,ee&=8191;let se=D+z*u+Y*l+R*f+C*d+m*c;D=se>>>13,se&=8191,se+=g*a+w*(5*y)+F*(5*h)+H*(5*A)+K*(5*p),D+=se>>>13,se&=8191;let Z=D+z*p+Y*u+R*l+C*f+m*d;D=Z>>>13,Z&=8191,Z+=g*c+w*a+F*(5*y)+H*(5*h)+K*(5*A),D+=Z>>>13,Z&=8191;let ne=D+z*A+Y*p+R*u+C*l+m*f;D=ne>>>13,ne&=8191,ne+=g*d+w*c+F*a+H*(5*y)+K*(5*h),D+=ne>>>13,ne&=8191;let X=D+z*h+Y*A+R*p+C*u+m*l;D=X>>>13,X&=8191,X+=g*f+w*d+F*c+H*a+K*(5*y),D+=X>>>13,X&=8191;let re=D+z*y+Y*h+R*A+C*p+m*u;D=re>>>13,re&=8191,re+=g*l+w*f+F*d+H*c+K*a,D+=re>>>13,re&=8191,D=(D<<2)+D|0,D=D+I|0,I=D&8191,D=D>>>13,P+=D,i[0]=I,i[1]=P,i[2]=T,i[3]=V,i[4]=ee,i[5]=se,i[6]=Z,i[7]=ne,i[8]=X,i[9]=re}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=o,o=e[a]>>>13,e[a]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,n[0]=e[0]+5,o=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+o,o=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(o^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let a=1;a<8;a++)s=(e[a]+r[a]|0)+(s>>>16)|0,e[a]=s&65535}update(e){rs.exists(this);const{buffer:r,blockLen:n}=this;e=WQ(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){for(;n<=o-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){rs.exists(this),rs.output(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:o}=this;if(o){for(r[o++]=1;o<16;o++)r[o]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function bte(t){const e=(n,o)=>t(o).update(WQ(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const Ete=bte(t=>new wte(t)),vte=e4("expand 16-byte k"),Bte=e4("expand 32-byte k"),Cte=Fc(vte),Qte=Fc(Bte),Ak=t=>!(t.byteOffset%4),zI=t=>{const{core:e,rounds:r,counterRight:n,counterLen:o,allow128bitKeys:i,extendNonceFn:s,blockLen:a}=Ate({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);rs.number(o),rs.number(r),rs.number(a),rs.bool(n),rs.bool(i);const c=a/4;if(a%4!==0)throw new Error("Salsa/ChaCha: blockLen should be aligned to 4 bytes");return(d,f,l,u,p=0)=>{if(rs.bytes(d),rs.bytes(f),rs.bytes(l),u||(u=new Uint8Array(l.length)),rs.bytes(u),rs.number(p),p<0||p>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(u.length<l.length)throw new Error(`Salsa/ChaCha: output (${u.length}) is shorter than data (${l.length})`);const A=[];let h,y;if(d.length===32)h=d,y=Qte;else if(d.length===16&&i)h=new Uint8Array(32),h.set(d),h.set(d,16),y=Cte,A.push(h);else throw new Error(`Salsa/ChaCha: wrong key length=${d.length}, expected`);if(s){if(f.length<=16)throw new Error("Salsa/ChaCha: extended nonce should be bigger than 16 bytes");h=s(y,h,f.subarray(0,16),new Uint8Array(32)),A.push(h),f=f.subarray(16)}const v=16-o;if(f.length!==v)throw new Error(`Salsa/ChaCha: nonce should be ${v} or 16 bytes`);if(v!==12){const z=new Uint8Array(12);z.set(f,n?0:12-f.length),A.push(f=z)}const B=new Uint8Array(a),S=Fc(B),x=Fc(h),Q=Fc(f),N=Ak(l)&&Fc(l),$=Ak(u)&&Fc(u);A.push(S);const G=l.length;for(let z=0,Y=p;z<G;Y++){if(e(y,x,Q,S,Y,r),Y>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const R=Math.min(a,G-z);if(R===a&&$&&N){const C=z/4;if(z%4!==0)throw new Error("Salsa/ChaCha: wrong block position");for(let m=0;m<c;m++)$[C+m]=N[C+m]^S[m];z+=a;continue}for(let C=0;C<R;C++)u[z+C]=l[z+C]^B[C];z+=R}for(let z=0;z<A.length;z++)A[z].fill(0);return u}},Ke=(t,e)=>t<<e|t>>>32-e;function YI(t,e,r,n,o,i=20){let s=t[0],a=t[1],c=t[2],d=t[3],f=e[0],l=e[1],u=e[2],p=e[3],A=e[4],h=e[5],y=e[6],v=e[7],B=o,S=r[0],x=r[1],Q=r[2],N=s,$=a,G=c,z=d,Y=f,R=l,C=u,m=p,g=A,w=h,F=y,H=v,K=B,D=S,I=x,P=Q;for(let V=0;V<i;V+=2)N=N+Y|0,K=Ke(K^N,16),g=g+K|0,Y=Ke(Y^g,12),N=N+Y|0,K=Ke(K^N,8),g=g+K|0,Y=Ke(Y^g,7),$=$+R|0,D=Ke(D^$,16),w=w+D|0,R=Ke(R^w,12),$=$+R|0,D=Ke(D^$,8),w=w+D|0,R=Ke(R^w,7),G=G+C|0,I=Ke(I^G,16),F=F+I|0,C=Ke(C^F,12),G=G+C|0,I=Ke(I^G,8),F=F+I|0,C=Ke(C^F,7),z=z+m|0,P=Ke(P^z,16),H=H+P|0,m=Ke(m^H,12),z=z+m|0,P=Ke(P^z,8),H=H+P|0,m=Ke(m^H,7),N=N+R|0,P=Ke(P^N,16),F=F+P|0,R=Ke(R^F,12),N=N+R|0,P=Ke(P^N,8),F=F+P|0,R=Ke(R^F,7),$=$+C|0,K=Ke(K^$,16),H=H+K|0,C=Ke(C^H,12),$=$+C|0,K=Ke(K^$,8),H=H+K|0,C=Ke(C^H,7),G=G+m|0,D=Ke(D^G,16),g=g+D|0,m=Ke(m^g,12),G=G+m|0,D=Ke(D^G,8),g=g+D|0,m=Ke(m^g,7),z=z+Y|0,I=Ke(I^z,16),w=w+I|0,Y=Ke(Y^w,12),z=z+Y|0,I=Ke(I^z,8),w=w+I|0,Y=Ke(Y^w,7);let T=0;n[T++]=s+N|0,n[T++]=a+$|0,n[T++]=c+G|0,n[T++]=d+z|0,n[T++]=f+Y|0,n[T++]=l+R|0,n[T++]=u+C|0,n[T++]=p+m|0,n[T++]=A+g|0,n[T++]=h+w|0,n[T++]=y+F|0,n[T++]=v+H|0,n[T++]=B+K|0,n[T++]=S+D|0,n[T++]=x+I|0,n[T++]=Q+P|0}function xte(t,e,r,n){const o=Fc(e),i=Fc(r),s=Fc(n);let a=t[0],c=t[1],d=t[2],f=t[3],l=o[0],u=o[1],p=o[2],A=o[3],h=o[4],y=o[5],v=o[6],B=o[7],S=i[0],x=i[1],Q=i[2],N=i[3];for(let $=0;$<20;$+=2)a=a+l|0,S=Ke(S^a,16),h=h+S|0,l=Ke(l^h,12),a=a+l|0,S=Ke(S^a,8),h=h+S|0,l=Ke(l^h,7),c=c+u|0,x=Ke(x^c,16),y=y+x|0,u=Ke(u^y,12),c=c+u|0,x=Ke(x^c,8),y=y+x|0,u=Ke(u^y,7),d=d+p|0,Q=Ke(Q^d,16),v=v+Q|0,p=Ke(p^v,12),d=d+p|0,Q=Ke(Q^d,8),v=v+Q|0,p=Ke(p^v,7),f=f+A|0,N=Ke(N^f,16),B=B+N|0,A=Ke(A^B,12),f=f+A|0,N=Ke(N^f,8),B=B+N|0,A=Ke(A^B,7),a=a+u|0,N=Ke(N^a,16),v=v+N|0,u=Ke(u^v,12),a=a+u|0,N=Ke(N^a,8),v=v+N|0,u=Ke(u^v,7),c=c+p|0,S=Ke(S^c,16),B=B+S|0,p=Ke(p^B,12),c=c+p|0,S=Ke(S^c,8),B=B+S|0,p=Ke(p^B,7),d=d+A|0,x=Ke(x^d,16),h=h+x|0,A=Ke(A^h,12),d=d+A|0,x=Ke(x^d,8),h=h+x|0,A=Ke(A^h,7),f=f+l|0,Q=Ke(Q^f,16),y=y+Q|0,l=Ke(l^y,12),f=f+l|0,Q=Ke(Q^f,8),y=y+Q|0,l=Ke(l^y,7);return s[0]=a,s[1]=c,s[2]=d,s[3]=f,s[4]=S,s[5]=x,s[6]=Q,s[7]=N,n}zI({core:YI,counterRight:!1,counterLen:8});zI({core:YI,counterRight:!1,counterLen:4,allow128bitKeys:!1});const Ste=zI({core:YI,counterRight:!1,counterLen:8,extendNonceFn:xte,allow128bitKeys:!1});zI({core:YI,counterRight:!1,counterLen:4,rounds:8});zI({core:YI,counterRight:!1,counterLen:4,rounds:12});const _te=new Uint8Array(16),gk=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(_te.subarray(r))},pk=(t,e,r,n,o)=>{const i=t(e,r,new Uint8Array(32)),s=Ete.create(i);o&&gk(s,o),gk(s,n);const a=new Uint8Array(16),c=lte(a);hk(c,0,BigInt(o?o.length:0),!0),hk(c,8,BigInt(n.length),!0),s.update(a);const d=s.digest();return i.fill(0),d},Dte=t=>(e,r,n)=>(ZQ(e,32),ZQ(r),{tagLength:16,encrypt:i=>{const s=new Uint8Array(i.length+16);t(e,r,i,s,1);const a=pk(t,e,r,s.subarray(0,-16),n);return s.set(a,i.length),s},decrypt:i=>{if(i.length<16)throw new Error("Encrypted data should be at least 16");const s=i.subarray(-16),a=i.subarray(0,-16),c=pk(t,e,r,a,n);if(!gte(s,c))throw new Error("Wrong tag");return t(e,r,a,void 0,1)}}),yk=Dte(Ste);globalThis&&globalThis.__awaiter;var p2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const Ik=16;class mk{static decrypt(e){return p2(this,void 0,void 0,function*(){const{additionalData:r,data:n,key:o,nonce:i,tag:s}=e,a=yk(o,i,r),c=new Uint8Array([...n,...s]);return a.decrypt(c)})}static encrypt(e){return p2(this,void 0,void 0,function*(){const{additionalData:r,data:n,key:o,nonce:i}=e,a=yk(o,i,r).encrypt(n),c=a.subarray(0,-Ik),d=a.subarray(-Ik);return{ciphertext:c,tag:d}})}static generateKey(){return p2(this,void 0,void 0,function*(){return crypto.getRandomValues(new Uint8Array(32))})}}var wk=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class kte extends _X{constructor(){super(...arguments),this.namedCurves=["secp256k1","X25519"]}deriveBits(e){return wk(this,void 0,void 0,function*(){const{algorithm:r,baseKey:n,length:o}=e;this.checkAlgorithmOptions({algorithm:r,baseKey:n}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:n.usages}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:r.publicKey.usages});let i;const s=n.algorithm;switch(s.namedCurve){case"secp256k1":{const c=n.material,d=r.publicKey.material;i=yield sd.sharedSecret({privateKey:c,publicKey:d});break}case"X25519":{const c=n.material,d=r.publicKey.material;i=yield YQ.sharedSecret({privateKey:c,publicKey:d});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}if(o===null)return i;if(o&&o%8!==0)throw new nI("To be compatible with all browsers, 'length' must be a multiple of 8.");const a=o/8;if(i.byteLength<a)throw new nI("Requested 'length' exceeds the byte length of the derived secret.");return a===i.byteLength?i:i.slice(0,a)})}generateKey(e){var r,n;return wk(this,void 0,void 0,function*(){const{algorithm:o,extractable:i,keyUsages:s}=e;this.checkGenerateKey({algorithm:o,keyUsages:s});let a,c;switch(o.namedCurve){case"secp256k1":{(r=(n=o).compressedPublicKey)!==null&&r!==void 0||(n.compressedPublicKey=!0),a=yield sd.generateKeyPair({compressedPublicKey:o.compressedPublicKey});break}case"X25519":{a=yield YQ.generateKeyPair();break}}if(!z6(a))throw new Error("Operation failed to generate key pair.");return c={privateKey:new wd(o,i,a.privateKey,"private",this.keyUsages.privateKey),publicKey:new wd(o,!0,a.publicKey,"public",this.keyUsages.publicKey)},c})}}var y2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class t4 extends kX{constructor(){super(...arguments),this.hashAlgorithms=["SHA-256"],this.namedCurves=["secp256k1"]}generateKey(e){var r;return y2(this,void 0,void 0,function*(){const{algorithm:n,extractable:o,keyUsages:i}=e;this.checkGenerateKey({algorithm:n,keyUsages:i});let s,a;switch(n.namedCurve){case"secp256k1":{(r=n.compressedPublicKey)!==null&&r!==void 0||(n.compressedPublicKey=!0),s=yield sd.generateKeyPair({compressedPublicKey:n.compressedPublicKey});break}}if(!z6(s))throw new Error("Operation failed to generate key pair.");return a={privateKey:new wd(n,o,s.privateKey,"private",this.keyUsages.privateKey),publicKey:new wd(n,!0,s.publicKey,"public",this.keyUsages.publicKey)},a})}sign(e){return y2(this,void 0,void 0,function*(){const{algorithm:r,key:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:n.usages});let i;const s=n.algorithm;switch(s.namedCurve){case"secp256k1":{i=yield sd.sign({hash:r.hash,key:n.material,data:o});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return i})}verify(e){return y2(this,void 0,void 0,function*(){const{algorithm:r,key:n,signature:o,data:i}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:n.usages});let s;const a=n.algorithm;switch(a.namedCurve){case"secp256k1":{s=yield sd.verify({hash:r.hash,key:n.material,signature:o,data:i});break}default:throw new TypeError(`Out of range: '${a.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}}var I2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Kv extends FX{constructor(){super(...arguments),this.namedCurves=["Ed25519","Ed448"]}generateKey(e){return I2(this,void 0,void 0,function*(){const{algorithm:r,extractable:n,keyUsages:o}=e;this.checkGenerateKey({algorithm:r,keyUsages:o});let i,s;switch(r.namedCurve){case"Ed25519":{i=yield Hl.generateKeyPair();break}}if(!z6(i))throw new Error("Operation failed to generate key pair.");return s={privateKey:new wd(r,n,i.privateKey,"private",this.keyUsages.privateKey),publicKey:new wd(r,!0,i.publicKey,"public",this.keyUsages.publicKey)},s})}sign(e){return I2(this,void 0,void 0,function*(){const{algorithm:r,key:n,data:o}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:n.usages});let i;const s=n.algorithm;switch(s.namedCurve){case"Ed25519":{i=yield Hl.sign({key:n.material,data:o});break}default:throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return i})}verify(e){return I2(this,void 0,void 0,function*(){const{algorithm:r,key:n,signature:o,data:i}=e;this.checkAlgorithmOptions({algorithm:r}),this.checkKeyAlgorithm({keyAlgorithmName:n.algorithm.name}),this.checkKeyType({keyType:n.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:n.usages});let s;const a=n.algorithm;switch(a.namedCurve){case"Ed25519":{s=yield Hl.verify({key:n.material,signature:o,data:i});break}default:throw new TypeError(`Out of range: '${a.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}return s})}}globalThis&&globalThis.__awaiter;var m2=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Tte extends UX{decrypt(e){return m2(this,void 0,void 0,function*(){const{algorithm:r,key:n,data:o}=e;return this.checkAlgorithmOptions({algorithm:r,key:n}),this.checkKeyUsages({keyUsages:["decrypt"],allowedKeyUsages:n.usages}),g2.decrypt({counter:r.counter,data:o,key:n.material,length:r.length})})}encrypt(e){return m2(this,void 0,void 0,function*(){const{algorithm:r,key:n,data:o}=e;return this.checkAlgorithmOptions({algorithm:r,key:n}),this.checkKeyUsages({keyUsages:["encrypt"],allowedKeyUsages:n.usages}),g2.encrypt({counter:r.counter,data:o,key:n.material,length:r.length})})}generateKey(e){return m2(this,void 0,void 0,function*(){const{algorithm:r,extractable:n,keyUsages:o}=e;this.checkGenerateKey({algorithm:r,keyUsages:o});const i=yield g2.generateKey({length:r.length});if(Yl(i)!=="Uint8Array")throw new Error("Operation failed to generate key.");return new wd(r,n,i,"secret",this.keyUsages)})}}var Qf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Fte=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};const Mte={Ed25519:{name:"EdDSA",namedCurve:"Ed25519"},Ed448:{name:"EdDSA",namedCurve:"Ed448"},X25519:{name:"ECDH",namedCurve:"X25519"},"secp256k1:ES256K":{name:"ECDSA",namedCurve:"secp256k1"},secp256k1:{name:"ECDH",namedCurve:"secp256k1"},"P-256":{name:"ECDSA",namedCurve:"P-256"},"P-384":{name:"ECDSA",namedCurve:"P-384"},"P-521":{name:"ECDSA",namedCurve:"P-521"},A128CBC:{name:"AES-CBC",length:128},A192CBC:{name:"AES-CBC",length:192},A256CBC:{name:"AES-CBC",length:256},A128CTR:{name:"AES-CTR",length:128},A192CTR:{name:"AES-CTR",length:192},A256CTR:{name:"AES-CTR",length:256},A128GCM:{name:"AES-GCM",length:128},A192GCM:{name:"AES-GCM",length:192},A256GCM:{name:"AES-GCM",length:256},HS256:{name:"HMAC",hash:{name:"SHA-256"}},HS384:{name:"HMAC",hash:{name:"SHA-384"}},HS512:{name:"HMAC",hash:{name:"SHA-512"}}},Ute={"EdDSA:Ed25519":{alg:"EdDSA",crv:"Ed25519",kty:"OKP"},"EdDSA:Ed448":{alg:"EdDSA",crv:"Ed448",kty:"OKP"},"ECDH:X25519":{crv:"X25519",kty:"OKP"},"ECDSA:secp256k1":{alg:"ES256K",crv:"secp256k1",kty:"EC"},"ECDH:secp256k1":{crv:"secp256k1",kty:"EC"},"ECDSA:P-256":{alg:"ES256",crv:"P-256",kty:"EC"},"ECDSA:P-384":{alg:"ES384",crv:"P-384",kty:"EC"},"ECDSA:P-521":{alg:"ES512",crv:"P-521",kty:"EC"},"AES-CBC:128":{alg:"A128CBC",kty:"oct"},"AES-CBC:192":{alg:"A192CBC",kty:"oct"},"AES-CBC:256":{alg:"A256CBC",kty:"oct"},"AES-CTR:128":{alg:"A128CTR",kty:"oct"},"AES-CTR:192":{alg:"A192CTR",kty:"oct"},"AES-CTR:256":{alg:"A256CTR",kty:"oct"},"AES-GCM:128":{alg:"A128GCM",kty:"oct"},"AES-GCM:192":{alg:"A192GCM",kty:"oct"},"AES-GCM:256":{alg:"A256GCM",kty:"oct"},"HMAC:SHA-256":{alg:"HS256",kty:"oct"},"HMAC:SHA-384":{alg:"HS384",kty:"oct"},"HMAC:SHA-512":{alg:"HS512",kty:"oct"}},Rte={"ed25519-pub":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},Nte={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"};class lr{static cryptoKeyToJwk(e){return Qf(this,void 0,void 0,function*(){const{algorithm:r,extractable:n,material:o,type:i,usages:s}=e.key;let a=lr.webCryptoToJose(r);return a.ext=n?"true":"false",a.key_ops=s,a=yield lr.keyToJwk(Object.assign({keyMaterial:o,keyType:i},a)),Object.assign({},a)})}static cryptoKeyToJwkPair(e){return Qf(this,void 0,void 0,function*(){const{keyPair:r}=e,n=yield lr.cryptoKeyToJwk({key:r.privateKey}),o=yield lr.cryptoKeyToJwk({key:r.publicKey});return Object.assign({},{privateKeyJwk:n,publicKeyJwk:o})})}static joseToMulticodec(e){return Qf(this,void 0,void 0,function*(){const r=e.key,n=[];"crv"in r&&(n.push(r.crv),"d"in r?n.push("private"):n.push("public"));const o=n.join(":"),i=Nte[o];if(i===void 0)throw new Error(`Unsupported JOSE to Multicodec conversion: '${o}'`);return{code:sa.getCodeFromName({name:i}),name:i}})}static joseToWebCrypto(e){const r=[];if("crv"in e&&e.crv)r.push(e.crv),e.crv==="secp256k1"&&e.alg==="ES256K"&&r.push(e.alg);else if(e.alg!==void 0)r.push(e.alg);else throw new TypeError("One or more parameters missing: 'alg' or 'crv'");const n=r.join(":"),o=Mte[n];if(o===void 0)throw new Error(`Unsupported JOSE to WebCrypto conversion: '${n}'`);return Object.assign({},o)}static jwkThumbprint(e){return Qf(this,void 0,void 0,function*(){const{key:r}=e,n=r.kty;let o;if(n==="EC")o={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if(n==="oct")o={k:r.k,kty:r.kty};else if(n==="OKP")o={crv:r.crv,kty:r.kty,x:r.x};else if(n==="RSA")o={e:r.e,kty:r.kty,n:r.n};else throw new Error(`Unsupported key type: ${n}`);f7(o);const i=lr.canonicalize(o),s=mi.string(i).toUint8Array(),a=Pv(s);return mi.uint8Array(a).toBase64Url()})}static jwkToCryptoKey(e){return Qf(this,void 0,void 0,function*(){const r=e.key,{keyMaterial:n,keyType:o}=yield lr.jwkToKey({key:r});let i=lr.joseToWebCrypto(r),s;if("ext"in r&&r.ext!==void 0)s=r.ext==="true";else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'ext'");let a;if("key_ops"in r&&r.key_ops!==void 0)a=r.key_ops;else throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'key_ops'");return new wd(i,s,n,o,a)})}static jwkToKey(e){return Qf(this,void 0,void 0,function*(){const r=e.key;let n,o;if("d"in r)n=mi.base64Url(r.d).toUint8Array(),o="private";else if("y"in r&&r.y){const i=new Uint8Array([4]),s=mi.base64Url(r.x).toUint8Array(),a=mi.base64Url(r.y).toUint8Array();n=new Uint8Array([...i,...s,...a]),o="public"}else if("x"in r)n=mi.base64Url(r.x).toUint8Array(),o="public";else if("k"in r)n=mi.base64Url(r.k).toUint8Array(),o="private";else throw new Error("Jose: Unknown JSON Web Key format.");return{keyMaterial:n,keyType:o}})}static jwkToMultibaseId(e){return Qf(this,void 0,void 0,function*(){const r=e.key,{name:n}=yield lr.joseToMulticodec({key:r});let{keyMaterial:o}=yield lr.jwkToKey({key:r});if("crv"in r&&!("d"in r))switch(r.crv){case"secp256k1":{o=yield sd.convertPublicKey({publicKey:o,compressedPublicKey:!0});break}}return K7({key:o,multicodecName:n})})}static keyToJwk(e){var r,n,o;return Qf(this,void 0,void 0,function*(){const{keyMaterial:i,keyType:s}=e,a=Fte(e,["keyMaterial","keyType"]);let c=Object.assign({},a);if("crv"in c){switch(c.crv){case"Ed25519":{const d=s==="private"?yield Hl.getPublicKey({privateKey:i}):i;c.x=mi.uint8Array(d).toBase64Url(),(r=c.kty)!==null&&r!==void 0||(c.kty="OKP");break}case"X25519":{const d=s==="private"?yield YQ.getPublicKey({privateKey:i}):i;c.x=mi.uint8Array(d).toBase64Url(),(n=c.kty)!==null&&n!==void 0||(c.kty="OKP");break}case"secp256k1":{const d=yield sd.getCurvePoints({key:i});c.x=mi.uint8Array(d.x).toBase64Url(),c.y=mi.uint8Array(d.y).toBase64Url(),(o=c.kty)!==null&&o!==void 0||(c.kty="EC");break}default:throw new Error(`Unsupported key to JWK conversion: ${c.crv}`)}s==="private"&&(c=Object.assign({d:mi.uint8Array(i).toBase64Url()},c))}return!("crv"in c)&&c.kty==="oct"&&(c.k=mi.uint8Array(i).toBase64Url()),Object.assign({},c)})}static multicodecToJose(e){return Qf(this,void 0,void 0,function*(){let{code:r,name:n}=e;if(!(n?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");n=n===void 0?sa.getNameFromCode({code:r}):n;const i=Rte[n];if(i===void 0)throw new Error(`Unsupported Multicodec to JOSE conversion: '${e.name}'`);return Object.assign({},i)})}static webCryptoToJose(e){const r=[];if(r.push(e.name),"namedCurve"in e)r.push(e.namedCurve);else if("length"in e&&e.length!==void 0)r.push(e.length.toString());else if("hash"in e)r.push(e.hash.name);else throw new TypeError("One or more parameters missing: 'name', 'namedCurve', 'length', or 'hash'");const n=r.join(":"),o=Ute[n];if(o===void 0)throw new Error(`Unsupported WebCrypto to JOSE conversion: '${n}'`);return Object.assign({},o)}static canonicalize(e){const n=Object.keys(e).sort().reduce((o,i)=>(o[i]=e[i],o),{});return JSON.stringify(n)}}function Pte(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function Ote(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function cI(t){const r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,o]=r;return o}var Up=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},bk=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};const Iw=new TextEncoder,Mu=new TextDecoder;class Pe{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new Pe(e,"ArrayBuffer")}static asyncIterable(e){if(!Ote(e))throw new TypeError("Input must be of type AsyncIterable.");return new Pe(e,"AsyncIterable")}static base58Btc(e){return new Pe(e,"Base58Btc")}static base64Url(e){return new Pe(e,"Base64Url")}static bufferSource(e){return new Pe(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new Pe(e,"Hex")}static multibase(e){return new Pe(e,"Multibase")}static object(e){return new Pe(e,"Object")}static string(e){return new Pe(e,"String")}static uint8Array(e){return new Pe(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return ei.baseDecode(this.data).buffer;case"Base64Url":return an.baseDecode(this.data).buffer;case"BufferSource":{if(cI(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return Pte(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return Up(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return ei.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return ei.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return an.baseEncode(e)}case"BufferSource":{const e=this.toUint8Array();return an.baseEncode(e)}case"Object":{const e=JSON.stringify(this.data),r=Iw.encode(e);return an.baseEncode(r)}case"String":{const e=Iw.encode(this.data);return an.baseEncode(e)}case"Uint8Array":return an.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var e,r,n,o;return Up(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const c=[];try{for(var i=!0,s=bk(this.data),a;a=yield s.next(),e=a.done,!e;i=!0){o=a.value,i=!1;const f=o;c.push(f)}}catch(f){r={error:f}}finally{try{!i&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return new Blob(c)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){const e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const r=this.toUint8Array();return Pe.uint8Array(r).toHex()}case"Base64Url":{const r=this.toUint8Array();return Pe.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{const e=an.baseDecode(this.data),r=Mu.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{const e=Mu.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return Up(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const e=yield this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return Mu.decode(this.data);case"Base64Url":{const e=an.baseDecode(this.data);return Mu.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return Mu.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var e,r,n,o;return Up(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let c="";try{for(var i=!0,s=bk(this.data),a;a=yield s.next(),e=a.done,!e;i=!0){o=a.value,i=!1;const d=o;typeof d=="string"?c+=d:c+=Mu.decode(d,{stream:!0})}}catch(d){r={error:d}}finally{try{!i&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return c+=Mu.decode(void 0,{stream:!1}),c}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return ei.baseDecode(this.data);case"Base64Url":return an.baseDecode(this.data);case"BufferSource":{const e=cI(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){const n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{const e=JSON.stringify(this.data);return Iw.encode(e)}case"String":return Iw.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return Up(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{const e=yield this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}}class Xi{static addPrefix(e){var r;let{code:n,data:o,name:i}=e;if(!(i?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=Xi.codeToName.has(n)?n:Xi.nameToCode.get(i),n===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);const s=zg(n),a=new Uint8Array(s+o.byteLength);return a.set(o,s),jg(n,a),a}static getCodeFromData(e){const{prefixedData:r}=e,[n,o]=Rh(r);return n}static getCodeFromName(e){const{name:r}=e,n=Xi.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){const{code:r}=e,n=Xi.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){Xi.codeToName.set(e.code,e.name),Xi.nameToCode.set(e.name,e.code)}static removePrefix(e){const{prefixedData:r}=e,[n,o]=Rh(r),i=Xi.codeToName.get(n);if(i===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(o),name:i}}}Xi.codeToName=new Map;Xi.nameToCode=new Map;Xi.registerCodec({code:237,name:"ed25519-pub"});Xi.registerCodec({code:4864,name:"ed25519-priv"});Xi.registerCodec({code:236,name:"x25519-pub"});Xi.registerCodec({code:4866,name:"x25519-priv"});Xi.registerCodec({code:231,name:"secp256k1-pub"});Xi.registerCodec({code:4865,name:"secp256k1-priv"});function sP(t){return typeof t!="object"||t===null||Object.getOwnPropertySymbols(t).length>0?!1:Object.keys(t).length===0}function r4(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&r4(t[e]),sP(t[e])&&delete t[e]})}function n4(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&n4(t[e])})}var Js=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Kte{constructor(e="DATASTORE"){this.store=new Fv(e)}clear(){return Js(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return Js(this,void 0,void 0,function*(){yield this.store.close()})}delete(e){return Js(this,void 0,void 0,function*(){return yield this.store.del(e),!0})}get(e){return Js(this,void 0,void 0,function*(){return yield this.store.get(e)})}set(e,r){return Js(this,void 0,void 0,function*(){yield this.store.put(e,r)})}}class Hte{constructor(){this.store=new Map}clear(){return Js(this,void 0,void 0,function*(){this.store.clear()})}close(){return Js(this,void 0,void 0,function*(){})}delete(e){return Js(this,void 0,void 0,function*(){return this.store.delete(e)})}get(e){return Js(this,void 0,void 0,function*(){return this.store.get(e)})}has(e){return Js(this,void 0,void 0,function*(){return this.store.has(e)})}list(){return Js(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(e,r){return Js(this,void 0,void 0,function*(){this.store.set(e,r)})}}var Rp=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},fI=globalThis&&globalThis.__await||function(t){return this instanceof fI?(this.v=t,this):new fI(t)},Lte=globalThis&&globalThis.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(u){n[u]&&(o[u]=function(p){return new Promise(function(A,h){i.push([u,p,A,h])>1||a(u,p)})})}function a(u,p){try{c(n[u](p))}catch(A){l(i[0][3],A)}}function c(u){u.value instanceof fI?Promise.resolve(u.value.v).then(d,f):l(i[0][2],u)}function d(u){a("next",u)}function f(u){a("throw",u)}function l(u,p){u(p),i.shift(),i.length&&a(i[0][0],i[0][1])}};let e8=class bc{static asAsyncIterator(e){return Lte(this,arguments,function*(){const n=e.getReader();try{for(;;){const{done:o,value:i}=yield fI(n.read());if(o)break;yield yield fI(i)}}finally{n.releaseLock()}})}static consumeToArrayBuffer({readableStream:e}){return Rp(this,void 0,void 0,function*(){const r=bc.asAsyncIterator(e);return yield Pe.asyncIterable(r).toArrayBufferAsync()})}static consumeToBlob({readableStream:e}){return Rp(this,void 0,void 0,function*(){const r=bc.asAsyncIterator(e);return yield Pe.asyncIterable(r).toBlobAsync()})}static consumeToBytes({readableStream:e}){return Rp(this,void 0,void 0,function*(){const r=bc.asAsyncIterator(e);return yield Pe.asyncIterable(r).toUint8ArrayAsync()})}static consumeToJson({readableStream:e}){return Rp(this,void 0,void 0,function*(){const r=bc.asAsyncIterator(e);return yield Pe.asyncIterable(r).toObjectAsync()})}static consumeToText({readableStream:e}){return Rp(this,void 0,void 0,function*(){const r=bc.asAsyncIterator(e);return yield Pe.asyncIterable(r).toStringAsync()})}static generateByteStream({streamLength:e,chunkLength:r,fillValue:n}){let o=e??1/0,i;function s(){const a=Math.min(o,r??1/0);o-=a;let c;if(typeof n=="number")c=new Uint8Array(a).fill(n);else if(Array.isArray(n)){c=new Uint8Array(a);const[d,f]=n,l=f-d+1;for(let u=0;u<a;u++)c[u]=Math.floor(Math.random()*l)+d}else c=new Uint8Array(a);i.enqueue(c),o<=0&&i.close()}return new ReadableStream({start(a){i=a,s()},pull(){s()}})}static isReadable({readableStream:e}){if(!bc.isReadableStream(e)||e.locked)return!1;try{return e.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(e){return typeof e=="object"&&e!==null&&"getReader"in e&&typeof e.getReader=="function"}static isStream(e){return bc.isReadableStream(e)||bc.isWritableStream(e)||bc.isTransformStream(e)}static isTransformStream(e){return typeof e=="object"&&e!==null&&"readable"in e&&typeof e.readable=="object"&&"writable"in e&&typeof e.writable=="object"}static isWritableStream(e){return typeof e=="object"&&e!==null&&"getWriter"in e&&typeof e.getWriter=="function"&&"abort"in e&&typeof e.abort=="function"}};var aP={exports:{}},w2={exports:{}},Hn={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array},cP={exports:{}};(function(t){const e=qe,r=Object.getPrototypeOf(async function(){}).constructor,n=globalThis.Blob||e.Blob,o=typeof n<"u"?function(a){return a instanceof n}:function(a){return!1};class i extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let c="";for(let d=0;d<a.length;d++)c+=`    ${a[d].stack}
`;super(c),this.name="AggregateError",this.errors=a}}t.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(s){let a=!1;return function(...c){a||(a=!0,s.apply(this,c))}},createDeferredPromise:function(){let s,a;return{promise:new Promise((d,f)=>{s=d,a=f}),resolve:s,reject:a}},promisify(s){return new Promise((a,c)=>{s((d,...f)=>d?c(d):a(...f))})},debuglog(){return function(){}},format(s,...a){return s.replace(/%([sdifj])/g,function(...[c,d]){const f=a.shift();return d==="f"?f.toFixed(6):d==="j"?JSON.stringify(f):d==="s"&&typeof f=="object"?`${f.constructor!==Object?f.constructor.name:""} {}`.trim():f.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}},types:{isAsyncFunction(s){return s instanceof r},isArrayBufferView(s){return ArrayBuffer.isView(s)}},isBlob:o},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(cP);var Fd=cP.exports,i4={},Np={exports:{}},Ek;function o4(){if(Ek)return Np.exports;Ek=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Np.exports=t,Np.exports.AbortSignal=e,Np.exports.default=t,Np.exports}const{format:Gte,inspect:_b,AggregateError:qte}=Fd,$te=globalThis.AggregateError||qte,jte=Symbol("kIsNodeError"),zte=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Yte=/^([A-Z][a-z0-9]*)+$/,Jte="__node_internal_",Hv={};function Ch(t,e){if(!t)throw new Hv.ERR_INTERNAL_ASSERTION(e)}function vk(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Vte(t,e,r){if(typeof e=="function")return Ch(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return Ch(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Gte(e,...r)}function Ni(t,e,r){r||(r=Error);class n extends r{constructor(...i){super(Vte(t,e,i))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[jte]=!0,Hv[t]=n}function Bk(t){const e=Jte+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Wte(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new $te([e,t],e.message);return r.code=e.code,r}return t||e}let Zte=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Hv.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};Ni("ERR_ASSERTION","%s",Error);Ni("ERR_INVALID_ARG_TYPE",(t,e,r)=>{Ch(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const o=[],i=[],s=[];for(const c of e)Ch(typeof c=="string","All expected entries have to be of type string"),zte.includes(c)?o.push(c.toLowerCase()):Yte.test(c)?i.push(c):(Ch(c!=="object",'The value "object" should be written as "Object"'),s.push(c));if(i.length>0){const c=o.indexOf("object");c!==-1&&(o.splice(o,c,1),i.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{const c=o.pop();n+=`one of type ${o.join(", ")}, or ${c}`}}(i.length>0||s.length>0)&&(n+=" or ")}if(i.length>0){switch(i.length){case 1:n+=`an instance of ${i[0]}`;break;case 2:n+=`an instance of ${i[0]} or ${i[1]}`;break;default:{const c=i.pop();n+=`an instance of ${i.join(", ")}, or ${c}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();n+=`one of ${s.join(", ")}, or ${c}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{const c=_b(r,{depth:-1});n+=`. Received ${c}`}}else{let c=_b(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),n+=`. Received type ${typeof r} (${c})`}return n},TypeError);Ni("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=_b(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);Ni("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const o=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${o}.`},TypeError);Ni("ERR_MISSING_ARGS",(...t)=>{Ch(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);Ni("ERR_OUT_OF_RANGE",(t,e,r)=>{Ch(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=vk(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=vk(n)),n+="n"):n=_b(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);Ni("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);Ni("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);Ni("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);Ni("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);Ni("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);Ni("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ni("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);Ni("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);Ni("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);Ni("ERR_STREAM_WRITE_AFTER_END","write after end",Error);Ni("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var qo={AbortError:Zte,aggregateTwoErrors:Bk(Wte),hideStackFrames:Bk,codes:Hv};const{ArrayIsArray:s4,ArrayPrototypeIncludes:fP,ArrayPrototypeJoin:dP,ArrayPrototypeMap:Xte,NumberIsInteger:a4,NumberIsNaN:ere,NumberMAX_SAFE_INTEGER:tre,NumberMIN_SAFE_INTEGER:rre,NumberParseInt:nre,ObjectPrototypeHasOwnProperty:ire,RegExpPrototypeExec:lP,String:ore,StringPrototypeToUpperCase:sre,StringPrototypeTrim:are}=Hn,{hideStackFrames:ga,codes:{ERR_SOCKET_BAD_PORT:cre,ERR_INVALID_ARG_TYPE:xo,ERR_INVALID_ARG_VALUE:L0,ERR_OUT_OF_RANGE:Kh,ERR_UNKNOWN_SIGNAL:Ck}}=qo,{normalizeEncoding:fre}=Fd,{isAsyncFunction:dre,isArrayBufferView:lre}=Fd.types,Qk={};function ure(t){return t===(t|0)}function hre(t){return t===t>>>0}const Are=/^[0-7]+$/,gre="must be a 32-bit unsigned integer or an octal string";function pre(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(lP(Are,t)===null)throw new L0(e,t,gre);t=nre(t,8)}return uP(t,e),t}const yre=ga((t,e,r=rre,n=tre)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!a4(t))throw new Kh(e,"an integer",t);if(t<r||t>n)throw new Kh(e,`>= ${r} && <= ${n}`,t)}),Ire=ga((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!a4(t))throw new Kh(e,"an integer",t);if(t<r||t>n)throw new Kh(e,`>= ${r} && <= ${n}`,t)}),uP=ga((t,e,r=!1)=>{if(typeof t!="number")throw new xo(e,"number",t);if(!a4(t))throw new Kh(e,"an integer",t);const n=r?1:0,o=4294967295;if(t<n||t>o)throw new Kh(e,`>= ${n} && <= ${o}`,t)});function c4(t,e){if(typeof t!="string")throw new xo(e,"string",t)}function mre(t,e,r=void 0,n){if(typeof t!="number")throw new xo(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&ere(t))throw new Kh(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}const wre=ga((t,e,r)=>{if(!fP(r,t)){const o="must be one of: "+dP(Xte(r,i=>typeof i=="string"?`'${i}'`:ore(i)),", ");throw new L0(e,t,o)}});function hP(t,e){if(typeof t!="boolean")throw new xo(e,"boolean",t)}function b2(t,e,r){return t==null||!ire(t,e)?r:t[e]}const bre=ga((t,e,r=null)=>{const n=b2(r,"allowArray",!1),o=b2(r,"allowFunction",!1);if(!b2(r,"nullable",!1)&&t===null||!n&&s4(t)||typeof t!="object"&&(!o||typeof t!="function"))throw new xo(e,"Object",t)}),Ere=ga((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new xo(e,"a dictionary",t)}),f4=ga((t,e,r=0)=>{if(!s4(t))throw new xo(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new L0(e,t,n)}});function vre(t,e){f4(t,e);for(let r=0;r<t.length;r++)c4(t[r],`${e}[${r}]`)}function Bre(t,e){f4(t,e);for(let r=0;r<t.length;r++)hP(t[r],`${e}[${r}]`)}function Cre(t,e="signal"){if(c4(t,e),Qk[t]===void 0)throw Qk[sre(t)]!==void 0?new Ck(t+" (signals must use all capital letters)"):new Ck(t)}const Qre=ga((t,e="buffer")=>{if(!lre(t))throw new xo(e,["Buffer","TypedArray","DataView"],t)});function xre(t,e){const r=fre(e),n=t.length;if(r==="hex"&&n%2!==0)throw new L0("encoding",e,`is invalid for data of length ${n}`)}function Sre(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&are(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new cre(e,t,r);return t|0}const _re=ga((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new xo(e,"AbortSignal",t)}),Dre=ga((t,e)=>{if(typeof t!="function")throw new xo(e,"Function",t)}),kre=ga((t,e)=>{if(typeof t!="function"||dre(t))throw new xo(e,"Function",t)}),Tre=ga((t,e)=>{if(t!==void 0)throw new xo(e,"undefined",t)});function Fre(t,e,r){if(!fP(r,t))throw new xo(e,`('${dP(r,"|")}')`,t)}const Mre=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function xk(t,e){if(typeof t>"u"||!lP(Mre,t))throw new L0(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ure(t){if(typeof t=="string")return xk(t,"hints"),t;if(s4(t)){const e=t.length;let r="";if(e===0)return r;for(let n=0;n<e;n++){const o=t[n];xk(o,"hints"),r+=o,n!==e-1&&(r+=", ")}return r}throw new L0("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Lv={isInt32:ure,isUint32:hre,parseFileMode:pre,validateArray:f4,validateStringArray:vre,validateBooleanArray:Bre,validateBoolean:hP,validateBuffer:Qre,validateDictionary:Ere,validateEncoding:xre,validateFunction:Dre,validateInt32:Ire,validateInteger:yre,validateNumber:mre,validateObject:bre,validateOneOf:wre,validatePlainFunction:kre,validatePort:Sre,validateSignalName:Cre,validateString:c4,validateUint32:uP,validateUndefined:Tre,validateUnion:Fre,validateAbortSignal:_re,validateLinkHeaderValue:Ure},d4={exports:{}},AP={exports:{}},vn=AP.exports={},Qc,xc;function t8(){throw new Error("setTimeout has not been defined")}function r8(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Qc=setTimeout:Qc=t8}catch{Qc=t8}try{typeof clearTimeout=="function"?xc=clearTimeout:xc=r8}catch{xc=r8}})();function gP(t){if(Qc===setTimeout)return setTimeout(t,0);if((Qc===t8||!Qc)&&setTimeout)return Qc=setTimeout,setTimeout(t,0);try{return Qc(t,0)}catch{try{return Qc.call(null,t,0)}catch{return Qc.call(this,t,0)}}}function Rre(t){if(xc===clearTimeout)return clearTimeout(t);if((xc===r8||!xc)&&clearTimeout)return xc=clearTimeout,clearTimeout(t);try{return xc(t)}catch{try{return xc.call(null,t)}catch{return xc.call(this,t)}}}var td=[],wg=!1,lh,R1=-1;function Nre(){!wg||!lh||(wg=!1,lh.length?td=lh.concat(td):R1=-1,td.length&&pP())}function pP(){if(!wg){var t=gP(Nre);wg=!0;for(var e=td.length;e;){for(lh=td,td=[];++R1<e;)lh&&lh[R1].run();R1=-1,e=td.length}lh=null,wg=!1,Rre(t)}}vn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];td.push(new yP(t,e)),td.length===1&&!wg&&gP(pP)};function yP(t,e){this.fun=t,this.array=e}yP.prototype.run=function(){this.fun.apply(null,this.array)};vn.title="browser";vn.browser=!0;vn.env={};vn.argv=[];vn.version="";vn.versions={};function Md(){}vn.on=Md;vn.addListener=Md;vn.once=Md;vn.off=Md;vn.removeListener=Md;vn.removeAllListeners=Md;vn.emit=Md;vn.prependListener=Md;vn.prependOnceListener=Md;vn.listeners=function(t){return[]};vn.binding=function(t){throw new Error("process.binding is not supported")};vn.cwd=function(){return"/"};vn.chdir=function(t){throw new Error("process.chdir is not supported")};vn.umask=function(){return 0};var Au=AP.exports;const Et=Qo(Au),{Symbol:Gv,SymbolAsyncIterator:Sk,SymbolIterator:_k,SymbolFor:IP}=Hn,mP=Gv("kDestroyed"),wP=Gv("kIsErrored"),n8=Gv("kIsReadable"),bP=Gv("kIsDisturbed"),Pre=IP("nodejs.webstream.isClosedPromise"),Ore=IP("nodejs.webstream.controllerErrorFunction");function qv(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function $v(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function Kre(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function uf(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function EP(t){return!!(t&&!uf(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function vP(t){return!!(t&&!uf(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function BP(t){return!!(t&&!uf(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function Hre(t){return EP(t)||vP(t)||BP(t)}function Lre(t,e){return t==null?!1:e===!0?typeof t[Sk]=="function":e===!1?typeof t[_k]=="function":typeof t[Sk]=="function"||typeof t[_k]=="function"}function jv(t){if(!uf(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[mP]||n!=null&&n.destroyed)}function CP(t){if(!$v(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Gre(t,e){if(!$v(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function qre(t){if(!qv(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function QP(t,e){if(!qv(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function xP(t){return t&&t[n8]!=null?t[n8]:typeof t?.readable!="boolean"?null:jv(t)?!1:qv(t)&&t.readable&&!QP(t)}function SP(t){return typeof t?.writable!="boolean"?null:jv(t)?!1:$v(t)&&t.writable&&!CP(t)}function $re(t,e){return uf(t)?jv(t)?!0:!(e?.readable!==!1&&xP(t)||e?.writable!==!1&&SP(t)):null}function jre(t){var e,r;return uf(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function zre(t){var e,r;return uf(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Yre(t){if(!uf(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&_P(t)?t._closed:null}function _P(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function DP(t){return typeof t._sent100=="boolean"&&_P(t)}function Jre(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Vre(t){if(!uf(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&DP(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Wre(t){var e;return!!(t&&((e=t[bP])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Zre(t){var e,r,n,o,i,s,a,c,d,f;return!!(t&&((e=(r=(n=(o=(i=(s=t[wP])!==null&&s!==void 0?s:t.readableErrored)!==null&&i!==void 0?i:t.writableErrored)!==null&&o!==void 0?o:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(d=t._readableState)===null||d===void 0?void 0:d.errored)!==null&&e!==void 0?e:!((f=t._writableState)===null||f===void 0)&&f.errored))}var Ud={kDestroyed:mP,isDisturbed:Wre,kIsDisturbed:bP,isErrored:Zre,kIsErrored:wP,isReadable:xP,kIsReadable:n8,kIsClosedPromise:Pre,kControllerErrorFunction:Ore,isClosed:Yre,isDestroyed:jv,isDuplexNodeStream:Kre,isFinished:$re,isIterable:Lre,isReadableNodeStream:qv,isReadableStream:EP,isReadableEnded:qre,isReadableFinished:QP,isReadableErrored:zre,isNodeStream:uf,isWebStream:Hre,isWritable:SP,isWritableNodeStream:$v,isWritableStream:vP,isWritableEnded:CP,isWritableFinished:Gre,isWritableErrored:jre,isServerRequest:Jre,isServerResponse:DP,willEmitClose:Vre,isTransformStream:BP};const Il=Au,{AbortError:kP,codes:Xre}=qo,{ERR_INVALID_ARG_TYPE:ene,ERR_STREAM_PREMATURE_CLOSE:Dk}=Xre,{kEmptyObject:i8,once:o8}=Fd,{validateAbortSignal:tne,validateFunction:rne,validateObject:nne,validateBoolean:ine}=Lv,{Promise:one,PromisePrototypeThen:sne}=Hn,{isClosed:ane,isReadable:kk,isReadableNodeStream:E2,isReadableStream:cne,isReadableFinished:Tk,isReadableErrored:Fk,isWritable:Mk,isWritableNodeStream:Uk,isWritableStream:fne,isWritableFinished:Rk,isWritableErrored:Nk,isNodeStream:dne,willEmitClose:lne,kIsClosedPromise:une}=Ud;function hne(t){return t.setHeader&&typeof t.abort=="function"}const s8=()=>{};function TP(t,e,r){var n,o;if(arguments.length===2?(r=e,e=i8):e==null?e=i8:nne(e,"options"),rne(r,"callback"),tne(e.signal,"options.signal"),r=o8(r),cne(t)||fne(t))return Ane(t,e,r);if(!dne(t))throw new ene("stream",["ReadableStream","WritableStream","Stream"],t);const i=(n=e.readable)!==null&&n!==void 0?n:E2(t),s=(o=e.writable)!==null&&o!==void 0?o:Uk(t),a=t._writableState,c=t._readableState,d=()=>{t.writable||u()};let f=lne(t)&&E2(t)===i&&Uk(t)===s,l=Rk(t,!1);const u=()=>{l=!0,t.destroyed&&(f=!1),!(f&&(!t.readable||i))&&(!i||p)&&r.call(t)};let p=Tk(t,!1);const A=()=>{p=!0,t.destroyed&&(f=!1),!(f&&(!t.writable||s))&&(!s||l)&&r.call(t)},h=Q=>{r.call(t,Q)};let y=ane(t);const v=()=>{y=!0;const Q=Nk(t)||Fk(t);if(Q&&typeof Q!="boolean")return r.call(t,Q);if(i&&!p&&E2(t,!0)&&!Tk(t,!1))return r.call(t,new Dk);if(s&&!l&&!Rk(t,!1))return r.call(t,new Dk);r.call(t)},B=()=>{y=!0;const Q=Nk(t)||Fk(t);if(Q&&typeof Q!="boolean")return r.call(t,Q);r.call(t)},S=()=>{t.req.on("finish",u)};hne(t)?(t.on("complete",u),f||t.on("abort",v),t.req?S():t.on("request",S)):s&&!a&&(t.on("end",d),t.on("close",d)),!f&&typeof t.aborted=="boolean"&&t.on("aborted",v),t.on("end",A),t.on("finish",u),e.error!==!1&&t.on("error",h),t.on("close",v),y?Il.nextTick(v):a!=null&&a.errorEmitted||c!=null&&c.errorEmitted?f||Il.nextTick(B):(!i&&(!f||kk(t))&&(l||Mk(t)===!1)||!s&&(!f||Mk(t))&&(p||kk(t)===!1)||c&&t.req&&t.aborted)&&Il.nextTick(B);const x=()=>{r=s8,t.removeListener("aborted",v),t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",S),t.req&&t.req.removeListener("finish",u),t.removeListener("end",d),t.removeListener("close",d),t.removeListener("finish",u),t.removeListener("end",A),t.removeListener("error",h),t.removeListener("close",v)};if(e.signal&&!y){const Q=()=>{const N=r;x(),N.call(t,new kP(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Il.nextTick(Q);else{const N=r;r=o8((...$)=>{e.signal.removeEventListener("abort",Q),N.apply(t,$)}),e.signal.addEventListener("abort",Q)}}return x}function Ane(t,e,r){let n=!1,o=s8;if(e.signal)if(o=()=>{n=!0,r.call(t,new kP(void 0,{cause:e.signal.reason}))},e.signal.aborted)Il.nextTick(o);else{const s=r;r=o8((...a)=>{e.signal.removeEventListener("abort",o),s.apply(t,a)}),e.signal.addEventListener("abort",o)}const i=(...s)=>{n||Il.nextTick(()=>r.apply(t,s))};return sne(t[une].promise,i,i),s8}function gne(t,e){var r;let n=!1;return e===null&&(e=i8),(r=e)!==null&&r!==void 0&&r.cleanup&&(ine(e.cleanup,"cleanup"),n=e.cleanup),new one((o,i)=>{const s=TP(t,e,a=>{n&&s(),a?i(a):o()})})}d4.exports=TP;d4.exports.finished=gne;var gu=d4.exports;const Lc=Au,{aggregateTwoErrors:pne,codes:{ERR_MULTIPLE_CALLBACK:yne},AbortError:Ine}=qo,{Symbol:FP}=Hn,{kDestroyed:mne,isDestroyed:wne,isFinished:bne,isServerRequest:Ene}=Ud,MP=FP("kDestroy"),a8=FP("kConstruct");function UP(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function vne(t,e){const r=this._readableState,n=this._writableState,o=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(UP(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?Pk(this,t,e):this.once(MP,function(i){Pk(this,pne(i,t),e)}),this)}function Pk(t,e,r){let n=!1;function o(i){if(n)return;n=!0;const s=t._readableState,a=t._writableState;UP(i,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(i),i?Lc.nextTick(Bne,t,i):Lc.nextTick(RP,t)}try{t._destroy(e||null,o)}catch(i){o(i)}}function Bne(t,e){c8(t,e),RP(t)}function RP(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function c8(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function Cne(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function f8(t,e,r){const n=t._readableState,o=t._writableState;if(o!=null&&o.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||o!=null&&o.autoDestroy?t.destroy(e):e&&(e.stack,o&&!o.errored&&(o.errored=e),n&&!n.errored&&(n.errored=e),r?Lc.nextTick(c8,t,e):c8(t,e))}function Qne(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(a8,e),!(t.listenerCount(a8)>1)&&Lc.nextTick(xne,t)}function xne(t){let e=!1;function r(n){if(e){f8(t,n??new yne);return}e=!0;const o=t._readableState,i=t._writableState,s=i||o;o&&(o.constructed=!0),i&&(i.constructed=!0),s.destroyed?t.emit(MP,n):n?f8(t,n,!0):Lc.nextTick(Sne,t)}try{t._construct(n=>{Lc.nextTick(r,n)})}catch(n){Lc.nextTick(r,n)}}function Sne(t){t.emit(a8)}function Ok(t){return t?.setHeader&&typeof t.abort=="function"}function NP(t){t.emit("close")}function _ne(t,e){t.emit("error",e),Lc.nextTick(NP,t)}function Dne(t,e){!t||wne(t)||(!e&&!bne(t)&&(e=new Ine),Ene(t)?(t.socket=null,t.destroy(e)):Ok(t)?t.abort():Ok(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Lc.nextTick(_ne,t,e):Lc.nextTick(NP,t),t.destroyed||(t[mne]=!0))}var G0={construct:Qne,destroyer:Dne,destroy:vne,undestroy:Cne,errorOrDestroy:f8};const{ArrayIsArray:kne,ObjectSetPrototypeOf:PP}=Hn,{EventEmitter:zv}=sA;function Yv(t){zv.call(this,t)}PP(Yv.prototype,zv.prototype);PP(Yv,zv);Yv.prototype.pipe=function(t,e){const r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}t.on("drain",o),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let i=!1;function s(){i||(i=!0,t.end())}function a(){i||(i=!0,typeof t.destroy=="function"&&t.destroy())}function c(f){d(),zv.listenerCount(this,"error")===0&&this.emit("error",f)}d8(r,"error",c),d8(t,"error",c);function d(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};function d8(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):kne(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var l4={Stream:Yv,prependListener:d8},OP={exports:{}};(function(t){const{AbortError:e,codes:r}=qo,{isNodeStream:n,isWebStream:o,kControllerErrorFunction:i}=Ud,s=gu,{ERR_INVALID_ARG_TYPE:a}=r,c=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new a(f,"AbortSignal",d)};t.exports.addAbortSignal=function(f,l){if(c(f,"signal"),!n(l)&&!o(l))throw new a("stream",["ReadableStream","WritableStream","Stream"],l);return t.exports.addAbortSignalNoValidate(f,l)},t.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;const l=n(f)?()=>{f.destroy(new e(void 0,{cause:d.reason}))}:()=>{f[i](new e(void 0,{cause:d.reason}))};return d.aborted?l():(d.addEventListener("abort",l),s(f,()=>d.removeEventListener("abort",l))),f}})(OP);var Jv=OP.exports;const{StringPrototypeSlice:Kk,SymbolIterator:Tne,TypedArrayPrototypeSet:mw,Uint8Array:Fne}=Hn,{Buffer:v2}=qe,{inspect:Mne}=Fd;var Une=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return v2.alloc(0);const r=v2.allocUnsafe(e>>>0);let n=this.head,o=0;for(;n;)mw(r,n.data,o),o+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const o=n.slice(0,e);return this.head.data=n.slice(e),o}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[Tne](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,o=0;do{const i=n.data;if(e>i.length)r+=i,e-=i.length;else{e===i.length?(r+=i,++o,n.next?this.head=n.next:this.head=this.tail=null):(r+=Kk(i,0,e),this.head=n,n.data=Kk(i,e));break}++o}while((n=n.next)!==null);return this.length-=o,r}_getBuffer(e){const r=v2.allocUnsafe(e),n=e;let o=this.head,i=0;do{const s=o.data;if(e>s.length)mw(r,s,n-e),e-=s.length;else{e===s.length?(mw(r,s,n-e),++i,o.next?this.head=o.next:this.head=this.tail=null):(mw(r,new Fne(s.buffer,s.byteOffset,e),n-e),this.head=o,o.data=s.slice(e));break}++i}while((o=o.next)!==null);return this.length-=i,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return Mne(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:Rne,NumberIsInteger:Nne}=Hn,{ERR_INVALID_ARG_VALUE:Pne}=qo.codes;function One(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function KP(t){return t?16:16*1024}function Kne(t,e,r,n){const o=One(e,n,r);if(o!=null){if(!Nne(o)||o<0){const i=n?`options.${r}`:"options.highWaterMark";throw new Pne(i,o)}return Rne(o)}return KP(t.objectMode)}var u4={getHighWaterMark:Kne,getDefaultHighWaterMark:KP},dI={},l8={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=qe,n=r.Buffer;function o(s,a){for(var c in s)a[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=i);function i(s,a,c){return n(s,a,c)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,c)},i.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var d=n(s);return a!==void 0?typeof c=="string"?d.fill(a,c):d.fill(a):d.fill(0),d},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(l8,l8.exports);var Mt=l8.exports,h4=Mt.Buffer,Hk=h4.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Hne(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Lne(t){var e=Hne(t);if(typeof e!="string"&&(h4.isEncoding===Hk||!Hk(t)))throw new Error("Unknown encoding: "+t);return e||t}dI.StringDecoder=JI;function JI(t){this.encoding=Lne(t);var e;switch(this.encoding){case"utf16le":this.text=Yne,this.end=Jne,e=4;break;case"utf8":this.fillLast=$ne,e=4;break;case"base64":this.text=Vne,this.end=Wne,e=3;break;default:this.write=Zne,this.end=Xne;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=h4.allocUnsafe(e)}JI.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};JI.prototype.end=zne;JI.prototype.text=jne;JI.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function B2(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Gne(t,e,r){var n=e.length-1;if(n<r)return 0;var o=B2(e[n]);return o>=0?(o>0&&(t.lastNeed=o-1),o):--n<r||o===-2?0:(o=B2(e[n]),o>=0?(o>0&&(t.lastNeed=o-2),o):--n<r||o===-2?0:(o=B2(e[n]),o>=0?(o>0&&(o===2?o=0:t.lastNeed=o-3),o):0))}function qne(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function $ne(t){var e=this.lastTotal-this.lastNeed,r=qne(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function jne(t,e){var r=Gne(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function zne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function Yne(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Jne(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Vne(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Wne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Zne(t){return t.toString(this.encoding)}function Xne(t){return t&&t.length?this.write(t):""}const Lk=Au,{PromisePrototypeThen:eie,SymbolAsyncIterator:Gk,SymbolIterator:qk}=Hn,{Buffer:tie}=qe,{ERR_INVALID_ARG_TYPE:rie,ERR_STREAM_NULL_VALUES:nie}=qo.codes;function iie(t,e,r){let n;if(typeof e=="string"||e instanceof tie)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let o;if(e&&e[Gk])o=!0,n=e[Gk]();else if(e&&e[qk])o=!1,n=e[qk]();else throw new rie("iterable",["Iterable"],e);const i=new t({objectMode:!0,highWaterMark:1,...r});let s=!1;i._read=function(){s||(s=!0,c())},i._destroy=function(d,f){eie(a(d),()=>Lk.nextTick(f,d),l=>Lk.nextTick(f,l||d))};async function a(d){const f=d!=null,l=typeof n.throw=="function";if(f&&l){const{value:u,done:p}=await n.throw(d);if(await u,p)return}if(typeof n.return=="function"){const{value:u}=await n.return();await u}}async function c(){for(;;){try{const{value:d,done:f}=o?await n.next():n.next();if(f)i.push(null);else{const l=d&&typeof d.then=="function"?await d:d;if(l===null)throw s=!1,new nie;if(i.push(l))continue;s=!1}}catch(d){i.destroy(d)}break}}return i}var HP=iie,C2,$k;function Vv(){if($k)return C2;$k=1;const t=Au,{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:o,ObjectDefineProperties:i,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:c,SafeSet:d,SymbolAsyncIterator:f,Symbol:l}=Hn;C2=I,I.ReadableState=D;const{EventEmitter:u}=sA,{Stream:p,prependListener:A}=l4,{Buffer:h}=qe,{addAbortSignal:y}=Jv,v=gu;let B=Fd.debuglog("stream",ie=>{B=ie});const S=Une,x=G0,{getHighWaterMark:Q,getDefaultHighWaterMark:N}=u4,{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:G,ERR_METHOD_NOT_IMPLEMENTED:z,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C}}=qo,{validateObject:m}=Lv,g=l("kPaused"),{StringDecoder:w}=dI,F=HP;a(I.prototype,p.prototype),a(I,p);const H=()=>{},{errorOrDestroy:K}=x;function D(ie,ae,le){typeof le!="boolean"&&(le=ae instanceof bd()),this.objectMode=!!(ie&&ie.objectMode),le&&(this.objectMode=this.objectMode||!!(ie&&ie.readableObjectMode)),this.highWaterMark=ie?Q(this,ie,"readableHighWaterMark",le):N(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[g]=null,this.errorEmitted=!1,this.emitClose=!ie||ie.emitClose!==!1,this.autoDestroy=!ie||ie.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=ie&&ie.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,ie&&ie.encoding&&(this.decoder=new w(ie.encoding),this.encoding=ie.encoding)}function I(ie){if(!(this instanceof I))return new I(ie);const ae=this instanceof bd();this._readableState=new D(ie,this,ae),ie&&(typeof ie.read=="function"&&(this._read=ie.read),typeof ie.destroy=="function"&&(this._destroy=ie.destroy),typeof ie.construct=="function"&&(this._construct=ie.construct),ie.signal&&!ae&&y(ie.signal,this)),p.call(this,ie),x.construct(this,()=>{this._readableState.needReadable&&re(this,this._readableState)})}I.prototype.destroy=x.destroy,I.prototype._undestroy=x.undestroy,I.prototype._destroy=function(ie,ae){ae(ie)},I.prototype[u.captureRejectionSymbol]=function(ie){this.destroy(ie)},I.prototype.push=function(ie,ae){return P(this,ie,ae,!1)},I.prototype.unshift=function(ie,ae){return P(this,ie,ae,!0)};function P(ie,ae,le,ge){B("readableAddChunk",ae);const me=ie._readableState;let ve;if(me.objectMode||(typeof ae=="string"?(le=le||me.defaultEncoding,me.encoding!==le&&(ge&&me.encoding?ae=h.from(ae,le).toString(me.encoding):(ae=h.from(ae,le),le=""))):ae instanceof h?le="":p._isUint8Array(ae)?(ae=p._uint8ArrayToBuffer(ae),le=""):ae!=null&&(ve=new G("chunk",["string","Buffer","Uint8Array"],ae))),ve)K(ie,ve);else if(ae===null)me.reading=!1,Z(ie,me);else if(me.objectMode||ae&&ae.length>0)if(ge)if(me.endEmitted)K(ie,new C);else{if(me.destroyed||me.errored)return!1;T(ie,me,ae,!0)}else if(me.ended)K(ie,new R);else{if(me.destroyed||me.errored)return!1;me.reading=!1,me.decoder&&!le?(ae=me.decoder.write(ae),me.objectMode||ae.length!==0?T(ie,me,ae,!1):re(ie,me)):T(ie,me,ae,!1)}else ge||(me.reading=!1,re(ie,me));return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function T(ie,ae,le,ge){ae.flowing&&ae.length===0&&!ae.sync&&ie.listenerCount("data")>0?(ae.multiAwaitDrain?ae.awaitDrainWriters.clear():ae.awaitDrainWriters=null,ae.dataEmitted=!0,ie.emit("data",le)):(ae.length+=ae.objectMode?1:le.length,ge?ae.buffer.unshift(le):ae.buffer.push(le),ae.needReadable&&ne(ie)),re(ie,ae)}I.prototype.isPaused=function(){const ie=this._readableState;return ie[g]===!0||ie.flowing===!1},I.prototype.setEncoding=function(ie){const ae=new w(ie);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;const le=this._readableState.buffer;let ge="";for(const me of le)ge+=ae.write(me);return le.clear(),ge!==""&&le.push(ge),this._readableState.length=ge.length,this};const V=1073741824;function ee(ie){if(ie>V)throw new Y("size","<= 1GiB",ie);return ie--,ie|=ie>>>1,ie|=ie>>>2,ie|=ie>>>4,ie|=ie>>>8,ie|=ie>>>16,ie++,ie}function se(ie,ae){return ie<=0||ae.length===0&&ae.ended?0:ae.objectMode?1:n(ie)?ae.flowing&&ae.length?ae.buffer.first().length:ae.length:ie<=ae.length?ie:ae.ended?ae.length:0}I.prototype.read=function(ie){B("read",ie),ie===void 0?ie=NaN:r(ie)||(ie=o(ie,10));const ae=this._readableState,le=ie;if(ie>ae.highWaterMark&&(ae.highWaterMark=ee(ie)),ie!==0&&(ae.emittedReadable=!1),ie===0&&ae.needReadable&&((ae.highWaterMark!==0?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return B("read: emitReadable",ae.length,ae.ended),ae.length===0&&ae.ended?te(this):ne(this),null;if(ie=se(ie,ae),ie===0&&ae.ended)return ae.length===0&&te(this),null;let ge=ae.needReadable;if(B("need readable",ge),(ae.length===0||ae.length-ie<ae.highWaterMark)&&(ge=!0,B("length less than watermark",ge)),ae.ended||ae.reading||ae.destroyed||ae.errored||!ae.constructed)ge=!1,B("reading, ended or constructing",ge);else if(ge){B("do read"),ae.reading=!0,ae.sync=!0,ae.length===0&&(ae.needReadable=!0);try{this._read(ae.highWaterMark)}catch(ve){K(this,ve)}ae.sync=!1,ae.reading||(ie=se(le,ae))}let me;return ie>0?me=J(ie,ae):me=null,me===null?(ae.needReadable=ae.length<=ae.highWaterMark,ie=0):(ae.length-=ie,ae.multiAwaitDrain?ae.awaitDrainWriters.clear():ae.awaitDrainWriters=null),ae.length===0&&(ae.ended||(ae.needReadable=!0),le!==ie&&ae.ended&&te(this)),me!==null&&!ae.errorEmitted&&!ae.closeEmitted&&(ae.dataEmitted=!0,this.emit("data",me)),me};function Z(ie,ae){if(B("onEofChunk"),!ae.ended){if(ae.decoder){const le=ae.decoder.end();le&&le.length&&(ae.buffer.push(le),ae.length+=ae.objectMode?1:le.length)}ae.ended=!0,ae.sync?ne(ie):(ae.needReadable=!1,ae.emittedReadable=!0,X(ie))}}function ne(ie){const ae=ie._readableState;B("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(B("emitReadable",ae.flowing),ae.emittedReadable=!0,t.nextTick(X,ie))}function X(ie){const ae=ie._readableState;B("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&!ae.errored&&(ae.length||ae.ended)&&(ie.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,U(ie)}function re(ie,ae){!ae.readingMore&&ae.constructed&&(ae.readingMore=!0,t.nextTick(W,ie,ae))}function W(ie,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&ae.length===0);){const le=ae.length;if(B("maybeReadMore read 0"),ie.read(0),le===ae.length)break}ae.readingMore=!1}I.prototype._read=function(ie){throw new z("_read()")},I.prototype.pipe=function(ie,ae){const le=this,ge=this._readableState;ge.pipes.length===1&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new d(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(ie),B("pipe count=%d opts=%j",ge.pipes.length,ae);const ve=(!ae||ae.end!==!1)&&ie!==t.stdout&&ie!==t.stderr?ut:rr;ge.endEmitted?t.nextTick(ve):le.once("end",ve),ie.on("unpipe",Ue);function Ue(et,$t){B("onunpipe"),et===le&&$t&&$t.hasUnpiped===!1&&($t.hasUnpiped=!0,We())}function ut(){B("onend"),ie.end()}let _e,Qt=!1;function We(){B("cleanup"),ie.removeListener("close",ht),ie.removeListener("finish",cr),_e&&ie.removeListener("drain",_e),ie.removeListener("error",ar),ie.removeListener("unpipe",Ue),le.removeListener("end",ut),le.removeListener("end",rr),le.removeListener("data",Le),Qt=!0,_e&&ge.awaitDrainWriters&&(!ie._writableState||ie._writableState.needDrain)&&_e()}function Fe(){Qt||(ge.pipes.length===1&&ge.pipes[0]===ie?(B("false write response, pause",0),ge.awaitDrainWriters=ie,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(ie)&&(B("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(ie)),le.pause()),_e||(_e=j(le,ie),ie.on("drain",_e))}le.on("data",Le);function Le(et){B("ondata");const $t=ie.write(et);B("dest.write",$t),$t===!1&&Fe()}function ar(et){if(B("onerror",et),rr(),ie.removeListener("error",ar),ie.listenerCount("error")===0){const $t=ie._writableState||ie._readableState;$t&&!$t.errorEmitted?K(ie,et):ie.emit("error",et)}}A(ie,"error",ar);function ht(){ie.removeListener("finish",cr),rr()}ie.once("close",ht);function cr(){B("onfinish"),ie.removeListener("close",ht),rr()}ie.once("finish",cr);function rr(){B("unpipe"),le.unpipe(ie)}return ie.emit("pipe",le),ie.writableNeedDrain===!0?ge.flowing&&Fe():ge.flowing||(B("pipe resume"),le.resume()),ie};function j(ie,ae){return function(){const ge=ie._readableState;ge.awaitDrainWriters===ae?(B("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(B("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(ae)),(!ge.awaitDrainWriters||ge.awaitDrainWriters.size===0)&&ie.listenerCount("data")&&ie.resume()}}I.prototype.unpipe=function(ie){const ae=this._readableState,le={hasUnpiped:!1};if(ae.pipes.length===0)return this;if(!ie){const me=ae.pipes;ae.pipes=[],this.pause();for(let ve=0;ve<me.length;ve++)me[ve].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=e(ae.pipes,ie);return ge===-1?this:(ae.pipes.splice(ge,1),ae.pipes.length===0&&this.pause(),ie.emit("unpipe",this,le),this)},I.prototype.on=function(ie,ae){const le=p.prototype.on.call(this,ie,ae),ge=this._readableState;return ie==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):ie==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,B("on readable",ge.length,ge.reading),ge.length?ne(this):ge.reading||t.nextTick(E,this)),le},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(ie,ae){const le=p.prototype.removeListener.call(this,ie,ae);return ie==="readable"&&t.nextTick(M,this),le},I.prototype.off=I.prototype.removeListener,I.prototype.removeAllListeners=function(ie){const ae=p.prototype.removeAllListeners.apply(this,arguments);return(ie==="readable"||ie===void 0)&&t.nextTick(M,this),ae};function M(ie){const ae=ie._readableState;ae.readableListening=ie.listenerCount("readable")>0,ae.resumeScheduled&&ae[g]===!1?ae.flowing=!0:ie.listenerCount("data")>0?ie.resume():ae.readableListening||(ae.flowing=null)}function E(ie){B("readable nexttick read 0"),ie.read(0)}I.prototype.resume=function(){const ie=this._readableState;return ie.flowing||(B("resume"),ie.flowing=!ie.readableListening,b(this,ie)),ie[g]=!1,this};function b(ie,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,t.nextTick(k,ie,ae))}function k(ie,ae){B("resume",ae.reading),ae.reading||ie.read(0),ae.resumeScheduled=!1,ie.emit("resume"),U(ie),ae.flowing&&!ae.reading&&ie.read(0)}I.prototype.pause=function(){return B("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(B("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[g]=!0,this};function U(ie){const ae=ie._readableState;for(B("flow",ae.flowing);ae.flowing&&ie.read()!==null;);}I.prototype.wrap=function(ie){let ae=!1;ie.on("data",ge=>{!this.push(ge)&&ie.pause&&(ae=!0,ie.pause())}),ie.on("end",()=>{this.push(null)}),ie.on("error",ge=>{K(this,ge)}),ie.on("close",()=>{this.destroy()}),ie.on("destroy",()=>{this.destroy()}),this._read=()=>{ae&&ie.resume&&(ae=!1,ie.resume())};const le=s(ie);for(let ge=1;ge<le.length;ge++){const me=le[ge];this[me]===void 0&&typeof ie[me]=="function"&&(this[me]=ie[me].bind(ie))}return this},I.prototype[f]=function(){return _(this)},I.prototype.iterator=function(ie){return ie!==void 0&&m(ie,"options"),_(this,ie)};function _(ie,ae){typeof ie.read!="function"&&(ie=I.wrap(ie,{objectMode:!0}));const le=L(ie,ae);return le.stream=ie,le}async function*L(ie,ae){let le=H;function ge(Ue){this===ie?(le(),le=H):le=Ue}ie.on("readable",ge);let me;const ve=v(ie,{writable:!1},Ue=>{me=Ue?$(me,Ue):null,le(),le=H});try{for(;;){const Ue=ie.destroyed?null:ie.read();if(Ue!==null)yield Ue;else{if(me)throw me;if(me===null)return;await new c(ge)}}}catch(Ue){throw me=$(me,Ue),me}finally{(me||ae?.destroyOnReturn!==!1)&&(me===void 0||ie._readableState.autoDestroy)?x.destroyer(ie,null):(ie.off("readable",ge),ve())}}i(I.prototype,{readable:{__proto__:null,get(){const ie=this._readableState;return!!ie&&ie.readable!==!1&&!ie.destroyed&&!ie.errorEmitted&&!ie.endEmitted},set(ie){this._readableState&&(this._readableState.readable=!!ie)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ie){this._readableState&&(this._readableState.flowing=ie)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ie){this._readableState&&(this._readableState.destroyed=ie)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(D.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[g]!==!1},set(ie){this[g]=!!ie}}}),I._fromList=J;function J(ie,ae){if(ae.length===0)return null;let le;return ae.objectMode?le=ae.buffer.shift():!ie||ie>=ae.length?(ae.decoder?le=ae.buffer.join(""):ae.buffer.length===1?le=ae.buffer.first():le=ae.buffer.concat(ae.length),ae.buffer.clear()):le=ae.buffer.consume(ie,ae.decoder),le}function te(ie){const ae=ie._readableState;B("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,t.nextTick(oe,ae,ie))}function oe(ie,ae){if(B("endReadableNT",ie.endEmitted,ie.length),!ie.errored&&!ie.closeEmitted&&!ie.endEmitted&&ie.length===0){if(ie.endEmitted=!0,ae.emit("end"),ae.writable&&ae.allowHalfOpen===!1)t.nextTick(fe,ae);else if(ie.autoDestroy){const le=ae._writableState;(!le||le.autoDestroy&&(le.finished||le.writable===!1))&&ae.destroy()}}}function fe(ie){ie.writable&&!ie.writableEnded&&!ie.destroyed&&ie.end()}I.from=function(ie,ae){return F(I,ie,ae)};let ue;function Ae(){return ue===void 0&&(ue={}),ue}return I.fromWeb=function(ie,ae){return Ae().newStreamReadableFromReadableStream(ie,ae)},I.toWeb=function(ie,ae){return Ae().newReadableStreamFromStreamReadable(ie,ae)},I.wrap=function(ie,ae){var le,ge;return new I({objectMode:(le=(ge=ie.readableObjectMode)!==null&&ge!==void 0?ge:ie.objectMode)!==null&&le!==void 0?le:!0,...ae,destroy(me,ve){x.destroyer(ie,me),ve(me)}}).wrap(ie)},C2}var Q2,jk;function LP(){if(jk)return Q2;jk=1;const t=Au,{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:o,ObjectDefineProperties:i,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:c,SymbolHasInstance:d}=Hn;Q2=w,w.WritableState=m;const{EventEmitter:f}=sA,l=l4.Stream,{Buffer:u}=qe,p=G0,{addAbortSignal:A}=Jv,{getHighWaterMark:h,getDefaultHighWaterMark:y}=u4,{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:Q,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:$,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:z}=qo.codes,{errorOrDestroy:Y}=p;s(w.prototype,l.prototype),s(w,l);function R(){}const C=c("kOnFinished");function m(E,b,k){typeof k!="boolean"&&(k=b instanceof bd()),this.objectMode=!!(E&&E.objectMode),k&&(this.objectMode=this.objectMode||!!(E&&E.writableObjectMode)),this.highWaterMark=E?h(this,E,"writableHighWaterMark",k):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const U=!!(E&&E.decodeStrings===!1);this.decodeStrings=!U,this.defaultEncoding=E&&E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=I.bind(void 0,b),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,g(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!E||E.emitClose!==!1,this.autoDestroy=!E||E.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[C]=[]}function g(E){E.buffered=[],E.bufferedIndex=0,E.allBuffers=!0,E.allNoop=!0}m.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},o(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function w(E){const b=this instanceof bd();if(!b&&!n(w,this))return new w(E);this._writableState=new m(E,this,b),E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final),typeof E.construct=="function"&&(this._construct=E.construct),E.signal&&A(E.signal,this)),l.call(this,E),p.construct(this,()=>{const k=this._writableState;k.writing||ee(this,k),X(this,k)})}o(w,d,{__proto__:null,value:function(E){return n(this,E)?!0:this!==w?!1:E&&E._writableState instanceof m}}),w.prototype.pipe=function(){Y(this,new x)};function F(E,b,k,U){const _=E._writableState;if(typeof k=="function")U=k,k=_.defaultEncoding;else{if(!k)k=_.defaultEncoding;else if(k!=="buffer"&&!u.isEncoding(k))throw new z(k);typeof U!="function"&&(U=R)}if(b===null)throw new $;if(!_.objectMode)if(typeof b=="string")_.decodeStrings!==!1&&(b=u.from(b,k),k="buffer");else if(b instanceof u)k="buffer";else if(l._isUint8Array(b))b=l._uint8ArrayToBuffer(b),k="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],b);let L;return _.ending?L=new G:_.destroyed&&(L=new Q("write")),L?(t.nextTick(U,L),Y(E,L,!0),L):(_.pendingcb++,H(E,_,b,k,U))}w.prototype.write=function(E,b,k){return F(this,E,b,k)===!0},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){const E=this._writableState;E.corked&&(E.corked--,E.writing||ee(this,E))},w.prototype.setDefaultEncoding=function(b){if(typeof b=="string"&&(b=a(b)),!u.isEncoding(b))throw new z(b);return this._writableState.defaultEncoding=b,this};function H(E,b,k,U,_){const L=b.objectMode?1:k.length;b.length+=L;const J=b.length<b.highWaterMark;return J||(b.needDrain=!0),b.writing||b.corked||b.errored||!b.constructed?(b.buffered.push({chunk:k,encoding:U,callback:_}),b.allBuffers&&U!=="buffer"&&(b.allBuffers=!1),b.allNoop&&_!==R&&(b.allNoop=!1)):(b.writelen=L,b.writecb=_,b.writing=!0,b.sync=!0,E._write(k,U,b.onwrite),b.sync=!1),J&&!b.errored&&!b.destroyed}function K(E,b,k,U,_,L,J){b.writelen=U,b.writecb=J,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new Q("write")):k?E._writev(_,b.onwrite):E._write(_,L,b.onwrite),b.sync=!1}function D(E,b,k,U){--b.pendingcb,U(k),V(b),Y(E,k)}function I(E,b){const k=E._writableState,U=k.sync,_=k.writecb;if(typeof _!="function"){Y(E,new S);return}k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0,b?(b.stack,k.errored||(k.errored=b),E._readableState&&!E._readableState.errored&&(E._readableState.errored=b),U?t.nextTick(D,E,k,b,_):D(E,k,b,_)):(k.buffered.length>k.bufferedIndex&&ee(E,k),U?k.afterWriteTickInfo!==null&&k.afterWriteTickInfo.cb===_?k.afterWriteTickInfo.count++:(k.afterWriteTickInfo={count:1,cb:_,stream:E,state:k},t.nextTick(P,k.afterWriteTickInfo)):T(E,k,1,_))}function P({stream:E,state:b,count:k,cb:U}){return b.afterWriteTickInfo=null,T(E,b,k,U)}function T(E,b,k,U){for(!b.ending&&!E.destroyed&&b.length===0&&b.needDrain&&(b.needDrain=!1,E.emit("drain"));k-- >0;)b.pendingcb--,U();b.destroyed&&V(b),X(E,b)}function V(E){if(E.writing)return;for(let _=E.bufferedIndex;_<E.buffered.length;++_){var b;const{chunk:L,callback:J}=E.buffered[_],te=E.objectMode?1:L.length;E.length-=te,J((b=E.errored)!==null&&b!==void 0?b:new Q("write"))}const k=E[C].splice(0);for(let _=0;_<k.length;_++){var U;k[_]((U=E.errored)!==null&&U!==void 0?U:new Q("end"))}g(E)}function ee(E,b){if(b.corked||b.bufferProcessing||b.destroyed||!b.constructed)return;const{buffered:k,bufferedIndex:U,objectMode:_}=b,L=k.length-U;if(!L)return;let J=U;if(b.bufferProcessing=!0,L>1&&E._writev){b.pendingcb-=L-1;const te=b.allNoop?R:fe=>{for(let ue=J;ue<k.length;++ue)k[ue].callback(fe)},oe=b.allNoop&&J===0?k:e(k,J);oe.allBuffers=b.allBuffers,K(E,b,!0,b.length,oe,"",te),g(b)}else{do{const{chunk:te,encoding:oe,callback:fe}=k[J];k[J++]=null;const ue=_?1:te.length;K(E,b,!1,ue,te,oe,fe)}while(J<k.length&&!b.writing);J===k.length?g(b):J>256?(k.splice(0,J),b.bufferedIndex=0):b.bufferedIndex=J}b.bufferProcessing=!1}w.prototype._write=function(E,b,k){if(this._writev)this._writev([{chunk:E,encoding:b}],k);else throw new B("_write()")},w.prototype._writev=null,w.prototype.end=function(E,b,k){const U=this._writableState;typeof E=="function"?(k=E,E=null,b=null):typeof b=="function"&&(k=b,b=null);let _;if(E!=null){const L=F(this,E,b);L instanceof r&&(_=L)}return U.corked&&(U.corked=1,this.uncork()),_||(!U.errored&&!U.ending?(U.ending=!0,X(this,U,!0),U.ended=!0):U.finished?_=new N("end"):U.destroyed&&(_=new Q("end"))),typeof k=="function"&&(_||U.finished?t.nextTick(k,_):U[C].push(k)),this};function se(E){return E.ending&&!E.destroyed&&E.constructed&&E.length===0&&!E.errored&&E.buffered.length===0&&!E.finished&&!E.writing&&!E.errorEmitted&&!E.closeEmitted}function Z(E,b){let k=!1;function U(_){if(k){Y(E,_??S());return}if(k=!0,b.pendingcb--,_){const L=b[C].splice(0);for(let J=0;J<L.length;J++)L[J](_);Y(E,_,b.sync)}else se(b)&&(b.prefinished=!0,E.emit("prefinish"),b.pendingcb++,t.nextTick(re,E,b))}b.sync=!0,b.pendingcb++;try{E._final(U)}catch(_){U(_)}b.sync=!1}function ne(E,b){!b.prefinished&&!b.finalCalled&&(typeof E._final=="function"&&!b.destroyed?(b.finalCalled=!0,Z(E,b)):(b.prefinished=!0,E.emit("prefinish")))}function X(E,b,k){se(b)&&(ne(E,b),b.pendingcb===0&&(k?(b.pendingcb++,t.nextTick((U,_)=>{se(_)?re(U,_):_.pendingcb--},E,b)):se(b)&&(b.pendingcb++,re(E,b))))}function re(E,b){b.pendingcb--,b.finished=!0;const k=b[C].splice(0);for(let U=0;U<k.length;U++)k[U]();if(E.emit("finish"),b.autoDestroy){const U=E._readableState;(!U||U.autoDestroy&&(U.endEmitted||U.readable===!1))&&E.destroy()}}i(w.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(E){this._writableState&&(this._writableState.destroyed=E)}},writable:{__proto__:null,get(){const E=this._writableState;return!!E&&E.writable!==!1&&!E.destroyed&&!E.errored&&!E.ending&&!E.ended},set(E){this._writableState&&(this._writableState.writable=!!E)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const E=this._writableState;return E?!E.destroyed&&!E.ending&&E.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const W=p.destroy;w.prototype.destroy=function(E,b){const k=this._writableState;return!k.destroyed&&(k.bufferedIndex<k.buffered.length||k[C].length)&&t.nextTick(V,k),W.call(this,E,b),this},w.prototype._undestroy=p.undestroy,w.prototype._destroy=function(E,b){b(E)},w.prototype[f.captureRejectionSymbol]=function(E){this.destroy(E)};let j;function M(){return j===void 0&&(j={}),j}return w.fromWeb=function(E,b){return M().newStreamWritableFromWritableStream(E,b)},w.toWeb=function(E){return M().newWritableStreamFromStreamWritable(E)},Q2}var x2,zk;function oie(){if(zk)return x2;zk=1;const t=Au,e=qe,{isReadable:r,isWritable:n,isIterable:o,isNodeStream:i,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:c}=Ud,d=gu,{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:u}}=qo,{destroyer:p}=G0,A=bd(),h=Vv(),{createDeferredPromise:y}=Fd,v=HP,B=globalThis.Blob||e.Blob,S=typeof B<"u"?function(Y){return Y instanceof B}:function(Y){return!1},x=globalThis.AbortController||o4().AbortController,{FunctionPrototypeCall:Q}=Hn;class N extends A{constructor(Y){super(Y),Y?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Y?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}x2=function z(Y,R){if(c(Y))return Y;if(s(Y))return G({readable:Y});if(a(Y))return G({writable:Y});if(i(Y))return G({writable:!1,readable:!1});if(typeof Y=="function"){const{value:m,write:g,final:w,destroy:F}=$(Y);if(o(m))return v(N,m,{objectMode:!0,write:g,final:w,destroy:F});const H=m?.then;if(typeof H=="function"){let K;const D=Q(H,m,I=>{if(I!=null)throw new u("nully","body",I)},I=>{p(K,I)});return K=new N({objectMode:!0,readable:!1,write:g,final(I){w(async()=>{try{await D,t.nextTick(I,null)}catch(P){t.nextTick(I,P)}})},destroy:F})}throw new u("Iterable, AsyncIterable or AsyncFunction",R,m)}if(S(Y))return z(Y.arrayBuffer());if(o(Y))return v(N,Y,{objectMode:!0,writable:!1});if(typeof Y?.writable=="object"||typeof Y?.readable=="object"){const m=Y!=null&&Y.readable?s(Y?.readable)?Y?.readable:z(Y.readable):void 0,g=Y!=null&&Y.writable?a(Y?.writable)?Y?.writable:z(Y.writable):void 0;return G({readable:m,writable:g})}const C=Y?.then;if(typeof C=="function"){let m;return Q(C,Y,g=>{g!=null&&m.push(g),m.push(null)},g=>{p(m,g)}),m=new N({objectMode:!0,writable:!1,read(){}})}throw new l(R,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Y)};function $(z){let{promise:Y,resolve:R}=y();const C=new x,m=C.signal;return{value:z(async function*(){for(;;){const w=Y;Y=null;const{chunk:F,done:H,cb:K}=await w;if(t.nextTick(K),H)return;if(m.aborted)throw new f(void 0,{cause:m.reason});({promise:Y,resolve:R}=y()),yield F}}(),{signal:m}),write(w,F,H){const K=R;R=null,K({chunk:w,done:!1,cb:H})},final(w){const F=R;R=null,F({done:!0,cb:w})},destroy(w,F){C.abort(),F(w)}}}function G(z){const Y=z.readable&&typeof z.readable.read!="function"?h.wrap(z.readable):z.readable,R=z.writable;let C=!!r(Y),m=!!n(R),g,w,F,H,K;function D(I){const P=H;H=null,P?P(I):I&&K.destroy(I)}return K=new N({readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writableObjectMode:!!(R!=null&&R.writableObjectMode),readable:C,writable:m}),m&&(d(R,I=>{m=!1,I&&p(Y,I),D(I)}),K._write=function(I,P,T){R.write(I,P)?T():g=T},K._final=function(I){R.end(),w=I},R.on("drain",function(){if(g){const I=g;g=null,I()}}),R.on("finish",function(){if(w){const I=w;w=null,I()}})),C&&(d(Y,I=>{C=!1,I&&p(Y,I),D(I)}),Y.on("readable",function(){if(F){const I=F;F=null,I()}}),Y.on("end",function(){K.push(null)}),K._read=function(){for(;;){const I=Y.read();if(I===null){F=K._read;return}if(!K.push(I))return}}),K._destroy=function(I,P){!I&&H!==null&&(I=new f),F=null,g=null,w=null,H===null?P(I):(H=P,p(R,I),p(Y,I))},K}return x2}var S2,Yk;function bd(){if(Yk)return S2;Yk=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=Hn;S2=s;const o=Vv(),i=LP();n(s.prototype,o.prototype),n(s,o);{const f=r(i.prototype);for(let l=0;l<f.length;l++){const u=f[l];s.prototype[u]||(s.prototype[u]=i.prototype[u])}}function s(f){if(!(this instanceof s))return new s(f);o.call(this,f),i.call(this,f),f?(this.allowHalfOpen=f.allowHalfOpen!==!1,f.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),f.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(i.prototype,"writableLength")},writableFinished:{__proto__:null,...e(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(f){this._readableState&&this._writableState&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}});let a;function c(){return a===void 0&&(a={}),a}s.fromWeb=function(f,l){return c().newStreamDuplexFromReadableWritablePair(f,l)},s.toWeb=function(f){return c().newReadableWritablePairFromDuplex(f)};let d;return s.from=function(f){return d||(d=oie()),d(f,"body")},S2}const{ObjectSetPrototypeOf:GP,Symbol:sie}=Hn;var qP=Ed;const{ERR_METHOD_NOT_IMPLEMENTED:aie}=qo.codes,A4=bd(),{getHighWaterMark:cie}=u4;GP(Ed.prototype,A4.prototype);GP(Ed,A4);const Qy=sie("kCallback");function Ed(t){if(!(this instanceof Ed))return new Ed(t);const e=t?cie(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),A4.call(this,t),this._readableState.sync=!1,this[Qy]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",fie)}function u8(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function fie(){this._final!==u8&&u8.call(this)}Ed.prototype._final=u8;Ed.prototype._transform=function(t,e,r){throw new aie("_transform()")};Ed.prototype._write=function(t,e,r){const n=this._readableState,o=this._writableState,i=n.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),o.ended||i===n.length||n.length<n.highWaterMark?r():this[Qy]=r})};Ed.prototype._read=function(){if(this[Qy]){const t=this[Qy];this[Qy]=null,t()}};const{ObjectSetPrototypeOf:$P}=Hn;var jP=Wg;const g4=qP;$P(Wg.prototype,g4.prototype);$P(Wg,g4);function Wg(t){if(!(this instanceof Wg))return new Wg(t);g4.call(this,t)}Wg.prototype._transform=function(t,e,r){r(null,t)};const ly=Au,{ArrayIsArray:die,Promise:lie,SymbolAsyncIterator:uie}=Hn,Db=gu,{once:hie}=Fd,Aie=G0,Jk=bd(),{aggregateTwoErrors:gie,codes:{ERR_INVALID_ARG_TYPE:h8,ERR_INVALID_RETURN_VALUE:_2,ERR_MISSING_ARGS:pie,ERR_STREAM_DESTROYED:yie,ERR_STREAM_PREMATURE_CLOSE:Iie},AbortError:mie}=qo,{validateFunction:wie,validateAbortSignal:bie}=Lv,{isIterable:Ju,isReadable:D2,isReadableNodeStream:N1,isNodeStream:Vk,isTransformStream:WA,isWebStream:Eie,isReadableStream:k2,isReadableEnded:vie}=Ud,Bie=globalThis.AbortController||o4().AbortController;let T2,F2;function Wk(t,e,r){let n=!1;t.on("close",()=>{n=!0});const o=Db(t,{readable:e,writable:r},i=>{n=!i});return{destroy:i=>{n||(n=!0,Aie.destroyer(t,i||new yie("pipe")))},cleanup:o}}function Cie(t){return wie(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function M2(t){if(Ju(t))return t;if(N1(t))return Qie(t);throw new h8("val",["Readable","Iterable","AsyncIterable"],t)}async function*Qie(t){F2||(F2=Vv()),yield*F2.prototype[uie].call(t)}async function ww(t,e,r,{end:n}){let o,i=null;const s=d=>{if(d&&(o=d),i){const f=i;i=null,f()}},a=()=>new lie((d,f)=>{o?f(o):i=()=>{o?f(o):d()}});e.on("drain",s);const c=Db(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(const d of t)e.write(d)||await a();n&&e.end(),await a(),r()}catch(d){r(o!==d?gie(o,d):d)}finally{c(),e.off("drain",s)}}async function U2(t,e,r,{end:n}){WA(e)&&(e=e.writable);const o=e.getWriter();try{for await(const i of t)await o.ready,o.write(i).catch(()=>{});await o.ready,n&&await o.close(),r()}catch(i){try{await o.abort(i),r(i)}catch(s){r(s)}}}function xie(...t){return zP(t,hie(Cie(t)))}function zP(t,e,r){if(t.length===1&&die(t[0])&&(t=t[0]),t.length<2)throw new pie("streams");const n=new Bie,o=n.signal,i=r?.signal,s=[];bie(i,"options.signal");function a(){p(new mie)}i?.addEventListener("abort",a);let c,d;const f=[];let l=0;function u(B){p(B,--l===0)}function p(B,S){if(B&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=B),!(!c&&!S)){for(;f.length;)f.shift()(c);i?.removeEventListener("abort",a),n.abort(),S&&(c||s.forEach(x=>x()),ly.nextTick(e,c,d))}}let A;for(let B=0;B<t.length;B++){const S=t[B],x=B<t.length-1,Q=B>0,N=x||r?.end!==!1,$=B===t.length-1;if(Vk(S)){let G=function(z){z&&z.name!=="AbortError"&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&u(z)};var v=G;if(N){const{destroy:z,cleanup:Y}=Wk(S,x,Q);f.push(z),D2(S)&&$&&s.push(Y)}S.on("error",G),D2(S)&&$&&s.push(()=>{S.removeListener("error",G)})}if(B===0)if(typeof S=="function"){if(A=S({signal:o}),!Ju(A))throw new _2("Iterable, AsyncIterable or Stream","source",A)}else Ju(S)||N1(S)||WA(S)?A=S:A=Jk.from(S);else if(typeof S=="function"){if(WA(A)){var h;A=M2((h=A)===null||h===void 0?void 0:h.readable)}else A=M2(A);if(A=S(A,{signal:o}),x){if(!Ju(A,!0))throw new _2("AsyncIterable",`transform[${B-1}]`,A)}else{var y;T2||(T2=jP);const G=new T2({objectMode:!0}),z=(y=A)===null||y===void 0?void 0:y.then;if(typeof z=="function")l++,z.call(A,C=>{d=C,C!=null&&G.write(C),N&&G.end(),ly.nextTick(u)},C=>{G.destroy(C),ly.nextTick(u,C)});else if(Ju(A,!0))l++,ww(A,G,u,{end:N});else if(k2(A)||WA(A)){const C=A.readable||A;l++,ww(C,G,u,{end:N})}else throw new _2("AsyncIterable or Promise","destination",A);A=G;const{destroy:Y,cleanup:R}=Wk(A,!1,!0);f.push(Y),$&&s.push(R)}}else if(Vk(S)){if(N1(A)){l+=2;const G=Sie(A,S,u,{end:N});D2(S)&&$&&s.push(G)}else if(WA(A)||k2(A)){const G=A.readable||A;l++,ww(G,S,u,{end:N})}else if(Ju(A))l++,ww(A,S,u,{end:N});else throw new h8("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=S}else if(Eie(S)){if(N1(A))l++,U2(M2(A),S,u,{end:N});else if(k2(A)||Ju(A))l++,U2(A,S,u,{end:N});else if(WA(A))l++,U2(A.readable,S,u,{end:N});else throw new h8("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],A);A=S}else A=Jk.from(S)}return(o!=null&&o.aborted||i!=null&&i.aborted)&&ly.nextTick(a),A}function Sie(t,e,r,{end:n}){let o=!1;if(e.on("close",()=>{o||r(new Iie)}),t.pipe(e,{end:!1}),n){let s=function(){o=!0,e.end()};var i=s;vie(t)?ly.nextTick(s):t.once("end",s)}else r();return Db(t,{readable:!0,writable:!1},s=>{const a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s)}),Db(e,{readable:!1,writable:!0},r)}var p4={pipelineImpl:zP,pipeline:xie};const{pipeline:_ie}=p4,bw=bd(),{destroyer:Die}=G0,{isNodeStream:Ew,isReadable:Zk,isWritable:Xk,isWebStream:R2,isTransformStream:Uu,isWritableStream:eT,isReadableStream:tT}=Ud,{AbortError:kie,codes:{ERR_INVALID_ARG_VALUE:rT,ERR_MISSING_ARGS:Tie}}=qo,Fie=gu;var YP=function(...e){if(e.length===0)throw new Tie("streams");if(e.length===1)return bw.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=bw.from(e[0])),typeof e[e.length-1]=="function"){const p=e.length-1;e[p]=bw.from(e[p])}for(let p=0;p<e.length;++p)if(!(!Ew(e[p])&&!R2(e[p]))){if(p<e.length-1&&!(Zk(e[p])||tT(e[p])||Uu(e[p])))throw new rT(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(Xk(e[p])||eT(e[p])||Uu(e[p])))throw new rT(`streams[${p}]`,r[p],"must be writable")}let n,o,i,s,a;function c(p){const A=s;s=null,A?A(p):p?a.destroy(p):!u&&!l&&a.destroy()}const d=e[0],f=_ie(e,c),l=!!(Xk(d)||eT(d)||Uu(d)),u=!!(Zk(f)||tT(f)||Uu(f));if(a=new bw({writableObjectMode:!!(d!=null&&d.writableObjectMode),readableObjectMode:!!(f!=null&&f.writableObjectMode),writable:l,readable:u}),l){if(Ew(d))a._write=function(A,h,y){d.write(A,h)?y():n=y},a._final=function(A){d.end(),o=A},d.on("drain",function(){if(n){const A=n;n=null,A()}});else if(R2(d)){const h=(Uu(d)?d.writable:d).getWriter();a._write=async function(y,v,B){try{await h.ready,h.write(y).catch(()=>{}),B()}catch(S){B(S)}},a._final=async function(y){try{await h.ready,h.close().catch(()=>{}),o=y}catch(v){y(v)}}}const p=Uu(f)?f.readable:f;Fie(p,()=>{if(o){const A=o;o=null,A()}})}if(u){if(Ew(f))f.on("readable",function(){if(i){const p=i;i=null,p()}}),f.on("end",function(){a.push(null)}),a._read=function(){for(;;){const p=f.read();if(p===null){i=a._read;return}if(!a.push(p))return}};else if(R2(f)){const A=(Uu(f)?f.readable:f).getReader();a._read=async function(){for(;;)try{const{value:h,done:y}=await A.read();if(!a.push(h))return;if(y){a.push(null);return}}catch{return}}}}return a._destroy=function(p,A){!p&&s!==null&&(p=new kie),i=null,n=null,o=null,s===null?A(p):(s=A,Ew(f)&&Die(f,p))},a};const JP=globalThis.AbortController||o4().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Mie,ERR_INVALID_ARG_TYPE:VI,ERR_MISSING_ARGS:Uie,ERR_OUT_OF_RANGE:Rie},AbortError:Xc}=qo,{validateAbortSignal:cA,validateInteger:Nie,validateObject:fA}=Lv,Pie=Hn.Symbol("kWeak"),{finished:Oie}=gu,Kie=YP,{addAbortSignalNoValidate:Hie}=Jv,{isWritable:Lie,isNodeStream:Gie}=Ud,{ArrayPrototypePush:qie,MathFloor:$ie,Number:jie,NumberIsNaN:zie,Promise:nT,PromiseReject:iT,PromisePrototypeThen:Yie,Symbol:VP}=Hn,kb=VP("kEmpty"),oT=VP("kEof");function Jie(t,e){if(e!=null&&fA(e,"options"),e?.signal!=null&&cA(e.signal,"options.signal"),Gie(t)&&!Lie(t))throw new Mie("stream",t,"must be writable");const r=Kie(this,t);return e!=null&&e.signal&&Hie(e.signal,r),r}function Wv(t,e){if(typeof t!="function")throw new VI("fn",["Function","AsyncFunction"],t);e!=null&&fA(e,"options"),e?.signal!=null&&cA(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=$ie(e.concurrency)),Nie(r,"concurrency",1),async function*(){var o,i;const s=new JP,a=this,c=[],d=s.signal,f={signal:d},l=()=>s.abort();e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted&&l(),e==null||(i=e.signal)===null||i===void 0||i.addEventListener("abort",l);let u,p,A=!1;function h(){A=!0}async function y(){try{for await(let S of a){var v;if(A)return;if(d.aborted)throw new Xc;try{S=t(S,f)}catch(x){S=iT(x)}S!==kb&&(typeof((v=S)===null||v===void 0?void 0:v.catch)=="function"&&S.catch(h),c.push(S),u&&(u(),u=null),!A&&c.length&&c.length>=r&&await new nT(x=>{p=x}))}c.push(oT)}catch(S){const x=iT(S);Yie(x,void 0,h),c.push(x)}finally{var B;A=!0,u&&(u(),u=null),e==null||(B=e.signal)===null||B===void 0||B.removeEventListener("abort",l)}}y();try{for(;;){for(;c.length>0;){const v=await c[0];if(v===oT)return;if(d.aborted)throw new Xc;v!==kb&&(yield v),c.shift(),p&&(p(),p=null)}await new nT(v=>{u=v})}}finally{s.abort(),A=!0,p&&(p(),p=null)}}.call(this)}function Vie(t=void 0){return t!=null&&fA(t,"options"),t?.signal!=null&&cA(t.signal,"options.signal"),async function*(){let r=0;for await(const o of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Xc({cause:t.signal.reason});yield[r++,o]}}.call(this)}async function WP(t,e=void 0){for await(const r of y4.call(this,t,e))return!0;return!1}async function Wie(t,e=void 0){if(typeof t!="function")throw new VI("fn",["Function","AsyncFunction"],t);return!await WP.call(this,async(...r)=>!await t(...r),e)}async function Zie(t,e){for await(const r of y4.call(this,t,e))return r}async function Xie(t,e){if(typeof t!="function")throw new VI("fn",["Function","AsyncFunction"],t);async function r(n,o){return await t(n,o),kb}for await(const n of Wv.call(this,r,e));}function y4(t,e){if(typeof t!="function")throw new VI("fn",["Function","AsyncFunction"],t);async function r(n,o){return await t(n,o)?n:kb}return Wv.call(this,r,e)}class eoe extends Uie{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function toe(t,e,r){var n;if(typeof t!="function")throw new VI("reducer",["Function","AsyncFunction"],t);r!=null&&fA(r,"options"),r?.signal!=null&&cA(r.signal,"options.signal");let o=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const d=new Xc(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Oie(this.destroy(d)),d}const i=new JP,s=i.signal;if(r!=null&&r.signal){const d={once:!0,[Pie]:this};r.signal.addEventListener("abort",()=>i.abort(),d)}let a=!1;try{for await(const d of this){var c;if(a=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new Xc;o?e=await t(e,d,{signal:s}):(e=d,o=!0)}if(!a&&!o)throw new eoe}finally{i.abort()}return e}async function roe(t){t!=null&&fA(t,"options"),t?.signal!=null&&cA(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Xc(void 0,{cause:t.signal.reason});qie(e,n)}return e}function noe(t,e){const r=Wv.call(this,t,e);return async function*(){for await(const o of r)yield*o}.call(this)}function ZP(t){if(t=jie(t),zie(t))return 0;if(t<0)throw new Rie("number",">= 0",t);return t}function ioe(t,e=void 0){return e!=null&&fA(e,"options"),e?.signal!=null&&cA(e.signal,"options.signal"),t=ZP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xc;for await(const i of this){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Xc;t--<=0&&(yield i)}}.call(this)}function ooe(t,e=void 0){return e!=null&&fA(e,"options"),e?.signal!=null&&cA(e.signal,"options.signal"),t=ZP(t),async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Xc;for await(const i of this){var o;if(e!=null&&(o=e.signal)!==null&&o!==void 0&&o.aborted)throw new Xc;if(t-- >0)yield i;else return}}.call(this)}i4.streamReturningOperators={asIndexedPairs:Vie,drop:ioe,filter:y4,flatMap:noe,map:Wv,take:ooe,compose:Jie};i4.promiseReturningOperators={every:Wie,forEach:Xie,reduce:toe,toArray:roe,some:WP,find:Zie};var N2,sT;function XP(){if(sT)return N2;sT=1;const{ArrayPrototypePop:t,Promise:e}=Hn,{isIterable:r,isNodeStream:n,isWebStream:o}=Ud,{pipelineImpl:i}=p4,{finished:s}=gu;eO();function a(...c){return new e((d,f)=>{let l,u;const p=c[c.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!o(p)){const A=t(c);l=A.signal,u=A.end}i(c,(A,h)=>{A?f(A):d(h)},{signal:l,end:u})})}return N2={finished:s,pipeline:a},N2}var aT;function eO(){if(aT)return w2.exports;aT=1;const{Buffer:t}=qe,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=Hn,{promisify:{custom:o}}=Fd,{streamReturningOperators:i,promiseReturningOperators:s}=i4,{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=qo,c=YP,{pipeline:d}=p4,{destroyer:f}=G0,l=gu,u=XP(),p=Ud,A=w2.exports=l4.Stream;A.isDisturbed=p.isDisturbed,A.isErrored=p.isErrored,A.isReadable=p.isReadable,A.Readable=Vv();for(const v of r(i)){let S=function(...x){if(new.target)throw a();return A.Readable.from(n(B,this,x))};var y=S;const B=i[v];e(S,"name",{__proto__:null,value:B.name}),e(S,"length",{__proto__:null,value:B.length}),e(A.Readable.prototype,v,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const v of r(s)){let S=function(...Q){if(new.target)throw a();return n(B,this,Q)};var y=S;const B=s[v];e(S,"name",{__proto__:null,value:B.name}),e(S,"length",{__proto__:null,value:B.length}),e(A.Readable.prototype,v,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}A.Writable=LP(),A.Duplex=bd(),A.Transform=qP,A.PassThrough=jP,A.pipeline=d;const{addAbortSignal:h}=Jv;return A.addAbortSignal=h,A.finished=l,A.destroy=f,A.compose=c,e(A,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return u}}),e(d,o,{__proto__:null,enumerable:!0,get(){return u.pipeline}}),e(l,o,{__proto__:null,enumerable:!0,get(){return u.finished}}),A.Stream=A,A._isUint8Array=function(B){return B instanceof Uint8Array},A._uint8ArrayToBuffer=function(B){return t.from(B.buffer,B.byteOffset,B.byteLength)},w2.exports}(function(t){const e=eO(),r=XP(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(aP);var lI=aP.exports,Pp=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class ds{static consumeToArrayBuffer({readable:e}){return Pp(this,void 0,void 0,function*(){return yield Pe.asyncIterable(e).toArrayBufferAsync()})}static consumeToBlob({readable:e}){return Pp(this,void 0,void 0,function*(){return yield Pe.asyncIterable(e).toBlobAsync()})}static consumeToBytes({readable:e}){return Pp(this,void 0,void 0,function*(){return yield Pe.asyncIterable(e).toUint8ArrayAsync()})}static consumeToJson({readable:e}){return Pp(this,void 0,void 0,function*(){return yield Pe.asyncIterable(e).toObjectAsync()})}static consumeToText({readable:e}){return Pp(this,void 0,void 0,function*(){return yield Pe.asyncIterable(e).toStringAsync()})}static fromWebReadable({readableStream:e,readableOptions:r}){if(!e8.isReadableStream(e))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const n=e.getReader();let o=!1;const i=new lI.Readable(Object.assign(Object.assign({},r),{read:function(){n.read().then(({done:s,value:a})=>{if(s)this.push(null);else if(!this.push(a))return}).catch(s=>{this.destroy(s)})},destroy:function(s,a){function c(){a(s)}if(!o){n.cancel(s).then(c).catch(c);return}c()}}));return n.closed.then(()=>{o=!0}).catch(s=>{o=!0,i.destroy(s)}),i}static isDestroyed({stream:e}){if(!ds.isStream(e))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");const r="_writableState"in e?e._writableState:void 0,n=e._readableState,o=r||n;return!!(e.destroyed||o.destroyed)}static isReadable({readable:e}){return ds.isReadableStream(e)?e.readable&&typeof e._readableState.ended=="boolean"&&!e._readableState.ended&&typeof e._readableState.endEmitted=="boolean"&&!e._readableState.endEmitted&&!e.destroyed&&!e.isPaused():!1}static isReadableStream(e){return typeof e=="object"&&e!==null&&"pipe"in e&&typeof e.pipe=="function"&&"on"in e&&typeof e.on=="function"&&!("_writableState"in e)&&"_readableState"in e}static isStream(e){return typeof e=="object"&&e!==null&&("_readableState"in e||"_writableState"in e)}static toWebReadable({readable:e}){if(!ds.isReadableStream(e))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(ds.isDestroyed({stream:e})){const r=new ReadableStream;return r.cancel(),r}return new ReadableStream({start(r){e.on("data",n=>{r.enqueue(n)}),e.on("end",()=>{r.close()}),e.on("error",n=>{r.error(n)})},cancel(){e.destroy()}})}}(function(t){function e(){var n=this||self;return delete t.prototype.__magic__,n}if(typeof globalThis=="object")return globalThis;if(this)return e();t.defineProperty(t.prototype,"__magic__",{configurable:!0,get:e});var r=__magic__;return r})(Object);var A8={exports:{}};function tO(t){return t.length}function soe(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}function aoe(t,e,r=0,n=tO(e)){const o=Math.min(n,t.byteLength-r);for(let i=0;i<o;i++)t[r+i]=e.charCodeAt(i);return o}var coe={byteLength:tO,toString:soe,write:aoe};const og="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uh=new Uint8Array(256);for(let t=0;t<og.length;t++)uh[og.charCodeAt(t)]=t;uh[45]=62;uh[95]=63;function rO(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function foe(t){const e=t.byteLength;let r="";for(let n=0;n<e;n+=3)r+=og[t[n]>>2]+og[(t[n]&3)<<4|t[n+1]>>4]+og[(t[n+1]&15)<<2|t[n+2]>>6]+og[t[n+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function doe(t,e,r=0,n=rO(e)){const o=Math.min(n,t.byteLength-r);for(let i=0,s=0;s<o;i+=4){const a=uh[e.charCodeAt(i)],c=uh[e.charCodeAt(i+1)],d=uh[e.charCodeAt(i+2)],f=uh[e.charCodeAt(i+3)];t[s++]=a<<2|c>>4,t[s++]=(c&15)<<4|d>>2,t[s++]=(d&3)<<6|f&63}return o}var loe={byteLength:rO,toString:foe,write:doe};function nO(t){return t.length>>>1}function uoe(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let o=e-e%4;n<o;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r}function hoe(t,e,r=0,n=nO(e)){const o=Math.min(n,t.byteLength-r);for(let i=0;i<o;i++){const s=cT(e.charCodeAt(i*2)),a=cT(e.charCodeAt(i*2+1));if(s===void 0||a===void 0)return t.subarray(0,i);t[r+i]=s<<4|a}return o}var Aoe={byteLength:nO,toString:uoe,write:hoe};function cT(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}function g8(t){let e=0;for(let r=0,n=t.length;r<n;r++){const o=t.charCodeAt(r);if(o>=55296&&o<=56319&&r+1<n){const i=t.charCodeAt(r+1);if(i>=56320&&i<=57343){e+=4,r++;continue}}o<=127?e+=1:o<=2047?e+=2:e+=3}return e}let p8;if(typeof TextDecoder<"u"){const t=new TextDecoder;p8=function(r){return t.decode(r)}}else p8=function(e){const r=e.byteLength;let n="",o=0;for(;o<r;){let i=e[o];if(i<=127){n+=String.fromCharCode(i),o++;continue}let s=0,a=0;if(i<=223?(s=1,a=i&31):i<=239?(s=2,a=i&15):i<=244&&(s=3,a=i&7),r-o-s>0){let c=0;for(;c<s;)i=e[o+c+1],a=a<<6|i&63,c+=1}else a=65533,s=r-o;n+=String.fromCodePoint(a),o+=s+1}return n};let y8;if(typeof TextEncoder<"u"){const t=new TextEncoder;y8=function(r,n,o=0,i=g8(n)){const s=Math.min(i,r.byteLength-o);return t.encodeInto(n,r.subarray(o,o+s)),s}}else y8=function(e,r,n=0,o=g8(r)){const i=Math.min(o,e.byteLength-n);e=e.subarray(n,n+i);let s=0,a=0;for(;s<r.length;){const c=r.codePointAt(s);if(c<=127){e[a++]=c,s++;continue}let d=0,f=0;for(c<=2047?(d=6,f=192):c<=65535?(d=12,f=224):c<=2097151&&(d=18,f=240),e[a++]=f|c>>d,d-=6;d>=0;)e[a++]=128|c>>d&63,d-=6;s+=c>=65536?2:1}return i};var goe={byteLength:g8,toString:p8,write:y8};function iO(t){return t.length*2}function poe(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+t[n+1]*256);return r}function yoe(t,e,r=0,n=iO(e)){const o=Math.min(n,t.byteLength-r);let i=o;for(let s=0;s<e.length&&!((i-=2)<0);++s){const a=e.charCodeAt(s),c=a>>8,d=a%256;t[r+s*2]=d,t[r+s*2+1]=c}return o}var Ioe={byteLength:iO,toString:poe,write:yoe};(function(t,e){const r=coe,n=loe,o=Aoe,i=goe,s=Ioe,a=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function c(X){switch(X){case"ascii":return r;case"base64":return n;case"hex":return o;case"utf8":case"utf-8":case void 0:return i;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s;default:throw new Error(`Unknown encoding: ${X}`)}}function d(X){return X instanceof Uint8Array}function f(X){try{return c(X),!0}catch{return!1}}function l(X,re,W){const j=new Uint8Array(X);return re!==void 0&&e.fill(j,re,0,j.byteLength,W),j}function u(X){return new Uint8Array(X)}function p(X){return new Uint8Array(X)}function A(X,re){return c(re).byteLength(X)}function h(X,re){if(X===re)return 0;const W=Math.min(X.byteLength,re.byteLength);X=new DataView(X.buffer,X.byteOffset,X.byteLength),re=new DataView(re.buffer,re.byteOffset,re.byteLength);let j=0;for(let M=W-W%4;j<M;j+=4){const E=X.getUint32(j,a),b=re.getUint32(j,a);if(E!==b)break}for(;j<W;j++){const M=X.getUint8(j),E=re.getUint8(j);if(M<E)return-1;if(M>E)return 1}return X.byteLength>re.byteLength?1:X.byteLength<re.byteLength?-1:0}function y(X,re){re===void 0&&(re=X.reduce((M,E)=>M+E.byteLength,0));const W=new Uint8Array(re);let j=0;for(const M of X){if(j+M.byteLength>W.byteLength){const E=M.subarray(0,W.byteLength-j);return W.set(E,j),W}W.set(M,j),j+=M.byteLength}return W}function v(X,re,W=0,j=0,M=X.byteLength){if(M>0&&M<j||M===j||X.byteLength===0||re.byteLength===0)return 0;if(W<0)throw new RangeError("targetStart is out of range");if(j<0||j>=X.byteLength)throw new RangeError("sourceStart is out of range");if(M<0)throw new RangeError("sourceEnd is out of range");W>=re.byteLength&&(W=re.byteLength),M>X.byteLength&&(M=X.byteLength),re.byteLength-W<M-j&&(M=re.length-W+j);const E=M-j;return X===re?re.copyWithin(W,j,M):re.set(X.subarray(j,M),W),E}function B(X,re){if(X===re)return!0;if(X.byteLength!==re.byteLength)return!1;const W=X.byteLength;X=new DataView(X.buffer,X.byteOffset,X.byteLength),re=new DataView(re.buffer,re.byteOffset,re.byteLength);let j=0;for(let M=W-W%4;j<M;j+=4)if(X.getUint32(j,a)!==re.getUint32(j,a))return!1;for(;j<W;j++)if(X.getUint8(j)!==re.getUint8(j))return!1;return!0}function S(X,re,W,j,M){if(typeof re=="string"?typeof W=="string"?(M=W,W=0,j=X.byteLength):typeof j=="string"&&(M=j,j=X.byteLength):typeof re=="number"?re=re&255:typeof re=="boolean"&&(re=+re),W<0||X.byteLength<W||X.byteLength<j)throw new RangeError("Out of range index");if(W===void 0&&(W=0),j===void 0&&(j=X.byteLength),j<=W)return X;if(re||(re=0),typeof re=="number")for(let E=W;E<j;++E)X[E]=re;else{re=d(re)?re:x(re,M);const E=re.byteLength;for(let b=0;b<j-W;++b)X[b+W]=re[b%E]}return X}function x(X,re,W){return typeof X=="string"?Q(X,re):Array.isArray(X)?N(X):ArrayBuffer.isView(X)?$(X):G(X,re,W)}function Q(X,re){const W=c(re),j=new Uint8Array(W.byteLength(X));return W.write(j,X,0,j.byteLength),j}function N(X){const re=new Uint8Array(X.length);return re.set(X),re}function $(X){const re=new Uint8Array(X.byteLength);return re.set(X),re}function G(X,re,W){return new Uint8Array(X,re,W)}function z(X,re,W,j){return R(X,re,W,j)!==-1}function Y(X,re,W,j,M){if(X.byteLength===0)return-1;if(typeof W=="string"?(j=W,W=0):W===void 0?W=M?0:X.length-1:W<0&&(W+=X.byteLength),W>=X.byteLength){if(M)return-1;W=X.byteLength-1}else if(W<0)if(M)W=0;else return-1;if(typeof re=="string")re=x(re,j);else if(typeof re=="number")return re=re&255,M?X.indexOf(re,W):X.lastIndexOf(re,W);if(re.byteLength===0)return-1;if(M){let E=-1;for(let b=W;b<X.byteLength;b++)if(X[b]===re[E===-1?0:b-E]){if(E===-1&&(E=b),b-E+1===re.byteLength)return E}else E!==-1&&(b-=b-E),E=-1}else{W+re.byteLength>X.byteLength&&(W=X.byteLength-re.byteLength);for(let E=W;E>=0;E--){let b=!0;for(let k=0;k<re.byteLength;k++)if(X[E+k]!==re[k]){b=!1;break}if(b)return E}}return-1}function R(X,re,W,j){return Y(X,re,W,j,!0)}function C(X,re,W,j){return Y(X,re,W,j,!1)}function m(X,re,W){const j=X[re];X[re]=X[W],X[W]=j}function g(X){const re=X.byteLength;if(re%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<re;W+=2)m(X,W,W+1);return X}function w(X){const re=X.byteLength;if(re%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<re;W+=4)m(X,W,W+3),m(X,W+1,W+2);return X}function F(X){const re=X.byteLength;if(re%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<re;W+=8)m(X,W,W+7),m(X,W+1,W+6),m(X,W+2,W+5),m(X,W+3,W+4);return X}function H(X){return X}function K(X,re,W=0,j=X.byteLength){const M=X.byteLength;return W>=M||j<=W?"":(W<0&&(W=0),j>M&&(j=M),(W!==0||j<M)&&(X=X.subarray(W,j)),c(re).toString(X))}function D(X,re,W,j,M){return W===void 0?M="utf8":j===void 0&&typeof W=="string"?(M=W,W=void 0):M===void 0&&typeof j=="string"&&(M=j,j=void 0),c(M).write(X,re,W,j)}function I(X,re,W){return W===void 0&&(W=0),new DataView(X.buffer,X.byteOffset,X.byteLength).setFloat64(W,re,!0),W+8}function P(X,re,W){return W===void 0&&(W=0),new DataView(X.buffer,X.byteOffset,X.byteLength).setFloat32(W,re,!0),W+4}function T(X,re,W){return W===void 0&&(W=0),new DataView(X.buffer,X.byteOffset,X.byteLength).setUint32(W,re,!0),W+4}function V(X,re,W){return W===void 0&&(W=0),new DataView(X.buffer,X.byteOffset,X.byteLength).setInt32(W,re,!0),W+4}function ee(X,re){return re===void 0&&(re=0),new DataView(X.buffer,X.byteOffset,X.byteLength).getFloat64(re,!0)}function se(X,re){return re===void 0&&(re=0),new DataView(X.buffer,X.byteOffset,X.byteLength).getFloat32(re,!0)}function Z(X,re){return re===void 0&&(re=0),new DataView(X.buffer,X.byteOffset,X.byteLength).getUint32(re,!0)}function ne(X,re){return re===void 0&&(re=0),new DataView(X.buffer,X.byteOffset,X.byteLength).getInt32(re,!0)}t.exports=e={isBuffer:d,isEncoding:f,alloc:l,allocUnsafe:u,allocUnsafeSlow:p,byteLength:A,compare:h,concat:y,copy:v,equals:B,fill:S,from:x,includes:z,indexOf:R,lastIndexOf:C,swap16:g,swap32:w,swap64:F,toBuffer:H,toString:K,write:D,writeDoubleLE:I,writeFloatLE:P,writeUInt32LE:T,writeInt32LE:V,readDoubleLE:ee,readFloatLE:se,readUInt32LE:Z,readInt32LE:ne}})(A8,A8.exports);var WI=A8.exports;const fT="ybndrfg8ejkmcpqxot1uwisza345h769",oO=49,moe=122,sO=new Int8Array(1+moe-oO);sO.fill(-1);for(let t=0;t<fT.length;t++){const e=fT.charCodeAt(t)-oO;sO[e]=t}var woe={},I4={};I4.toString=function(t){switch(t){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+t};I4.toType=function(t){switch(t.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":return 255;case"*":return 255}return t.toUpperCase().startsWith("UNKNOWN_")?parseInt(t.slice(8)):0};var m4={};m4.toString=function(t){switch(t){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+t};m4.toRcode=function(t){switch(t.toUpperCase()){case"NOERROR":return 0;case"FORMERR":return 1;case"SERVFAIL":return 2;case"NXDOMAIN":return 3;case"NOTIMP":return 4;case"REFUSED":return 5;case"YXDOMAIN":return 6;case"YXRRSET":return 7;case"NXRRSET":return 8;case"NOTAUTH":return 9;case"NOTZONE":return 10;case"RCODE_11":return 11;case"RCODE_12":return 12;case"RCODE_13":return 13;case"RCODE_14":return 14;case"RCODE_15":return 15}return 0};var w4={};w4.toString=function(t){switch(t){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+t};w4.toOpcode=function(t){switch(t.toUpperCase()){case"QUERY":return 0;case"IQUERY":return 1;case"STATUS":return 2;case"OPCODE_3":return 3;case"NOTIFY":return 4;case"UPDATE":return 5;case"OPCODE_6":return 6;case"OPCODE_7":return 7;case"OPCODE_8":return 8;case"OPCODE_9":return 9;case"OPCODE_10":return 10;case"OPCODE_11":return 11;case"OPCODE_12":return 12;case"OPCODE_13":return 13;case"OPCODE_14":return 14;case"OPCODE_15":return 15}return 0};var b4={};b4.toString=function(t){switch(t){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+t};b4.toClass=function(t){switch(t.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0};var E4={};E4.toString=function(t){switch(t){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return t<0?null:`OPTION_${t}`};E4.toCode=function(t){if(typeof t=="number")return t;if(!t)return-1;switch(t.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const e=t.match(/_(\d+)$/);return e?parseInt(e[1],10):-1};var aO={exports:{}};(function(t,e){var r=function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.decode=A,n.encode=p,n.familyOf=u,n.name=void 0,n.sizeOf=l,n.v6=n.v4=void 0;const o=/^(\d{1,3}\.){3,3}\d{1,3}$/,i=4,s=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,a=16,c={name:"v4",size:i,isFormat:h=>o.test(h),encode(h,y,v){v=~~v,y=y||new Uint8Array(v+i);const B=h.length;let S=0;for(let x=0;x<B;){const Q=h.charCodeAt(x++);Q===46?(y[v++]=S,S=0):S=S*10+(Q-48)}return y[v]=S,y},decode(h,y){return y=~~y,`${h[y++]}.${h[y++]}.${h[y++]}.${h[y]}`}};n.v4=c;const d={name:"v6",size:a,isFormat:h=>h.length>0&&s.test(h),encode(h,y,v){v=~~v;let B=v+a,S=-1,x=0,Q=0,N=!0,$=!1;y=y||new Uint8Array(v+a);for(let G=0;G<h.length;G++){let z=h.charCodeAt(G);z===58?(N?S!==-1?(v<B&&(y[v]=0),v<B-1&&(y[v+1]=0),v+=2):v<B&&(S=v):($===!0?(v<B&&(y[v]=Q),v++):(v<B&&(y[v]=x>>8),v<B-1&&(y[v+1]=x&255),v+=2),x=0,Q=0),N=!0,$=!1):z===46?(v<B&&(y[v]=Q),v++,Q=0,x=0,N=!1,$=!0):(N=!1,z>=97?z-=87:z>=65?z-=55:(z-=48,Q=Q*10+z),x=(x<<4)+z)}if(N===!1)$===!0?(v<B&&(y[v]=Q),v++):(v<B&&(y[v]=x>>8),v<B-1&&(y[v+1]=x&255),v+=2);else if(S===0)v<B&&(y[v]=0),v<B-1&&(y[v+1]=0),v+=2;else if(S!==-1){v+=2;for(let G=Math.min(v-1,B-1);G>=S+2;G--)y[G]=y[G-2];y[S]=0,y[S+1]=0,S=v}if(S!==v&&S!==-1)for(v>B-2&&(v=B-2);B>S;)y[--B]=v<B&&v>S?y[--v]:0;else for(;v<B;)y[v++]=0;return y},decode(h,y){y=~~y;let v="";for(let B=0;B<a;B+=2)B!==0&&(v+=":"),v+=(h[y+B]<<8|h[y+B+1]).toString(16);return v.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};n.v6=d;const f="ip";n.name=f;function l(h){if(c.isFormat(h))return c.size;if(d.isFormat(h))return d.size;throw Error(`Invalid ip address: ${h}`)}function u(h){return l(h)===c.size?1:2}function p(h,y,v){v=~~v;const B=l(h);return typeof y=="function"&&(y=y(v+B)),B===c.size?c.encode(h,y,v):d.encode(h,y,v)}function A(h,y,v){if(y=~~y,v=v||h.length-y,v===c.size)return c.decode(h,y,v);if(v===d.size)return d.decode(h,y,v);throw Error(`Invalid buffer size needs to be ${c.size} for v4 or ${d.size} for v6.`)}return"default"in n?n.default:n}({});t.exports=r})(aO);var boe=aO.exports;(function(t){const e=qe.Buffer,r=I4,n=m4,o=w4,i=b4,s=E4,a=boe,c=0,d=32768,f=32768,l=~f,u=32768,p=~u,A=t.name={};A.encode=function(E,b,k,{mail:U=!1}={}){b||(b=e.alloc(A.encodingLength(E))),k||(k=0);const _=k,L=E.replace(/^\.|\.$/gm,"");if(L.length){let J=[];if(U){let te="";L.split(".").forEach(oe=>{oe.endsWith("\\")?te+=(te.length?".":"")+oe.slice(0,-1):J.length===0&&te.length?J.push(te+"."+oe):J.push(oe)})}else J=L.split(".");for(let te=0;te<J.length;te++){const oe=b.write(J[te],k+1);b[k]=oe,k+=oe+1}}return b[k++]=0,A.encode.bytes=k-_,b},A.encode.bytes=0,A.decode=function(E,b,{mail:k=!1}={}){b||(b=0);const U=[];let _=b,L=0,J=0,te=!1;for(;;){if(b>=E.length)throw new Error("Cannot decode name (buffer overflow)");const oe=E[b++];if(J+=te?0:1,oe===0)break;if(oe&192)if((oe&192)===192){if(b+1>E.length)throw new Error("Cannot decode name (buffer overflow)");const fe=E.readUInt16BE(b-1)-49152;if(fe>=_)throw new Error("Cannot decode name (bad pointer)");b=fe,_=fe,J+=te?0:1,te=!0}else throw new Error("Cannot decode name (bad label)");else{if(b+oe>E.length)throw new Error("Cannot decode name (buffer overflow)");if(L+=oe+1,L>254)throw new Error("Cannot decode name (name too long)");let fe=E.toString("utf-8",b,b+oe);k&&(fe=fe.replace(/\./g,"\\.")),U.push(fe),b+=oe,J+=te?0:oe}}return A.decode.bytes=J,U.length===0?".":U.join(".")},A.decode.bytes=0,A.encodingLength=function(E){return E==="."||E===".."?1:e.byteLength(E.replace(/^\.|\.$/gm,""))+2};const h={};h.encode=function(E,b,k){b||(b=e.alloc(h.encodingLength(E))),k||(k=0);const U=b.write(E,k+1);return b[k]=U,h.encode.bytes=U+1,b},h.encode.bytes=0,h.decode=function(E,b){b||(b=0);const k=E[b],U=E.toString("utf-8",b+1,b+1+k);return h.decode.bytes=k+1,U},h.decode.bytes=0,h.encodingLength=function(E){return e.byteLength(E)+1};const y={};y.encode=function(E,b,k){b||(b=y.encodingLength(E)),k||(k=0);const U=(E.flags||0)&32767,_=E.type==="response"?d:c;return b.writeUInt16BE(E.id||0,k),b.writeUInt16BE(U|_,k+2),b.writeUInt16BE(E.questions.length,k+4),b.writeUInt16BE(E.answers.length,k+6),b.writeUInt16BE(E.authorities.length,k+8),b.writeUInt16BE(E.additionals.length,k+10),b},y.encode.bytes=12,y.decode=function(E,b){if(b||(b=0),E.length<12)throw new Error("Header must be 12 bytes");const k=E.readUInt16BE(b+2);return{id:E.readUInt16BE(b),type:k&d?"response":"query",flags:k&32767,flag_qr:(k>>15&1)===1,opcode:o.toString(k>>11&15),flag_aa:(k>>10&1)===1,flag_tc:(k>>9&1)===1,flag_rd:(k>>8&1)===1,flag_ra:(k>>7&1)===1,flag_z:(k>>6&1)===1,flag_ad:(k>>5&1)===1,flag_cd:(k>>4&1)===1,rcode:n.toString(k&15),questions:new Array(E.readUInt16BE(b+4)),answers:new Array(E.readUInt16BE(b+6)),authorities:new Array(E.readUInt16BE(b+8)),additionals:new Array(E.readUInt16BE(b+10))}},y.decode.bytes=12,y.encodingLength=function(){return 12};const v=t.unknown={};v.encode=function(E,b,k){return b||(b=e.alloc(v.encodingLength(E))),k||(k=0),b.writeUInt16BE(E.length,k),E.copy(b,k+2),v.encode.bytes=E.length+2,b},v.encode.bytes=0,v.decode=function(E,b){b||(b=0);const k=E.readUInt16BE(b),U=E.slice(b+2,b+2+k);return v.decode.bytes=k+2,U},v.decode.bytes=0,v.encodingLength=function(E){return E.length+2};const B=t.ns={};B.encode=function(E,b,k){return b||(b=e.alloc(B.encodingLength(E))),k||(k=0),A.encode(E,b,k+2),b.writeUInt16BE(A.encode.bytes,k),B.encode.bytes=A.encode.bytes+2,b},B.encode.bytes=0,B.decode=function(E,b){b||(b=0);const k=E.readUInt16BE(b),U=A.decode(E,b+2);return B.decode.bytes=k+2,U},B.decode.bytes=0,B.encodingLength=function(E){return A.encodingLength(E)+2};const S=t.soa={};S.encode=function(E,b,k){b||(b=e.alloc(S.encodingLength(E))),k||(k=0);const U=k;return k+=2,A.encode(E.mname,b,k),k+=A.encode.bytes,A.encode(E.rname,b,k,{mail:!0}),k+=A.encode.bytes,b.writeUInt32BE(E.serial||0,k),k+=4,b.writeUInt32BE(E.refresh||0,k),k+=4,b.writeUInt32BE(E.retry||0,k),k+=4,b.writeUInt32BE(E.expire||0,k),k+=4,b.writeUInt32BE(E.minimum||0,k),k+=4,b.writeUInt16BE(k-U-2,U),S.encode.bytes=k-U,b},S.encode.bytes=0,S.decode=function(E,b){b||(b=0);const k=b,U={};return b+=2,U.mname=A.decode(E,b),b+=A.decode.bytes,U.rname=A.decode(E,b,{mail:!0}),b+=A.decode.bytes,U.serial=E.readUInt32BE(b),b+=4,U.refresh=E.readUInt32BE(b),b+=4,U.retry=E.readUInt32BE(b),b+=4,U.expire=E.readUInt32BE(b),b+=4,U.minimum=E.readUInt32BE(b),b+=4,S.decode.bytes=b-k,U},S.decode.bytes=0,S.encodingLength=function(E){return 22+A.encodingLength(E.mname)+A.encodingLength(E.rname)};const x=t.txt={};x.encode=function(E,b,k){Array.isArray(E)||(E=[E]);for(let _=0;_<E.length;_++)if(typeof E[_]=="string"&&(E[_]=e.from(E[_])),!e.isBuffer(E[_]))throw new Error("Must be a Buffer");b||(b=e.alloc(x.encodingLength(E))),k||(k=0);const U=k;return k+=2,E.forEach(function(_){b[k++]=_.length,_.copy(b,k,0,_.length),k+=_.length}),b.writeUInt16BE(k-U-2,U),x.encode.bytes=k-U,b},x.encode.bytes=0,x.decode=function(E,b){b||(b=0);const k=b;let U=E.readUInt16BE(b);b+=2;let _=[];for(;U>0;){const L=E[b++];if(--U,U<L)throw new Error("Buffer overflow");_.push(E.slice(b,b+L)),b+=L,U-=L}return x.decode.bytes=b-k,_},x.decode.bytes=0,x.encodingLength=function(E){Array.isArray(E)||(E=[E]);let b=2;return E.forEach(function(k){typeof k=="string"?b+=e.byteLength(k)+1:b+=k.length+1}),b};const Q=t.null={};Q.encode=function(E,b,k){b||(b=e.alloc(Q.encodingLength(E))),k||(k=0),typeof E=="string"&&(E=e.from(E)),E||(E=e.alloc(0));const U=k;k+=2;const _=E.length;return E.copy(b,k,0,_),k+=_,b.writeUInt16BE(k-U-2,U),Q.encode.bytes=k-U,b},Q.encode.bytes=0,Q.decode=function(E,b){b||(b=0);const k=b,U=E.readUInt16BE(b);b+=2;const _=E.slice(b,b+U);return b+=U,Q.decode.bytes=b-k,_},Q.decode.bytes=0,Q.encodingLength=function(E){return E?(e.isBuffer(E)?E.length:e.byteLength(E))+2:2};const N=t.hinfo={};N.encode=function(E,b,k){b||(b=e.alloc(N.encodingLength(E))),k||(k=0);const U=k;return k+=2,h.encode(E.cpu,b,k),k+=h.encode.bytes,h.encode(E.os,b,k),k+=h.encode.bytes,b.writeUInt16BE(k-U-2,U),N.encode.bytes=k-U,b},N.encode.bytes=0,N.decode=function(E,b){b||(b=0);const k=b,U={};return b+=2,U.cpu=h.decode(E,b),b+=h.decode.bytes,U.os=h.decode(E,b),b+=h.decode.bytes,N.decode.bytes=b-k,U},N.decode.bytes=0,N.encodingLength=function(E){return h.encodingLength(E.cpu)+h.encodingLength(E.os)+2};const $=t.ptr={},G=t.cname=$,z=t.dname=$;$.encode=function(E,b,k){return b||(b=e.alloc($.encodingLength(E))),k||(k=0),A.encode(E,b,k+2),b.writeUInt16BE(A.encode.bytes,k),$.encode.bytes=A.encode.bytes+2,b},$.encode.bytes=0,$.decode=function(E,b){b||(b=0);const k=A.decode(E,b+2);return $.decode.bytes=A.decode.bytes+2,k},$.decode.bytes=0,$.encodingLength=function(E){return A.encodingLength(E)+2};const Y=t.srv={};Y.encode=function(E,b,k){b||(b=e.alloc(Y.encodingLength(E))),k||(k=0),b.writeUInt16BE(E.priority||0,k+2),b.writeUInt16BE(E.weight||0,k+4),b.writeUInt16BE(E.port||0,k+6),A.encode(E.target,b,k+8);const U=A.encode.bytes+6;return b.writeUInt16BE(U,k),Y.encode.bytes=U+2,b},Y.encode.bytes=0,Y.decode=function(E,b){b||(b=0);const k=E.readUInt16BE(b),U={};return U.priority=E.readUInt16BE(b+2),U.weight=E.readUInt16BE(b+4),U.port=E.readUInt16BE(b+6),U.target=A.decode(E,b+8),Y.decode.bytes=k+2,U},Y.decode.bytes=0,Y.encodingLength=function(E){return 8+A.encodingLength(E.target)};const R=t.caa={};R.ISSUER_CRITICAL=128,R.encode=function(E,b,k){const U=R.encodingLength(E);return b||(b=e.alloc(R.encodingLength(E))),k||(k=0),E.issuerCritical&&(E.flags=R.ISSUER_CRITICAL),b.writeUInt16BE(U-2,k),k+=2,b.writeUInt8(E.flags||0,k),k+=1,h.encode(E.tag,b,k),k+=h.encode.bytes,b.write(E.value,k),k+=e.byteLength(E.value),R.encode.bytes=U,b},R.encode.bytes=0,R.decode=function(E,b){b||(b=0);const k=E.readUInt16BE(b);b+=2;const U=b,_={};return _.flags=E.readUInt8(b),b+=1,_.tag=h.decode(E,b),b+=h.decode.bytes,_.value=E.toString("utf-8",b,U+k),_.issuerCritical=!!(_.flags&R.ISSUER_CRITICAL),R.decode.bytes=k+2,_},R.decode.bytes=0,R.encodingLength=function(E){return h.encodingLength(E.tag)+h.encodingLength(E.value)+2};const C=t.mx={};C.encode=function(E,b,k){b||(b=e.alloc(C.encodingLength(E))),k||(k=0);const U=k;return k+=2,b.writeUInt16BE(E.preference||0,k),k+=2,A.encode(E.exchange,b,k),k+=A.encode.bytes,b.writeUInt16BE(k-U-2,U),C.encode.bytes=k-U,b},C.encode.bytes=0,C.decode=function(E,b){b||(b=0);const k=b,U={};return b+=2,U.preference=E.readUInt16BE(b),b+=2,U.exchange=A.decode(E,b),b+=A.decode.bytes,C.decode.bytes=b-k,U},C.encodingLength=function(E){return 4+A.encodingLength(E.exchange)};const m=t.a={};m.encode=function(E,b,k){return b||(b=e.alloc(m.encodingLength(E))),k||(k=0),b.writeUInt16BE(4,k),k+=2,a.v4.encode(E,b,k),m.encode.bytes=6,b},m.encode.bytes=0,m.decode=function(E,b){b||(b=0),b+=2;const k=a.v4.decode(E,b);return m.decode.bytes=6,k},m.decode.bytes=0,m.encodingLength=function(){return 6};const g=t.aaaa={};g.encode=function(E,b,k){return b||(b=e.alloc(g.encodingLength(E))),k||(k=0),b.writeUInt16BE(16,k),k+=2,a.v6.encode(E,b,k),g.encode.bytes=18,b},g.encode.bytes=0,g.decode=function(E,b){b||(b=0),b+=2;const k=a.v6.decode(E,b);return g.decode.bytes=18,k},g.decode.bytes=0,g.encodingLength=function(){return 18};const w=t.option={};w.encode=function(E,b,k){b||(b=e.alloc(w.encodingLength(E))),k||(k=0);const U=k,_=s.toCode(E.code);if(b.writeUInt16BE(_,k),k+=2,E.data)b.writeUInt16BE(E.data.length,k),k+=2,E.data.copy(b,k),k+=E.data.length;else switch(_){case 8:const L=E.sourcePrefixLength||0,J=E.family||a.familyOf(E.ip),te=a.encode(E.ip,e.alloc),oe=Math.ceil(L/8);b.writeUInt16BE(oe+4,k),k+=2,b.writeUInt16BE(J,k),k+=2,b.writeUInt8(L,k++),b.writeUInt8(E.scopePrefixLength||0,k++),te.copy(b,k,0,oe),k+=oe;break;case 11:E.timeout?(b.writeUInt16BE(2,k),k+=2,b.writeUInt16BE(E.timeout,k),k+=2):(b.writeUInt16BE(0,k),k+=2);break;case 12:const fe=E.length||0;b.writeUInt16BE(fe,k),k+=2,b.fill(0,k,k+fe),k+=fe;break;case 14:const ue=E.tags.length*2;b.writeUInt16BE(ue,k),k+=2;for(const Ae of E.tags)b.writeUInt16BE(Ae,k),k+=2;break;default:throw new Error(`Unknown roption code: ${E.code}`)}return w.encode.bytes=k-U,b},w.encode.bytes=0,w.decode=function(E,b){b||(b=0);const k={};k.code=E.readUInt16BE(b),k.type=s.toString(k.code),b+=2;const U=E.readUInt16BE(b);switch(b+=2,k.data=E.slice(b,b+U),k.code){case 8:k.family=E.readUInt16BE(b),b+=2,k.sourcePrefixLength=E.readUInt8(b++),k.scopePrefixLength=E.readUInt8(b++);const _=e.alloc(k.family===1?4:16);E.copy(_,0,b,b+U-4),k.ip=a.decode(_);break;case 11:U>0&&(k.timeout=E.readUInt16BE(b),b+=2);break;case 14:k.tags=[];for(let L=0;L<U;L+=2)k.tags.push(E.readUInt16BE(b)),b+=2}return w.decode.bytes=U+4,k},w.decode.bytes=0,w.encodingLength=function(E){if(E.data)return E.data.length+4;switch(s.toCode(E.code)){case 8:const k=E.sourcePrefixLength||0;return Math.ceil(k/8)+8;case 11:return typeof E.timeout=="number"?6:4;case 12:return E.length+4;case 14:return 4+E.tags.length*2}throw new Error(`Unknown roption code: ${E.code}`)};const F=t.opt={};F.encode=function(E,b,k){b||(b=e.alloc(F.encodingLength(E))),k||(k=0);const U=k,_=W(E,w);return b.writeUInt16BE(_,k),k=j(E,w,b,k+2),F.encode.bytes=k-U,b},F.encode.bytes=0,F.decode=function(E,b){b||(b=0);const k=b,U=[];let _=E.readUInt16BE(b);b+=2;let L=0;for(;_>0;)U[L++]=w.decode(E,b),b+=w.decode.bytes,_-=w.decode.bytes;return F.decode.bytes=b-k,U},F.decode.bytes=0,F.encodingLength=function(E){return 2+W(E||[],w)};const H=t.dnskey={};H.PROTOCOL_DNSSEC=3,H.ZONE_KEY=128,H.SECURE_ENTRYPOINT=32768,H.encode=function(E,b,k){b||(b=e.alloc(H.encodingLength(E))),k||(k=0);const U=k,_=E.key;if(!e.isBuffer(_))throw new Error("Key must be a Buffer");return k+=2,b.writeUInt16BE(E.flags,k),k+=2,b.writeUInt8(H.PROTOCOL_DNSSEC,k),k+=1,b.writeUInt8(E.algorithm,k),k+=1,_.copy(b,k,0,_.length),k+=_.length,H.encode.bytes=k-U,b.writeUInt16BE(H.encode.bytes-2,U),b},H.encode.bytes=0,H.decode=function(E,b){b||(b=0);const k=b;var U={},_=E.readUInt16BE(b);if(b+=2,U.flags=E.readUInt16BE(b),b+=2,E.readUInt8(b)!==H.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return b+=1,U.algorithm=E.readUInt8(b),b+=1,U.key=E.slice(b,k+_+2),b+=U.key.length,H.decode.bytes=b-k,U},H.decode.bytes=0,H.encodingLength=function(E){return 6+e.byteLength(E.key)};const K=t.rrsig={};K.encode=function(E,b,k){b||(b=e.alloc(K.encodingLength(E))),k||(k=0);const U=k,_=E.signature;if(!e.isBuffer(_))throw new Error("Signature must be a Buffer");return k+=2,b.writeUInt16BE(r.toType(E.typeCovered),k),k+=2,b.writeUInt8(E.algorithm,k),k+=1,b.writeUInt8(E.labels,k),k+=1,b.writeUInt32BE(E.originalTTL,k),k+=4,b.writeUInt32BE(E.expiration,k),k+=4,b.writeUInt32BE(E.inception,k),k+=4,b.writeUInt16BE(E.keyTag,k),k+=2,A.encode(E.signersName,b,k),k+=A.encode.bytes,_.copy(b,k,0,_.length),k+=_.length,K.encode.bytes=k-U,b.writeUInt16BE(K.encode.bytes-2,U),b},K.encode.bytes=0,K.decode=function(E,b){b||(b=0);const k=b;var U={},_=E.readUInt16BE(b);return b+=2,U.typeCovered=r.toString(E.readUInt16BE(b)),b+=2,U.algorithm=E.readUInt8(b),b+=1,U.labels=E.readUInt8(b),b+=1,U.originalTTL=E.readUInt32BE(b),b+=4,U.expiration=E.readUInt32BE(b),b+=4,U.inception=E.readUInt32BE(b),b+=4,U.keyTag=E.readUInt16BE(b),b+=2,U.signersName=A.decode(E,b),b+=A.decode.bytes,U.signature=E.slice(b,k+_+2),b+=U.signature.length,K.decode.bytes=b-k,U},K.decode.bytes=0,K.encodingLength=function(E){return 20+A.encodingLength(E.signersName)+e.byteLength(E.signature)};const D=t.rp={};D.encode=function(E,b,k){b||(b=e.alloc(D.encodingLength(E))),k||(k=0);const U=k;return k+=2,A.encode(E.mbox||".",b,k,{mail:!0}),k+=A.encode.bytes,A.encode(E.txt||".",b,k),k+=A.encode.bytes,D.encode.bytes=k-U,b.writeUInt16BE(D.encode.bytes-2,U),b},D.encode.bytes=0,D.decode=function(E,b){b||(b=0);const k=b,U={};return b+=2,U.mbox=A.decode(E,b,{mail:!0})||".",b+=A.decode.bytes,U.txt=A.decode(E,b)||".",b+=A.decode.bytes,D.decode.bytes=b-k,U},D.decode.bytes=0,D.encodingLength=function(E){return 2+A.encodingLength(E.mbox||".")+A.encodingLength(E.txt||".")};const I={};I.encode=function(E,b,k){b||(b=e.alloc(I.encodingLength(E))),k||(k=0);const U=k;for(var _=[],L=0;L<E.length;L++){var J=r.toType(E[L]);_[J>>8]===void 0&&(_[J>>8]=[]),_[J>>8][J>>3&31]|=1<<7-(J&7)}for(L=0;L<_.length;L++)if(_[L]!==void 0){var te=e.from(_[L]);b.writeUInt8(L,k),k+=1,b.writeUInt8(te.length,k),k+=1,te.copy(b,k),k+=te.length}return I.encode.bytes=k-U,b},I.encode.bytes=0,I.decode=function(E,b,k){b||(b=0);const U=b;for(var _=[];b-U<k;){var L=E.readUInt8(b);b+=1;var J=E.readUInt8(b);b+=1;for(var te=0;te<J;te++)for(var oe=E.readUInt8(b+te),fe=0;fe<8;fe++)if(oe&1<<7-fe){var ue=r.toString(L<<8|te<<3|fe);_.push(ue)}b+=J}return I.decode.bytes=b-U,_},I.decode.bytes=0,I.encodingLength=function(E){for(var b=[],k=0;k<E.length;k++){var U=r.toType(E[k]);b[U>>8]=Math.max(b[U>>8]||0,U&255)}var _=0;for(k=0;k<b.length;k++)b[k]!==void 0&&(_+=2+Math.ceil((b[k]+1)/8));return _};const P=t.nsec={};P.encode=function(E,b,k){b||(b=e.alloc(P.encodingLength(E))),k||(k=0);const U=k;return k+=2,A.encode(E.nextDomain,b,k),k+=A.encode.bytes,I.encode(E.rrtypes,b,k),k+=I.encode.bytes,P.encode.bytes=k-U,b.writeUInt16BE(P.encode.bytes-2,U),b},P.encode.bytes=0,P.decode=function(E,b){b||(b=0);const k=b;var U={},_=E.readUInt16BE(b);return b+=2,U.nextDomain=A.decode(E,b),b+=A.decode.bytes,U.rrtypes=I.decode(E,b,_-(b-k)),b+=I.decode.bytes,P.decode.bytes=b-k,U},P.decode.bytes=0,P.encodingLength=function(E){return 2+A.encodingLength(E.nextDomain)+I.encodingLength(E.rrtypes)};const T=t.nsec3={};T.encode=function(E,b,k){b||(b=e.alloc(T.encodingLength(E))),k||(k=0);const U=k,_=E.salt;if(!e.isBuffer(_))throw new Error("salt must be a Buffer");const L=E.nextDomain;if(!e.isBuffer(L))throw new Error("nextDomain must be a Buffer");return k+=2,b.writeUInt8(E.algorithm,k),k+=1,b.writeUInt8(E.flags,k),k+=1,b.writeUInt16BE(E.iterations,k),k+=2,b.writeUInt8(_.length,k),k+=1,_.copy(b,k,0,_.length),k+=_.length,b.writeUInt8(L.length,k),k+=1,L.copy(b,k,0,L.length),k+=L.length,I.encode(E.rrtypes,b,k),k+=I.encode.bytes,T.encode.bytes=k-U,b.writeUInt16BE(T.encode.bytes-2,U),b},T.encode.bytes=0,T.decode=function(E,b){b||(b=0);const k=b;var U={},_=E.readUInt16BE(b);b+=2,U.algorithm=E.readUInt8(b),b+=1,U.flags=E.readUInt8(b),b+=1,U.iterations=E.readUInt16BE(b),b+=2;const L=E.readUInt8(b);b+=1,U.salt=E.slice(b,b+L),b+=L;const J=E.readUInt8(b);return b+=1,U.nextDomain=E.slice(b,b+J),b+=J,U.rrtypes=I.decode(E,b,_-(b-k)),b+=I.decode.bytes,T.decode.bytes=b-k,U},T.decode.bytes=0,T.encodingLength=function(E){return 8+E.salt.length+E.nextDomain.length+I.encodingLength(E.rrtypes)};const V=t.ds={};V.encode=function(E,b,k){b||(b=e.alloc(V.encodingLength(E))),k||(k=0);const U=k,_=E.digest;if(!e.isBuffer(_))throw new Error("Digest must be a Buffer");return k+=2,b.writeUInt16BE(E.keyTag,k),k+=2,b.writeUInt8(E.algorithm,k),k+=1,b.writeUInt8(E.digestType,k),k+=1,_.copy(b,k,0,_.length),k+=_.length,V.encode.bytes=k-U,b.writeUInt16BE(V.encode.bytes-2,U),b},V.encode.bytes=0,V.decode=function(E,b){b||(b=0);const k=b;var U={},_=E.readUInt16BE(b);return b+=2,U.keyTag=E.readUInt16BE(b),b+=2,U.algorithm=E.readUInt8(b),b+=1,U.digestType=E.readUInt8(b),b+=1,U.digest=E.slice(b,k+_+2),b+=U.digest.length,V.decode.bytes=b-k,U},V.decode.bytes=0,V.encodingLength=function(E){return 6+e.byteLength(E.digest)};const ee=t.sshfp={};ee.getFingerprintLengthForHashType=function(b){switch(b){case 1:return 20;case 2:return 32}},ee.encode=function(b,k,U){k||(k=e.alloc(ee.encodingLength(b))),U||(U=0);const _=U;U+=2,k[U]=b.algorithm,U+=1,k[U]=b.hash,U+=1;const L=e.from(b.fingerprint.toUpperCase(),"hex");if(L.length!==ee.getFingerprintLengthForHashType(b.hash))throw new Error("Invalid fingerprint length");return L.copy(k,U),U+=L.byteLength,ee.encode.bytes=U-_,k.writeUInt16BE(ee.encode.bytes-2,_),k},ee.encode.bytes=0,ee.decode=function(b,k){k||(k=0);const U=k,_={};k+=2,_.algorithm=b[k],k+=1,_.hash=b[k],k+=1;const L=ee.getFingerprintLengthForHashType(_.hash);return _.fingerprint=b.slice(k,k+L).toString("hex").toUpperCase(),k+=L,ee.decode.bytes=k-U,_},ee.decode.bytes=0,ee.encodingLength=function(E){return 4+e.from(E.fingerprint,"hex").byteLength};const se=t.naptr={};se.encode=function(E,b,k){b||(b=e.alloc(se.encodingLength(E))),k||(k=0);const U=k;return k+=2,b.writeUInt16BE(E.order||0,k),k+=2,b.writeUInt16BE(E.preference||0,k),k+=2,h.encode(E.flags,b,k),k+=h.encode.bytes,h.encode(E.services,b,k),k+=h.encode.bytes,h.encode(E.regexp,b,k),k+=h.encode.bytes,A.encode(E.replacement,b,k),k+=A.encode.bytes,se.encode.bytes=k-U,b.writeUInt16BE(se.encode.bytes-2,U),b},se.encode.bytes=0,se.decode=function(E,b){b||(b=0);const k=b,U={};return b+=2,U.order=E.readUInt16BE(b),b+=2,U.preference=E.readUInt16BE(b),b+=2,U.flags=h.decode(E,b),b+=h.decode.bytes,U.services=h.decode(E,b),b+=h.decode.bytes,U.regexp=h.decode(E,b),b+=h.decode.bytes,U.replacement=A.decode(E,b),b+=A.decode.bytes,se.decode.bytes=b-k,U},se.decode.bytes=0,se.encodingLength=function(E){return h.encodingLength(E.flags)+h.encodingLength(E.services)+h.encodingLength(E.regexp)+A.encodingLength(E.replacement)+6};const Z=t.tlsa={};Z.encode=function(E,b,k){b||(b=e.alloc(Z.encodingLength(E))),k||(k=0);const U=k,_=E.certificate;if(!e.isBuffer(_))throw new Error("Certificate must be a Buffer");return k+=2,b.writeUInt8(E.usage,k),k+=1,b.writeUInt8(E.selector,k),k+=1,b.writeUInt8(E.matchingType,k),k+=1,_.copy(b,k,0,_.length),k+=_.length,Z.encode.bytes=k-U,b.writeUInt16BE(Z.encode.bytes-2,U),b},Z.encode.bytes=0,Z.decode=function(E,b){b||(b=0);const k=b,U={},_=E.readUInt16BE(b);return b+=2,U.usage=E.readUInt8(b),b+=1,U.selector=E.readUInt8(b),b+=1,U.matchingType=E.readUInt8(b),b+=1,U.certificate=E.slice(b,k+_+2),b+=U.certificate.length,Z.decode.bytes=b-k,U},Z.decode.bytes=0,Z.encodingLength=function(E){return 5+e.byteLength(E.certificate)};const ne=t.record=function(E){switch(E.toUpperCase()){case"A":return m;case"PTR":return $;case"CNAME":return G;case"DNAME":return z;case"TXT":return x;case"NULL":return Q;case"AAAA":return g;case"SRV":return Y;case"HINFO":return N;case"CAA":return R;case"NS":return B;case"SOA":return S;case"MX":return C;case"OPT":return F;case"DNSKEY":return H;case"RRSIG":return K;case"RP":return D;case"NSEC":return P;case"NSEC3":return T;case"SSHFP":return ee;case"DS":return V;case"NAPTR":return se;case"TLSA":return Z}return v},X=t.answer={};X.encode=function(E,b,k){b||(b=e.alloc(X.encodingLength(E))),k||(k=0);const U=k;if(A.encode(E.name,b,k),k+=A.encode.bytes,b.writeUInt16BE(r.toType(E.type),k),E.type.toUpperCase()==="OPT"){if(E.name!==".")throw new Error("OPT name must be root.");b.writeUInt16BE(E.udpPayloadSize||4096,k+2),b.writeUInt8(E.extendedRcode||0,k+4),b.writeUInt8(E.ednsVersion||0,k+5),b.writeUInt16BE(E.flags||0,k+6),k+=8,F.encode(E.options||[],b,k),k+=F.encode.bytes}else{let _=i.toClass(E.class===void 0?"IN":E.class);E.flush&&(_|=f),b.writeUInt16BE(_,k+2),b.writeUInt32BE(E.ttl||0,k+4),k+=8;const L=ne(E.type);L.encode(E.data,b,k),k+=L.encode.bytes}return X.encode.bytes=k-U,b},X.encode.bytes=0,X.decode=function(E,b){b||(b=0);const k={},U=b;if(k.name=A.decode(E,b),b+=A.decode.bytes,k.type=r.toString(E.readUInt16BE(b)),k.type==="OPT")k.udpPayloadSize=E.readUInt16BE(b+2),k.extendedRcode=E.readUInt8(b+4),k.ednsVersion=E.readUInt8(b+5),k.flags=E.readUInt16BE(b+6),k.flag_do=(k.flags>>15&1)===1,k.options=F.decode(E,b+8),b+=8+F.decode.bytes;else{const _=E.readUInt16BE(b+2);k.ttl=E.readUInt32BE(b+4),k.class=i.toString(_&l),k.flush=!!(_&f);const L=ne(k.type);k.data=L.decode(E,b+8),b+=8+L.decode.bytes}return X.decode.bytes=b-U,k},X.decode.bytes=0,X.encodingLength=function(E){const b=E.data!==null&&E.data!==void 0?E.data:E.options;return A.encodingLength(E.name)+8+ne(E.type).encodingLength(b)};const re=t.question={};re.encode=function(E,b,k){b||(b=e.alloc(re.encodingLength(E))),k||(k=0);const U=k;return A.encode(E.name,b,k),k+=A.encode.bytes,b.writeUInt16BE(r.toType(E.type),k),k+=2,b.writeUInt16BE(i.toClass(E.class===void 0?"IN":E.class),k),k+=2,re.encode.bytes=k-U,E},re.encode.bytes=0,re.decode=function(E,b){b||(b=0);const k=b,U={};return U.name=A.decode(E,b),b+=A.decode.bytes,U.type=r.toString(E.readUInt16BE(b)),b+=2,U.class=i.toString(E.readUInt16BE(b)),b+=2,!!(U.class&u)&&(U.class&=p),re.decode.bytes=b-k,U},re.decode.bytes=0,re.encodingLength=function(E){return A.encodingLength(E.name)+4},t.AUTHORITATIVE_ANSWER=1024,t.TRUNCATED_RESPONSE=512,t.RECURSION_DESIRED=256,t.RECURSION_AVAILABLE=128,t.AUTHENTIC_DATA=32,t.CHECKING_DISABLED=16,t.DNSSEC_OK=32768,t.encode=function(E,b,k){const U=!b;U&&(b=e.alloc(t.encodingLength(E))),k||(k=0);const _=k;return E.questions||(E.questions=[]),E.answers||(E.answers=[]),E.authorities||(E.authorities=[]),E.additionals||(E.additionals=[]),y.encode(E,b,k),k+=y.encode.bytes,k=j(E.questions,re,b,k),k=j(E.answers,X,b,k),k=j(E.authorities,X,b,k),k=j(E.additionals,X,b,k),t.encode.bytes=k-_,U&&t.encode.bytes!==b.length?b.slice(0,t.encode.bytes):b},t.encode.bytes=0,t.decode=function(E,b){b||(b=0);const k=b,U=y.decode(E,b);return b+=y.decode.bytes,b=M(U.questions,re,E,b),b=M(U.answers,X,E,b),b=M(U.authorities,X,E,b),b=M(U.additionals,X,E,b),t.decode.bytes=b-k,U},t.decode.bytes=0,t.encodingLength=function(E){return y.encodingLength(E)+W(E.questions||[],re)+W(E.answers||[],X)+W(E.authorities||[],X)+W(E.additionals||[],X)},t.streamEncode=function(E){const b=t.encode(E),k=e.alloc(2);k.writeUInt16BE(b.byteLength);const U=e.concat([k,b]);return t.streamEncode.bytes=U.byteLength,U},t.streamEncode.bytes=0,t.streamDecode=function(E){const b=E.readUInt16BE(0);if(E.byteLength<b+2)return null;const k=t.decode(E.slice(2));return t.streamDecode.bytes=t.decode.bytes,k},t.streamDecode.bytes=0;function W(E,b){let k=0;for(let U=0;U<E.length;U++)k+=b.encodingLength(E[U]);return k}function j(E,b,k,U){for(let _=0;_<E.length;_++)b.encode(E[_],k,U),U+=b.encode.bytes;return U}function M(E,b,k,U){for(let _=0;_<E.length;_++)E[_]=b.decode(k,U),U+=b.decode.bytes;return U}})(woe);var cO={exports:{}};function I8(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fO={exports:{}},nn=lO;class dO extends Error{}dO.prototype.name="AssertionError";function lO(t,e){if(!t){var r=new dO(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,lO),r}}(function(t){var e=nn,r=function(){var n=65536,o=globalThis.crypto||globalThis.msCrypto;function i(c,d){for(let f=0;f<d;f+=n)o.getRandomValues(new Uint8Array(c.buffer,f+c.byteOffset,Math.min(d-f,n)))}function s(c,d){new Uint8Array(c.buffer,c.byteOffset,d).set(o.randomBytes(d))}function a(){throw new Error("No secure random number generator available")}return o&&o.getRandomValues?i:I8!=null&&(o=I8("crypto"),o&&o.randomBytes)?s:a}();Object.defineProperty(t.exports,"randombytes",{value:r}),t.exports.randombytes_buf=function(n){e(n,"out must be given"),r(n,n.byteLength)}})(fO);var q0=fO.exports;function Eoe(t){return new Uint8Array(t)}function voe(t){uO(t),Boe().port1.postMessage(t.buffer,[t.buffer])}function uO(t){t.fill(0)}var vw;function Boe(){if(vw)return vw;var t=globalThis.MessageChannel;return t==null&&({MessageChannel:t}=I8("worker_threads")),vw=new t,vw}var Coe={sodium_malloc:Eoe,sodium_free:voe,sodium_memzero:uO},hO={exports:{}};(function(t){t.exports={crypto_verify_16:r,crypto_verify_32:n,crypto_verify_64:o};function e(i,s,a,c,d){var f=0;for(let l=0;l<d;l++)f|=i[s+l]^a[c+l];return(1&f-1>>>8)-1}Object.defineProperty(t.exports,"vn",{value:e});function r(i,s,a,c){return e(i,s,a,c,16)===0}function n(i,s,a,c){return e(i,s,a,c,32)===0}function o(i,s,a,c){return e(i,s,a,c,64)===0}})(hO);var $0=hO.exports;const Qoe=nn,{vn:xoe}=$0;function Soe(t){const e=t.byteLength;for(var r=1,n=0;n<e;n++)r+=t[n],t[n]=r,r>>=8}function _oe(t,e){return Qoe(t.byteLength===e.byteLength,"buffers must be the same size"),xoe(t,0,e,0,t.byteLength)===0}function Doe(t){var e=0;for(let r=0;r<t.length;r++)e|=t[r];return e===0}var AO={sodium_increment:Soe,sodium_memcmp:_oe,sodium_is_zero:Doe},Vl={exports:{}};const gO=nn,Tb=WI;var koe=ad;const Bw=128;var dT=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ad(){return this instanceof ad?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new ad}ad.prototype.update=function(t,e){gO(this.finalised===!1,"Hash instance finalised");var[r,n]=Toe(t,e);this.bytesRead+=n;const o=n+this.pos&-128;this.buffer.set(r.subarray(0,Bw-this.pos),this.pos);const i=this.pos;return n-=Bw-this.pos,n>=0&&(Fb(this.hh,this.hl,this.buffer,128),this.pos=0),n>127&&(Fb(this.hh,this.hl,r.subarray(Bw-i,o-i),o-Bw),n%=128),this.buffer.set(r.subarray(r.byteLength-n)),this.pos=this.bytesRead&127,this.buffer.fill(0,this.pos),this};ad.prototype.digest=function(t,e=0){if(gO(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(Fb(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),P2(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),Fb(this.hh,this.hl,this.buffer,128),t instanceof Uint8Array&&t.byteLength>63){for(let n=0;n<8;n++)P2(t,8*n+e,this.hh[n],this.hl[n]);return t}const r=new Uint8Array(64);for(let n=0;n<8;n++)P2(r,8*n,this.hh[n],this.hl[n]);return typeof t=="string"?Tb.toString(r,t):r};function P2(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=n&255}function Toe(t,e){var r=Tb.from(t,e);return[r,r.byteLength]}function Fb(t,e,r,n){for(var o=new Int32Array(16),i=new Int32Array(16),s,a,c,d,f,l,u,p,A,h,y,v,B,S,x,Q,N,$,G,z,Y,R,C,m,g,w,F=t[0],H=t[1],K=t[2],D=t[3],I=t[4],P=t[5],T=t[6],V=t[7],ee=e[0],se=e[1],Z=e[2],ne=e[3],X=e[4],re=e[5],W=e[6],j=e[7],M=0;n>=128;){for(G=0;G<16;G++)z=8*G+M,o[G]=r[z+0]<<24|r[z+1]<<16|r[z+2]<<8|r[z+3],i[G]=r[z+4]<<24|r[z+5]<<16|r[z+6]<<8|r[z+7];for(G=0;G<80;G++)if(s=F,a=H,c=K,d=D,f=I,l=P,u=T,p=V,A=ee,h=se,y=Z,v=ne,B=X,S=re,x=W,Q=j,Y=V,R=j,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=(I>>>14|X<<32-14)^(I>>>18|X<<32-18)^(X>>>41-32|I<<32-(41-32)),R=(X>>>14|I<<32-14)^(X>>>18|I<<32-18)^(I>>>41-32|X<<32-(41-32)),C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,Y=I&P^~I&T,R=X&re^~X&W,C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,Y=dT[G*2],R=dT[G*2+1],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,Y=o[G%16],R=i[G%16],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,N=g&65535|w<<16,$=C&65535|m<<16,Y=N,R=$,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=(F>>>28|ee<<32-28)^(ee>>>34-32|F<<32-(34-32))^(ee>>>39-32|F<<32-(39-32)),R=(ee>>>28|F<<32-28)^(F>>>34-32|ee<<32-(34-32))^(F>>>39-32|ee<<32-(39-32)),C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,Y=F&H^F&K^H&K,R=ee&se^ee&Z^se&Z,C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,p=g&65535|w<<16,Q=C&65535|m<<16,Y=d,R=v,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=N,R=$,C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,d=g&65535|w<<16,v=C&65535|m<<16,H=s,K=a,D=c,I=d,P=f,T=l,V=u,F=p,se=A,Z=h,ne=y,X=v,re=B,W=S,j=x,ee=Q,G%16===15)for(z=0;z<16;z++)Y=o[z],R=i[z],C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=o[(z+9)%16],R=i[(z+9)%16],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,N=o[(z+1)%16],$=i[(z+1)%16],Y=(N>>>1|$<<32-1)^(N>>>8|$<<32-8)^N>>>7,R=($>>>1|N<<32-1)^($>>>8|N<<32-8)^($>>>7|N<<32-7),C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,N=o[(z+14)%16],$=i[(z+14)%16],Y=(N>>>19|$<<32-19)^($>>>61-32|N<<32-(61-32))^N>>>6,R=($>>>19|N<<32-19)^(N>>>61-32|$<<32-(61-32))^($>>>6|N<<32-6),C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,o[z]=g&65535|w<<16,i[z]=C&65535|m<<16;Y=F,R=ee,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[0],R=e[0],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[0]=F=g&65535|w<<16,e[0]=ee=C&65535|m<<16,Y=H,R=se,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[1],R=e[1],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[1]=H=g&65535|w<<16,e[1]=se=C&65535|m<<16,Y=K,R=Z,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[2],R=e[2],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[2]=K=g&65535|w<<16,e[2]=Z=C&65535|m<<16,Y=D,R=ne,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[3],R=e[3],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[3]=D=g&65535|w<<16,e[3]=ne=C&65535|m<<16,Y=I,R=X,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[4],R=e[4],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[4]=I=g&65535|w<<16,e[4]=X=C&65535|m<<16,Y=P,R=re,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[5],R=e[5],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[5]=P=g&65535|w<<16,e[5]=re=C&65535|m<<16,Y=T,R=W,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[6],R=e[6],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[6]=T=g&65535|w<<16,e[6]=W=C&65535|m<<16,Y=V,R=j,C=R&65535,m=R>>>16,g=Y&65535,w=Y>>>16,Y=t[7],R=e[7],C+=R&65535,m+=R>>>16,g+=Y&65535,w+=Y>>>16,m+=C>>>16,g+=m>>>16,w+=g>>>16,t[7]=V=g&65535|w<<16,e[7]=j=C&65535|m<<16,M+=128,n-=128}}function uI(t){if(!(this instanceof uI))return new uI(t);this.pad=Tb.alloc(128),this.inner=ad(),this.outer=ad();const e=Tb.alloc(64);t.byteLength>128&&(ad().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}uI.prototype.update=function(t,e){return this.inner.update(t,e),this};uI.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};ad.HMAC=uI;var v4={exports:{}},O2,lT;function Foe(){if(lT)return O2;lT=1;var t=(i,s)=>function(){return s||(0,i[Object.keys(i)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var i=new Uint8Array(128),s=0;s<64;s++)i[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return a=>{for(var c=a.length,d=new Uint8Array((c-(a[c-1]=="=")-(a[c-2]=="="))*3/4|0),f=0,l=0;f<c;){var u=i[a.charCodeAt(f++)],p=i[a.charCodeAt(f++)],A=i[a.charCodeAt(f++)],h=i[a.charCodeAt(f++)];d[l++]=u<<2|p>>4,d[l++]=p<<4|A>>2,d[l++]=A<<6|h}return d}})(),r=t({"wasm-binary:./sha512.wat"(i,s){s.exports=e("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")}}),n=r(),o=new WebAssembly.Module(n);return O2=i=>new WebAssembly.Instance(o,i).exports,O2}const bg=nn,Mb=WI,cd=typeof WebAssembly<"u"&&Foe()({imports:{debug:{log(...t){console.log(...t.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(t){return console.log((t>>>0).toString(16).padStart(8,"0")),t}}}});let ns=0;const P1=[];v4.exports=wo;const Moe=v4.exports.SHA512_BYTES=64,m8=80,K2=216,uy=128;function wo(){if(!(this instanceof wo))return new wo;if(!cd)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");P1.length||(P1.push(ns),ns+=K2),this.finalized=!1,this.digestLength=Moe,this.pointer=P1.pop(),this.pos=0,this.wasm=cd,this._memory=new Uint8Array(cd.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+K2),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+K2)}wo.prototype._realloc=function(t){cd.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(cd.memory.buffer)};wo.prototype.update=function(t,e){bg(this.finalized===!1,"Hash instance finalized"),ns%8!==0&&(ns+=8-ns%8),bg(ns%8===0,"input should be aligned for int64");const[r,n]=Roe(t,e);return bg(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),ns+t.length>this._memory.length&&this._realloc(ns+t.length),this._memory.fill(0,ns,ns+Noe(n,uy)-uy),this._memory.set(r.subarray(0,uy-this.pos),this.pointer+m8+this.pos),this._memory.set(r.subarray(uy-this.pos),ns),this.pos=this.pos+n&127,cd.sha512(this.pointer,ns,n,0),this};wo.prototype.digest=function(t,e=0){bg(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,P1.push(this.pointer);const r=this.pointer+m8+this.pos;this._memory.fill(0,r,this.pointer+m8+uy),cd.sha512(this.pointer,ns,0,1);const n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return n;if(typeof t=="string")return Mb.toString(n,t);bg(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),bg(t.byteLength>=this.digestLength+e,"output must have at least 'SHA512_BYTES' bytes remaining");for(let o=0;o<this.digestLength;o++)t[o+e]=n[o];return t};wo.WASM=cd;wo.WASM_SUPPORTED=typeof WebAssembly<"u";wo.ready=function(t){return t||(t=Uoe),cd?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))};wo.prototype.ready=wo.ready;function hI(t){if(!(this instanceof hI))return new hI(t);this.pad=Mb.alloc(128),this.inner=wo(),this.outer=wo();const e=Mb.alloc(64);t.byteLength>128&&(wo().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}hI.prototype.update=function(t,e){return this.inner.update(t,e),this};hI.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};wo.HMAC=hI;function Uoe(){}function Roe(t,e){var r=Mb.from(t,e);return[r,r.byteLength]}function Noe(t,e){return t+e-1&-e}var Poe=v4.exports;const Ooe=koe,Ub=Poe;var pO=Ooe;Vl.exports=function(){return new pO};Vl.exports.ready=function(t){Ub.ready(function(){t()})};Vl.exports.WASM_SUPPORTED=Ub.SUPPORTED;Vl.exports.WASM_LOADED=!1;Vl.exports.SHA512_BYTES=64;Ub.ready(function(t){t||(Vl.exports.WASM_LOADED=!0,Vl.exports=pO=Ub)});var yO=Vl.exports;const{crypto_verify_32:Koe}=$0,IO=yO,Rb=nn,B4=32,C4=32;function Hoe(t,e,r){Rb(t.byteLength===B4,"out should be 'crypto_auth_BYTES' in length"),Rb(r.byteLength===C4,"key should be 'crypto_auth_KEYBYTES' in length");const n=new Uint8Array(64),o=IO.HMAC(r);o.update(e),o.digest(n),t.set(n.subarray(0,32))}function Loe(t,e,r){Rb(t.byteLength===B4,"h should be 'crypto_auth_BYTES' in length"),Rb(r.byteLength===C4,"key should be 'crypto_auth_KEYBYTES' in length");const n=IO.HMAC(r).update(e).digest();return Koe(t,0,n,0)}var Goe={crypto_auth_BYTES:B4,crypto_auth_KEYBYTES:C4,crypto_auth:Hoe,crypto_auth_verify:Loe};const qoe=yO,$oe=nn;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");const Q4=64,joe=Q4;function mO(t,e,r){return $oe(t.byteLength===Q4,"out must be 'crypto_hash_sha512_BYTES' bytes long"),qoe().update(e.subarray(0,r)).digest(t),0}function zoe(t,e,r){return mO(t,e,r)}var Zv={crypto_hash:zoe,crypto_hash_sha512:mO,crypto_hash_sha512_BYTES:Q4,crypto_hash_BYTES:joe};if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var aa=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},wO=new Uint8Array(32);wO[0]=9;var Yoe=aa(),Joe=aa([1]),Voe=aa([56129,1]),Woe=aa([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Zoe=aa([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Xoe=aa([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ese=aa([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),tse=aa([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function rse(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function nse(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function x4(t,e,r){var n,o,i=0,s=0,a=0,c=0,d=0,f=0,l=0,u=0,p=0,A=0,h=0,y=0,v=0,B=0,S=0,x=0,Q=0,N=0,$=0,G=0,z=0,Y=0,R=0,C=0,m=0,g=0,w=0,F=0,H=0,K=0,D=0,I=r[0],P=r[1],T=r[2],V=r[3],ee=r[4],se=r[5],Z=r[6],ne=r[7],X=r[8],re=r[9],W=r[10],j=r[11],M=r[12],E=r[13],b=r[14],k=r[15];n=e[0],i+=n*I,s+=n*P,a+=n*T,c+=n*V,d+=n*ee,f+=n*se,l+=n*Z,u+=n*ne,p+=n*X,A+=n*re,h+=n*W,y+=n*j,v+=n*M,B+=n*E,S+=n*b,x+=n*k,n=e[1],s+=n*I,a+=n*P,c+=n*T,d+=n*V,f+=n*ee,l+=n*se,u+=n*Z,p+=n*ne,A+=n*X,h+=n*re,y+=n*W,v+=n*j,B+=n*M,S+=n*E,x+=n*b,Q+=n*k,n=e[2],a+=n*I,c+=n*P,d+=n*T,f+=n*V,l+=n*ee,u+=n*se,p+=n*Z,A+=n*ne,h+=n*X,y+=n*re,v+=n*W,B+=n*j,S+=n*M,x+=n*E,Q+=n*b,N+=n*k,n=e[3],c+=n*I,d+=n*P,f+=n*T,l+=n*V,u+=n*ee,p+=n*se,A+=n*Z,h+=n*ne,y+=n*X,v+=n*re,B+=n*W,S+=n*j,x+=n*M,Q+=n*E,N+=n*b,$+=n*k,n=e[4],d+=n*I,f+=n*P,l+=n*T,u+=n*V,p+=n*ee,A+=n*se,h+=n*Z,y+=n*ne,v+=n*X,B+=n*re,S+=n*W,x+=n*j,Q+=n*M,N+=n*E,$+=n*b,G+=n*k,n=e[5],f+=n*I,l+=n*P,u+=n*T,p+=n*V,A+=n*ee,h+=n*se,y+=n*Z,v+=n*ne,B+=n*X,S+=n*re,x+=n*W,Q+=n*j,N+=n*M,$+=n*E,G+=n*b,z+=n*k,n=e[6],l+=n*I,u+=n*P,p+=n*T,A+=n*V,h+=n*ee,y+=n*se,v+=n*Z,B+=n*ne,S+=n*X,x+=n*re,Q+=n*W,N+=n*j,$+=n*M,G+=n*E,z+=n*b,Y+=n*k,n=e[7],u+=n*I,p+=n*P,A+=n*T,h+=n*V,y+=n*ee,v+=n*se,B+=n*Z,S+=n*ne,x+=n*X,Q+=n*re,N+=n*W,$+=n*j,G+=n*M,z+=n*E,Y+=n*b,R+=n*k,n=e[8],p+=n*I,A+=n*P,h+=n*T,y+=n*V,v+=n*ee,B+=n*se,S+=n*Z,x+=n*ne,Q+=n*X,N+=n*re,$+=n*W,G+=n*j,z+=n*M,Y+=n*E,R+=n*b,C+=n*k,n=e[9],A+=n*I,h+=n*P,y+=n*T,v+=n*V,B+=n*ee,S+=n*se,x+=n*Z,Q+=n*ne,N+=n*X,$+=n*re,G+=n*W,z+=n*j,Y+=n*M,R+=n*E,C+=n*b,m+=n*k,n=e[10],h+=n*I,y+=n*P,v+=n*T,B+=n*V,S+=n*ee,x+=n*se,Q+=n*Z,N+=n*ne,$+=n*X,G+=n*re,z+=n*W,Y+=n*j,R+=n*M,C+=n*E,m+=n*b,g+=n*k,n=e[11],y+=n*I,v+=n*P,B+=n*T,S+=n*V,x+=n*ee,Q+=n*se,N+=n*Z,$+=n*ne,G+=n*X,z+=n*re,Y+=n*W,R+=n*j,C+=n*M,m+=n*E,g+=n*b,w+=n*k,n=e[12],v+=n*I,B+=n*P,S+=n*T,x+=n*V,Q+=n*ee,N+=n*se,$+=n*Z,G+=n*ne,z+=n*X,Y+=n*re,R+=n*W,C+=n*j,m+=n*M,g+=n*E,w+=n*b,F+=n*k,n=e[13],B+=n*I,S+=n*P,x+=n*T,Q+=n*V,N+=n*ee,$+=n*se,G+=n*Z,z+=n*ne,Y+=n*X,R+=n*re,C+=n*W,m+=n*j,g+=n*M,w+=n*E,F+=n*b,H+=n*k,n=e[14],S+=n*I,x+=n*P,Q+=n*T,N+=n*V,$+=n*ee,G+=n*se,z+=n*Z,Y+=n*ne,R+=n*X,C+=n*re,m+=n*W,g+=n*j,w+=n*M,F+=n*E,H+=n*b,K+=n*k,n=e[15],x+=n*I,Q+=n*P,N+=n*T,$+=n*V,G+=n*ee,z+=n*se,Y+=n*Z,R+=n*ne,C+=n*X,m+=n*re,g+=n*W,w+=n*j,F+=n*M,H+=n*E,K+=n*b,D+=n*k,i+=38*Q,s+=38*N,a+=38*$,c+=38*G,d+=38*z,f+=38*Y,l+=38*R,u+=38*C,p+=38*m,A+=38*g,h+=38*w,y+=38*F,v+=38*H,B+=38*K,S+=38*D,o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-o*65536,n=s+o+65535,o=Math.floor(n/65536),s=n-o*65536,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=f+o+65535,o=Math.floor(n/65536),f=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=B+o+65535,o=Math.floor(n/65536),B=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=x+o+65535,o=Math.floor(n/65536),x=n-o*65536,i+=o-1+37*(o-1),o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-o*65536,n=s+o+65535,o=Math.floor(n/65536),s=n-o*65536,n=a+o+65535,o=Math.floor(n/65536),a=n-o*65536,n=c+o+65535,o=Math.floor(n/65536),c=n-o*65536,n=d+o+65535,o=Math.floor(n/65536),d=n-o*65536,n=f+o+65535,o=Math.floor(n/65536),f=n-o*65536,n=l+o+65535,o=Math.floor(n/65536),l=n-o*65536,n=u+o+65535,o=Math.floor(n/65536),u=n-o*65536,n=p+o+65535,o=Math.floor(n/65536),p=n-o*65536,n=A+o+65535,o=Math.floor(n/65536),A=n-o*65536,n=h+o+65535,o=Math.floor(n/65536),h=n-o*65536,n=y+o+65535,o=Math.floor(n/65536),y=n-o*65536,n=v+o+65535,o=Math.floor(n/65536),v=n-o*65536,n=B+o+65535,o=Math.floor(n/65536),B=n-o*65536,n=S+o+65535,o=Math.floor(n/65536),S=n-o*65536,n=x+o+65535,o=Math.floor(n/65536),x=n-o*65536,i+=o-1+37*(o-1),t[0]=i,t[1]=s,t[2]=a,t[3]=c,t[4]=d,t[5]=f,t[6]=l,t[7]=u,t[8]=p,t[9]=A,t[10]=h,t[11]=y,t[12]=v,t[13]=B,t[14]=S,t[15]=x}function bO(t,e){x4(t,e,e)}function EO(t,e,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(t[i]^e[i]),t[i]^=n,e[i]^=n}function ise(t,e){var r,n,o,i=aa(),s=aa();for(r=0;r<16;r++)s[r]=e[r];for(H2(s),H2(s),H2(s),n=0;n<2;n++){for(i[0]=s[0]-65517,r=1;r<15;r++)i[r]=s[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=s[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,EO(s,i,1-o)}for(r=0;r<16;r++)t[2*r]=s[r]&255,t[2*r+1]=s[r]>>8}function ose(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function sse(t,e){var r=aa(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)bO(r,r),n!==2&&n!==4&&x4(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function H2(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}var vO={gf:aa,A:rse,Z:nse,M:x4,S:bO,sel25519:EO,pack25519:ise,unpack25519:ose,inv25519:sse,gf0:Yoe,gf1:Joe,_9:wO,_121665:Voe,D:Woe,D2:Zoe,X:Xoe,Y:ese,I:tse};const{_9:ase,_121665:cse,gf:MA,inv25519:fse,pack25519:dse,unpack25519:lse,sel25519:Cw,A:Qw,M:Ru,Z:xw,S:Sw}=vO,w8=32,BO=32;var Xv={crypto_scalarmult:CO,crypto_scalarmult_base:use,crypto_scalarmult_BYTES:w8,crypto_scalarmult_SCALARBYTES:BO};function CO(t,e,r){L2(t,w8),L2(e,BO),L2(r,w8);var n=new Uint8Array(32),o=new Float64Array(80),i,s,a=MA(),c=MA(),d=MA(),f=MA(),l=MA(),u=MA();for(s=0;s<31;s++)n[s]=e[s];for(n[31]=e[31]&127|64,n[0]&=248,lse(o,r),s=0;s<16;s++)c[s]=o[s],f[s]=a[s]=d[s]=0;for(a[0]=f[0]=1,s=254;s>=0;--s)i=n[s>>>3]>>>(s&7)&1,Cw(a,c,i),Cw(d,f,i),Qw(l,a,d),xw(a,a,d),Qw(d,c,f),xw(c,c,f),Sw(f,l),Sw(u,a),Ru(a,d,a),Ru(d,c,l),Qw(l,a,d),xw(a,a,d),Sw(c,a),xw(d,f,u),Ru(a,d,cse),Qw(a,a,f),Ru(d,d,a),Ru(a,f,u),Ru(f,c,o),Sw(c,l),Cw(a,c,i),Cw(d,f,i);for(s=0;s<16;s++)o[s+16]=a[s],o[s+32]=d[s],o[s+48]=c[s],o[s+64]=f[s];var p=o.subarray(32),A=o.subarray(16);return fse(p,p),Ru(A,A,p),dse(t,A),0}function use(t,e){return CO(t,e,ase)}function L2(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}var QO={exports:{}},Eo={exports:{}},hf={exports:{}},G2,uT;function hse(){if(uT)return G2;uT=1;var t=(i,s)=>function(){return s||(0,i[Object.keys(i)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var i=new Uint8Array(128),s=0;s<64;s++)i[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return a=>{for(var c=a.length,d=new Uint8Array((c-(a[c-1]=="=")-(a[c-2]=="="))*3/4|0),f=0,l=0;f<c;){var u=i[a.charCodeAt(f++)],p=i[a.charCodeAt(f++)],A=i[a.charCodeAt(f++)],h=i[a.charCodeAt(f++)];d[l++]=u<<2|p>>4,d[l++]=p<<4|A>>2,d[l++]=A<<6|h}return d}})(),r=t({"wasm-binary:./blake2b.wat"(i,s){s.exports=e("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")}}),n=r(),o=WebAssembly.compile(n);return G2=async i=>(await WebAssembly.instantiate(await o,i)).exports,G2}var cs=nn,Ase=WI,fd=null,hT=typeof WebAssembly<"u"&&hse()().then(t=>{fd=t}),Vf=64,O1=[];hf.exports=vo;var AT=hf.exports.BYTES_MIN=16,gT=hf.exports.BYTES_MAX=64;hf.exports.BYTES=32;var pT=hf.exports.KEYBYTES_MIN=16,yT=hf.exports.KEYBYTES_MAX=64;hf.exports.KEYBYTES=32;var IT=hf.exports.SALTBYTES=16,mT=hf.exports.PERSONALBYTES=16;function vo(t,e,r,n,o){if(!(this instanceof vo))return new vo(t,e,r,n,o);if(!fd)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),o!==!0&&(cs(t>=AT,"digestLength must be at least "+AT+", was given "+t),cs(t<=gT,"digestLength must be at most "+gT+", was given "+t),e!=null&&(cs(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),cs(e.length>=pT,"key must be at least "+pT+", was given "+e.length),cs(e.length<=yT,"key must be at least "+yT+", was given "+e.length)),r!=null&&(cs(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),cs(r.length===IT,"salt must be exactly "+IT+", was given "+r.length)),n!=null&&(cs(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),cs(n.length===mT,"personal must be exactly "+mT+", was given "+n.length))),O1.length||(O1.push(Vf),Vf+=216),this.digestLength=t,this.finalized=!1,this.pointer=O1.pop(),this._memory=new Uint8Array(fd.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),fd.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,Vf,Vf+e.length),this._memory[this.pointer+200]=128)}vo.prototype._realloc=function(t){fd.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(fd.memory.buffer)};vo.prototype.update=function(t){return cs(this.finalized===!1,"Hash instance finalized"),cs(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),Vf+t.length>this._memory.length&&this._realloc(Vf+t.length),this._memory.set(t,Vf),fd.blake2b_update(this.pointer,Vf,Vf+t.length),this};vo.prototype.digest=function(t){if(cs(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,O1.push(this.pointer),fd.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return Ase.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);cs(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};vo.prototype.final=vo.prototype.digest;vo.WASM=fd;vo.SUPPORTED=typeof WebAssembly<"u";vo.ready=function(t){return t||(t=gse),hT?hT.then(()=>t(),t):t(new Error("WebAssembly not supported"))};vo.prototype.ready=vo.ready;vo.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};vo.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function gse(){}var pse=hf.exports,js=nn,AI=pse;function _w(t,e,r){var n=t[e]+t[r],o=t[e+1]+t[r+1];n>=4294967296&&o++,t[e]=n,t[e+1]=o}function wT(t,e,r,n){var o=t[e]+r;r<0&&(o+=4294967296);var i=t[e+1]+n;o>=4294967296&&i++,t[e]=o,t[e+1]=i}function xO(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function Vd(t,e,r,n,o,i){var s=hy[o],a=hy[o+1],c=hy[i],d=hy[i+1];_w(Bt,t,e),wT(Bt,t,s,a);var f=Bt[n]^Bt[t],l=Bt[n+1]^Bt[t+1];Bt[n]=l,Bt[n+1]=f,_w(Bt,r,n),f=Bt[e]^Bt[r],l=Bt[e+1]^Bt[r+1],Bt[e]=f>>>24^l<<8,Bt[e+1]=l>>>24^f<<8,_w(Bt,t,e),wT(Bt,t,c,d),f=Bt[n]^Bt[t],l=Bt[n+1]^Bt[t+1],Bt[n]=f>>>16^l<<16,Bt[n+1]=l>>>16^f<<16,_w(Bt,r,n),f=Bt[e]^Bt[r],l=Bt[e+1]^Bt[r+1],Bt[e]=l>>>31^f<<1,Bt[e+1]=f>>>31^l<<1}var SO=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),yse=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Li=new Uint8Array(yse.map(function(t){return t*2})),Bt=new Uint32Array(32),hy=new Uint32Array(32);function _O(t,e){var r=0;for(r=0;r<16;r++)Bt[r]=t.h[r],Bt[r+16]=SO[r];for(Bt[24]=Bt[24]^t.t,Bt[25]=Bt[25]^t.t/4294967296,e&&(Bt[28]=~Bt[28],Bt[29]=~Bt[29]),r=0;r<32;r++)hy[r]=xO(t.b,4*r);for(r=0;r<12;r++)Vd(0,8,16,24,Li[r*16+0],Li[r*16+1]),Vd(2,10,18,26,Li[r*16+2],Li[r*16+3]),Vd(4,12,20,28,Li[r*16+4],Li[r*16+5]),Vd(6,14,22,30,Li[r*16+6],Li[r*16+7]),Vd(0,10,20,30,Li[r*16+8],Li[r*16+9]),Vd(2,12,22,24,Li[r*16+10],Li[r*16+11]),Vd(4,14,16,26,Li[r*16+12],Li[r*16+13]),Vd(6,8,18,28,Li[r*16+14],Li[r*16+15]);for(r=0;r<16;r++)t.h[r]=t.h[r]^Bt[r]^Bt[r+16]}var Wd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Zg(t,e,r,n){Wd.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=t,Wd[0]=t,e&&(Wd[1]=e.length),Wd[2]=1,Wd[3]=1,r&&Wd.set(r,32),n&&Wd.set(n,48);for(var o=0;o<16;o++)this.h[o]=SO[o]^xO(Wd,o*4);e&&(DO(this,e),this.c=128)}Zg.prototype.update=function(t){return js(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),DO(this,t),this};Zg.prototype.digest=function(t){var e=!t||t==="binary"||t==="hex"?new Uint8Array(this.outlen):t;return js(e instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),js(e.length>=this.outlen,"out must have at least outlen bytes of space"),Ise(this,e),t==="hex"?mse(e):e};Zg.prototype.final=Zg.prototype.digest;Zg.ready=function(t){AI.ready(function(){t()})};function DO(t,e){for(var r=0;r<e.length;r++)t.c===128&&(t.t+=t.c,_O(t,!1),t.c=0),t.b[t.c++]=e[r]}function Ise(t,e){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;_O(t,!0);for(var r=0;r<t.outlen;r++)e[r]=t.h[r>>2]>>8*(r&3);return e}function mse(t){for(var e="",r=0;r<t.length;r++)e+=wse(t[r]);return e}function wse(t){return t<16?"0"+t.toString(16):t.toString(16)}var bse=Zg;Eo.exports=function(e,r,n,o,i){return i!==!0&&(js(e>=bT,"outlen must be at least "+bT+", was given "+e),js(e<=ET,"outlen must be at most "+ET+", was given "+e),r!=null&&(js(r instanceof Uint8Array,"key must be Uint8Array or Buffer"),js(r.length>=vT,"key must be at least "+vT+", was given "+r.length),js(r.length<=BT,"key must be at most "+BT+", was given "+r.length)),n!=null&&(js(n instanceof Uint8Array,"salt must be Uint8Array or Buffer"),js(n.length===CT,"salt must be exactly "+CT+", was given "+n.length)),o!=null&&(js(o instanceof Uint8Array,"personal must be Uint8Array or Buffer"),js(o.length===QT,"personal must be exactly "+QT+", was given "+o.length))),new bse(e,r,n,o)};Eo.exports.ready=function(t){AI.ready(function(){t()})};Eo.exports.WASM_SUPPORTED=AI.SUPPORTED;Eo.exports.WASM_LOADED=!1;var bT=Eo.exports.BYTES_MIN=16,ET=Eo.exports.BYTES_MAX=64;Eo.exports.BYTES=32;var vT=Eo.exports.KEYBYTES_MIN=16,BT=Eo.exports.KEYBYTES_MAX=64;Eo.exports.KEYBYTES=32;var CT=Eo.exports.SALTBYTES=16,QT=Eo.exports.PERSONALBYTES=16;AI.ready(function(t){t||(Eo.exports.WASM_LOADED=!0,Eo.exports=AI)});var kO=Eo.exports;(function(t){var e=kO;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");t.exports.crypto_generichash_PRIMITIVE="blake2b",t.exports.crypto_generichash_BYTES_MIN=e.BYTES_MIN,t.exports.crypto_generichash_BYTES_MAX=e.BYTES_MAX,t.exports.crypto_generichash_BYTES=e.BYTES,t.exports.crypto_generichash_KEYBYTES_MIN=e.KEYBYTES_MIN,t.exports.crypto_generichash_KEYBYTES_MAX=e.KEYBYTES_MAX,t.exports.crypto_generichash_KEYBYTES=e.KEYBYTES,t.exports.crypto_generichash_WASM_SUPPORTED=e.WASM_SUPPORTED,t.exports.crypto_generichash_WASM_LOADED=!1,t.exports.crypto_generichash=function(r,n,o){e(r.length,o).update(n).final(r)},t.exports.crypto_generichash_ready=e.ready,t.exports.crypto_generichash_batch=function(r,n,o){for(var i=e(r.length,o),s=0;s<n.length;s++)i.update(n[s]);i.final(r)},t.exports.crypto_generichash_instance=function(r,n){return n==null&&(n=t.exports.crypto_generichash_BYTES),e(n,r)},e.ready(function(r){t.exports.crypto_generichash_WASM_LOADED=e.WASM_LOADED})})(QO);var S4=QO.exports,eB={},q2,xT;function Ese(){if(xT)return q2;xT=1;var t=(i,s)=>function(){return s||(0,i[Object.keys(i)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var i=new Uint8Array(128),s=0;s<64;s++)i[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return a=>{for(var c=a.length,d=new Uint8Array((c-(a[c-1]=="=")-(a[c-2]=="="))*3/4|0),f=0,l=0;f<c;){var u=i[a.charCodeAt(f++)],p=i[a.charCodeAt(f++)],A=i[a.charCodeAt(f++)],h=i[a.charCodeAt(f++)];d[l++]=u<<2|p>>4,d[l++]=p<<4|A>>2,d[l++]=A<<6|h}return d}})(),r=t({"wasm-binary:./xsalsa20.wat"(i,s){s.exports=e("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")}}),n=r(),o=new WebAssembly.Module(n);return q2=i=>new WebAssembly.Instance(o,i).exports,q2}var gI=typeof WebAssembly<"u"&&Ese()(),Nb=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),Mc=144,Eg=Mc,K1=[],TO=ef;ef.NONCEBYTES=24;ef.KEYBYTES=32;ef.core_hsalsa20=FO;ef.SIGMA=Nb;function ef(t,e){if(!(this instanceof ef))return new ef(t,e);if(!t||t.length<24)throw new Error("nonce must be at least 24 bytes");if(!e||e.length<32)throw new Error("key must be at least 32 bytes");this._xor=gI?new tB(t,e):new _4(t,e)}ef.prototype.update=function(t,e){if(!t)throw new Error("input must be Uint8Array or Buffer");return e||(e=new Uint8Array(t.length)),t.length&&this._xor.update(t,e),e};ef.prototype.final=ef.prototype.finalize=function(){this._xor.finalize(),this._xor=null};function tB(t,e){K1.length||(K1.push(Mc),Mc+=64),this._pointer=K1.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(gI.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(t,this._nonce),this._memory.set(e,this._key)}tB.prototype.realloc=function(t){gI.memory.grow(Math.ceil(Math.abs(t-this._memory.length)/65536)),this._memory=new Uint8Array(gI.memory.buffer)};tB.prototype.update=function(t,e){var r=this._overflow+t.length,n=Mc+this._overflow;Eg=Mc+r,Eg>=this._memory.length&&this.realloc(Eg),this._memory.set(t,n),gI.xsalsa20_xor(this._pointer,Mc,Mc,r,this._nonce,this._key),e.set(this._memory.subarray(n,Mc+r)),this._overflow=r&63};tB.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),Eg>Mc&&(this._memory.fill(0,Mc,Eg),Eg=0),K1.push(this._pointer)};function _4(t,e){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,FO(this._s,t,e,Nb);for(var r=0;r<8;r++)this._z[r]=t[r+16]}_4.prototype.update=function(t,e){for(var r=new Uint8Array(64),n=0,o=this._overflow,i=t.length+this._overflow,s=this._z,a=-this._overflow,c=-this._overflow;i>=64;){for(ST(r,s,this._s,Nb);o<64;o++)e[c+o]=t[a+o]^r[o];for(n=1,o=8;o<16;o++)n+=s[o]&255|0,s[o]=n&255,n>>>=8;i-=64,c+=64,a+=64,o=0}if(i>0)for(ST(r,s,this._s,Nb);o<i;o++)e[c+o]=t[a+o]^r[o];this._overflow=i&63};_4.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)};function ST(t,e,r,n){for(var o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,s=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,a=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,c=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,d=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,f=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,l=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,u=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,p=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,A=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,h=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,y=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,v=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,B=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,S=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,x=o,Q=i,N=s,$=a,G=c,z=d,Y=f,R=l,C=u,m=p,g=A,w=h,F=y,H=v,K=B,D=S,I,P=0;P<20;P+=2)I=x+F|0,G^=I<<7|I>>>25,I=G+x|0,C^=I<<9|I>>>23,I=C+G|0,F^=I<<13|I>>>19,I=F+C|0,x^=I<<18|I>>>14,I=z+Q|0,m^=I<<7|I>>>25,I=m+z|0,H^=I<<9|I>>>23,I=H+m|0,Q^=I<<13|I>>>19,I=Q+H|0,z^=I<<18|I>>>14,I=g+Y|0,K^=I<<7|I>>>25,I=K+g|0,N^=I<<9|I>>>23,I=N+K|0,Y^=I<<13|I>>>19,I=Y+N|0,g^=I<<18|I>>>14,I=D+w|0,$^=I<<7|I>>>25,I=$+D|0,R^=I<<9|I>>>23,I=R+$|0,w^=I<<13|I>>>19,I=w+R|0,D^=I<<18|I>>>14,I=x+$|0,Q^=I<<7|I>>>25,I=Q+x|0,N^=I<<9|I>>>23,I=N+Q|0,$^=I<<13|I>>>19,I=$+N|0,x^=I<<18|I>>>14,I=z+G|0,Y^=I<<7|I>>>25,I=Y+z|0,R^=I<<9|I>>>23,I=R+Y|0,G^=I<<13|I>>>19,I=G+R|0,z^=I<<18|I>>>14,I=g+m|0,w^=I<<7|I>>>25,I=w+g|0,C^=I<<9|I>>>23,I=C+w|0,m^=I<<13|I>>>19,I=m+C|0,g^=I<<18|I>>>14,I=D+K|0,F^=I<<7|I>>>25,I=F+D|0,H^=I<<9|I>>>23,I=H+F|0,K^=I<<13|I>>>19,I=K+H|0,D^=I<<18|I>>>14;x=x+o|0,Q=Q+i|0,N=N+s|0,$=$+a|0,G=G+c|0,z=z+d|0,Y=Y+f|0,R=R+l|0,C=C+u|0,m=m+p|0,g=g+A|0,w=w+h|0,F=F+y|0,H=H+v|0,K=K+B|0,D=D+S|0,t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=Q>>>0&255,t[5]=Q>>>8&255,t[6]=Q>>>16&255,t[7]=Q>>>24&255,t[8]=N>>>0&255,t[9]=N>>>8&255,t[10]=N>>>16&255,t[11]=N>>>24&255,t[12]=$>>>0&255,t[13]=$>>>8&255,t[14]=$>>>16&255,t[15]=$>>>24&255,t[16]=G>>>0&255,t[17]=G>>>8&255,t[18]=G>>>16&255,t[19]=G>>>24&255,t[20]=z>>>0&255,t[21]=z>>>8&255,t[22]=z>>>16&255,t[23]=z>>>24&255,t[24]=Y>>>0&255,t[25]=Y>>>8&255,t[26]=Y>>>16&255,t[27]=Y>>>24&255,t[28]=R>>>0&255,t[29]=R>>>8&255,t[30]=R>>>16&255,t[31]=R>>>24&255,t[32]=C>>>0&255,t[33]=C>>>8&255,t[34]=C>>>16&255,t[35]=C>>>24&255,t[36]=m>>>0&255,t[37]=m>>>8&255,t[38]=m>>>16&255,t[39]=m>>>24&255,t[40]=g>>>0&255,t[41]=g>>>8&255,t[42]=g>>>16&255,t[43]=g>>>24&255,t[44]=w>>>0&255,t[45]=w>>>8&255,t[46]=w>>>16&255,t[47]=w>>>24&255,t[48]=F>>>0&255,t[49]=F>>>8&255,t[50]=F>>>16&255,t[51]=F>>>24&255,t[52]=H>>>0&255,t[53]=H>>>8&255,t[54]=H>>>16&255,t[55]=H>>>24&255,t[56]=K>>>0&255,t[57]=K>>>8&255,t[58]=K>>>16&255,t[59]=K>>>24&255,t[60]=D>>>0&255,t[61]=D>>>8&255,t[62]=D>>>16&255,t[63]=D>>>24&255}function FO(t,e,r,n){for(var o=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,s=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,a=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,c=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,d=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,f=e[0]&255|(e[1]&255)<<8|(e[2]&255)<<16|(e[3]&255)<<24,l=e[4]&255|(e[5]&255)<<8|(e[6]&255)<<16|(e[7]&255)<<24,u=e[8]&255|(e[9]&255)<<8|(e[10]&255)<<16|(e[11]&255)<<24,p=e[12]&255|(e[13]&255)<<8|(e[14]&255)<<16|(e[15]&255)<<24,A=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,h=r[16]&255|(r[17]&255)<<8|(r[18]&255)<<16|(r[19]&255)<<24,y=r[20]&255|(r[21]&255)<<8|(r[22]&255)<<16|(r[23]&255)<<24,v=r[24]&255|(r[25]&255)<<8|(r[26]&255)<<16|(r[27]&255)<<24,B=r[28]&255|(r[29]&255)<<8|(r[30]&255)<<16|(r[31]&255)<<24,S=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,x=o,Q=i,N=s,$=a,G=c,z=d,Y=f,R=l,C=u,m=p,g=A,w=h,F=y,H=v,K=B,D=S,I,P=0;P<20;P+=2)I=x+F|0,G^=I<<7|I>>>25,I=G+x|0,C^=I<<9|I>>>23,I=C+G|0,F^=I<<13|I>>>19,I=F+C|0,x^=I<<18|I>>>14,I=z+Q|0,m^=I<<7|I>>>25,I=m+z|0,H^=I<<9|I>>>23,I=H+m|0,Q^=I<<13|I>>>19,I=Q+H|0,z^=I<<18|I>>>14,I=g+Y|0,K^=I<<7|I>>>25,I=K+g|0,N^=I<<9|I>>>23,I=N+K|0,Y^=I<<13|I>>>19,I=Y+N|0,g^=I<<18|I>>>14,I=D+w|0,$^=I<<7|I>>>25,I=$+D|0,R^=I<<9|I>>>23,I=R+$|0,w^=I<<13|I>>>19,I=w+R|0,D^=I<<18|I>>>14,I=x+$|0,Q^=I<<7|I>>>25,I=Q+x|0,N^=I<<9|I>>>23,I=N+Q|0,$^=I<<13|I>>>19,I=$+N|0,x^=I<<18|I>>>14,I=z+G|0,Y^=I<<7|I>>>25,I=Y+z|0,R^=I<<9|I>>>23,I=R+Y|0,G^=I<<13|I>>>19,I=G+R|0,z^=I<<18|I>>>14,I=g+m|0,w^=I<<7|I>>>25,I=w+g|0,C^=I<<9|I>>>23,I=C+w|0,m^=I<<13|I>>>19,I=m+C|0,g^=I<<18|I>>>14,I=D+K|0,F^=I<<7|I>>>25,I=F+D|0,H^=I<<9|I>>>23,I=H+F|0,K^=I<<13|I>>>19,I=K+H|0,D^=I<<18|I>>>14;t[0]=x>>>0&255,t[1]=x>>>8&255,t[2]=x>>>16&255,t[3]=x>>>24&255,t[4]=z>>>0&255,t[5]=z>>>8&255,t[6]=z>>>16&255,t[7]=z>>>24&255,t[8]=g>>>0&255,t[9]=g>>>8&255,t[10]=g>>>16&255,t[11]=g>>>24&255,t[12]=D>>>0&255,t[13]=D>>>8&255,t[14]=D>>>16&255,t[15]=D>>>24&255,t[16]=Y>>>0&255,t[17]=Y>>>8&255,t[18]=Y>>>16&255,t[19]=Y>>>24&255,t[20]=R>>>0&255,t[21]=R>>>8&255,t[22]=R>>>16&255,t[23]=R>>>24&255,t[24]=C>>>0&255,t[25]=C>>>8&255,t[26]=C>>>16&255,t[27]=C>>>24&255,t[28]=m>>>0&255,t[29]=m>>>8&255,t[30]=m>>>16&255,t[31]=m>>>24&255}(function(t){const e=TO;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");t.crypto_stream_KEYBYTES=32,t.crypto_stream_NONCEBYTES=24,t.crypto_stream_PRIMITIVE="xsalsa20",t.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream=function(n,o,i){n.fill(0),t.crypto_stream_xor(n,n,o,i)},t.crypto_stream_xor=function(n,o,i,s){const a=e(i,s);a.update(o,n),a.final()},t.crypto_stream_xor_instance=function(n,o){return new r(n,o)};function r(n,o){this._instance=e(n,o)}r.prototype.update=function(n,o){this._instance.update(o,n)},r.prototype.final=function(){this._instance.finalize(),this._instance=null}})(eB);if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");var rB=function(t){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var e,r,n,o,i,s,a,c;e=t[0]&255|(t[1]&255)<<8,this.r[0]=e&8191,r=t[2]&255|(t[3]&255)<<8,this.r[1]=(e>>>13|r<<3)&8191,n=t[4]&255|(t[5]&255)<<8,this.r[2]=(r>>>10|n<<6)&7939,o=t[6]&255|(t[7]&255)<<8,this.r[3]=(n>>>7|o<<9)&8191,i=t[8]&255|(t[9]&255)<<8,this.r[4]=(o>>>4|i<<12)&255,this.r[5]=i>>>1&8190,s=t[10]&255|(t[11]&255)<<8,this.r[6]=(i>>>14|s<<2)&8191,a=t[12]&255|(t[13]&255)<<8,this.r[7]=(s>>>11|a<<5)&8065,c=t[14]&255|(t[15]&255)<<8,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127,this.pad[0]=t[16]&255|(t[17]&255)<<8,this.pad[1]=t[18]&255|(t[19]&255)<<8,this.pad[2]=t[20]&255|(t[21]&255)<<8,this.pad[3]=t[22]&255|(t[23]&255)<<8,this.pad[4]=t[24]&255|(t[25]&255)<<8,this.pad[5]=t[26]&255|(t[27]&255)<<8,this.pad[6]=t[28]&255|(t[29]&255)<<8,this.pad[7]=t[30]&255|(t[31]&255)<<8};rB.prototype.blocks=function(t,e,r){for(var n=this.fin?0:2048,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B,S,x,Q,N,$=this.h[0],G=this.h[1],z=this.h[2],Y=this.h[3],R=this.h[4],C=this.h[5],m=this.h[6],g=this.h[7],w=this.h[8],F=this.h[9],H=this.r[0],K=this.r[1],D=this.r[2],I=this.r[3],P=this.r[4],T=this.r[5],V=this.r[6],ee=this.r[7],se=this.r[8],Z=this.r[9];r>=16;)o=t[e+0]&255|(t[e+1]&255)<<8,$+=o&8191,i=t[e+2]&255|(t[e+3]&255)<<8,G+=(o>>>13|i<<3)&8191,s=t[e+4]&255|(t[e+5]&255)<<8,z+=(i>>>10|s<<6)&8191,a=t[e+6]&255|(t[e+7]&255)<<8,Y+=(s>>>7|a<<9)&8191,c=t[e+8]&255|(t[e+9]&255)<<8,R+=(a>>>4|c<<12)&8191,C+=c>>>1&8191,d=t[e+10]&255|(t[e+11]&255)<<8,m+=(c>>>14|d<<2)&8191,f=t[e+12]&255|(t[e+13]&255)<<8,g+=(d>>>11|f<<5)&8191,l=t[e+14]&255|(t[e+15]&255)<<8,w+=(f>>>8|l<<8)&8191,F+=l>>>5|n,u=0,p=u,p+=$*H,p+=G*(5*Z),p+=z*(5*se),p+=Y*(5*ee),p+=R*(5*V),u=p>>>13,p&=8191,p+=C*(5*T),p+=m*(5*P),p+=g*(5*I),p+=w*(5*D),p+=F*(5*K),u+=p>>>13,p&=8191,A=u,A+=$*K,A+=G*H,A+=z*(5*Z),A+=Y*(5*se),A+=R*(5*ee),u=A>>>13,A&=8191,A+=C*(5*V),A+=m*(5*T),A+=g*(5*P),A+=w*(5*I),A+=F*(5*D),u+=A>>>13,A&=8191,h=u,h+=$*D,h+=G*K,h+=z*H,h+=Y*(5*Z),h+=R*(5*se),u=h>>>13,h&=8191,h+=C*(5*ee),h+=m*(5*V),h+=g*(5*T),h+=w*(5*P),h+=F*(5*I),u+=h>>>13,h&=8191,y=u,y+=$*I,y+=G*D,y+=z*K,y+=Y*H,y+=R*(5*Z),u=y>>>13,y&=8191,y+=C*(5*se),y+=m*(5*ee),y+=g*(5*V),y+=w*(5*T),y+=F*(5*P),u+=y>>>13,y&=8191,v=u,v+=$*P,v+=G*I,v+=z*D,v+=Y*K,v+=R*H,u=v>>>13,v&=8191,v+=C*(5*Z),v+=m*(5*se),v+=g*(5*ee),v+=w*(5*V),v+=F*(5*T),u+=v>>>13,v&=8191,B=u,B+=$*T,B+=G*P,B+=z*I,B+=Y*D,B+=R*K,u=B>>>13,B&=8191,B+=C*H,B+=m*(5*Z),B+=g*(5*se),B+=w*(5*ee),B+=F*(5*V),u+=B>>>13,B&=8191,S=u,S+=$*V,S+=G*T,S+=z*P,S+=Y*I,S+=R*D,u=S>>>13,S&=8191,S+=C*K,S+=m*H,S+=g*(5*Z),S+=w*(5*se),S+=F*(5*ee),u+=S>>>13,S&=8191,x=u,x+=$*ee,x+=G*V,x+=z*T,x+=Y*P,x+=R*I,u=x>>>13,x&=8191,x+=C*D,x+=m*K,x+=g*H,x+=w*(5*Z),x+=F*(5*se),u+=x>>>13,x&=8191,Q=u,Q+=$*se,Q+=G*ee,Q+=z*V,Q+=Y*T,Q+=R*P,u=Q>>>13,Q&=8191,Q+=C*I,Q+=m*D,Q+=g*K,Q+=w*H,Q+=F*(5*Z),u+=Q>>>13,Q&=8191,N=u,N+=$*Z,N+=G*se,N+=z*ee,N+=Y*V,N+=R*T,u=N>>>13,N&=8191,N+=C*P,N+=m*I,N+=g*D,N+=w*K,N+=F*H,u+=N>>>13,N&=8191,u=(u<<2)+u|0,u=u+p|0,p=u&8191,u=u>>>13,A+=u,$=p,G=A,z=h,Y=y,R=v,C=B,m=S,g=x,w=Q,F=N,e+=16,r-=16;this.h[0]=$,this.h[1]=G,this.h[2]=z,this.h[3]=Y,this.h[4]=R,this.h[5]=C,this.h[6]=m,this.h[7]=g,this.h[8]=w,this.h[9]=F};rB.prototype.finish=function(t,e){var r=new Uint16Array(10),n,o,i,s;if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=n,n=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=n*5,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,r[0]=this.h[0]+5,n=r[0]>>>13,r[0]&=8191,s=1;s<10;s++)r[s]=this.h[s]+n,n=r[s]>>>13,r[s]&=8191;for(r[9]-=8192,o=(n^1)-1,s=0;s<10;s++)r[s]&=o;for(o=~o,s=0;s<10;s++)this.h[s]=this.h[s]&o|r[s];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=i&65535,s=1;s<8;s++)i=(this.h[s]+this.pad[s]|0)+(i>>>16)|0,this.h[s]=i&65535;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255};rB.prototype.update=function(t,e,r){var n,o;if(this.leftover){for(o=16-this.leftover,o>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=o,e+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(t,e,o),e+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var D4=rB;const vg=nn,vse=D4,{crypto_verify_16:Bse}=$0,k4=16,T4=32,Cse="poly1305";var MO={crypto_onetimeauth:UO,crypto_onetimeauth_verify:Qse,crypto_onetimeauth_BYTES:k4,crypto_onetimeauth_KEYBYTES:T4,crypto_onetimeauth_PRIMITIVE:Cse};function UO(t,e,r){vg(t.byteLength===k4,"mac must be 'crypto_onetimeauth_BYTES' bytes"),vg(e.byteLength!=null,"msg must be buffer"),vg(r.byteLength===T4,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new vse(r);n.update(e,0,e.byteLength),n.finish(t,0)}function Qse(t,e,r){vg(t.byteLength===k4,"mac must be 'crypto_onetimeauth_BYTES' bytes"),vg(e.byteLength!=null,"msg must be buffer"),vg(r.byteLength===T4,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return UO(n,e,r),Bse(t,0,n,0)}const fn=nn,{crypto_stream:xse,crypto_stream_xor:RO}=eB,{crypto_onetimeauth:Sse,crypto_onetimeauth_verify:_se,crypto_onetimeauth_BYTES:Pb,crypto_onetimeauth_KEYBYTES:NO}=MO,dA=32,lA=24,Xg=32,Ya=16,ZI=16;var PO={crypto_secretbox:OO,crypto_secretbox_open:KO,crypto_secretbox_detached:Dse,crypto_secretbox_open_detached:kse,crypto_secretbox_easy:HO,crypto_secretbox_open_easy:LO,crypto_secretbox_KEYBYTES:dA,crypto_secretbox_NONCEBYTES:lA,crypto_secretbox_ZEROBYTES:Xg,crypto_secretbox_BOXZEROBYTES:Ya,crypto_secretbox_MACBYTES:ZI};function OO(t,e,r,n){fn(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");const o=e.byteLength;fn(o>=Xg,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),fn(r.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(n.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes"),RO(t,e,r,n),Sse(t.subarray(Ya,Ya+Pb),t.subarray(Ya+Pb,t.byteLength),t.subarray(0,NO)),t.fill(0,0,Ya)}function KO(t,e,r,n){fn(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");const o=t.byteLength;fn(o>=Xg,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),fn(r.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(n.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(NO);return xse(i,r,n),_se(e.subarray(Ya,Ya+Pb),e.subarray(Ya+Pb,e.byteLength),i)===!1?!1:(RO(t,e,r,n),t.fill(0,0,32),!0)}function Dse(t,e,r,n,o){fn(t.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),fn(e.byteLength===ZI,"mac must be 'crypto_secretbox_MACBYTES' bytes"),fn(n.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(o.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(r.byteLength+e.byteLength);return HO(i,r,n,o),e.set(i.subarray(0,e.byteLength)),t.set(i.subarray(e.byteLength)),!0}function kse(t,e,r,n,o){fn(e.byteLength===t.byteLength,"o must be 'msg.byteLength' bytes"),fn(r.byteLength===ZI,"mac must be 'crypto_secretbox_MACBYTES' bytes"),fn(n.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(o.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(e.byteLength+r.byteLength);return i.set(r),i.set(e,r.byteLength),LO(t,i,n,o)}function HO(t,e,r,n){fn(t.byteLength===e.byteLength+ZI,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),fn(r.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(n.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(Xg+e.byteLength),i=new Uint8Array(o.byteLength);o.set(e,Xg),OO(i,o,r,n),t.set(i.subarray(Ya))}function LO(t,e,r,n){fn(e.byteLength===t.byteLength+ZI,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),fn(r.byteLength===lA,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),fn(n.byteLength===dA,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(Ya+e.byteLength),i=new Uint8Array(o.byteLength);return o.set(e,Ya),KO(i,o,r,n)===!1?!1:(t.set(i.subarray(Xg)),!0)}const{crypto_hash_sha512:Tse}=Zv,{crypto_scalarmult:F4,crypto_scalarmult_base:GO}=Xv,{randombytes:Fse}=q0,{crypto_generichash_batch:qO}=S4,{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:Mse}=eB,{crypto_secretbox_open_easy:Use,crypto_secretbox_easy:Rse,crypto_secretbox_detached:Nse,crypto_secretbox_open_detached:Pse}=PO,e0=TO,dd=nn,Gc=32,j0=32,nB=24,Ose=32,Kse=16,Ob=48,$O=32,XI=32,Nc=16,Hse=16,Lse=Mse-Hse;var Gse={crypto_box_easy:Jse,crypto_box_open_easy:Zse,crypto_box_keypair:jO,crypto_box_seed_keypair:qse,crypto_box_seal:$se,crypto_box_seal_open:jse,crypto_box_PUBLICKEYBYTES:Gc,crypto_box_SECRETKEYBYTES:j0,crypto_box_NONCEBYTES:nB,crypto_box_ZEROBYTES:Ose,crypto_box_BOXZEROBYTES:Kse,crypto_box_SEALBYTES:Ob,crypto_box_SEEDBYTES:$O,crypto_box_BEFORENMBYTES:XI,crypto_box_MACBYTES:Nc};function jO(t,e){return ta(t,Gc),ta(e,j0),Fse(e,32),GO(t,e)}function qse(t,e,r){dd(t.byteLength===Gc,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),dd(e.byteLength===j0,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),dd(e.byteLength===$O,"sk should be 'crypto_box_SEEDBYTES' bytes");const n=new Uint8Array(64);return Tse(n,r,32),e.set(n.subarray(0,32)),n.fill(0),GO(t,e)}function $se(t,e,r){ta(t,Ob+e.length),ta(r,Gc);var n=t.subarray(0,Gc),o=new Uint8Array(j0);jO(n,o);var i=new Uint8Array(nB);qO(i,[n,r]);var s=new Uint8Array(Gc);F4(s,o,r);var a=new Uint8Array(XI),c=new Uint8Array(16);e0.core_hsalsa20(a,c,s,e0.SIGMA),Rse(t.subarray(n.length),e,i,a),M4(o)}function jse(t,e,r,n){ta(e,Ob),ta(t,e.length-Ob),ta(r,Gc),ta(n,j0);var o=e.subarray(0,Gc),i=new Uint8Array(nB);qO(i,[o,r]);var s=new Uint8Array(Gc);F4(s,n,o);var a=new Uint8Array(XI),c=new Uint8Array(16);return e0.core_hsalsa20(a,c,s,e0.SIGMA),Use(t,e.subarray(o.length),i,a)}function zO(t,e,r){const n=new Uint8Array(16),o=new Uint8Array(32);return dd(F4(o,r,e)===0),e0.core_hsalsa20(t,n,o,e0.SIGMA),!0}function zse(t,e,r,n,o){return Nse(t,e,r,n,o)}function Yse(t,e,r,n,o,i){ta(e,Nc),ta(n,nB),ta(o,Gc),ta(i,j0);const s=new Uint8Array(XI);dd(zO(s,o,i));const a=zse(t,e,r,n,s);return M4(s),a}function Jse(t,e,r,n,o){return dd(t.length>=e.length+Nc,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),dd(e.length<=Lse,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),Yse(t.subarray(Nc,e.length+Nc),t.subarray(0,Nc),e,r,n,o)}function Vse(t,e,r,n,o){return Pse(t,e,r,n,o)}function Wse(t,e,r,n,o,i){const s=new Uint8Array(XI);dd(zO(s,o,i));const a=Vse(t,e,r,n,s);return M4(s),a}function Zse(t,e,r,n,o){return dd(e.length>=t.length+Nc,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),Wse(t,e.subarray(Nc,t.length+Nc),e.subarray(0,Nc),r,n,o)}function ta(t,e){if(!t||e&&t.length<e)throw new Error("Argument must be a buffer"+(e?" of length "+e:""))}function M4(t){for(let e=0;e<t.length;e++)t[e]=0}var Wl={exports:{}},U4={exports:{}};const H1=nn,Kb=WI;U4.exports=ld;const Xse=U4.exports.SHA256_BYTES=32,$2=64,Dw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function eae(t,e,r,n){var o=((t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+e,i=((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+n;return o+i<<0}function b8(t,e){var r,n,o,i,s,a,[c,d,f,l,u,p,A,h]=t;const y=new Uint32Array(64);for(let B=0;B<16;B++)y[B]=YO(e[B]);for(let B=16;B<64;B++)y[B]=eae(y[B-2],y[B-7],y[B-15],y[B-16]);for(let B=0;B<64;B+=4)v(B);t[0]=t[0]+c,t[1]=t[1]+d,t[2]=t[2]+f,t[3]=t[3]+l,t[4]=t[4]+u,t[5]=t[5]+p,t[6]=t[6]+A,t[7]=t[7]+h;function v(B){r=u&p^~u&A,n=c&d^c&f^d&f,o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),i=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),s=h+r+i+y[B]+Dw[B],a=o+n,h=l+s,l=s+a,r=h&u^~h&p,n=l&c^l&d^c&d,o=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7),s=A+r+i+y[B+1]+Dw[B+1],a=o+n,A=f+s,f=s+a,r=A&h^~A&u,n=f&l^f&c^l&c,o=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),i=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),s=p+r+i+y[B+2]+Dw[B+2],a=o+n,p=d+s,d=s+a,r=p&A^~p&h,n=d&f^d&l^f&l,o=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),i=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),s=u+r+i+y[B+3]+Dw[B+3],a=o+n,u=c+s,c=s+a}}function ld(){return this instanceof ld?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=Xse,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new ld}ld.prototype.update=function(t,e){H1(this.finalised===!1,"Hash instance finalised");var[r,n]=tae(t,e),o=0;for(this.bytesRead+=n;n>0&&(this.load.set(r.subarray(o,o+$2-this.pos),this.pos),o+=$2-this.pos,n-=$2-this.pos,!(n<0));)this.pos=0,b8(this.state,this.words);return this.pos=this.bytesRead&63,this.load.fill(0,this.pos),this};ld.prototype.digest=function(t,e=0){H1(this.finalised===!1,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(b8(this.state,this.words),this.words.fill(0),this.pos=0);const r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),b8(this.state,this.words);const n=new Uint8Array(this.state.map(YO).buffer);if(!t)return new Uint8Array(n);if(typeof t=="string")return Kb.toString(n,t);H1(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),H1(t.byteLength>=this.digestLength+e,"input not large enough for digest");for(let o=0;o<this.digestLength;o++)t[o+e]=n[o];return t};function pI(t){if(!(this instanceof pI))return new pI(t);this.pad=Kb.alloc(64),this.inner=ld(),this.outer=ld();const e=Kb.alloc(32);t.byteLength>64&&(ld().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}pI.prototype.update=function(t,e){return this.inner.update(t,e),this};pI.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};ld.HMAC=pI;function tae(t,e){var r=Kb.from(t,e);return[r,r.byteLength]}function YO(t){var e=(t&16711935)>>>8|(t&16711935)<<24,r=(t&4278255360)<<8|(t&4278255360)>>>24;return e|r}var rae=U4.exports,R4={exports:{}},j2,_T;function nae(){if(_T)return j2;_T=1;var t=(i,s)=>function(){return s||(0,i[Object.keys(i)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var i=new Uint8Array(128),s=0;s<64;s++)i[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return a=>{for(var c=a.length,d=new Uint8Array((c-(a[c-1]=="=")-(a[c-2]=="="))*3/4|0),f=0,l=0;f<c;){var u=i[a.charCodeAt(f++)],p=i[a.charCodeAt(f++)],A=i[a.charCodeAt(f++)],h=i[a.charCodeAt(f++)];d[l++]=u<<2|p>>4,d[l++]=p<<4|A>>2,d[l++]=A<<6|h}return d}})(),r=t({"wasm-binary:./sha256.wat"(i,s){s.exports=e("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")}}),n=r(),o=new WebAssembly.Module(n);return j2=i=>new WebAssembly.Instance(o,i).exports,j2}const Bg=nn,Hb=WI,Zl=typeof WebAssembly<"u"&&nae()({imports:{debug:{log(...t){console.log(...t.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(t){return console.log((t>>>0).toString(16).padStart(8,"0")),t}}}});let is=0;const L1=[];R4.exports=bo;const iae=R4.exports.SHA256_BYTES=32,E8=40,z2=108,Ay=64;function bo(){if(!(this instanceof bo))return new bo;if(!Zl)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");L1.length||(L1.push(is),is+=z2),this.finalized=!1,this.digestLength=iae,this.pointer=L1.pop(),this.pos=0,this._memory=new Uint8Array(Zl.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+z2),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+z2)}bo.prototype._realloc=function(t){Zl.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Zl.memory.buffer)};bo.prototype.update=function(t,e){Bg(this.finalized===!1,"Hash instance finalized"),is%4!==0&&(is+=4-is%4),Bg(is%4===0,"input shoud be aligned for int32");const[r,n]=sae(t,e);return Bg(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),is+n>this._memory.length&&this._realloc(is+t.length),this._memory.fill(0,is,is+aae(n,Ay)-Ay),this._memory.set(r.subarray(0,Ay-this.pos),this.pointer+E8+this.pos),this._memory.set(r.subarray(Ay-this.pos),is),this.pos=this.pos+n&63,Zl.sha256(this.pointer,is,n,0),this};bo.prototype.digest=function(t,e=0){Bg(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,L1.push(this.pointer);const r=this.pointer+E8+this.pos;this._memory.fill(0,r,this.pointer+E8+Ay),Zl.sha256(this.pointer,is,0,1);const n=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!t)return n;if(typeof t=="string")return Hb.toString(n,t);Bg(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),Bg(t.byteLength>=this.digestLength+e,"output must have at least 'SHA256_BYTES' bytes remaining");for(let o=0;o<this.digestLength;o++)t[o+e]=n[o];return t};bo.WASM=Zl;bo.WASM_SUPPORTED=typeof WebAssembly<"u";bo.ready=function(t){return t||(t=oae),Zl?(t(),Promise.resolve()):t(new Error("WebAssembly not supported"))};bo.prototype.ready=bo.ready;function yI(t){if(!(this instanceof yI))return new yI(t);this.pad=Hb.alloc(64),this.inner=bo(),this.outer=bo();const e=Hb.alloc(32);t.byteLength>64&&(bo().update(t).digest(e),t=e),this.pad.fill(54);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.inner.update(this.pad),this.pad.fill(92);for(let r=0;r<t.byteLength;r++)this.pad[r]^=t[r];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}yI.prototype.update=function(t,e){return this.inner.update(t,e),this};yI.prototype.digest=function(t,e=0){return this.outer.update(this.inner.digest()),this.outer.digest(t,e)};bo.HMAC=yI;function oae(){}function sae(t,e){var r=Hb.from(t,e);return[r,r.byteLength]}function aae(t,e){return t+e-1&-e}var cae=R4.exports;const fae=rae,Lb=cae;var JO=fae;Wl.exports=function(){return new JO};Wl.exports.ready=function(t){Lb.ready(function(){t()})};Wl.exports.WASM_SUPPORTED=Lb.WASM_SUPPORTED;Wl.exports.WASM_LOADED=!1;Wl.exports.SHA256_BYTES=32;Lb.ready(function(t){t||(Wl.exports.WASM_LOADED=!0,Wl.exports=JO=Lb)});var dae=Wl.exports;const lae=dae,uae=nn;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");const VO=32;function hae(t,e,r){return uae(t.byteLength===VO,"out must be 'crypto_hash_sha256_BYTES' bytes long"),lae().update(e.subarray(0,r)).digest(t),0}var Aae={crypto_hash_sha256:hae,crypto_hash_sha256_BYTES:VO},WO={exports:{}};(function(t){const e=nn,r=q0.randombytes_buf,n=kO;t.exports.crypto_kdf_PRIMITIVE="blake2b",t.exports.crypto_kdf_BYTES_MIN=16,t.exports.crypto_kdf_BYTES_MAX=64,t.exports.crypto_kdf_CONTEXTBYTES=8,t.exports.crypto_kdf_KEYBYTES=32;function o(i,s){var a=1,c=0;for(i[0]=s&255;++c<8&&(a*=256);)i[c]=s/a&255}t.exports.crypto_kdf_derive_from_key=function(s,a,c,d){e(s.length>=t.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),e(a>=0&&a<=9007199254740991,"subkey_id must be safe integer"),e(c.length>=t.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var f=new Uint8Array(n.PERSONALBYTES),l=new Uint8Array(n.SALTBYTES);f.set(c,0,t.exports.crypto_kdf_CONTEXTBYTES),o(l,a);var u=Math.min(s.length,t.exports.crypto_kdf_BYTES_MAX);n(u,d.subarray(0,t.exports.crypto_kdf_KEYBYTES),l,f,!0).final(s)},t.exports.crypto_kdf_keygen=function(s){e(s.length>=t.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),r(s.subarray(0,t.exports.crypto_kdf_KEYBYTES))}})(WO);var gae=WO.exports;const{crypto_scalarmult_base:ZO}=Xv,{crypto_generichash:pae}=S4,{randombytes_buf:yae}=q0,xy=nn,XO=32,N4=32,Gb=32;function Iae(t,e){return xy(t.byteLength===N4,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),xy(e.byteLength===Gb,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),yae(e,Gb),ZO(t,e)}function mae(t,e,r){return xy(t.byteLength===N4,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),xy(e.byteLength===Gb,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),xy(r.byteLength===XO,"seed must be 'crypto_kx_SEEDBYTES' bytes"),pae(e,r),ZO(t,e)}var wae={crypto_kx_keypair:Iae,crypto_kx_seed_keypair:mae,crypto_kx_SEEDBYTES:XO,crypto_kx_SECRETKEYBYTES:Gb,crypto_kx_PUBLICKEYBYTES:N4},iB={};const Sy=nn;var bae=P4;const Eae=[1634760805,857760878,2036477234,1797285236];function P4(t,e,r){Sy(e.byteLength===32),Sy(t.byteLength===8||t.byteLength===12);const n=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4),o=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4);r||(r=0),Sy(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let i=0;i<4;i++)this.state[i]=Eae[i];for(let i=0;i<8;i++)this.state[4+i]=o[i];return this.state[12]=r&4294967295,n.byteLength===8?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=n[0],this.state[15]=n[1]):(this.state[13]=n[0],this.state[14]=n[1],this.state[15]=n[2]),this}P4.prototype.update=function(t,e){Sy(!this.finalized,"cipher finalized."),Sy(t.byteLength>=e.byteLength,"output cannot be shorter than input.");let r=e.length,n=this.pos%64;this.pos+=r;let o=0,i=DT(this.state);for(;n>0&&r>0;)t[o]=e[o++]^i[n],n=n+1&63,n||this.state[12]++,r--;for(;r>0;){if(i=DT(this.state),r<64){for(let s=0;s<r;s++)t[o]=e[o++]^i[n++],n&=63;return}for(;n<64;)t[o]=e[o++]^i[n++];this.state[12]++,n=0,r-=64}};P4.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0};function DT(t){const e=new Uint32Array(16);for(let r=16;r--;)e[r]=t[r];for(let r=0;r<20;r+=2)Zd(e,0,4,8,12),Zd(e,1,5,9,13),Zd(e,2,6,10,14),Zd(e,3,7,11,15),Zd(e,0,5,10,15),Zd(e,1,6,11,12),Zd(e,2,7,8,13),Zd(e,3,4,9,14);for(let r=0;r<16;r++)e[r]+=t[r];return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function kw(t,e){return t<<e|t>>>32-e}function Zd(t,e,r,n,o){t[e]+=t[r],t[o]^=t[e],t[o]=kw(t[o],16),t[n]+=t[o],t[r]^=t[n],t[r]=kw(t[r],12),t[e]+=t[r],t[o]^=t[e],t[o]=kw(t[o],8),t[n]+=t[o],t[r]^=t[n],t[r]=kw(t[r],7)}(function(t){const e=nn,r=bae;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");t.crypto_stream_chacha20_KEYBYTES=32,t.crypto_stream_chacha20_NONCEBYTES=8,t.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream_chacha20_ietf_KEYBYTES=32,t.crypto_stream_chacha20_ietf_NONCEBYTES=12,t.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32,t.crypto_stream_chacha20=function(n,o,i){n.fill(0),t.crypto_stream_chacha20_xor(n,n,o,i)},t.crypto_stream_chacha20_xor=function(n,o,i,s){e(i.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),e(s.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const a=new r(i,s);a.update(n,o),a.final()},t.crypto_stream_chacha20_xor_ic=function(n,o,i,s,a){e(i.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),e(a.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const c=new r(i,a,s);c.update(n,o),c.final()},t.crypto_stream_chacha20_xor_instance=function(n,o){return e(n.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),e(o.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new r(n,o)},t.crypto_stream_chacha20_ietf=function(n,o,i){n.fill(0),t.crypto_stream_chacha20_ietf_xor(n,n,o,i)},t.crypto_stream_chacha20_ietf_xor=function(n,o,i,s){e(i.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),e(s.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const a=new r(i,s);a.update(n,o),a.final()},t.crypto_stream_chacha20_ietf_xor_ic=function(n,o,i,s,a){e(i.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),e(a.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const c=new r(i,a,s);c.update(n,o),c.final()},t.crypto_stream_chacha20_ietf_xor_instance=function(n,o){return e(n.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),e(o.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new r(n,o)}})(iB);const{crypto_stream_chacha20_ietf:eK,crypto_stream_chacha20_ietf_xor_ic:tK}=iB,{crypto_verify_16:vae}=$0,rK=D4,Fn=nn,em=32,Bae=0,tm=12,La=16,rm=Number.MAX_SAFE_INTEGER,qb=new Uint8Array(16);function nK(t,e,r,n,o,i){if(r===null)return nK(t,e,new Uint8Array(0),n,o,i);Fn(t.byteLength===e.byteLength+La,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),Fn(o.byteLength===tm,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Fn(i.byteLength===em,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Fn(e.byteLength<=rm,"message is too large");const s=O4(t.subarray(0,e.byteLength),t.subarray(e.byteLength),e,r,n,o,i);return e.byteLength+s}function O4(t,e,r,n,o,i,s){if(n===null)return O4(t,e,r,new Uint8Array(0),o,i,s);Fn(t.byteLength===r.byteLength,"ciphertext should be same length than message"),Fn(i.byteLength===tm,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Fn(s.byteLength===em,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Fn(r.byteLength<=rm,"message is too large"),Fn(e.byteLength<=La,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const a=new Uint8Array(64);var c=new Uint8Array(8);eK(a,i,s);const d=new rK(a);return a.fill(0),d.update(n,0,n.byteLength),d.update(qb,0,16-n.byteLength&15),tK(t,r,i,1,s),d.update(t,0,r.byteLength),d.update(qb,0,16-r.byteLength&15),$b(c,0,n.byteLength),d.update(c,0,c.byteLength),$b(c,0,r.byteLength),d.update(c,0,c.byteLength),d.finish(e,0),c.fill(0),La}function iK(t,e,r,n,o,i){if(n===null)return iK(t,e,r,new Uint8Array(0),o,i);if(Fn(t.byteLength===r.byteLength-La,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),Fn(o.byteLength===tm,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Fn(i.byteLength===em,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Fn(t.byteLength<=rm,"message is too large"),r.byteLength<La)throw new Error("could not verify data");return K4(t,e,r.subarray(0,r.byteLength-La),r.subarray(r.byteLength-La),n,o,i),r.byteLength-La}function K4(t,e,r,n,o,i,s){if(o===null)return K4(t,e,r,n,new Uint8Array(0),i,s);Fn(r.byteLength===t.byteLength,"message should be same length than ciphertext"),Fn(i.byteLength===tm,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),Fn(s.byteLength===em,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),Fn(t.byteLength<=rm,"message is too large"),Fn(n.byteLength<=La,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const a=new Uint8Array(64),c=new Uint8Array(8),d=new Uint8Array(La);eK(a,i,s);const f=new rK(a);a.fill(0),f.update(o,0,o.byteLength),f.update(qb,0,16-o.byteLength&15);const l=r.byteLength;f.update(r,0,l),f.update(qb,0,16-l&15),$b(c,0,o.byteLength),f.update(c,0,c.byteLength),$b(c,0,l),f.update(c,0,c.byteLength),f.finish(d,0),Fn(d.byteLength===16);const u=vae(d,0,n,0);if(d.fill(0),c.fill(0),!u)throw t.fill(0),new Error("could not verify data");tK(t,r,i,1,s)}function $b(t,e,r){t.fill(0,0,8);const n=new DataView(t.buffer,t.byteOffset,t.byteLength);n.setUint32(e,r&4294967295,!0),n.setUint32(e+4,r/2**32&4294967295,!0)}var Cae={crypto_aead_chacha20poly1305_ietf_encrypt:nK,crypto_aead_chacha20poly1305_ietf_encrypt_detached:O4,crypto_aead_chacha20poly1305_ietf_decrypt:iK,crypto_aead_chacha20poly1305_ietf_decrypt_detached:K4,crypto_aead_chacha20poly1305_ietf_ABYTES:La,crypto_aead_chacha20poly1305_ietf_KEYBYTES:em,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:tm,crypto_aead_chacha20poly1305_ietf_NSECBYTES:Bae,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:rm};const _y=nn;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");const Qae=32,oK=16,xae=32,Sae=16;function Tw(t,e){return t&=4294967295,e&=4294967295,t<<e|t>>>32-e}function yi(t,e){_y(t instanceof Uint8Array,"src not byte array");let r=t[e];return r|=t[e+1]<<8,r|=t[e+2]<<16,r|=t[e+3]<<24,r}function Mf(t,e,r){_y(t instanceof Uint8Array,"dest not byte array");var n=1,o=0;for(t[r]=e&255;++o<4&&(n*=256);)t[r+o]=e/n&255}function Uf(t,e,r,n,o){t[e]+=t[r],t[o]=Tw(t[o]^t[e],16),t[n]+=t[o],t[r]=Tw(t[r]^t[n],12),t[e]+=t[r],t[o]=Tw(t[o]^t[e],8),t[n]+=t[o],t[r]=Tw(t[r]^t[n],7)}function _ae(t,e,r,n){_y(t instanceof Uint8Array&&t.length===32,"out is not an array of 32 bytes"),_y(r instanceof Uint8Array&&r.length===32,"k is not an array of 32 bytes"),_y(n===null||n instanceof Uint8Array&&n.length===16,"c is not null or an array of 16 bytes");let o=0;const i=new Uint32Array(16);for(n?(i[0]=yi(n,0),i[1]=yi(n,4),i[2]=yi(n,8),i[3]=yi(n,12)):(i[0]=1634760805,i[1]=857760878,i[2]=2036477234,i[3]=1797285236),i[4]=yi(r,0),i[5]=yi(r,4),i[6]=yi(r,8),i[7]=yi(r,12),i[8]=yi(r,16),i[9]=yi(r,20),i[10]=yi(r,24),i[11]=yi(r,28),i[12]=yi(e,0),i[13]=yi(e,4),i[14]=yi(e,8),i[15]=yi(e,12),o=0;o<10;o++)Uf(i,0,4,8,12),Uf(i,1,5,9,13),Uf(i,2,6,10,14),Uf(i,3,7,11,15),Uf(i,0,5,10,15),Uf(i,1,6,11,12),Uf(i,2,7,8,13),Uf(i,3,4,9,14);return Mf(t,i[0],0),Mf(t,i[1],4),Mf(t,i[2],8),Mf(t,i[3],12),Mf(t,i[12],16),Mf(t,i[13],20),Mf(t,i[14],24),Mf(t,i[15],28),0}function Dae(){return Qae}function kae(){return oK}function Tae(){return xae}function Fae(){return Sae}var Mae={crypto_core_hchacha20_INPUTBYTES:oK,LOAD32_LE:yi,STORE32_LE:Mf,QUARTERROUND:Uf,crypto_core_hchacha20:_ae,crypto_core_hchacha20_outputbytes:Dae,crypto_core_hchacha20_inputbytes:kae,crypto_core_hchacha20_keybytes:Tae,crypto_core_hchacha20_constbytes:Fae};const Oo=nn,{randombytes_buf:sK}=q0,{crypto_stream_chacha20_ietf:aK,crypto_stream_chacha20_ietf_xor:Uae,crypto_stream_chacha20_ietf_xor_ic:jb,crypto_stream_chacha20_ietf_KEYBYTES:Op}=iB,{crypto_core_hchacha20:cK,crypto_core_hchacha20_INPUTBYTES:fK}=Mae,dK=D4,{sodium_increment:lK,sodium_is_zero:uK,sodium_memcmp:Rae}=AO,hK=16,Va=4,qc=8,Nae=32,z0=Nae,Pae=24,zb=Pae,Oae=16,Yb=1+Oae,AK=Number.MAX_SAFE_INTEGER,Kae=Number.MAX_SAFE_INTEGER,Hae=1,Lae=new Uint8Array([0]),gK=new Uint8Array([1]),oB=new Uint8Array([2]),Gae=new Uint8Array([gK|oB]),uA=z0+qc+Va+8,nm=0,ca=z0,Xl=ca+qc+Va,Jb=new Uint8Array(16);function Vb(t,e){let r=1,n=0;for(t[0]=e&255;++n<8&&(r*=256);)t[n]=e/r&255}function H4(t){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const e=t.subarray(ca,Xl);for(let r=0;r<Va;r++)e[r]=0;e[0]=1}function qae(t){Oo(t.length===z0),sK(t)}function $ae(t,e,r){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),Oo(e instanceof Uint8Array&&e.length===zb,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),Oo(r instanceof Uint8Array&&r.length===z0,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const n=t.subarray(nm,ca),o=t.subarray(ca,Xl),i=t.subarray(Xl);sK(e,zb),cK(n,e,r,null),H4(t);for(let s=0;s<qc;s++)o[s+Va]=e[s+fK];i.fill(0)}function jae(t,e,r){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),Oo(e instanceof Uint8Array&&e.length===zb,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),Oo(r instanceof Uint8Array&&r.length===z0,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const n=t.subarray(nm,ca),o=t.subarray(ca,Xl),i=t.subarray(Xl);cK(n,e,r,null),H4(t);for(let s=0;s<qc;s++)o[s+Va]=e[s+fK];i.fill(0)}function L4(t){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const e=t.subarray(nm,ca),r=t.subarray(ca,Xl),n=new Uint8Array(Op+qc);let o;for(o=0;o<Op;o++)n[o]=e[o];for(o=0;o<qc;o++)n[Op+o]=r[Va+o];for(Uae(n,n,r,e),o=0;o<Op;o++)e[o]=n[o];for(o=0;o<qc;o++)r[Va+o]=n[Op+o];H4(t)}function zae(t,e,r,n,o){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));const i=t.subarray(nm,ca),s=t.subarray(ca,Xl),a=new Uint8Array(64),c=new Uint8Array(8);Oo(AK<=Kae),aK(a,s,i);const d=new dK(a);a.fill(0),d.update(n,0,n.byteLength),d.update(Jb,0,16-n.byteLength&15),a[0]=o[0],jb(a,a,s,1,i),d.update(a,0,a.byteLength),e[0]=a[0];const f=e.subarray(1,e.byteLength);jb(f,r,s,2,i),d.update(f,0,r.byteLength),d.update(Jb,0,16-a.byteLength+r.byteLength&15),Vb(c,n.byteLength),d.update(c,0,c.byteLength),Vb(c,a.byteLength+r.byteLength),d.update(c,0,c.byteLength);const l=e.subarray(1+r.byteLength,e.byteLength);return d.finish(l,0),Oo(hK>=qc),pK(s.subarray(Va,s.length),l,qc),lK(s),(o[0]&oB||uK(s.subarray(0,Va)))&&L4(t),Yb+r.byteLength}function Yae(t,e,r,n,o){Oo(t.byteLength===uA,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),o||(o=new Uint8Array(0));const i=t.subarray(nm,ca),s=t.subarray(ca,Xl),a=new Uint8Array(64),c=new Uint8Array(8),d=new Uint8Array(hK);Oo(n.byteLength>=Yb,"ciphertext is too short.");const f=n.byteLength-Yb;aK(a,s,i);const l=new dK(a);a.fill(0),l.update(o,0,o.byteLength),l.update(Jb,0,16-o.byteLength&15),a.fill(0),a[0]=n[0],jb(a,a,s,1,i),r[0]=a[0],a[0]=n[0],l.update(a,0,a.byteLength);const u=n.subarray(1,n.length);l.update(u,0,f),l.update(Jb,0,16-a.byteLength+f&15),Vb(c,o.byteLength),l.update(c,0,c.byteLength),Vb(c,a.byteLength+e.byteLength),l.update(c,0,c.byteLength),l.finish(d,0);const p=n.subarray(1+f,n.length);if(!Rae(d,p))throw d.fill(0),new Error("MAC could not be verified.");return jb(e,u.subarray(0,e.length),s,2,i),pK(s.subarray(Va,s.length),d,qc),lK(s),(r&oB||uK(s.subarray(0,Va)))&&L4(t),f}function pK(t,e,r){for(let n=0;n<r;n++)t[n]^=e[n]}var Jae={crypto_secretstream_xchacha20poly1305_keygen:qae,crypto_secretstream_xchacha20poly1305_init_push:$ae,crypto_secretstream_xchacha20poly1305_init_pull:jae,crypto_secretstream_xchacha20poly1305_rekey:L4,crypto_secretstream_xchacha20poly1305_push:zae,crypto_secretstream_xchacha20poly1305_pull:Yae,crypto_secretstream_xchacha20poly1305_STATEBYTES:uA,crypto_secretstream_xchacha20poly1305_ABYTES:Yb,crypto_secretstream_xchacha20poly1305_HEADERBYTES:zb,crypto_secretstream_xchacha20poly1305_KEYBYTES:z0,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:AK,crypto_secretstream_xchacha20poly1305_TAGBYTES:Hae,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:Lae,crypto_secretstream_xchacha20poly1305_TAG_PUSH:gK,crypto_secretstream_xchacha20poly1305_TAG_REKEY:oB,crypto_secretstream_xchacha20poly1305_TAG_FINAL:Gae},hA={},Y2,kT;function Vae(){if(kT)return Y2;kT=1;var t=(i,s)=>function(){return s||(0,i[Object.keys(i)[0]])((s={exports:{}}).exports,s),s.exports},e=(()=>{for(var i=new Uint8Array(128),s=0;s<64;s++)i[s<26?s+65:s<52?s+71:s<62?s-4:s*4-205]=s;return a=>{for(var c=a.length,d=new Uint8Array((c-(a[c-1]=="=")-(a[c-2]=="="))*3/4|0),f=0,l=0;f<c;){var u=i[a.charCodeAt(f++)],p=i[a.charCodeAt(f++)],A=i[a.charCodeAt(f++)],h=i[a.charCodeAt(f++)];d[l++]=u<<2|p>>4,d[l++]=p<<4|A>>2,d[l++]=A<<6|h}return d}})(),r=t({"wasm-binary:./siphash24.wat"(i,s){s.exports=e("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}}),n=r(),o=new WebAssembly.Module(n);return Y2=i=>new WebAssembly.Instance(o,i).exports,Y2}var Wae=Zae;function Fw(t,e){var r=t.l+e.l,n={h:t.h+e.h+(r/2>>>31)>>>0,l:r>>>0};t.h=n.h,t.l=n.l}function Ji(t,e){t.h^=e.h,t.h>>>=0,t.l^=e.l,t.l>>>=0}function Mw(t,e){var r={h:t.h<<e|t.l>>>32-e,l:t.l<<e|t.h>>>32-e};t.h=r.h,t.l=r.l}function TT(t){var e=t.l;t.l=t.h,t.h=e}function Xd(t,e,r,n){Fw(t,e),Fw(r,n),Mw(e,13),Mw(n,16),Ji(e,t),Ji(n,r),TT(t),Fw(r,e),Fw(t,n),Mw(e,17),Mw(n,21),Ji(e,r),Ji(n,t),TT(r)}function UA(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function Zae(t,e,r){var n={h:UA(r,4),l:UA(r,0)},o={h:UA(r,12),l:UA(r,8)},i={h:n.h,l:n.l},s=n,a={h:o.h,l:o.l},c=o,d,f=0,l=e.length,u=l-7,p=new Uint8Array(new ArrayBuffer(8));for(Ji(i,{h:1936682341,l:1886610805}),Ji(a,{h:1685025377,l:1852075885}),Ji(s,{h:1819895653,l:1852142177}),Ji(c,{h:1952801890,l:2037671283});f<u;)d={h:UA(e,f+4),l:UA(e,f)},Ji(c,d),Xd(i,a,s,c),Xd(i,a,s,c),Ji(i,d),f+=8;p[7]=l;for(var A=0;f<l;)p[A++]=e[f++];for(;A<7;)p[A++]=0;d={h:p[7]<<24|p[6]<<16|p[5]<<8|p[4],l:p[3]<<24|p[2]<<16|p[1]<<8|p[0]},Ji(c,d),Xd(i,a,s,c),Xd(i,a,s,c),Ji(i,d),Ji(s,{h:0,l:255}),Xd(i,a,s,c),Xd(i,a,s,c),Xd(i,a,s,c),Xd(i,a,s,c);var h=i;Ji(h,a),Ji(h,s),Ji(h,c),t[0]=h.l&255,t[1]=h.l>>8&255,t[2]=h.l>>16&255,t[3]=h.l>>24&255,t[4]=h.h&255,t[5]=h.h>>8&255,t[6]=h.h>>16&255,t[7]=h.h>>24&255}var FT=nn,eu=typeof WebAssembly<"u"&&Vae()(),Xae=Wae,ece=im,MT=im.BYTES=8,UT=im.KEYBYTES=16;im.WASM_SUPPORTED=!!eu;im.WASM_LOADED=!!eu;var sg=new Uint8Array(eu?eu.memory.buffer:0);function im(t,e,r,n){return r||(r=new Uint8Array(8)),n!==!0&&(FT(r.length>=MT,"output must be at least "+MT),FT(e.length>=UT,"key must be at least "+UT)),eu?(t.length+24>sg.length&&tce(t.length+24),sg.set(e,8),sg.set(t,24),eu.siphash(24,t.length),r.set(sg.subarray(0,8))):Xae(r,t,e),r}function tce(t){eu.memory.grow(Math.max(0,Math.ceil(Math.abs(t-sg.length)/65536))),sg=new Uint8Array(eu.memory.buffer)}var om=ece;if(new Uint16Array([1])[0]!==1)throw new Error("Big endian architecture is not supported.");hA.crypto_shorthash_PRIMITIVE="siphash24";hA.crypto_shorthash_BYTES=om.BYTES;hA.crypto_shorthash_KEYBYTES=om.KEYBYTES;hA.crypto_shorthash_WASM_SUPPORTED=om.WASM_SUPPORTED;hA.crypto_shorthash_WASM_LOADED=om.WASM_LOADED;hA.crypto_shorthash=rce;function rce(t,e,r,n){om(e,r,t,n)}const{crypto_verify_32:yK}=$0,{crypto_hash:Cg}=Zv,{gf:Ve,gf0:RT,gf1:Wb,D:nce,D2:ice,X:NT,Y:PT,I:oce,A:rh,Z:hh,M:Rr,S:ZA,sel25519:sce,pack25519:t0,inv25519:IK,unpack25519:ace}=vO,{randombytes:cce}=q0,{crypto_scalarmult_BYTES:OT}=Xv,{crypto_hash_sha512_BYTES:fce}=Zv,v8=nn,sB=32,G4=64,q4=32,mK=64,Pc=mK,aB=sB,$4=G4,wK=q4;var dce={crypto_sign_keypair:bK,crypto_sign_seed_keypair:uce,crypto_sign:vK,crypto_sign_detached:hce,crypto_sign_open:BK,crypto_sign_verify_detached:Ace,crypto_sign_BYTES:Pc,crypto_sign_PUBLICKEYBYTES:aB,crypto_sign_SECRETKEYBYTES:$4,crypto_sign_SEEDBYTES:wK,crypto_sign_ed25519_PUBLICKEYBYTES:sB,crypto_sign_ed25519_SECRETKEYBYTES:G4,crypto_sign_ed25519_SEEDBYTES:q4,crypto_sign_ed25519_BYTES:mK,crypto_sign_ed25519_pk_to_curve25519:yce,crypto_sign_ed25519_sk_to_curve25519:wce,crypto_sign_ed25519_sk_to_pk:mce,unpackneg:Y4,pack:cB};function xl(t,e){for(let r=0;r<16;r++)t[r]=e[r]|0}function lce(t,e){var r=Ve(),n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)ZA(r,r),n!==1&&Rr(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function B8(t,e){var r=Ve(),n=Ve(),o=Ve(),i=Ve(),s=Ve(),a=Ve(),c=Ve(),d=Ve(),f=Ve();hh(r,t[1],t[0]),hh(f,e[1],e[0]),Rr(r,r,f),rh(n,t[0],t[1]),rh(f,e[0],e[1]),Rr(n,n,f),Rr(o,t[3],e[3]),Rr(o,o,ice),Rr(i,t[2],e[2]),rh(i,i,i),hh(s,n,r),hh(a,i,o),rh(c,i,o),rh(d,n,r),Rr(t[0],s,a),Rr(t[1],d,c),Rr(t[2],c,a),Rr(t[3],s,d)}function KT(t,e,r){var n;for(n=0;n<4;n++)sce(t[n],e[n],r)}function cB(t,e){var r=Ve(),n=Ve(),o=Ve();IK(o,e[2]),Rr(r,e[0],o),Rr(n,e[1],o),t0(t,n),t[31]^=CK(r)<<7}function j4(t,e,r){var n=[Ve(e[0]),Ve(e[1]),Ve(e[2]),Ve(e[3])],o,i;for(xl(t[0],RT),xl(t[1],Wb),xl(t[2],Wb),xl(t[3],RT),i=255;i>=0;--i)o=r[i/8|0]>>(i&7)&1,KT(t,n,o),B8(n,t),B8(t,t),KT(t,n,o)}function z4(t,e){var r=[Ve(),Ve(),Ve(),Ve()];xl(r[0],NT),xl(r[1],PT),xl(r[2],Wb),Rr(r[3],NT,PT),j4(t,r,e)}function bK(t,e,r){Ko(t,aB),Ko(e,$4);var n=new Uint8Array(64),o=[Ve(),Ve(),Ve(),Ve()],i;for(r||cce(e,32),Cg(n,e,32),n[0]&=248,n[31]&=127,n[31]|=64,z4(o,n),cB(t,o),i=0;i<32;i++)e[i+32]=t[i]}function uce(t,e,r){return Ko(r,wK),e.set(r),bK(t,e,!0)}var G1=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function EK(t,e){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)e[o]+=r-16*e[n]*G1[o-(n-32)],r=e[o]+128>>8,e[o]-=r*256;e[o]+=r,e[n]=0}for(r=0,o=0;o<32;o++)e[o]+=r-(e[31]>>4)*G1[o],r=e[o]>>8,e[o]&=255;for(o=0;o<32;o++)e[o]-=r*G1[o];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function C8(t){var e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let r=0;r<64;r++)t[r]=0;EK(t,e)}function vK(t,e,r){Ko(t,Pc+e.length),Ko(e,0),Ko(r,$4);var n=e.length,o=new Uint8Array(64),i=new Uint8Array(64),s=new Uint8Array(64),a,c,d=new Float64Array(64),f=[Ve(),Ve(),Ve(),Ve()];Cg(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64;var l=n+64;for(a=0;a<n;a++)t[64+a]=e[a];for(a=0;a<32;a++)t[32+a]=o[32+a];for(Cg(s,t.subarray(32),n+32),C8(s),z4(f,s),cB(t,f),a=32;a<64;a++)t[a]=r[a];for(Cg(i,t,n+64),C8(i),a=0;a<64;a++)d[a]=0;for(a=0;a<32;a++)d[a]=s[a];for(a=0;a<32;a++)for(c=0;c<32;c++)d[a+c]+=i[a]*o[c];return EK(t.subarray(32),d),l}function hce(t,e,r){var n=new Uint8Array(e.length+Pc);vK(n,e,r);for(let o=0;o<Pc;o++)t[o]=n[o]}function Y4(t,e){var r=Ve(),n=Ve(),o=Ve(),i=Ve(),s=Ve(),a=Ve(),c=Ve();return xl(t[2],Wb),ace(t[1],e),ZA(o,t[1]),Rr(i,o,nce),hh(o,o,t[2]),rh(i,t[2],i),ZA(s,i),ZA(a,s),Rr(c,a,s),Rr(r,c,o),Rr(r,r,i),lce(r,r),Rr(r,r,o),Rr(r,r,i),Rr(r,r,i),Rr(t[0],r,i),ZA(n,t[0]),Rr(n,n,i),HT(n,o)||Rr(t[0],t[0],oce),ZA(n,t[0]),Rr(n,n,i),HT(n,o)?(CK(t[0])===e[31]>>7&&hh(t[0],Ve(),t[0]),Rr(t[3],t[0],t[1]),!0):!1}function BK(t,e,r){Ko(t,e.length-Pc),Ko(e,Pc),Ko(r,aB);var n=e.length,o=new Uint8Array(e.length),i,s=new Uint8Array(32),a=new Uint8Array(64),c=[Ve(),Ve(),Ve(),Ve()],d=[Ve(),Ve(),Ve(),Ve()];if(n<64||!Y4(d,r))return!1;for(i=0;i<n;i++)o[i]=e[i];for(i=0;i<32;i++)o[i+32]=r[i];if(Cg(a,o,n),C8(a),j4(c,d,a),z4(d,e.subarray(32)),B8(c,d),cB(s,c),n-=64,!yK(e,0,s,0)){for(i=0;i<n;i++)o[i]=0;return!1}for(i=0;i<n;i++)t[i]=e[i+64];return!0}function Ace(t,e,r){Ko(t,Pc);var n=new Uint8Array(e.length+Pc),o=0;for(o=0;o<Pc;o++)n[o]=t[o];for(o=0;o<e.length;o++)n[o+Pc]=e[o];return BK(e,n,r)}function CK(t){var e=new Uint8Array(32);return t0(e,t),e[0]&1}function HT(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return t0(r,t),t0(n,e),yK(r,0,n,0)}function gce(t,e){j4(t,e,G1)}function pce(t){var e=[Ve(),Ve(),Ve(),Ve()];gce(e,t);var r=0;for(let n=0;n<16;n++)r|=e[0][n]&65535;return r===0}function yce(t,e){Ko(t,aB),Ko(e,sB);var r=[Ve(),Ve(),Ve(),Ve()],n=Ve([1]),o=Ve([1]);v8(Ice(e)&&Y4(r,e)&&pce(r),"Cannot convert key: bad point");for(let i=0;i<r.length;i++)t0(t,r[i]);return hh(o,o,r[1]),rh(n,n,r[1]),IK(o,o),Rr(n,n,o),t0(t,n),0}function Ice(t){Uint8Array.from([]);var e=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],r=new Uint8Array(7),n;Ko(e,7);for(let i=0;i<e.length;i++)for(n=0;n<31;n++)r[i]|=t[n]^e[i][n];for(let i=0;i<e.length;i++)r[i]|=t[n]&127^e[i][n];var o=0;for(let i=0;i<e.length;i++)o|=r[i]-1;return(o>>8&1)===0}function mce(t,e){return Ko(t,sB),t.set(e.subarray(q4)),t}function wce(t,e){v8(t&&t.byteLength===OT,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),v8(e&&e.byteLength===G4,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(fce);return Cg(r,e,32),r[0]&=248,r[31]&=127,r[31]|=64,t.set(r.subarray(0,OT)),r.fill(0),t}function Ko(t,e,r="Argument"){if(!t||e&&t.length<e)throw new Error(r+" must be a buffer"+(e?" of length "+e:""))}(function(t){e(q0),e(Coe),e(AO),e($0),e(Goe),e(Gse),e(S4),e(Zv),e(Aae),e(gae),e(wae),e(Cae),e(MO),e(Xv),e(PO),e(Jae),e(hA),e(dce),e(eB),e(iB);function e(r){Object.keys(r).forEach(function(n){t.exports[n]=r[n]})}})(cO);var bce=cO.exports,Ece=bce;const QK=Qo(Ece);var LT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vce=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Uw=0;Uw<LT.length;Uw++)vce[LT.charCodeAt(Uw)]=Uw;new TextDecoder;new TextEncoder;const GT=typeof window<"u"?window:self,qT=GT.crypto||GT.msCrypto||{};qT.subtle||qT.webkitSubtle;QK.crypto_sign_verify_detached;QK.crypto_sign_verify_detached;globalThis&&globalThis.__awaiter;const Bce="(?:%[0-9a-fA-F]{2})",$T=`(?:[a-zA-Z0-9._-]|${Bce})`,Cce="([a-z0-9]+)",Qce=`((?:${$T}*:)*(${$T}+))`,jT="[a-zA-Z0-9_.:%-]",xce=`;${jT}+=${jT}*`,Sce=`((${xce})*)`,_ce="(/[^#?]*)?",Dce="([?][^#]*)?",kce="(#.*)?",Tce=new RegExp(`^did:${Cce}:${Qce}${Sce}${_ce}${Dce}${kce}$`);function Fce(t){if(t===""||!t)return null;const e=t.match(Tce);if(e){const r={did:`did:${e[1]}:${e[2]}`,method:e[1],id:e[2],didUrl:t};if(e[4]){const n=e[4].slice(1).split(";");r.params={};for(const o of n){const i=o.split("=");r.params[i[0]]=i[1]}}return e[6]&&(r.path=e[6]),e[7]&&(r.query=e[7].slice(1)),e[8]&&(r.fragment=e[8].slice(1)),r}return null}function fB(t){var e,r;const{didDocument:n,id:o,type:i}=t??{};return(r=(e=n?.service)===null||e===void 0?void 0:e.filter(s=>!(o&&s.id!==o||i&&s.type!==i)))!==null&&r!==void 0?r:[]}function Mce(t){const{didDocument:e,publicKeyJwk:r,publicKeyMultibase:n}=t;if(!e)throw new Error("Required parameter missing: 'didDocument'");if(!e.verificationMethod)throw new Error("Given `didDocument` is missing `verificationMethod` entries.");for(let o of e.verificationMethod)if(n&&"publicKeyMultibase"in o){if(n===o.publicKeyMultibase)return o.id}else if(r&&"crv"in r&&"publicKeyJwk"in o&&"crv"in o.publicKeyJwk&&r.crv===o.publicKeyJwk.crv&&r.x===o.publicKeyJwk.x)return o.id}function xK(t){const{didDocument:e}=t;let r=[];for(let n in e)typeof e[n]=="object"?r=r.concat(xK({didDocument:e[n]})):n==="type"&&r.push(e[n]);return[...new Set(r)]}function J4(t){return t!==void 0&&typeof t!="string"&&!Array.isArray(t)&&"nodes"in t&&"signingKeys"in t}function $c({didUrl:t}){return Fce(t)}globalThis&&globalThis.__awaiter;var Q8={exports:{}};(function(t,e){var r=function(){function o(){this.fetch=!1,this.DOMException=globalThis.DOMException}return o.prototype=globalThis,new o}();(function(o){(function(i){var s={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function a(m){return m&&DataView.prototype.isPrototypeOf(m)}if(s.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(m){return m&&c.indexOf(Object.prototype.toString.call(m))>-1};function f(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function l(m){return typeof m!="string"&&(m=String(m)),m}function u(m){var g={next:function(){var w=m.shift();return{done:w===void 0,value:w}}};return s.iterable&&(g[Symbol.iterator]=function(){return g}),g}function p(m){this.map={},m instanceof p?m.forEach(function(g,w){this.append(w,g)},this):Array.isArray(m)?m.forEach(function(g){this.append(g[0],g[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(g){this.append(g,m[g])},this)}p.prototype.append=function(m,g){m=f(m),g=l(g);var w=this.map[m];this.map[m]=w?w+", "+g:g},p.prototype.delete=function(m){delete this.map[f(m)]},p.prototype.get=function(m){return m=f(m),this.has(m)?this.map[m]:null},p.prototype.has=function(m){return this.map.hasOwnProperty(f(m))},p.prototype.set=function(m,g){this.map[f(m)]=l(g)},p.prototype.forEach=function(m,g){for(var w in this.map)this.map.hasOwnProperty(w)&&m.call(g,this.map[w],w,this)},p.prototype.keys=function(){var m=[];return this.forEach(function(g,w){m.push(w)}),u(m)},p.prototype.values=function(){var m=[];return this.forEach(function(g){m.push(g)}),u(m)},p.prototype.entries=function(){var m=[];return this.forEach(function(g,w){m.push([w,g])}),u(m)},s.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function A(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function h(m){return new Promise(function(g,w){m.onload=function(){g(m.result)},m.onerror=function(){w(m.error)}})}function y(m){var g=new FileReader,w=h(g);return g.readAsArrayBuffer(m),w}function v(m){var g=new FileReader,w=h(g);return g.readAsText(m),w}function B(m){for(var g=new Uint8Array(m),w=new Array(g.length),F=0;F<g.length;F++)w[F]=String.fromCharCode(g[F]);return w.join("")}function S(m){if(m.slice)return m.slice(0);var g=new Uint8Array(m.byteLength);return g.set(new Uint8Array(m)),g.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:s.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:s.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():s.arrayBuffer&&s.blob&&a(m)?(this._bodyArrayBuffer=S(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||d(m))?this._bodyArrayBuffer=S(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var m=A(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var m=A(this);if(m)return m;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(B(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var Q=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function N(m){var g=m.toUpperCase();return Q.indexOf(g)>-1?g:m}function $(m,g){g=g||{};var w=g.body;if(m instanceof $){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,g.headers||(this.headers=new p(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!w&&m._bodyInit!=null&&(w=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new p(g.headers)),this.method=N(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}$.prototype.clone=function(){return new $(this,{body:this._bodyInit})};function G(m){var g=new FormData;return m.trim().split("&").forEach(function(w){if(w){var F=w.split("="),H=F.shift().replace(/\+/g," "),K=F.join("=").replace(/\+/g," ");g.append(decodeURIComponent(H),decodeURIComponent(K))}}),g}function z(m){var g=new p,w=m.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(F){var H=F.split(":"),K=H.shift().trim();if(K){var D=H.join(":").trim();g.append(K,D)}}),g}x.call($.prototype);function Y(m,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new p(g.headers),this.url=g.url||"",this._initBody(m)}x.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},Y.error=function(){var m=new Y(null,{status:0,statusText:""});return m.type="error",m};var R=[301,302,303,307,308];Y.redirect=function(m,g){if(R.indexOf(g)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:g,headers:{location:m}})},i.DOMException=o.DOMException;try{new i.DOMException}catch{i.DOMException=function(g,w){this.message=g,this.name=w;var F=Error(g);this.stack=F.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function C(m,g){return new Promise(function(w,F){var H=new $(m,g);if(H.signal&&H.signal.aborted)return F(new i.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function D(){K.abort()}K.onload=function(){var I={status:K.status,statusText:K.statusText,headers:z(K.getAllResponseHeaders()||"")};I.url="responseURL"in K?K.responseURL:I.headers.get("X-Request-URL");var P="response"in K?K.response:K.responseText;w(new Y(P,I))},K.onerror=function(){F(new TypeError("Network request failed"))},K.ontimeout=function(){F(new TypeError("Network request failed"))},K.onabort=function(){F(new i.DOMException("Aborted","AbortError"))},K.open(H.method,H.url,!0),H.credentials==="include"?K.withCredentials=!0:H.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&s.blob&&(K.responseType="blob"),H.headers.forEach(function(I,P){K.setRequestHeader(P,I)}),H.signal&&(H.signal.addEventListener("abort",D),K.onreadystatechange=function(){K.readyState===4&&H.signal.removeEventListener("abort",D)}),K.send(typeof H._bodyInit>"u"?null:H._bodyInit)})}return C.polyfill=!0,o.fetch||(o.fetch=C,o.Headers=p,o.Request=$,o.Response=Y),i.Headers=p,i.Request=$,i.Response=Y,i.fetch=C,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var n=r;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,t.exports=e})(Q8,Q8.exports);var Uce=Q8.exports;/*!
 * hash-wasm (https://www.npmjs.com/package/hash-wasm)
 * (c) Dani Biro
 * @license MIT
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oi(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}class on{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then(()=>new Promise(e)),new Promise(r=>{e=r})}dispatch(e){return oi(this,void 0,void 0,function*(){const r=yield this.lock();try{return yield Promise.resolve(e())}finally{r()}})}}var J2;function Rce(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis}const x8=Rce(),V2=(J2=x8.Buffer)!==null&&J2!==void 0?J2:null,Nce=x8.TextEncoder?new x8.TextEncoder:null;function Pce(t,e){return String.fromCharCode(...t.subarray(0,e))}function SK(t,e){return(t&15)+(t>>6|t>>3&8)<<4|(e&15)+(e>>6|e>>3&8)}function _K(t,e){const r=e.length>>1;for(let n=0;n<r;n++){const o=n<<1;t[n]=SK(e.charCodeAt(o),e.charCodeAt(o+1))}}function Oce(t,e){if(t.length!==e.length*2)return!1;for(let r=0;r<e.length;r++){const n=r<<1;if(e[r]!==SK(t.charCodeAt(n),t.charCodeAt(n+1)))return!1}return!0}const zT="a".charCodeAt(0)-10,YT="0".charCodeAt(0);function r0(t,e,r){let n=0;for(let o=0;o<r;o++){let i=e[o]>>>4;t[n++]=i>9?i+zT:i+YT,i=e[o]&15,t[n++]=i>9?i+zT:i+YT}return String.fromCharCode.apply(null,t)}const bn=V2!==null?t=>{if(typeof t=="string"){const e=V2.from(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.length)}if(V2.isBuffer(t))return new Uint8Array(t.buffer,t.byteOffset,t.length);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")}:t=>{if(typeof t=="string")return Nce.encode(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Invalid data type!")},Ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gy=new Uint8Array(256);for(let t=0;t<Ta.length;t++)gy[Ta.charCodeAt(t)]=t;function JT(t,e=!0){const r=t.length,n=r%3,o=[],i=r-n;for(let s=0;s<i;s+=3){const a=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),c=Ta.charAt(a>>18&63)+Ta.charAt(a>>12&63)+Ta.charAt(a>>6&63)+Ta.charAt(a&63);o.push(c)}if(n===1){const s=t[r-1],a=Ta.charAt(s>>2),c=Ta.charAt(s<<4&63);o.push(`${a}${c}`),e&&o.push("==")}else if(n===2){const s=(t[r-2]<<8)+t[r-1],a=Ta.charAt(s>>10),c=Ta.charAt(s>>4&63),d=Ta.charAt(s<<2&63);o.push(`${a}${c}${d}`),e&&o.push("=")}return o.join("")}function DK(t){let e=Math.floor(t.length*.75);const r=t.length;return t[r-1]==="="&&(e-=1,t[r-2]==="="&&(e-=1)),e}function kK(t){const e=DK(t),r=t.length,n=new Uint8Array(e);let o=0;for(let i=0;i<r;i+=4){const s=gy[t.charCodeAt(i)],a=gy[t.charCodeAt(i+1)],c=gy[t.charCodeAt(i+2)],d=gy[t.charCodeAt(i+3)];n[o]=s<<2|a>>4,o+=1,n[o]=(a&15)<<4|c>>2,o+=1,n[o]=(c&3)<<6|d&63,o+=1}return n}const Rw=16*1024,Kp=4,Kce=new on,W2=new Map;function Sr(t,e){return oi(this,void 0,void 0,function*(){let r=null,n=null,o=!1;if(typeof WebAssembly>"u")throw new Error("WebAssembly is not supported in this environment!");const i=(N,$=0)=>{n.set(N,$)},s=()=>n,a=()=>r.exports,c=N=>{r.exports.Hash_SetMemorySize(N);const $=r.exports.Hash_GetBuffer(),G=r.exports.memory.buffer;n=new Uint8Array(G,$,N)},d=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),f=Kce.dispatch(()=>oi(this,void 0,void 0,function*(){if(!W2.has(t.name)){const $=kK(t.data),G=WebAssembly.compile($);W2.set(t.name,G)}const N=yield W2.get(t.name);r=yield WebAssembly.instantiate(N,{})})),l=()=>oi(this,void 0,void 0,function*(){r||(yield f);const N=r.exports.Hash_GetBuffer(),$=r.exports.memory.buffer;n=new Uint8Array($,N,Rw)}),u=(N=null)=>{o=!0,r.exports.Hash_Init(N)},p=N=>{let $=0;for(;$<N.length;){const G=N.subarray($,$+Rw);$+=G.length,n.set(G),r.exports.Hash_Update(G.length)}},A=N=>{if(!o)throw new Error("update() called before init()");const $=bn(N);p($)},h=new Uint8Array(e*2),y=(N,$=null)=>{if(!o)throw new Error("digest() called before init()");return o=!1,r.exports.Hash_Final($),N==="binary"?n.slice(0,e):r0(h,n,e)},v=()=>{if(!o)throw new Error("save() can only be called after init() and before digest()");const N=r.exports.Hash_GetState(),$=d(),G=r.exports.memory.buffer,z=new Uint8Array(G,N,$),Y=new Uint8Array(Kp+$);return _K(Y,t.hash),Y.set(z,Kp),Y},B=N=>{if(!(N instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const $=r.exports.Hash_GetState(),G=d(),z=Kp+G,Y=r.exports.memory.buffer;if(N.length!==z)throw new Error(`Bad state length (expected ${z} bytes, got ${N.length})`);if(!Oce(t.hash,N.subarray(0,Kp)))throw new Error("This state was written by an incompatible hash implementation");const R=N.subarray(Kp);new Uint8Array(Y,$,G).set(R),o=!0},S=N=>typeof N=="string"?N.length<Rw/4:N.byteLength<Rw;let x=S;switch(t.name){case"argon2":case"scrypt":x=()=>!0;break;case"blake2b":case"blake2s":x=(N,$)=>$<=512&&S(N);break;case"blake3":x=(N,$)=>$===0&&S(N);break;case"xxhash64":case"xxhash3":case"xxhash128":x=()=>!1;break}const Q=(N,$=null,G=null)=>{if(!x(N,$))return u($),A(N),y("hex",G);const z=bn(N);return n.set(z),r.exports.Hash_Calculate(z.length,$,G),r0(h,n,e)};return yield l(),{getMemory:s,writeMemory:i,getExports:a,setMemorySize:c,init:u,update:A,digest:y,save:v,load:B,calculate:Q,hashLength:e}})}var Hce="adler32",Lce="AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAgQFAXABAQEFBAEBAgIGDgJ/AUGAiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAMNSGFzaF9HZXRTdGF0ZQAEDkhhc2hfQ2FsY3VsYXRlAAUKU1RBVEVfU0laRQMBCoAIBgUAQYAJCwoAQQBBATYChAgL9gYBBn9BACgChAgiAUH//wNxIQIgAUEQdiEDAkACQCAAQQFHDQAgAkEALQCACWoiAUGPgHxqIAEgAUHw/wNLGyIBIANqIgRBEHQiBUGAgDxqIAUgBEHw/wNLGyABciEBDAELAkACQAJAAkACQCAAQRBJDQBBgAkhBiAAQbArSQ0BQYAJIQYDQEEAIQUDQCAGIAVqIgEoAgAiBEH/AXEgAmoiAiADaiACIARBCHZB/wFxaiICaiACIARBEHZB/wFxaiICaiACIARBGHZqIgJqIAIgAUEEaigCACIEQf8BcWoiAmogAiAEQQh2Qf8BcWoiAmogAiAEQRB2Qf8BcWoiAmogAiAEQRh2aiICaiACIAFBCGooAgAiBEH/AXFqIgJqIAIgBEEIdkH/AXFqIgJqIAIgBEEQdkH/AXFqIgJqIAIgBEEYdmoiBGogBCABQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBUEQaiIFQbArRw0ACyADQfH/A3AhAyACQfH/A3AhAiAGQbAraiEGIABB0FRqIgBBrytLDQALIABFDQQgAEEPSw0BDAILAkAgAEUNAEEAIQEDQCACIAFBgAlqLQAAaiICIANqIQMgACABQQFqIgFHDQALCyACQY+AfGogAiACQfD/A0sbIANB8f8DcEEQdHIhAQwECwNAIAYoAgAiAUH/AXEgAmoiBCADaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgRqIAQgBkEEaigCACIBQf8BcWoiBGogBCABQQh2Qf8BcWoiBGogBCABQRB2Qf8BcWoiBGogBCABQRh2aiIEaiAEIAZBCGooAgAiAUH/AXFqIgRqIAQgAUEIdkH/AXFqIgRqIAQgAUEQdkH/AXFqIgRqIAQgAUEYdmoiBGogBCAGQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBkEQaiEGIABBcGoiAEEPSw0ACyAARQ0BCwNAIAIgBi0AAGoiAiADaiEDIAZBAWohBiAAQX9qIgANAAsLIANB8f8DcCEDIAJB8f8DcCECCyACIANBEHRyIQELQQAgATYChAgLMgEBf0EAQQAoAoQIIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBQBBhAgLPABBAEEBNgKECCAAEAJBAEEAKAKECCIAQRh0IABBCHRBgID8B3FyIABBCHZBgP4DcSAAQRh2cnI2AoAJCwsVAgBBgAgLBAQAAAAAQYQICwQBAAAA",Gce="321174b4",TK={name:Hce,data:Lce,hash:Gce};function un(t,e,r){return oi(this,void 0,void 0,function*(){const n=yield t.lock(),o=yield Sr(e,r);return n(),o})}const qce=new on;let Nw=null;function $ce(t){if(Nw===null)return un(qce,TK,4).then(e=>(Nw=e,Nw.calculate(t)));try{const e=Nw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function jce(){return Sr(TK,4).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:4,digestSize:4};return e})}var zce="blake2b",Yce="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",Jce="68afc9cf",FK={name:zce,data:Yce,hash:Jce};const Vce=new on;let Nu=null;function Zb(t){return!Number.isInteger(t)||t<8||t>512||t%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 512"):null}function MK(t,e){return t|e<<16}function Wce(t,e=512,r=null){if(Zb(e))return Promise.reject(Zb(e));let n=null,o=e;if(r!==null){if(n=bn(r),n.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));o=MK(e,n.length)}const i=e/8;if(Nu===null||Nu.hashLength!==i)return un(Vce,FK,i).then(s=>(Nu=s,o>512&&Nu.writeMemory(n),Nu.calculate(t,o)));try{o>512&&Nu.writeMemory(n);const s=Nu.calculate(t,o);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}function Xb(t=512,e=null){if(Zb(t))return Promise.reject(Zb(t));let r=null,n=t;if(e!==null){if(r=bn(e),r.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));n=MK(t,r.length)}const o=t/8;return Sr(FK,o).then(i=>{n>512&&i.writeMemory(r),i.init(n);const s={init:n>512?()=>(i.writeMemory(r),i.init(n),s):()=>(i.init(n),s),update:a=>(i.update(a),s),digest:a=>i.digest(a),save:()=>i.save(),load:a=>(i.load(a),s),blockSize:128,digestSize:o};return s})}var Zce="argon2",Xce="AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQEBQFwAQEBBQYBAQKAgAIGCAF/AUGQqAQLB0EEBm1lbW9yeQIAEkhhc2hfU2V0TWVtb3J5U2l6ZQAADkhhc2hfR2V0QnVmZmVyAAEOSGFzaF9DYWxjdWxhdGUABArXMwVbAQF/QQAhAQJAIABBACgCgAhrIgBFDQACQCAAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wEhAQwBC0EAIQFBAEEAKQOACCAAQRB0rXw3A4AICyABQRh0QRh1C2oBAn8CQEEAKAKICCIADQBBAD8AQRB0IgA2AogIQYCAIEEAKAKACGsiAUUNAAJAIAFBEHYgAUGAgHxxIAFJaiIAQABBf0cNAEEADwtBAEEAKQOACCAAQRB0rXw3A4AIQQAoAogIIQALIAALnA8BA34gACAEKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgAiAGKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAyAHKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgASAGKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAiAHKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwALhxoBAX9BACEEQQAgAikDACABKQMAhTcDkAhBACACKQMIIAEpAwiFNwOYCEEAIAIpAxAgASkDEIU3A6AIQQAgAikDGCABKQMYhTcDqAhBACACKQMgIAEpAyCFNwOwCEEAIAIpAyggASkDKIU3A7gIQQAgAikDMCABKQMwhTcDwAhBACACKQM4IAEpAziFNwPICEEAIAIpA0AgASkDQIU3A9AIQQAgAikDSCABKQNIhTcD2AhBACACKQNQIAEpA1CFNwPgCEEAIAIpA1ggASkDWIU3A+gIQQAgAikDYCABKQNghTcD8AhBACACKQNoIAEpA2iFNwP4CEEAIAIpA3AgASkDcIU3A4AJQQAgAikDeCABKQN4hTcDiAlBACACKQOAASABKQOAAYU3A5AJQQAgAikDiAEgASkDiAGFNwOYCUEAIAIpA5ABIAEpA5ABhTcDoAlBACACKQOYASABKQOYAYU3A6gJQQAgAikDoAEgASkDoAGFNwOwCUEAIAIpA6gBIAEpA6gBhTcDuAlB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",efe="59aa4fb4",tfe={name:Zce,data:Xce,hash:efe};function rfe(t,e,r){const n=[`m=${e.memorySize}`,`t=${e.iterations}`,`p=${e.parallelism}`].join(",");return`$argon2${e.hashType}$v=19$${n}$${JT(t,!1)}$${JT(r,!1)}`}const VT=new DataView(new ArrayBuffer(4));function Hf(t){return VT.setInt32(0,t,!0),new Uint8Array(VT.buffer)}function Z2(t,e,r){return oi(this,void 0,void 0,function*(){if(r<=64){const c=yield Xb(r*8);return c.update(Hf(r)),c.update(e),c.digest("binary")}const n=Math.ceil(r/32)-2,o=new Uint8Array(r);t.init(),t.update(Hf(r)),t.update(e);let i=t.digest("binary");o.set(i.subarray(0,32),0);for(let c=1;c<n;c++)t.init(),t.update(i),i=t.digest("binary"),o.set(i.subarray(0,32),c*32);const s=r-32*n;let a;return s===64?(a=t,a.init()):a=yield Xb(s*8),a.update(i),i=a.digest("binary"),o.set(i.subarray(0,s),n*32),o})}function nfe(t){switch(t){case"d":return 0;case"i":return 1;default:return 2}}function dB(t){return oi(this,void 0,void 0,function*(){const{parallelism:e,iterations:r,hashLength:n}=t,o=bn(t.password),i=bn(t.salt),s=19,a=nfe(t.hashType),{memorySize:c}=t,[d,f]=yield Promise.all([Sr(tfe,1024),Xb(512)]);d.setMemorySize(c*1024+1024);const l=new Uint8Array(24),u=new DataView(l.buffer);u.setInt32(0,e,!0),u.setInt32(4,n,!0),u.setInt32(8,c,!0),u.setInt32(12,r,!0),u.setInt32(16,s,!0),u.setInt32(20,a,!0),d.writeMemory(l,c*1024),f.init(),f.update(l),f.update(Hf(o.length)),f.update(o),f.update(Hf(i.length)),f.update(i),f.update(Hf(0)),f.update(Hf(0));const A=Math.floor(c/(e*4))*4,h=new Uint8Array(72),y=f.digest("binary");h.set(y);for(let S=0;S<e;S++){h.set(Hf(0),64),h.set(Hf(S),68);let x=S*A,Q=yield Z2(f,h,1024);d.writeMemory(Q,x*1024),x+=1,h.set(Hf(1),64),Q=yield Z2(f,h,1024),d.writeMemory(Q,x*1024)}const v=new Uint8Array(1024);_K(v,d.calculate(new Uint8Array([]),c));const B=yield Z2(f,v,n);if(t.outputType==="hex"){const S=new Uint8Array(n*2);return r0(S,B,n)}return t.outputType==="encoded"?rfe(i,t,B):B})}const lB=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(!t.password)throw new Error("Password must be specified");if(t.password=bn(t.password),t.password.length<1)throw new Error("Password must be specified");if(!t.salt)throw new Error("Salt must be specified");if(t.salt=bn(t.salt),t.salt.length<8)throw new Error("Salt should be at least 8 bytes long");if(!Number.isInteger(t.iterations)||t.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(t.parallelism)||t.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(t.hashLength)||t.hashLength<4)throw new Error("Hash length should be at least 4 bytes.");if(!Number.isInteger(t.memorySize))throw new Error("Memory size should be specified.");if(t.memorySize<8*t.parallelism)throw new Error("Memory size should be at least 8 * parallelism.");if(t.outputType===void 0&&(t.outputType="hex"),!["hex","binary","encoded"].includes(t.outputType))throw new Error(`Insupported output type ${t.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function ife(t){return oi(this,void 0,void 0,function*(){return lB(t),dB(Object.assign(Object.assign({},t),{hashType:"i"}))})}function ofe(t){return oi(this,void 0,void 0,function*(){return lB(t),dB(Object.assign(Object.assign({},t),{hashType:"id"}))})}function sfe(t){return oi(this,void 0,void 0,function*(){return lB(t),dB(Object.assign(Object.assign({},t),{hashType:"d"}))})}const afe=(t,e)=>{const r=/^\$argon2(id|i|d)\$v=([0-9]+)\$((?:[mtp]=[0-9]+,){2}[mtp]=[0-9]+)\$([A-Za-z0-9+/]+)\$([A-Za-z0-9+/]+)$/,n=e.match(r);if(!n)throw new Error("Invalid hash");const[,o,i,s,a,c]=n;if(i!=="19")throw new Error(`Unsupported version: ${i}`);const d={},f={m:"memorySize",p:"parallelism",t:"iterations"};return s.split(",").forEach(l=>{const[u,p]=l.split("=");d[f[u]]=parseInt(p,10)}),Object.assign(Object.assign({},d),{password:t,hashType:o,salt:kK(a),hashLength:DK(c),outputType:"encoded"})},cfe=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(t.hash===void 0||typeof t.hash!="string")throw new Error("Hash should be specified")};function ffe(t){return oi(this,void 0,void 0,function*(){cfe(t);const e=afe(t.password,t.hash);lB(e);const r=t.hash.lastIndexOf("$")+1;return(yield dB(e)).substring(r)===t.hash.substring(r)})}var dfe="blake2s",lfe="AGFzbQEAAAABEQRgAAF/YAJ/fwBgAX8AYAAAAwkIAAECAwICAAEEBQFwAQEBBQQBAQICBg4CfwFBoIoFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACkhhc2hfRmluYWwAAwlIYXNoX0luaXQABAtIYXNoX1VwZGF0ZQAFDUhhc2hfR2V0U3RhdGUABg5IYXNoX0NhbGN1bGF0ZQAHClNUQVRFX1NJWkUDAQqhMAgFAEGACQvjAgEFfwJAIAFBAUgNAEEAIQICQAJAAkBBwABBACgC8IkBIgNrIgQgAUgNACABIQUMAQtBAEEANgLwiQECQCAERQ0AIANBMGohBSAAIQYDQCAFQYCJAWogBi0AADoAACAGQQFqIQYgBUEBaiIFQfAARw0ACwtBAEEAKAKgiQEiBUHAAGo2AqCJAUEAQQAoAqSJASAFQb9/S2o2AqSJAUGwiQEQAiAAIARqIQACQCABIARrIgVBwQBIDQAgAyABaiEFA0BBAEEAKAKgiQEiBkHAAGo2AqCJAUEAQQAoAqSJASAGQb9/S2o2AqSJASAAEAIgAEHAAGohACAFQUBqIgVBgAFKDQALIAVBQGohBQtBACEGQQAoAvCJASEDIAVFDQELIANBsIkBaiEGA0AgBiACaiAAIAJqLQAAOgAAIAUgAkEBaiICRw0AC0EAKALwiQEhAyAFIQYLQQAgAyAGajYC8IkBCwuXJwoBfgF/An4DfwF+BX8CfgV/AX4Uf0EAQQApA5iJASIBpyICQQApA4iJASIDp2ogACkDECIEpyIFaiIGIARCIIinIgdqIAZBACkDqIkBQquzj/yRo7Pw2wCFIginc0EQdyIGQfLmu+MDaiIJIAJzQRR3IgJqIgogBnNBGHciCyAJaiIMIAJzQRl3Ig1BACkDkIkBIgRCIIinIglBACkDgIkBIg5CIIinaiAAKQMIIg+nIgJqIhAgD0IgiKciBmogEEEAKQOgiQFC/6S5iMWR2oKbf4UiD0IgiKdzQRB3IhFBhd2e23tqIhIgCXNBFHciE2oiFGogACkDKCIVpyIJaiIWIBVCIIinIhBqIBYgBKciFyAOp2ogACkDACIVpyIYaiIZIBVCIIinIhpqIBkgD6dzQRB3IhlB58yn0AZqIhsgF3NBFHciHGoiHSAZc0EYdyIZc0EQdyIeIAFCIIinIh8gA0IgiKdqIAApAxgiAaciFmoiICABQiCIpyIXaiAgIAhCIIinc0EQdyIgQbrqv6p6aiIhIB9zQRR3Ih9qIiIgIHNBGHciICAhaiIhaiIjIA1zQRR3Ig1qIiQgHnNBGHciHiAjaiIjIA1zQRl3IiUgISAfc0EZdyIfIApqIAApAzAiAaciCmoiISABQiCIpyINaiAhIBQgEXNBGHciJnNBEHciISAZIBtqIhRqIhkgH3NBFHciG2oiH2ogACkDICIBQiCIpyIRaiInIAApAzgiCEIgiKciAGogIiAUIBxzQRl3IhxqIAinIhRqIiIgAGogIiALc0EQdyILICYgEmoiEmoiIiAcc0EUdyIcaiImIAtzQRh3IiggJ3NBEHciJyASIBNzQRl3IhIgHWogAaciC2oiEyARaiATICBzQRB3IhMgDGoiDCASc0EUdyISaiIdIBNzQRh3IhMgDGoiDGoiICAlc0EUdyIlaiIpICdzQRh3IicgIGoiICAlc0EZdyIlIAwgEnNBGXciDCAkaiAFaiISIAtqIB8gIXNBGHciHyASc0EQdyISICggImoiIWoiIiAMc0EUdyIMaiIkaiAYaiIoIAJqICggISAcc0EZdyIcIB1qIBRqIh0gCWogHiAdc0EQdyIdIB8gGWoiGWoiHiAcc0EUdyIcaiIfIB1zQRh3Ih1zQRB3IiEgGSAbc0EZdyIZICZqIA1qIhsgFmogEyAbc0EQdyITICNqIhsgGXNBFHciGWoiIyATc0EYdyITIBtqIhtqIiYgJXNBFHciJWoiKCAhc0EYdyIhICZqIiYgJXNBGXciJSAbIBlzQRl3IhkgKWogEGoiGyAXaiAbICQgEnNBGHciEnNBEHciGyAdIB5qIh1qIh4gGXNBFHciGWoiJGogB2oiKSACaiAjIB0gHHNBGXciHGogB2oiHSAGaiAdICdzQRB3Ih0gEiAiaiISaiIiIBxzQRR3IhxqIiMgHXNBGHciHSApc0EQdyInIBIgDHNBGXciDCAfaiAaaiISIApqIBIgE3NBEHciEiAgaiITIAxzQRR3IgxqIh8gEnNBGHciEiATaiITaiIgICVzQRR3IiVqIikgJ3NBGHciJyAgaiIgICVzQRl3IiUgEyAMc0EZdyIMIChqIApqIhMgGGogJCAbc0EYdyIbIBNzQRB3IhMgHSAiaiIdaiIiIAxzQRR3IgxqIiRqIAZqIiggFmogKCAdIBxzQRl3IhwgH2ogEGoiHSALaiAhIB1zQRB3Ih0gGyAeaiIbaiIeIBxzQRR3IhxqIh8gHXNBGHciHXNBEHciISAbIBlzQRl3IhkgI2ogAGoiGyANaiASIBtzQRB3IhIgJmoiGyAZc0EUdyIZaiIjIBJzQRh3IhIgG2oiG2oiJiAlc0EUdyIlaiIoICFzQRh3IiEgJmoiJiAlc0EZdyIlIBsgGXNBGXciGSApaiAXaiIbIBpqIBsgJCATc0EYdyITc0EQdyIbIB0gHmoiHWoiHiAZc0EUdyIZaiIkaiANaiIpIApqICMgHSAcc0EZdyIcaiARaiIdIAVqIB0gJ3NBEHciHSATICJqIhNqIiIgHHNBFHciHGoiIyAdc0EYdyIdIClzQRB3IicgEyAMc0EZdyIMIB9qIAlqIhMgFGogEyASc0EQdyISICBqIhMgDHNBFHciDGoiHyASc0EYdyISIBNqIhNqIiAgJXNBFHciJWoiKSAnc0EYdyInICBqIiAgJXNBGXciJSATIAxzQRl3IgwgKGogBmoiEyAaaiAkIBtzQRh3IhsgE3NBEHciEyAdICJqIh1qIiIgDHNBFHciDGoiJGogB2oiKCAJaiAoIB0gHHNBGXciHCAfaiAXaiIdIBFqICEgHXNBEHciHSAbIB5qIhtqIh4gHHNBFHciHGoiHyAdc0EYdyIdc0EQdyIhIBsgGXNBGXciGSAjaiAQaiIbIBRqIBIgG3NBEHciEiAmaiIbIBlzQRR3IhlqIiMgEnNBGHciEiAbaiIbaiImICVzQRR3IiVqIiggIXNBGHciISAmaiImICVzQRl3IiUgGyAZc0EZdyIZIClqIAVqIhsgGGogGyAkIBNzQRh3IhNzQRB3IhsgHSAeaiIdaiIeIBlzQRR3IhlqIiRqIAJqIikgBWogIyAdIBxzQRl3IhxqIABqIh0gC2ogHSAnc0EQdyIdIBMgImoiE2oiIiAcc0EUdyIcaiIjIB1zQRh3Ih0gKXNBEHciJyATIAxzQRl3IgwgH2ogAmoiEyAWaiATIBJzQRB3IhIgIGoiEyAMc0EUdyIMaiIfIBJzQRh3IhIgE2oiE2oiICAlc0EUdyIlaiIpICdzQRh3IicgIGoiICAlc0EZdyIlIBMgDHNBGXciDCAoaiAHaiITIBdqICQgG3NBGHciGyATc0EQdyITIB0gImoiHWoiIiAMc0EUdyIMaiIkaiAQaiIoIApqICggHSAcc0EZdyIcIB9qIBFqIh0gGGogISAdc0EQdyIdIBsgHmoiG2oiHiAcc0EUdyIcaiIfIB1zQRh3Ih1zQRB3IiEgGyAZc0EZdyIZICNqIAlqIhsgAGogEiAbc0EQdyISICZqIhsgGXNBFHciGWoiIyASc0EYdyISIBtqIhtqIiYgJXNBFHciJWoiKCAhc0EYdyIhICZqIiYgJXNBGXciJSAbIBlzQRl3IhkgKWogFmoiGyALaiAbICQgE3NBGHciE3NBEHciGyAdIB5qIh1qIh4gGXNBFHciGWoiJGogGGoiKSAQaiAjIB0gHHNBGXciHGogBmoiHSANaiAdICdzQRB3Ih0gEyAiaiITaiIiIBxzQRR3IhxqIiMgHXNBGHciHSApc0EQdyInIBMgDHNBGXciDCAfaiAUaiITIBpqIBMgEnNBEHciEiAgaiITIAxzQRR3IgxqIh8gEnNBGHciEiATaiITaiIgICVzQRR3IiVqIikgJ3NBGHciJyAgaiIgICVzQRl3IiUgEyAMc0EZdyIMIChqIBZqIhMgCWogJCAbc0EYdyIbIBNzQRB3IhMgHSAiaiIdaiIiIAxzQRR3IgxqIiRqIBdqIiggB2ogKCAdIBxzQRl3IhwgH2ogAmoiHSAKaiAhIB1zQRB3Ih0gGyAeaiIbaiIeIBxzQRR3IhxqIh8gHXNBGHciHXNBEHciISAbIBlzQRl3IhkgI2ogC2oiGyAGaiASIBtzQRB3IhIgJmoiGyAZc0EUdyIZaiIjIBJzQRh3IhIgG2oiG2oiJiAlc0EUdyIlaiIoICFzQRh3IiEgJmoiJiAlc0EZdyIlIBsgGXNBGXciGSApaiAAaiIbIBRqIBsgJCATc0EYdyITc0EQdyIbIB0gHmoiHWoiHiAZc0EUdyIZaiIkaiAUaiIpIA1qICMgHSAcc0EZdyIcaiAaaiIdIBFqIB0gJ3NBEHciHSATICJqIhNqIiIgHHNBFHciHGoiIyAdc0EYdyIdIClzQRB3IicgEyAMc0EZdyIMIB9qIAVqIhMgDWogEyASc0EQdyISICBqIhMgDHNBFHciDGoiHyASc0EYdyISIBNqIhNqIiAgJXNBFHciJWoiKSAnc0EYdyInICBqIiAgJXNBGXciJSATIAxzQRl3IgwgKGogGmoiEyAAaiAkIBtzQRh3IhsgE3NBEHciEyAdICJqIh1qIiIgDHNBFHciDGoiJGogFmoiKCAGaiAoIB0gHHNBGXciHCAfaiAKaiIdIAdqICEgHXNBEHciHSAbIB5qIhtqIh4gHHNBFHciHGoiHyAdc0EYdyIdc0EQdyIhIBsgGXNBGXciGSAjaiAFaiIbIAlqIBIgG3NBEHciEiAmaiIbIBlzQRR3IhlqIiMgEnNBGHciEiAbaiIbaiImICVzQRR3IiVqIiggIXNBGHciISAmaiImICVzQRl3IiUgGyAZc0EZdyIZIClqIBFqIhsgAmogGyAkIBNzQRh3IhNzQRB3IhsgHSAeaiIdaiIeIBlzQRR3IhlqIiRqIApqIikgGmogIyAdIBxzQRl3IhxqIAtqIh0gEGogHSAnc0EQdyIdIBMgImoiE2oiIiAcc0EUdyIcaiIjIB1zQRh3Ih0gKXNBEHciJyATIAxzQRl3IgwgH2ogGGoiEyAXaiATIBJzQRB3IhIgIGoiEyAMc0EUdyIMaiIfIBJzQRh3IhIgE2oiE2oiICAlc0EUdyIlaiIpICdzQRh3IicgIGoiICAlc0EZdyIlIBMgDHNBGXciDCAoaiAXaiITIBRqICQgG3NBGHciGyATc0EQdyITIB0gImoiHWoiIiAMc0EUdyIMaiIkaiAAaiIoIAVqICggHSAcc0EZdyIcIB9qIA1qIh0gEGogISAdc0EQdyIdIBsgHmoiG2oiHiAcc0EUdyIcaiIfIB1zQRh3Ih1zQRB3IiEgGyAZc0EZdyIZICNqIAZqIhsgEWogEiAbc0EQdyISICZqIhsgGXNBFHciGWoiIyASc0EYdyISIBtqIhtqIiYgJXNBFHciJWoiKCAhc0EYdyIhICZqIiYgJXNBGXciJSAbIBlzQRl3IhkgKWogC2oiGyAWaiAbICQgE3NBGHciE3NBEHciGyAdIB5qIh1qIh4gGXNBFHciGWoiJGogEGoiKSAGaiAjIB0gHHNBGXciHGogAmoiHSAJaiAdICdzQRB3Ih0gEyAiaiITaiIiIBxzQRR3IhxqIiMgHXNBGHciHSApc0EQdyInIBMgDHNBGXciDCAfaiAHaiITIBhqIBMgEnNBEHciEiAgaiITIAxzQRR3IgxqIh8gEnNBGHciEiATaiITaiIgICVzQRR3IiVqIikgJ3NBGHciJyAgaiIgICVzQRl3IiUgEyAMc0EZdyIMIChqIBRqIhMgEWogJCAbc0EYdyIbIBNzQRB3IhMgHSAiaiIdaiIiIAxzQRR3IgxqIiRqIA1qIiggF2ogKCAdIBxzQRl3IhwgH2ogFmoiHSAAaiAhIB1zQRB3Ih0gGyAeaiIbaiIeIBxzQRR3IhxqIh8gHXNBGHciHXNBEHciISAbIBlzQRl3IhkgI2ogGGoiGyALaiASIBtzQRB3IhIgJmoiGyAZc0EUdyIZaiIjIBJzQRh3IhIgG2oiG2oiJiAlc0EUdyIlaiIoICFzQRh3IiEgJmoiJiAlc0EZdyIlIBsgGXNBGXciGSApaiAaaiIbIAVqIBsgJCATc0EYdyITc0EQdyIbIB0gHmoiHWoiHiAZc0EUdyIZaiIkaiAXaiIXIBZqICMgHSAcc0EZdyIWaiAJaiIcIAdqIBwgJ3NBEHciHCATICJqIhNqIh0gFnNBFHciFmoiIiAcc0EYdyIcIBdzQRB3IhcgEyAMc0EZdyIMIB9qIApqIhMgAmogEyASc0EQdyISICBqIhMgDHNBFHciDGoiHyASc0EYdyISIBNqIhNqIiAgJXNBFHciI2oiJSAXc0EYdyIXICBqIiAgI3NBGXciIyATIAxzQRl3IgwgKGogC2oiCyAFaiAkIBtzQRh3IgUgC3NBEHciCyAcIB1qIhNqIhsgDHNBFHciDGoiHGogEWoiESAUaiARIBMgFnNBGXciFiAfaiAJaiIJIAJqICEgCXNBEHciAiAFIB5qIgVqIgkgFnNBFHciFmoiFCACc0EYdyICc0EQdyIRIAUgGXNBGXciBSAiaiAaaiIaIAdqIBIgGnNBEHciByAmaiIaIAVzQRR3IgVqIhIgB3NBGHciByAaaiIaaiITICNzQRR3IhlqIh2tQiCGIBwgC3NBGHciCyAbaiIbIAxzQRl3IgwgFGogAGoiACAQaiAAIAdzQRB3IgcgIGoiECAMc0EUdyIAaiIUrYQgDoUgEiACIAlqIgIgFnNBGXciCWogDWoiFiAYaiAWIBdzQRB3IhggG2oiFiAJc0EUdyIJaiIXIBhzQRh3IhggFmoiFq1CIIYgGiAFc0EZdyIFICVqIAZqIgYgCmogBiALc0EQdyIGIAJqIgIgBXNBFHciBWoiGiAGc0EYdyIGIAJqIgKthIU3A4CJAUEAIAMgF61CIIYgGq2EhSAdIBFzQRh3IhogE2oiF61CIIYgFCAHc0EYdyIHIBBqIhCthIU3A4iJAUEAIAQgECAAc0EZd61CIIYgFiAJc0EZd62EhSAGrUIghiAarYSFNwOQiQFBACACIAVzQRl3rUIghiAXIBlzQRl3rYRBACkDmIkBhSAHrUIghiAYrYSFNwOYiQEL1wIBBH8jAEEgayIAJAAgAEEYakIANwMAIABBEGpCADcDACAAQgA3AwggAEIANwMAAkBBACgCqIkBDQBBAEEAKAKgiQEiAUEAKALwiQEiAmoiAzYCoIkBQQBBACgCpIkBIAMgAUlqNgKkiQECQEEALQD4iQFFDQBBAEF/NgKsiQELQQBBfzYCqIkBAkAgAkE/Sg0AQQAhAQNAIAIgAWpBsIkBakEAOgAAIAFBAWoiAUHAAEEAKALwiQEiAmtIDQALC0GwiQEQAiAAQQAoAoCJASIBNgIAIABBACgChIkBNgIEIABBACkDiIkBNwMIIABBACkDkIkBNwMQIABBACkDmIkBNwMYQQAoAvSJASIDQQBMDQBBACABOgCACSADQQFGDQBBASEBQQEhAgNAIAFBgAlqIAAgAWotAAA6AAAgAyACQQFqIgJB/wFxIgFKDQALCyAAQSBqJAALoAMBBH8jAEHAAGsiASQAQQBBgQI7AYKKAUEAIABBEHYiAjoAgYoBQQAgAEEDdjoAgIoBQYR/IQADQCAAQfyJAWpBADoAACAAQQFqIgMgAE8hBCADIQAgBA0AC0EAIQBBAEEAKAKAigEiA0HnzKfQBnM2AoCJAUEAQQAoAoSKAUGF3Z7be3M2AoSJAUEAQQAoAoiKAUHy5rvjA3M2AoiJAUEAQQAoAoyKAUG66r+qenM2AoyJAUEAQQAoApCKAUH/pLmIBXM2ApCJAUEAQQAoApSKAUGM0ZXYeXM2ApSJAUEAQQAoApiKAUGrs4/8AXM2ApiJAUEAIANB/wFxNgL0iQFBAEEAKAKcigFBmZqD3wVzNgKciQECQCACRQ0AIAFBOGpCADcDACABQTBqQgA3AwAgAUEoakIANwMAIAFBIGpCADcDACABQRhqQgA3AwAgAUEQakIANwMAIAFCADcDCCABQgA3AwBBACEDA0AgASAAaiAAQYAJai0AADoAACACIANBAWoiA0H/AXEiAEsNAAsgAUHAABABCyABQcAAaiQACwkAQYAJIAAQAQsGAEGAiQELDwAgARAEQYAJIAAQARADCwsLAQBBgAgLBHwAAAA=",ufe="0f570f49",UK={name:dfe,data:lfe,hash:ufe};const hfe=new on;let Pu=null;function eE(t){return!Number.isInteger(t)||t<8||t>256||t%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..., 256"):null}function RK(t,e){return t|e<<16}function Afe(t,e=256,r=null){if(eE(e))return Promise.reject(eE(e));let n=null,o=e;if(r!==null){if(n=bn(r),n.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));o=RK(e,n.length)}const i=e/8;if(Pu===null||Pu.hashLength!==i)return un(hfe,UK,i).then(s=>(Pu=s,o>512&&Pu.writeMemory(n),Pu.calculate(t,o)));try{o>512&&Pu.writeMemory(n);const s=Pu.calculate(t,o);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}function gfe(t=256,e=null){if(eE(t))return Promise.reject(eE(t));let r=null,n=t;if(e!==null){if(r=bn(e),r.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));n=RK(t,r.length)}const o=t/8;return Sr(UK,o).then(i=>{n>512&&i.writeMemory(r),i.init(n);const s={init:n>512?()=>(i.writeMemory(r),i.init(n),s):()=>(i.init(n),s),update:a=>(i.update(a),s),digest:a=>i.digest(a),save:()=>i.save(),load:a=>(i.load(a),s),blockSize:64,digestSize:o};return s})}var pfe="blake3",yfe="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FWogFCAfc0EZdyIVaiIUIBhqIB0gFHNBEHciFCAlaiIYIBVzQRR3IhVqIhkgFHNBGHciFCAYaiIYaiIdICBzQRR3Ih9qIiA2AgAgACAXICQgHHNBGHciHCAeaiIeIBtzQRl3IhtqIAFqIgEgFmogASAUc0EQdyIBICtqIhQgG3NBFHciFmoiFyABc0EYdyIBNgI4IAAgGCAVc0EZdyIVIC5qIANqIgMgE2ogAyAcc0EQdyIDIAIgImoiAmoiIiAVc0EUdyIVaiITNgIEIAAgASAUaiIBNgIkIAAgAiAFc0EZdyICIBlqICFqIgUgGmogBSAnc0EQdyIFIB5qIhQgAnNBFHciAmoiGjYCCCAAICAgEnNBGHciEiAdaiIhNgIoIAAgEyADc0EYdyIDNgIwIAAgASAWc0EZdzYCECAAIBogBXNBGHciATYCNCAAICEgH3NBGXc2AhQgACABIBRqIgE2AiAgACADICJqIgUgFXNBGXc2AhggACASNgI8IAAgASACc0EZdzYCHCAAIBc2AgwgACAFNgIsC7cDAwR/A34FfyMAQdABayIBJAACQCAAe6ciAkEALQCQigEiA08NACABQShqIQQDQCABQQApA4CJASIANwMAIAFBACkDiIkBIgU3AwggAUEAKQOQiQEiBjcDECABQQApA5iJASIHNwMYIAEgA0EFdCIDQdGJAWoiCCkDADcDKCABIANB2YkBaiIJKQMANwMwIAEgA0HhiQFqIgopAwA3AzggASADQemJAWoiCykDADcDQEEALQCKigEhDCABQcAAOgBoIAEgDEEEciIMOgBpIAFCADcDICABIANB8YkBaikDADcDSCABIANB+YkBaikDADcDUCABIANBgYoBaikDADcDWCABIANBiYoBaikDADcDYCABIAc3A4gBIAEgBjcDgAEgASAFNwN4IAEgADcDcCABQZABaiABQfAAaiAEQcAAQgAgDBADIAsgASkDyAEgASkDqAGFNwMAIAogASkDwAEgASkDoAGFNwMAIAkgASkDuAEgASkDmAGFNwMAIAggASkDsAEgASkDkAGFNwMAQQBBAC0AkIoBQX9qIgM6AJCKASACIANB/wFxIgNJDQALCyABQdABaiQAC/oLBAR/BH4GfwF+IwBB0AJrIgUkAAJAAkAgAUGACEsNAEEAIQYgASEHQQAhCAJAIAFB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IQwDQCABQbABaiABIAsgCUH/AXEgCCACQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASAGIAEpA+gBIg+FNwOoASABIAUgDoU3A6ABIAEgBCANhTcDmAEgASADIAEpA9ABIg2FNwOQASABIA8gASkDyAGFNwOIASAAQcAAIABBwABJGyIQQX9qIQkgASANIAEpA7ABhSINNwNwIA2nIREgCiEHIAwhAgJAA0AgAiAROgAAIAlFDQEgCUF/aiEJIAJBAWohAiAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQIgDCAQaiEMIAhCAXwhCCABKQMIIQQgASkDACEDIAEpAxghBiABKQMQIQUgAS0AaSECIAEtAGghCQwACwsCQAJAAkBBAC0AiYoBIglBBnRBAEEALQCIigEiDGtGDQAgAUHgAGpBACkDgIoBNwMAIAFB2ABqQQApA/iJATcDACABQdAAakEAKQPwiQE3AwAgAUHIAGpBACkD6IkBNwMAIAFBwABqQQApA+CJATcDACABQThqQQApA9iJATcDACABQTBqQQApA9CJATcDACABQQApA8iJATcDKCABQQApA8CJASIINwMgIAFBACkDuIkBIg03AxggAUEAKQOwiQEiDjcDECABQQApA6iJASIPNwMIIAFBACkDoIkBIgM3AwBBAC0AiooBIQcgAUHuAGogAUG0AWovAQA7AQAgASABKAGwATYBaiABIAw6AGggASAHIAlFckECciIJOgBpDAELIAFB4ABqIAJBfmoiAkEFdCIJQcmKAWopAwA3AwAgAUHYAGogCUHBigFqKQMANwMAIAFB0ABqIAlBuYoBaikDADcDACABQcgAaiAJQbGKAWopAwA3AwBBwAAhDCABQcAAaiAJQamKAWopAwA3AwAgAUE4aiAJQaGKAWopAwA3AwAgAUEwaiAJQZmKAWopAwA3AwBCACEIIAFCADcDICABQQApA5iJASINNwMYIAFBACkDkIkBIg43AxAgAUEAKQOIiQEiDzcDCCABQQApA4CJASIDNwMAIAEgCUGRigFqKQMANwMoQQAtAIqKASEJIAFB7gBqIAFBsAFqQQRqLwEAOwEAIAEgASgBsAE2AWogASAJQQRyIgk6AGkgAUHAADoAaCACRQ0BCyACQX9qIgdBBXQiEUGRigFqKQMAIQQgEUGZigFqKQMAIQUgEUGhigFqKQMAIQYgEUGpigFqKQMAIRIgASANNwOIASABIA43A4ABIAEgDzcDeCABIAM3A3AgAUGwAWogAUHwAGogAUEoaiIQIAwgCCAJQf8BcRADIAFBwAA6AGggASASNwNAIAEgBjcDOCABIAU3AzAgASAENwMoIAFCADcDICABQQApA5iJASIINwMYIAFBACkDkIkBIg03AxAgAUEAKQOIiQEiDjcDCCABQQApA4CJASIPNwMAIAFBAC0AiooBQQRyIgk6AGkgASABKQPoASABKQPIAYU3A2AgASABKQPgASABKQPAAYU3A1ggASABKQPYASABKQO4AYU3A1AgASABKQPQASABKQOwAYU3A0ggAUHuAGogAUGwAWpBBGoiDC8BADsBACABIAEoAbABNgFqIAdFDQAgAUHqAGohESACQQV0QemJAWohAgNAIAJBaGopAwAhAyACQXBqKQMAIQQgAkF4aikDACEFIAIpAwAhBiABIAg3A4gBIAEgDTcDgAEgASAONwN4IAEgDzcDcCABQbABaiABQfAAaiAQQcAAQgAgCUH/AXEQAyABQcAAOgBoIAEgBjcDQCABIAU3AzggASAENwMwIAEgAzcDKCABQgA3AyAgAUEAKQOYiQEiCDcDGCABQQApA5CJASINNwMQIAFBACkDiIkBIg43AwggAUEAKQOAiQEiDzcDACABQQAtAIqKAUEEciIJOgBpIAEgASkD6AEgASkDyAGFNwNgIAEgASkD4AEgASkDwAGFNwNYIAEgASkD2AEgASkDuAGFNwNQIAEgASkD0AEgASkDsAGFNwNIIBFBBGogDC8BADsBACARIAEoAbABNgEAIAJBYGohAiAHQX9qIgcNAAsLIAFB8ABqQQFyIQogAUEoaiELQgAhCEGACSEMQcAAIQIDQCABQbABaiABIAsgAkH/AXEgCCAJQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASABKQPoASIPIAEpA8gBhTcDiAEgASABKQMAIAEpA9ABIgOFNwOQASABIA0gASkDCIU3A5gBIAEgDiABKQMQhTcDoAEgASADIAEpA7ABhSINNwNwIAEgDyABKQMYhTcDqAEgAEHAACAAQcAASRsiEEF/aiECIA2nIREgCiEHIAwhCQJAA0AgCSAROgAAIAJFDQEgAkF/aiECIAlBAWohCSAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQEgDCAQaiEMIAhCAXwhCCABLQBpIQkgAS0AaCECDAALCyABQfABaiQAC6MCAQR+AkACQCAAQSBGDQBCq7OP/JGjs/DbACEBQv+kuYjFkdqCm38hAkLy5rvjo6f9p6V/IQNC58yn0NbQ67O7fyEEQQAhAAwBC0EAKQOYCSEBQQApA5AJIQJBACkDiAkhA0EAKQOACSEEQRAhAAtBACAAOgCKigFBAEIANwOAigFBAEIANwP4iQFBAEIANwPwiQFBAEIANwPoiQFBAEIANwPgiQFBAEIANwPYiQFBAEIANwPQiQFBAEIANwPIiQFBAEIANwPAiQFBACABNwO4iQFBACACNwOwiQFBACADNwOoiQFBACAENwOgiQFBACABNwOYiQFBACACNwOQiQFBACADNwOIiQFBACAENwOAiQFBAEEAOgCQigFBAEEAOwGIigELBgAgABABCwYAIAAQBgsGAEGAiQELqwIBBH4CQAJAIAFBIEYNAEKrs4/8kaOz8NsAIQNC/6S5iMWR2oKbfyEEQvLmu+Ojp/2npX8hBULnzKfQ1tDrs7t/IQZBACEBDAELQQApA5gJIQNBACkDkAkhBEEAKQOICSEFQQApA4AJIQZBECEBC0EAIAE6AIqKAUEAQgA3A4CKAUEAQgA3A/iJAUEAQgA3A/CJAUEAQgA3A+iJAUEAQgA3A+CJAUEAQgA3A9iJAUEAQgA3A9CJAUEAQgA3A8iJAUEAQgA3A8CJAUEAIAM3A7iJAUEAIAQ3A7CJAUEAIAU3A6iJAUEAIAY3A6CJAUEAIAM3A5iJAUEAIAQ3A5CJAUEAIAU3A4iJAUEAIAY3A4CJAUEAQQA6AJCKAUEAQQA7AYiKASAAEAEgAhAGCwsLAQBBgAgLBHgHAAA=",Ife="e8655383",NK={name:pfe,data:yfe,hash:Ife};const mfe=new on;let Ou=null;function tE(t){return!Number.isInteger(t)||t<8||t%8!==0?new Error("Invalid variant! Valid values: 8, 16, ..."):null}function wfe(t,e=256,r=null){if(tE(e))return Promise.reject(tE(e));let n=null,o=0;if(r!==null){if(n=bn(r),n.length!==32)return Promise.reject(new Error("Key length must be exactly 32 bytes"));o=32}const i=e/8,s=i;if(Ou===null||Ou.hashLength!==i)return un(mfe,NK,i).then(a=>(Ou=a,o===32&&Ou.writeMemory(n),Ou.calculate(t,o,s)));try{o===32&&Ou.writeMemory(n);const a=Ou.calculate(t,o,s);return Promise.resolve(a)}catch(a){return Promise.reject(a)}}function bfe(t=256,e=null){if(tE(t))return Promise.reject(tE(t));let r=null,n=0;if(e!==null){if(r=bn(e),r.length!==32)return Promise.reject(new Error("Key length must be exactly 32 bytes"));n=32}const o=t/8,i=o;return Sr(NK,o).then(s=>{n===32&&s.writeMemory(r),s.init(n);const a={init:n===32?()=>(s.writeMemory(r),s.init(n),a):()=>(s.init(n),a),update:c=>(s.update(c),a),digest:c=>s.digest(c,i),save:()=>s.save(),load:c=>(s.load(c),a),blockSize:64,digestSize:o};return a})}var Efe="crc32",vfe="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",Bfe="749723dc",uB={name:Efe,data:vfe,hash:Bfe};const Cfe=new on;let Pw=null;function Qfe(t){if(Pw===null)return un(Cfe,uB,4).then(e=>(Pw=e,Pw.calculate(t,3988292384)));try{const e=Pw.calculate(t,3988292384);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function xfe(){return Sr(uB,4).then(t=>{t.init(3988292384);const e={init:()=>(t.init(3988292384),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:4,digestSize:4};return e})}const Sfe=new on;let Ow=null;function _fe(t){if(Ow===null)return un(Sfe,uB,4).then(e=>(Ow=e,Ow.calculate(t,2197175160)));try{const e=Ow.calculate(t,2197175160);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function Dfe(){return Sr(uB,4).then(t=>{t.init(2197175160);const e={init:()=>(t.init(2197175160),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:4,digestSize:4};return e})}var kfe="md4",Tfe="AGFzbQEAAAABEgRgAAF/YAAAYAF/AGACf38BfwMIBwABAgMBAAIEBQFwAQEBBQQBAQICBg4CfwFBoIoFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAABC0hhc2hfVXBkYXRlAAIKSGFzaF9GaW5hbAAEDUhhc2hfR2V0U3RhdGUABQ5IYXNoX0NhbGN1bGF0ZQAGClNUQVRFX1NJWkUDAQqXEQcFAEGACQstAEEAQv6568XpjpWZEDcCkIkBQQBCgcaUupbx6uZvNwKIiQFBAEIANwKAiQEL6AIBA39BAEEAKAKAiQEiASAAakH/////AXEiAjYCgIkBQQAoAoSJASEDAkAgAiABTw0AQQAgA0EBaiIDNgKEiQELQQAgAyAAQR12ajYChIkBAkACQAJAAkACQAJAIAFBP3EiAw0AQYAJIQIMAQtBwAAgA2siAiAASw0BIANBGGohA0EAIQEDQCADIAFqQYCJAWogAUGACWotAAA6AAAgAyABQQFqIgFqQdgARw0AC0GYiQFBwAAQAxogACACayEAIAJBgAlqIQILIABBwABPDQEgACEDDAILIABFDQJBACEBIANBmIkBakEALQCACToAACAAQQFGDQIgA0GZiQFqIQMgAEF/aiECA0AgAyABaiABQYEJai0AADoAACACIAFBAWoiAUcNAAwDCwsgAEE/cSEDIAIgAEFAcRADIQILIANFDQBBACEBA0AgAUGYiQFqIAIgAWotAAA6AAAgAyABQQFqIgFHDQALCwuYCwEXf0EAKAKUiQEhAkEAKAKQiQEhA0EAKAKMiQEhBEEAKAKIiQEhBQNAIABBHGooAgAiBiAAQRRqKAIAIgcgAEEYaigCACIIIABBEGooAgAiCSAAQSxqKAIAIgogAEEoaigCACILIABBJGooAgAiDCAAQSBqKAIAIg0gCyAIIABBCGooAgAiDiADaiAAQQRqKAIAIg8gAmogBCADIAJzcSACcyAFaiAAKAIAIhBqQQN3IhEgBCADc3EgA3NqQQd3IhIgESAEc3EgBHNqQQt3IhNqIBIgB2ogESAJaiAAQQxqKAIAIhQgBGogEyASIBFzcSARc2pBE3ciESATIBJzcSASc2pBA3ciEiARIBNzcSATc2pBB3ciEyASIBFzcSARc2pBC3ciFWogEyAMaiASIA1qIBEgBmogFSATIBJzcSASc2pBE3ciESAVIBNzcSATc2pBA3ciEiARIBVzcSAVc2pBB3ciEyASIBFzcSARc2pBC3ciFSAAQThqKAIAIhZqIBMgAEE0aigCACIXaiASIABBMGooAgAiGGogESAKaiAVIBMgEnNxIBJzakETdyISIBUgE3NxIBNzakEDdyITIBIgFXNxIBVzakEHdyIVIBMgEnNxIBJzakELdyIRaiAJIBVqIBAgE2ogEiAAQTxqKAIAIglqIBEgFSATc3EgE3NqQRN3IhIgESAVcnEgESAVcXJqQZnzidQFakEDdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBBXciESATIBJycSATIBJxcmpBmfOJ1AVqQQl3IhVqIAcgEWogDyATaiAYIBJqIBUgESATcnEgESATcXJqQZnzidQFakENdyISIBUgEXJxIBUgEXFyakGZ84nUBWpBA3ciESASIBVycSASIBVxcmpBmfOJ1AVqQQV3IhMgESAScnEgESAScXJqQZnzidQFakEJdyIVaiAIIBNqIA4gEWogFyASaiAVIBMgEXJxIBMgEXFyakGZ84nUBWpBDXciESAVIBNycSAVIBNxcmpBmfOJ1AVqQQN3IhIgESAVcnEgESAVcXJqQZnzidQFakEFdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBCXciFWogBiATaiAUIBJqIBYgEWogFSATIBJycSATIBJxcmpBmfOJ1AVqQQ13IhEgFSATcnEgFSATcXJqQZnzidQFakEDdyISIBEgFXJxIBEgFXFyakGZ84nUBWpBBXciEyASIBFycSASIBFxcmpBmfOJ1AVqQQl3IhVqIBAgEmogCSARaiAVIBMgEnJxIBMgEnFyakGZ84nUBWpBDXciBiAVcyISIBNzakGh1+f2BmpBA3ciESAGcyANIBNqIBIgEXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhNqIA4gEWogEyAScyAYIAZqIBIgEXMgE3NqQaHX5/YGakEPdyIRc2pBodfn9gZqQQN3IhUgEXMgCyASaiARIBNzIBVzakGh1+f2BmpBCXciEnNqQaHX5/YGakELdyITaiAPIBVqIBMgEnMgFiARaiASIBVzIBNzakGh1+f2BmpBD3ciEXNqQaHX5/YGakEDdyIVIBFzIAwgEmogESATcyAVc2pBodfn9gZqQQl3IhJzakGh1+f2BmpBC3ciE2ogFCAVaiATIBJzIBcgEWogEiAVcyATc2pBodfn9gZqQQ93IhFzakGh1+f2BmpBA3ciFSARcyAKIBJqIBEgE3MgFXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhMgA2ohAyAJIBFqIBIgFXMgE3NqQaHX5/YGakEPdyAEaiEEIBIgAmohAiAVIAVqIQUgAEHAAGohACABQUBqIgENAAtBACACNgKUiQFBACADNgKQiQFBACAENgKMiQFBACAFNgKIiQEgAAuhAgEDf0EAKAKAiQEiAEE/cSIBQZiJAWpBgAE6AAACQAJAAkAgAUE/cyICQQdLDQACQCACRQ0AIAFBmYkBaiEAA0AgAEEAOgAAIABBAWohACACQX9qIgINAAsLQcAAIQJBmIkBQcAAEAMaQQAhAAwBCyACQQhGDQEgAUEBaiEACyAAQY+JAWohAQNAIAEgAmpBADoAACACQXdqIQAgAkF/aiECIABBAEoNAAtBACgCgIkBIQALQQAgAEEVdjoA04kBQQAgAEENdjoA0okBQQAgAEEFdjoA0YkBQQAgAEEDdCICOgDQiQFBACACNgKAiQFBAEEAKAKEiQE2AtSJAUGYiQFBwAAQAxpBAEEAKQKIiQE3A4AJQQBBACkCkIkBNwOICQsGAEGAiQELMwBBAEL+uevF6Y6VmRA3ApCJAUEAQoHGlLqW8ermbzcCiIkBQQBCADcCgIkBIAAQAhAECwsLAQBBgAgLBJgAAAA=",Ffe="1bf01052",PK={name:kfe,data:Tfe,hash:Ffe};const Mfe=new on;let Kw=null;function Ufe(t){if(Kw===null)return un(Mfe,PK,16).then(e=>(Kw=e,Kw.calculate(t)));try{const e=Kw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function Rfe(){return Sr(PK,16).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:16};return e})}var Nfe="md5",Pfe="AGFzbQEAAAABEgRgAAF/YAAAYAF/AGACf38BfwMIBwABAgMBAAIEBQFwAQEBBQQBAQICBg4CfwFBoIoFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAABC0hhc2hfVXBkYXRlAAIKSGFzaF9GaW5hbAAEDUhhc2hfR2V0U3RhdGUABQ5IYXNoX0NhbGN1bGF0ZQAGClNUQVRFX1NJWkUDAQqzFgcFAEGACQstAEEAQv6568XpjpWZEDcCkIkBQQBCgcaUupbx6uZvNwKIiQFBAEIANwKAiQEL6AIBA39BAEEAKAKAiQEiASAAakH/////AXEiAjYCgIkBQQAoAoSJASEDAkAgAiABTw0AQQAgA0EBaiIDNgKEiQELQQAgAyAAQR12ajYChIkBAkACQAJAAkACQAJAIAFBP3EiAw0AQYAJIQIMAQtBwAAgA2siAiAASw0BIANBGGohA0EAIQEDQCADIAFqQYCJAWogAUGACWotAAA6AAAgAyABQQFqIgFqQdgARw0AC0GYiQFBwAAQAxogACACayEAIAJBgAlqIQILIABBwABPDQEgACEDDAILIABFDQJBACEBIANBmIkBakEALQCACToAACAAQQFGDQIgA0GZiQFqIQMgAEF/aiECA0AgAyABaiABQYEJai0AADoAACACIAFBAWoiAUcNAAwDCwsgAEE/cSEDIAIgAEFAcRADIQILIANFDQBBACEBA0AgAUGYiQFqIAIgAWotAAA6AAAgAyABQQFqIgFHDQALCwu0EAEZf0EAKAKUiQEhAkEAKAKQiQEhA0EAKAKMiQEhBEEAKAKIiQEhBQNAIABBCGooAgAiBiAAQRhqKAIAIgcgAEEoaigCACIIIABBOGooAgAiCSAAQTxqKAIAIgogAEEMaigCACILIABBHGooAgAiDCAAQSxqKAIAIg0gDCALIAogDSAJIAggByADIAZqIAIgAEEEaigCACIOaiAFIAQgAiADc3EgAnNqIAAoAgAiD2pB+Miqu31qQQd3IARqIhAgBCADc3EgA3NqQdbunsZ+akEMdyAQaiIRIBAgBHNxIARzakHb4YGhAmpBEXcgEWoiEmogAEEUaigCACITIBFqIABBEGooAgAiFCAQaiAEIAtqIBIgESAQc3EgEHNqQe6d9418akEWdyASaiIQIBIgEXNxIBFzakGvn/Crf2pBB3cgEGoiESAQIBJzcSASc2pBqoyfvARqQQx3IBFqIhIgESAQc3EgEHNqQZOMwcF6akERdyASaiIVaiAAQSRqKAIAIhYgEmogAEEgaigCACIXIBFqIAwgEGogFSASIBFzcSARc2pBgaqaampBFncgFWoiECAVIBJzcSASc2pB2LGCzAZqQQd3IBBqIhEgECAVc3EgFXNqQa/vk9p4akEMdyARaiISIBEgEHNxIBBzakGxt31qQRF3IBJqIhVqIABBNGooAgAiGCASaiAAQTBqKAIAIhkgEWogDSAQaiAVIBIgEXNxIBFzakG+r/PKeGpBFncgFWoiECAVIBJzcSASc2pBoqLA3AZqQQd3IBBqIhEgECAVc3EgFXNqQZPj4WxqQQx3IBFqIhUgESAQc3EgEHNqQY6H5bN6akERdyAVaiISaiAHIBVqIA4gEWogCiAQaiASIBUgEXNxIBFzakGhkNDNBGpBFncgEmoiECAScyAVcSASc2pB4sr4sH9qQQV3IBBqIhEgEHMgEnEgEHNqQcDmgoJ8akEJdyARaiISIBFzIBBxIBFzakHRtPmyAmpBDncgEmoiFWogCCASaiATIBFqIA8gEGogFSAScyARcSASc2pBqo/bzX5qQRR3IBVqIhAgFXMgEnEgFXNqQd2gvLF9akEFdyAQaiIRIBBzIBVxIBBzakHTqJASakEJdyARaiISIBFzIBBxIBFzakGBzYfFfWpBDncgEmoiFWogCSASaiAWIBFqIBQgEGogFSAScyARcSASc2pByPfPvn5qQRR3IBVqIhAgFXMgEnEgFXNqQeabh48CakEFdyAQaiIRIBBzIBVxIBBzakHWj9yZfGpBCXcgEWoiEiARcyAQcSARc2pBh5vUpn9qQQ53IBJqIhVqIAYgEmogGCARaiAXIBBqIBUgEnMgEXEgEnNqQe2p6KoEakEUdyAVaiIQIBVzIBJxIBVzakGF0o/PempBBXcgEGoiESAQcyAVcSAQc2pB+Me+Z2pBCXcgEWoiEiARcyAQcSARc2pB2YW8uwZqQQ53IBJqIhVqIBcgEmogEyARaiAZIBBqIBUgEnMgEXEgEnNqQYqZqel4akEUdyAVaiIQIBVzIhUgEnNqQcLyaGpBBHcgEGoiESAVc2pBge3Hu3hqQQt3IBFqIhIgEXMiGiAQc2pBosL17AZqQRB3IBJqIhVqIBQgEmogDiARaiAJIBBqIBUgGnNqQYzwlG9qQRd3IBVqIhAgFXMiFSASc2pBxNT7pXpqQQR3IBBqIhEgFXNqQamf+94EakELdyARaiISIBFzIgkgEHNqQeCW7bV/akEQdyASaiIVaiAPIBJqIBggEWogCCAQaiAVIAlzakHw+P71e2pBF3cgFWoiECAVcyIVIBJzakHG/e3EAmpBBHcgEGoiESAVc2pB+s+E1X5qQQt3IBFqIhIgEXMiCCAQc2pBheG8p31qQRB3IBJqIhVqIBkgEmogFiARaiAHIBBqIBUgCHNqQYW6oCRqQRd3IBVqIhEgFXMiECASc2pBuaDTzn1qQQR3IBFqIhIgEHNqQeWz7rZ+akELdyASaiIVIBJzIgcgEXNqQfj5if0BakEQdyAVaiIQaiAMIBVqIA8gEmogBiARaiAQIAdzakHlrLGlfGpBF3cgEGoiESAVQX9zciAQc2pBxMSkoX9qQQZ3IBFqIhIgEEF/c3IgEXNqQZf/q5kEakEKdyASaiIQIBFBf3NyIBJzakGnx9DcempBD3cgEGoiFWogCyAQaiAZIBJqIBMgEWogFSASQX9zciAQc2pBucDOZGpBFXcgFWoiESAQQX9zciAVc2pBw7PtqgZqQQZ3IBFqIhAgFUF/c3IgEXNqQZKZs/h4akEKdyAQaiISIBFBf3NyIBBzakH96L9/akEPdyASaiIVaiAKIBJqIBcgEGogDiARaiAVIBBBf3NyIBJzakHRu5GseGpBFXcgFWoiECASQX9zciAVc2pBz/yh/QZqQQZ3IBBqIhEgFUF/c3IgEHNqQeDNs3FqQQp3IBFqIhIgEEF/c3IgEXNqQZSGhZh6akEPdyASaiIVaiANIBJqIBQgEWogGCAQaiAVIBFBf3NyIBJzakGho6DwBGpBFXcgFWoiECASQX9zciAVc2pBgv3Nun9qQQZ3IBBqIhEgFUF/c3IgEHNqQbXk6+l7akEKdyARaiISIBBBf3NyIBFzakG7pd/WAmpBD3cgEmoiFSAEaiAWIBBqIBUgEUF/c3IgEnNqQZGnm9x+akEVd2ohBCAVIANqIQMgEiACaiECIBEgBWohBSAAQcAAaiEAIAFBQGoiAQ0AC0EAIAI2ApSJAUEAIAM2ApCJAUEAIAQ2AoyJAUEAIAU2AoiJASAAC6ECAQN/QQAoAoCJASIAQT9xIgFBmIkBakGAAToAAAJAAkACQCABQT9zIgJBB0sNAAJAIAJFDQAgAUGZiQFqIQADQCAAQQA6AAAgAEEBaiEAIAJBf2oiAg0ACwtBwAAhAkGYiQFBwAAQAxpBACEADAELIAJBCEYNASABQQFqIQALIABBj4kBaiEBA0AgASACakEAOgAAIAJBd2ohACACQX9qIQIgAEEASg0AC0EAKAKAiQEhAAtBACAAQRV2OgDTiQFBACAAQQ12OgDSiQFBACAAQQV2OgDRiQFBACAAQQN0IgI6ANCJAUEAIAI2AoCJAUEAQQAoAoSJATYC1IkBQZiJAUHAABADGkEAQQApAoiJATcDgAlBAEEAKQKQiQE3A4gJCwYAQYCJAQszAEEAQv6568XpjpWZEDcCkIkBQQBCgcaUupbx6uZvNwKIiQFBAEIANwKAiQEgABACEAQLCwsBAEGACAsEmAAAAA==",Ofe="9b0fac7d",OK={name:Nfe,data:Pfe,hash:Ofe};const Kfe=new on;let Hw=null;function Hfe(t){if(Hw===null)return un(Kfe,OK,16).then(e=>(Hw=e,Hw.calculate(t)));try{const e=Hw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function Lfe(){return Sr(OK,16).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:16};return e})}var Gfe="sha1",qfe="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",$fe="40d92e5d",KK={name:Gfe,data:qfe,hash:$fe};const jfe=new on;let Lw=null;function zfe(t){if(Lw===null)return un(jfe,KK,20).then(e=>(Lw=e,Lw.calculate(t)));try{const e=Lw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function Yfe(){return Sr(KK,20).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:20};return e})}var Jfe="sha3",Vfe="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",Wfe="ec266d91",hB={name:Jfe,data:Vfe,hash:Wfe};const Zfe=new on;let Hp=null;function rE(t){return[224,256,384,512].includes(t)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function Xfe(t,e=512){if(rE(e))return Promise.reject(rE(e));const r=e/8;if(Hp===null||Hp.hashLength!==r)return un(Zfe,hB,r).then(n=>(Hp=n,Hp.calculate(t,e,6)));try{const n=Hp.calculate(t,e,6);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}function ede(t=512){if(rE(t))return Promise.reject(rE(t));const e=t/8;return Sr(hB,e).then(r=>{r.init(t);const n={init:()=>(r.init(t),n),update:o=>(r.update(o),n),digest:o=>r.digest(o,6),save:()=>r.save(),load:o=>(r.load(o),n),blockSize:200-2*e,digestSize:e};return n})}const tde=new on;let Lp=null;function nE(t){return[224,256,384,512].includes(t)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function rde(t,e=512){if(nE(e))return Promise.reject(nE(e));const r=e/8;if(Lp===null||Lp.hashLength!==r)return un(tde,hB,r).then(n=>(Lp=n,Lp.calculate(t,e,1)));try{const n=Lp.calculate(t,e,1);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}function nde(t=512){if(nE(t))return Promise.reject(nE(t));const e=t/8;return Sr(hB,e).then(r=>{r.init(t);const n={init:()=>(r.init(t),n),update:o=>(r.update(o),n),digest:o=>r.digest(o,1),save:()=>r.save(),load:o=>(r.load(o),n),blockSize:200-2*e,digestSize:e};return n})}var ide="sha256",ode="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",sde="817d957e",AB={name:ide,data:ode,hash:sde};const ade=new on;let Gw=null;function cde(t){if(Gw===null)return un(ade,AB,28).then(e=>(Gw=e,Gw.calculate(t,224)));try{const e=Gw.calculate(t,224);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function fde(){return Sr(AB,28).then(t=>{t.init(224);const e={init:()=>(t.init(224),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:28};return e})}const dde=new on;let qw=null;function lde(t){if(qw===null)return un(dde,AB,32).then(e=>(qw=e,qw.calculate(t,256)));try{const e=qw.calculate(t,256);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function HK(){return Sr(AB,32).then(t=>{t.init(256);const e={init:()=>(t.init(256),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:32};return e})}var ude="sha512",hde="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",Ade="a5d1ca7c",gB={name:ude,data:hde,hash:Ade};const gde=new on;let $w=null;function pde(t){if($w===null)return un(gde,gB,48).then(e=>($w=e,$w.calculate(t,384)));try{const e=$w.calculate(t,384);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function yde(){return Sr(gB,48).then(t=>{t.init(384);const e={init:()=>(t.init(384),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:128,digestSize:48};return e})}const Ide=new on;let jw=null;function mde(t){if(jw===null)return un(Ide,gB,64).then(e=>(jw=e,jw.calculate(t,512)));try{const e=jw.calculate(t,512);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function wde(){return Sr(gB,64).then(t=>{t.init(512);const e={init:()=>(t.init(512),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:128,digestSize:64};return e})}var bde="xxhash32",Ede="AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwcGAAEBAgADBAUBcAEBAQUEAQECAgYOAn8BQbCJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwAAw1IYXNoX0dldFN0YXRlAAQOSGFzaF9DYWxjdWxhdGUABQpTVEFURV9TSVpFAwEKswkGBQBBgAkLTQBBAEIANwOoiQFBACAANgKIiQFBACAAQc+Moo4GajYCjIkBQQAgAEH3lK+veGo2AoSJAUEAIABBqIiNoQJqNgKAiQFBAEEANgKgiQELswUBBn8CQCAARQ0AQQBBACkDqIkBIACtfDcDqIkBAkBBACgCoIkBIgEgAGpBD0sNAEEAIAFBAWo2AqCJASABQZCJAWpBAC0AgAk6AAAgAEEBRg0BQQEhAgNAQQBBACgCoIkBIgFBAWo2AqCJASABQZCJAWogAkGACWotAAA6AAAgACACQQFqIgJHDQAMAgsLIABB8AhqIQMCQAJAIAENAEEAKAKMiQEhAUEAKAKIiQEhBEEAKAKEiQEhBUEAKAKAiQEhBkGACSECDAELQYAJIQICQCABQQ9LDQBBgAkhAgNAIAItAAAhBEEAIAFBAWo2AqCJASABQZCJAWogBDoAACACQQFqIQJBACgCoIkBIgFBEEkNAAsLQQBBACgCkIkBQfeUr694bEEAKAKAiQFqQQ13QbHz3fF5bCIGNgKAiQFBAEEAKAKUiQFB95Svr3hsQQAoAoSJAWpBDXdBsfPd8XlsIgU2AoSJAUEAQQAoApiJAUH3lK+veGxBACgCiIkBakENd0Gx893xeWwiBDYCiIkBQQBBACgCnIkBQfeUr694bEEAKAKMiQFqQQ13QbHz3fF5bCIBNgKMiQELIABBgAlqIQACQCACIANLDQADQCACKAIAQfeUr694bCAGakENd0Gx893xeWwhBiACQQxqKAIAQfeUr694bCABakENd0Gx893xeWwhASACQQhqKAIAQfeUr694bCAEakENd0Gx893xeWwhBCACQQRqKAIAQfeUr694bCAFakENd0Gx893xeWwhBSACQRBqIgIgA00NAAsLQQAgATYCjIkBQQAgBDYCiIkBQQAgBTYChIkBQQAgBjYCgIkBQQAgACACayIBNgKgiQEgAUUNAEEAIQEDQCABQZCJAWogAiABai0AADoAACABQQFqIgFBACgCoIkBSQ0ACwsLzAICAX4Gf0EAKQOoiQEiAKchAQJAAkAgAEIQVA0AQQAoAoSJAUEHd0EAKAKAiQFBAXdqQQAoAoiJAUEMd2pBACgCjIkBQRJ3aiECDAELQQAoAoiJAUGxz9myAWohAgsgAiABaiECQZCJASEBQQAoAqCJASIDQZCJAWohBAJAIANBBEgNAEGQiQEhBQNAIAUoAgBBvdzKlXxsIAJqQRF3Qa/W074CbCECIAVBCGohBiAFQQRqIgEhBSAGIARNDQALCwJAIAEgBEYNACADQZCJAWohBQNAIAEtAABBsc/ZsgFsIAJqQQt3QbHz3fF5bCECIAUgAUEBaiIBRw0ACwtBACACQQ92IAJzQfeUr694bCIBQQ12IAFzQb3cypV8bCIBQRB2IAFzIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq03A4AJCwYAQYCJAQtTAEEAQgA3A6iJAUEAIAE2AoiJAUEAIAFBz4yijgZqNgKMiQFBACABQfeUr694ajYChIkBQQAgAUGoiI2hAmo2AoCJAUEAQQA2AqCJASAAEAIQAwsLCwEAQYAICwQwAAAA",vde="5b6a5062",LK={name:bde,data:Ede,hash:vde};const Bde=new on;let zw=null;function iE(t){return!Number.isInteger(t)||t<0||t>4294967295?new Error("Seed must be a valid 32-bit long unsigned integer."):null}function Cde(t,e=0){if(iE(e))return Promise.reject(iE(e));if(zw===null)return un(Bde,LK,4).then(r=>(zw=r,zw.calculate(t,e)));try{const r=zw.calculate(t,e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}function Qde(t=0){return iE(t)?Promise.reject(iE(t)):Sr(LK,4).then(e=>{e.init(t);const r={init:()=>(e.init(t),r),update:n=>(e.update(n),r),digest:n=>e.digest(n),save:()=>e.save(),load:n=>(e.load(n),r),blockSize:16,digestSize:4};return r})}var xde="xxhash64",Sde="AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAQQFAXABAQEFBAEBAgIGDgJ/AUHQiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAMNSGFzaF9HZXRTdGF0ZQAEDkhhc2hfQ2FsY3VsYXRlAAUKU1RBVEVfU0laRQMBCqINBgUAQYAJC2MBAX5BAEIANwPIiQFBAEEAKQOACSIANwOQiQFBACAAQvnq0NDnyaHk4QB8NwOYiQFBACAAQs/W077Sx6vZQnw3A4iJAUEAIABC1uuC7ur9ifXgAHw3A4CJAUEAQQA2AsCJAQv/BQMDfwR+AX8CQCAARQ0AQQBBACkDyIkBIACtfDcDyIkBAkBBACgCwIkBIgEgAGpBH0sNAEEAIAFBAWo2AsCJASABQaCJAWpBAC0AgAk6AAAgAEEBRg0BQQEhAgNAQQBBACgCwIkBIgFBAWo2AsCJASABQaCJAWogAkGACWotAAA6AAAgACACQQFqIgJHDQAMAgsLIABB4AhqIQMCQAJAIAENAEEAKQOYiQEhBEEAKQOQiQEhBUEAKQOIiQEhBkEAKQOAiQEhB0GACSECDAELQYAJIQICQCABQR9LDQBBgAkhAgNAIAItAAAhCEEAIAFBAWo2AsCJASABQaCJAWogCDoAACACQQFqIQJBACgCwIkBIgFBIEkNAAsLQQBBACkDoIkBQs/W077Sx6vZQn5BACkDgIkBfEIfiUKHla+vmLbem55/fiIHNwOAiQFBAEEAKQOoiQFCz9bTvtLHq9lCfkEAKQOIiQF8Qh+JQoeVr6+Ytt6bnn9+IgY3A4iJAUEAQQApA7CJAULP1tO+0ser2UJ+QQApA5CJAXxCH4lCh5Wvr5i23puef34iBTcDkIkBQQBBACkDuIkBQs/W077Sx6vZQn5BACkDmIkBfEIfiUKHla+vmLbem55/fiIENwOYiQELIABBgAlqIQECQCACIANLDQADQCACKQMAQs/W077Sx6vZQn4gB3xCH4lCh5Wvr5i23puef34hByACQRhqKQMAQs/W077Sx6vZQn4gBHxCH4lCh5Wvr5i23puef34hBCACQRBqKQMAQs/W077Sx6vZQn4gBXxCH4lCh5Wvr5i23puef34hBSACQQhqKQMAQs/W077Sx6vZQn4gBnxCH4lCh5Wvr5i23puef34hBiACQSBqIgIgA00NAAsLQQAgBDcDmIkBQQAgBTcDkIkBQQAgBjcDiIkBQQAgBzcDgIkBQQAgASACayIBNgLAiQEgAUUNAEEAIQEDQCABQaCJAWogAiABai0AADoAACABQQFqIgFBACgCwIkBSQ0ACwsLqgYCBX4FfwJAAkBBACkDyIkBIgBCIFQNAEEAKQOIiQEiAUIHiUEAKQOAiQEiAkIBiXxBACkDkIkBIgNCDIl8QQApA5iJASIEQhKJfCACQs/W077Sx6vZQn5CIYggAkKAgICA+LSd9ZN/foRCh5Wvr5i23puef36FQoeVr6+Ytt6bnn9+QuPcypX8zvL1hX98IAFCz9bTvtLHq9lCfkIhiCABQoCAgID4tJ31k39+hEKHla+vmLbem55/foVCh5Wvr5i23puef35C49zKlfzO8vWFf3wgA0LP1tO+0ser2UJ+QiGIIANCgICAgPi0nfWTf36EQoeVr6+Ytt6bnn9+hUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCAEQs/W077Sx6vZQn5CIYggBEKAgICA+LSd9ZN/foRCh5Wvr5i23puef36FQoeVr6+Ytt6bnn9+QuPcypX8zvL1hX98IQEMAQtBACkDkIkBQsXP2bLx5brqJ3whAQsgASAAfCEAQaCJASEFQQAoAsCJASIGQaCJAWohBwJAIAZBCEgNAEGgiQEhCANAIAgpAwAiAULP1tO+0ser2UJ+QiGIIAFCgICAgPi0nfWTf36EQoeVr6+Ytt6bnn9+IACFQhuJQoeVr6+Ytt6bnn9+QuPcypX8zvL1hX98IQAgCEEQaiEJIAhBCGoiBSEIIAkgB00NAAsLAkACQCAFQQRqIgggB00NACAFIQgMAQsgBTUCAEKHla+vmLbem55/fiAAhUIXiULP1tO+0ser2UJ+Qvnz3fGZ9pmrFnwhAAsCQCAIIAdGDQAgBkGgiQFqIQkDQCAIMQAAQsXP2bLx5brqJ34gAIVCC4lCh5Wvr5i23puef34hACAJIAhBAWoiCEcNAAsLQQAgAEIhiCAAhULP1tO+0ser2UJ+IgBCHYggAIVC+fPd8Zn2masWfiIAQiCIIACFIgBCOIYgAEIohkKAgICAgIDA/wCDhCAAQhiGQoCAgICA4D+DIABCCIZCgICAgPAfg4SEIABCCIhCgICA+A+DIABCGIhCgID8B4OEIABCKIhCgP4DgyAAQjiIhISENwOACQsGAEGAiQELAgALCwsBAEGACAsEUAAAAA==",_de="bc315b2a",GK={name:xde,data:Sde,hash:_de};const Dde=new on;let RA=null;const Yw=new ArrayBuffer(8);function Sl(t){return!Number.isInteger(t)||t<0||t>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function S8(t,e,r){const n=new DataView(t);n.setUint32(0,e,!0),n.setUint32(4,r,!0)}function kde(t,e=0,r=0){if(Sl(e))return Promise.reject(Sl(e));if(Sl(r))return Promise.reject(Sl(r));if(RA===null)return un(Dde,GK,8).then(n=>(RA=n,S8(Yw,e,r),RA.writeMemory(new Uint8Array(Yw)),RA.calculate(t)));try{S8(Yw,e,r),RA.writeMemory(new Uint8Array(Yw));const n=RA.calculate(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}function Tde(t=0,e=0){return Sl(t)?Promise.reject(Sl(t)):Sl(e)?Promise.reject(Sl(e)):Sr(GK,8).then(r=>{const n=new ArrayBuffer(8);S8(n,t,e),r.writeMemory(new Uint8Array(n)),r.init();const o={init:()=>(r.writeMemory(new Uint8Array(n)),r.init(),o),update:i=>(r.update(i),o),digest:i=>r.digest(i),save:()=>r.save(),load:i=>(r.load(i),o),blockSize:32,digestSize:8};return o})}var Fde="xxhash3",Mde="AGFzbQEAAAABJAZgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAAAYAF/AAMMCwABAgMDAwQFBAAEBAUBcAEBAQUEAQECAgYOAn8BQcCOBQt/AEHACQsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQABgtIYXNoX1VwZGF0ZQAHCkhhc2hfRmluYWwACA1IYXNoX0dldFN0YXRlAAkOSGFzaF9DYWxjdWxhdGUACgpTVEFURV9TSVpFAwEK+joLBQBBgAoL7wMBEH4CQCADRQ0AIAFBOGohASACQThqIQIgACkDMCEEIAApAzghBSAAKQMgIQYgACkDKCEHIAApAxAhCCAAKQMYIQkgACkDACEKIAApAwghCwNAIAcgAUFoaikDACIMfCACQXBqKQMAIAFBcGopAwAiDYUiB0IgiCAHQv////8Pg358IQcgCSABQVhqKQMAIg58IAJBYGopAwAgAUFgaikDACIPhSIJQiCIIAlC/////w+DfnwhCSALIAFBSGopAwAiEHwgAkFQaikDACABQVBqKQMAIhGFIgtCIIggC0L/////D4N+fCELIAJBeGopAwAgAUF4aikDACIShSITQiCIIBNC/////w+DfiAEfCABKQMAIhN8IQQgAkFoaikDACAMhSIMQiCIIAxC/////w+DfiAGfCANfCEGIAJBWGopAwAgDoUiDEIgiCAMQv////8Pg34gCHwgD3whCCACQUhqKQMAIBCFIgxCIIggDEL/////D4N+IAp8IBF8IQogBSASfCACKQMAIBOFIgVCIIggBUL/////D4N+fCEFIAFBwABqIQEgAkEIaiECIANBf2oiAw0ACyAAIAk3AxggACAKNwMAIAAgCzcDCCAAIAc3AyggACAINwMQIAAgBTcDOCAAIAY3AyAgACAENwMwCwveAgIBfwF+AkAgAiABKAIAIgdrIgIgBEsNACAAIAMgBSAHQQN0aiACEAEgACAAKQMAIgggBSAGaiIHKQMAhSAIQi+IhUKx893xCX43AwAgACAAKQMIIgggBykDCIUgCEIviIVCsfPd8Ql+NwMIIAAgACkDECIIIAcpAxCFIAhCL4iFQrHz3fEJfjcDECAAIAApAxgiCCAHKQMYhSAIQi+IhUKx893xCX43AxggACAAKQMgIgggBykDIIUgCEIviIVCsfPd8Ql+NwMgIAAgACkDKCIIIAcpAyiFIAhCL4iFQrHz3fEJfjcDKCAAIAApAzAiCCAHKQMwhSAIQi+IhUKx893xCX43AzAgACAAKQM4IgggBykDOIUgCEIviIVCsfPd8Ql+NwM4IAAgAyACQQZ0aiAFIAQgAmsiBxABIAEgBzYCAA8LIAAgAyAFIAdBA3RqIAQQASABIAcgBGo2AgAL3QQBBH4CQCAAQQlJDQBBACkDgIwBIAEpAyAgASkDGIUgAnyFIgNCOIYgA0IohkKAgICAgIDA/wCDhCADQhiGQoCAgICA4D+DIANCCIZCgICAgPAfg4SEIANCCIhCgICA+A+DIANCGIhCgID8B4OEIANCKIhCgP4DgyADQjiIhISEIACtfCAAQfiLAWopAwAgASkDMCABKQMohSACfYUiAnwgAkL/////D4MiBCADQiCIIgV+IgZC/////w+DIAJCIIgiAiADQv////8PgyIDfnwgBCADfiIDQiCIfCIEQiCGIANC/////w+DhCAGQiCIIAIgBX58IARCIIh8hXwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4UPCwJAIABBBEkNACABKQMQIAEpAwiFIAKnIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq1CIIYgAoV9QQA1AoCMAUIghiAAQfyLAWo1AgCEhSIDQhiJIAOFIANCMYmFQqW+4/TRjIfZn39+IgNCI4ggAK18IAOFQqW+4/TRjIfZn39+IgNCHIggA4UPCwJAIABFDQAgASgCBCABKAIAc60gAnwiA0EALQCAjAFBEHQgAEEIdHIgAEEBdkGAjAFqLQAAQRh0ciAAQf+LAWotAAByrYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhQ8LIAEpAzggAoUgASkDQIUiA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC94IAQZ+IACtQoeVr6+Ytt6bnn9+IQMCQCAAQSFJDQACQCAAQcEASQ0AAkAgAEHhAEkNACABKQNoIAJ9QQApA7iMAYUiBEL/////D4MiBSABKQNgIAJ8QQApA7CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDeCACfSAAQciLAWopAwCFIgNC/////w+DIgQgASkDcCACfCAAQcCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQNIIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQNAIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDWCACfSAAQdiLAWopAwCFIgNC/////w+DIgQgASkDUCACfCAAQdCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMoIAJ9QQApA5iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA5CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDOCACfSAAQeiLAWopAwCFIgNC/////w+DIgQgASkDMCACfCAAQeCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMIIAJ9QQApA4iMAYUiBEL/////D4MiBSABKQMAIAJ8QQApA4CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDGCACfSAAQfiLAWopAwCFIgNC/////w+DIgQgASkDECACfCAAQfCLAWopAwCFIgJCIIgiBX4iBkL/////D4MgA0IgiCIDIAJC/////w+DIgJ+fCAEIAJ+IgJCIIh8IgRCIIYgAkL/////D4OEIAZCIIggAyAFfnwgBEIgiHyFfCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQuICwQBfwV+An8BfkEAIQMgASkDeCACfUEAKQP4jAGFIgRC/////w+DIgUgASkDcCACfEEAKQPwjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpA2ggAn1BACkD6IwBhSIEQv////8PgyIFIAEpA2AgAnxBACkD4IwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQNYIAJ9QQApA9iMAYUiBEL/////D4MiBSABKQNQIAJ8QQApA9CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDSCACfUEAKQPIjAGFIgRC/////w+DIgUgASkDQCACfEEAKQPAjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAzggAn1BACkDuIwBhSIEQv////8PgyIFIAEpAzAgAnxBACkDsIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQMoIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDGCACfUEAKQOYjAGFIgRC/////w+DIgUgASkDECACfEEAKQOQjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAwggAn1BACkDiIwBhSIEQv////8PgyIFIAEpAwAgAnxBACkDgIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSAArUKHla+vmLbem55/fnx8fHx8fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQgAEEQbSEJAkAgAEGQAUgNACAJQQkgCUEJShtBeGohCQNAIAEgA2oiCkELaikDACACfSADQYiNAWopAwCFIgVC/////w+DIgYgCkEDaikDACACfCADQYCNAWopAwCFIgdCIIgiCH4iC0L/////D4MgBUIgiCIFIAdC/////w+DIgd+fCAGIAd+IgZCIIh8IgdCIIYgBkL/////D4OEIAtCIIggBSAIfnwgB0IgiHyFIAR8IQQgA0EQaiEDIAlBf2oiCQ0ACwsgASkDfyACfSAAQfiLAWopAwCFIgVC/////w+DIgYgASkDdyACfCAAQfCLAWopAwCFIgJCIIgiB34iCEL/////D4MgBUIgiCIFIAJC/////w+DIgJ+fCAGIAJ+IgJCIIh8IgZCIIYgAkL/////D4OEIAhCIIggBSAHfnwgBkIgiHyFIAR8IgJCJYggAoVC+fPd8ZnymasWfiICQiCIIAKFC98FAgF+AX8CQAJAQQApA4AKIgBQRQ0AQYAIIQFCACEADAELAkBBACkDoI4BIABSDQBBACEBDAELQQAhAUEAQq+v79e895Kg/gAgAH03A/iLAUEAIABCxZbr+djShYIofDcD8IsBQQBCj/Hjja2P9JhOIAB9NwPoiwFBACAAQqus+MXV79HQfHw3A+CLAUEAQtOt1LKShbW0nn8gAH03A9iLAUEAIABCl5r0jvWWvO3JAHw3A9CLAUEAQsWDgv2v/8SxayAAfTcDyIsBQQAgAELqi7OdyOb09UN8NwPAiwFBAELIv/rLnJveueQAIAB9NwO4iwFBACAAQoqjgd/Ume2sMXw3A7CLAUEAQvm57738+MKnHSAAfTcDqIsBQQAgAEKo9dv7s5ynmj98NwOgiwFBAEK4sry3lNW31lggAH03A5iLAUEAIABC8cihuqm0w/zOAHw3A5CLAUEAQoihl9u445SXo38gAH03A4iLAUEAIABCvNDI2pvysIBLfDcDgIsBQQBC4OvAtJ7QjpPMACAAfTcD+IoBQQAgAEK4kZii9/6Qko5/fDcD8IoBQQBCgrXB7sf5v7khIAB9NwPoigFBACAAQsvzmffEmfDy+AB8NwPgigFBAELygJGl+vbssx8gAH03A9iKAUEAIABC3qm3y76Q5MtbfDcD0IoBQQBC/IKE5PK+yNYcIAB9NwPIigFBACAAQrj9s8uzhOmlvn98NwPAigELQQBCADcDkI4BQQBCADcDiI4BQQBCADcDgI4BQQAgATYCsI4BQQAgADcDoI4BQQBCsfPd8Qk3A7iKAUEAQsXP2bLx5brqJzcDsIoBQQBC95Svrwg3A6iKAUEAQuPcypX8zvL1hX83A6CKAUEAQvnz3fGZ9pmrFjcDmIoBQQBCz9bTvtLHq9lCNwOQigFBAEKHla+vmLbem55/NwOIigFBAEK93MqVDDcDgIoBQQBCkICAgIAQNwOYjgELwAUBBX9BAEEAKQOQjgEgAK18NwOQjgECQAJAQQAoAoCOASIBIABqIgJBgAJLDQAgAUGAjAFqIQNBgAohBAJAAkAgAEEITw0AIAAhAQwBCyAAIQEDQCADIAQpAwA3AwAgA0EIaiEDIARBCGohBCABQXhqIgFBB0sNAAsLIAFFDQEDQCADIAQtAAA6AAAgA0EBaiEDIARBAWohBCABQX9qIgENAAtBACgCgI4BIABqIQIMAQtBgAohAyAAQYAKaiECQQAoArCOASIEQcCKASAEGyEAAkAgAUUNACABQYCMAWohA0GACiEEAkACQEGAAiABayIFQQhPDQAgBSEBDAELIAUhAQNAIAMgBCkDADcDACADQQhqIQMgBEEIaiEEIAFBeGoiAUEHSw0ACwsCQCABRQ0AA0AgAyAELQAAOgAAIANBAWohAyAEQQFqIQQgAUF/aiIBDQALC0GAigFBiI4BQQAoApiOAUGAjAFBBCAAQQAoApyOARACQQBBADYCgI4BIAVBgApqIQMLAkAgA0GAAmogAk8NACACQYB+aiEEA0BBgIoBQYiOAUEAKAKYjgEgA0EEIABBACgCnI4BEAIgA0GAAmoiAyAESQ0AC0EAIANBQGopAwA3A8CNAUEAIANBSGopAwA3A8iNAUEAIANBUGopAwA3A9CNAUEAIANBWGopAwA3A9iNAUEAIANBYGopAwA3A+CNAUEAIANBaGopAwA3A+iNAUEAIANBcGopAwA3A/CNAUEAIANBeGopAwA3A/iNAQtBgIwBIQQCQAJAIAIgA2siAkEITw0AIAIhAQwBCyACIQEDQCAEIAMpAwA3AwAgBEEIaiEEIANBCGohAyABQXhqIgFBB0sNAAsLIAFFDQADQCAEIAMtAAA6AAAgBEEBaiEEIANBAWohAyABQX9qIgENAAsLQQAgAjYCgI4BC6oQBQR/AX4Cfwp+An8jACIAIQEgAEGAAWtBQHEiAiQAQQAoArCOASIAQcCKASAAGyEDAkACQEEAKQOQjgEiBELxAVQNACACQQApA4CKATcDACACQQApA4iKATcDCCACQQApA5CKATcDECACQQApA5iKATcDGCACQQApA6CKATcDICACQQApA6iKATcDKCACQQApA7CKATcDMCACQQApA7iKATcDOAJAAkBBACgCgI4BIgVBwABJDQAgAkEAKAKIjgE2AkAgAiACQcAAakEAKAKYjgFBgIwBIAVBf2pBBnYgA0EAKAKcjgEQAiACIAIpAwhBACgCgI4BIgBBwIsBaikDACIEfCADQQAoApyOAWoiBkEBaikDACAAQciLAWopAwAiB4UiCEIgiCAIQv////8Pg358Igk3AwggAiACKQMYIABB0IsBaikDACIIfCAGQRFqKQMAIABB2IsBaikDACIKhSILQiCIIAtC/////w+DfnwiDDcDGCACIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiACKQMAfHwiDTcDACACIAogCCAGQQlqKQMAhSIEQiCIIARC/////w+DfiACKQMQfHwiDjcDECAGQRlqKQMAIQQgAikDICEHIAIgAikDKCAAQeCLAWopAwAiCHwgBkEhaikDACAAQeiLAWopAwAiCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IABB8IsBaikDACIEfCAGQTFqKQMAIABB+IsBaikDACIHhSIIQiCIIAhC/////w+Dfnw3AzggByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAIpAzB8fCEEDAELQcAAIAVrIRECQAJAAkAgBUE4TQ0AQYCOASARayEGIAJBwABqIQUgESEADAELQQAhEiARIQADQCACQcAAaiASaiAFIBJqQcCNAWopAwA3AwAgEkEIaiESIABBeGoiAEEHSw0ACyAFIBJqIgZBwABGDQEgBkHAjQFqIQYgAkHAAGogEmohBQsDQCAFIAYtAAA6AAAgBUEBaiEFIAZBAWohBiAAQX9qIgANAAtBACgCgI4BIQULIAJBwABqIBFqIQZBgIwBIQACQCAFQQhJDQBBgIwBIQADQCAGIAApAwA3AwAgBkEIaiEGIABBCGohACAFQXhqIgVBB0sNAAsLAkAgBUUNAANAIAYgAC0AADoAACAGQQFqIQYgAEEBaiEAIAVBf2oiBQ0ACwsgAiACKQMIIAIpA0AiBHwgA0EAKAKcjgFqIgBBAWopAwAgAikDSCIHhSIIQiCIIAhC/////w+DfnwiCTcDCCACIAIpAxggAikDUCIIfCAAQRFqKQMAIAIpA1giCoUiC0IgiCALQv////8Pg358Igw3AxggAiAHIAQgAEF5aikDAIUiBEIgiCAEQv////8Pg34gAikDAHx8Ig03AwAgAiAKIAggAEEJaikDAIUiBEIgiCAEQv////8Pg34gAikDEHx8Ig43AxAgAEEZaikDACEEIAIpAyAhByACIAIpAyggAikDYCIIfCAAQSFqKQMAIAIpA2giCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IAIpA3AiBHwgAEExaikDACACKQN4IgeFIghCIIggCEL/////D4N+fDcDOCAHIAQgAEEpaikDAIUiBEIgiCAEQv////8Pg34gAikDMHx8IQQLIAIgBDcDMCADKQNDIAIpAziFIgdC/////w+DIgggAykDOyAEhSIEQiCIIgp+IgtC/////w+DIAdCIIgiByAEQv////8PgyIEfnwgCCAEfiIEQiCIfCIIQiCGIARC/////w+DhCALQiCIIAcgCn58IAhCIIh8hSADKQMzIA+FIgRC/////w+DIgcgAykDKyAQhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMjIAyFIgRC/////w+DIgcgAykDGyAOhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMTIAmFIgRC/////w+DIgcgAykDCyANhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hUEAKQOQjgFCh5Wvr5i23puef358fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQMAQsgBKchAAJAQQApA6COASIEUA0AAkAgAEEQSw0AIABBgAggBBADIQQMAgsCQCAAQYABSw0AIABBgAggBBAEIQQMAgsgAEGACCAEEAUhBAwBCwJAIABBEEsNACAAIANCABADIQQMAQsCQCAAQYABSw0AIAAgA0IAEAQhBAwBCyAAIANCABAFIQQLQQAgBEI4hiAEQiiGQoCAgICAgMD/AIOEIARCGIZCgICAgIDgP4MgBEIIhkKAgICA8B+DhIQgBEIIiEKAgID4D4MgBEIYiEKAgPwHg4QgBEIoiEKA/gODIARCOIiEhIQ3A4AKIAEkAAsGAEGAigELAgALC8wBAQBBgAgLxAG4/mw5I6RLvnwBgSz3Ia0c3tRt6YOQl9tyQKSkt7NnH8t55k7MwOV4glrQfcz/ciG4CEZ090MkjuA1kOaBOiZMPChSu5HDAMuI0GWLG1Muo3FkSJeiDflOOBnvRqnerNio+nY/45w0P/ncu8fHC08dilHgS820WTHIn37J2XhzZOrFrIM00+vDxYGg//oTY+sXDd1Rt/DaSdMWVSYp1GieKxa+WH1HofyP+LjRetAxzkXLOo+VFgQor9f7yrtLQH5AAgAA",Ude="187bc2c6",qK={name:Fde,data:Mde,hash:Ude};const Rde=new on;let NA=null;const Jw=new ArrayBuffer(8);function _l(t){return!Number.isInteger(t)||t<0||t>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function _8(t,e,r){const n=new DataView(t);n.setUint32(0,e,!0),n.setUint32(4,r,!0)}function Nde(t,e=0,r=0){if(_l(e))return Promise.reject(_l(e));if(_l(r))return Promise.reject(_l(r));if(NA===null)return un(Rde,qK,8).then(n=>(NA=n,_8(Jw,e,r),NA.writeMemory(new Uint8Array(Jw)),NA.calculate(t)));try{_8(Jw,e,r),NA.writeMemory(new Uint8Array(Jw));const n=NA.calculate(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}function Pde(t=0,e=0){return _l(t)?Promise.reject(_l(t)):_l(e)?Promise.reject(_l(e)):Sr(qK,8).then(r=>{const n=new ArrayBuffer(8);_8(n,t,e),r.writeMemory(new Uint8Array(n)),r.init();const o={init:()=>(r.writeMemory(new Uint8Array(n)),r.init(),o),update:i=>(r.update(i),o),digest:i=>r.digest(i),save:()=>r.save(),load:i=>(r.load(i),o),blockSize:512,digestSize:8};return o})}var Ode="xxhash128",Kde="AGFzbQEAAAABKwdgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAR/f39+AGAAAGABfwADDQwAAQIDBAQEBQYFAAUEBQFwAQEBBQQBAQICBg4CfwFBwI4FC38AQcAJCwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAAHC0hhc2hfVXBkYXRlAAgKSGFzaF9GaW5hbAAJDUhhc2hfR2V0U3RhdGUACg5IYXNoX0NhbGN1bGF0ZQALClNUQVRFX1NJWkUDAQrKRgwFAEGACgvvAwEQfgJAIANFDQAgAUE4aiEBIAJBOGohAiAAKQMwIQQgACkDOCEFIAApAyAhBiAAKQMoIQcgACkDECEIIAApAxghCSAAKQMAIQogACkDCCELA0AgByABQWhqKQMAIgx8IAJBcGopAwAgAUFwaikDACINhSIHQiCIIAdC/////w+DfnwhByAJIAFBWGopAwAiDnwgAkFgaikDACABQWBqKQMAIg+FIglCIIggCUL/////D4N+fCEJIAsgAUFIaikDACIQfCACQVBqKQMAIAFBUGopAwAiEYUiC0IgiCALQv////8Pg358IQsgAkF4aikDACABQXhqKQMAIhKFIhNCIIggE0L/////D4N+IAR8IAEpAwAiE3whBCACQWhqKQMAIAyFIgxCIIggDEL/////D4N+IAZ8IA18IQYgAkFYaikDACAOhSIMQiCIIAxC/////w+DfiAIfCAPfCEIIAJBSGopAwAgEIUiDEIgiCAMQv////8Pg34gCnwgEXwhCiAFIBJ8IAIpAwAgE4UiBUIgiCAFQv////8Pg358IQUgAUHAAGohASACQQhqIQIgA0F/aiIDDQALIAAgCTcDGCAAIAo3AwAgACALNwMIIAAgBzcDKCAAIAg3AxAgACAFNwM4IAAgBjcDICAAIAQ3AzALC94CAgF/AX4CQCACIAEoAgAiB2siAiAESw0AIAAgAyAFIAdBA3RqIAIQASAAIAApAwAiCCAFIAZqIgcpAwCFIAhCL4iFQrHz3fEJfjcDACAAIAApAwgiCCAHKQMIhSAIQi+IhUKx893xCX43AwggACAAKQMQIgggBykDEIUgCEIviIVCsfPd8Ql+NwMQIAAgACkDGCIIIAcpAxiFIAhCL4iFQrHz3fEJfjcDGCAAIAApAyAiCCAHKQMghSAIQi+IhUKx893xCX43AyAgACAAKQMoIgggBykDKIUgCEIviIVCsfPd8Ql+NwMoIAAgACkDMCIIIAcpAzCFIAhCL4iFQrHz3fEJfjcDMCAAIAApAzgiCCAHKQM4hSAIQi+IhUKx893xCX43AzggACADIAJBBnRqIAUgBCACayIHEAEgASAHNgIADwsgACADIAUgB0EDdGogBBABIAEgByAEajYCAAvtAwEFfiABKQM4IAApAziFIgNC/////w+DIgQgASkDMCAAKQMwhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMoIAApAyiFIgNC/////w+DIgQgASkDICAAKQMghSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMYIAApAxiFIgNC/////w+DIgQgASkDECAAKQMQhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMIIAApAwiFIgNC/////w+DIgQgASkDACAAKQMAhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSACfHx8fCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQvCCAEFfgJAIAFBCUkNACAAQQApA4CMASACKQMoIAIpAyCFIAN9hSABQfiLAWopAwAiBIUiBUIgiCIGQoeVr68IfiIHQv////8PgyAFQv////8PgyIFQrHz3fEJfnwgBUKHla+vCH4iBUIgiHwiCEIghiAFQv////8Pg4QgAUF/aq1CNoZ8IAQgAikDOCACKQMwhSADfIUiA0L/////D4NC95Svrwh+IANCgICAgHCDfCAGQrHz3fEJfnwgB0IgiHwgCEIgiHwiA0I4hiADQiiGQoCAgICAgMD/AIOEIANCGIZCgICAgIDgP4MgA0IIhkKAgICA8B+DhIQgA0IIiEKAgID4D4MgA0IYiEKAgPwHg4QgA0IoiEKA/gODIANCOIiEhISFIgRCIIgiBULP1tO+An4iBkL/////D4MgBEL/////D4MiBEK93MqVDH58IARCz9bTvgJ+IgdCIIh8IgRCBYhC////P4MgBEIghiAHQv////8Pg4SFQvnz3fGZ8pmrFn4iB0IgiCAHhTcDACAAIAVCvdzKlQx+IANCz9bTvtLHq9lCfnwgBkIgiHwgBEIgiHwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4U3AwgPCwJAIAFBBEkNACAAIAIpAxggAikDEIUgA6ciAkEYdCACQQh0QYCA/AdxciACQQh2QYD+A3EgAkEYdnJyrUIghiADhXwgAUH8iwFqNQIAQiCGQQA1AoCMAYSFIgNCIIgiBCABQQJ0QYeVr694aq0iBX4iBkIgiCAEQrHz3fEJfnwgBkL/////D4MgA0L/////D4MiA0Kx893xCX58IAMgBX4iA0IgiHwiBEIgiHwgBEIghiADQv////8Pg4QiBEIBhnwiA0IliCADhUL5893xmfKZqxZ+IgVCIIggBYU3AwggACADQgOIIASFIgNCI4ggA4VCpb7j9NGMh9mff34iA0IciCADhTcDAA8LAkAgAUUNACAAIAIoAgQgAigCAHOtIAN8IgRBAC0AgIwBQRB0IAFBCHRyIAFBAXZBgIwBai0AAEEYdHIgAUH/iwFqLQAAciIBrYUgBEIhiIVCz9bTvtLHq9lCfiIEQh2IIASFQvnz3fGZ9pmrFn4iBEIgiCAEhTcDACAAIAIoAgwgAigCCHOtIAN9IgMgAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyQQ13rYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDCA8LIAAgAikDUCADhSACKQNYhSIEQiGIIASFQs/W077Sx6vZQn4iBEIdiCAEhUL5893xmfaZqxZ+IgRCIIggBIU3AwggACACKQNAIAOFIAIpA0iFIgNCIYggA4VCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDAAunCgEKfiABrSIEQoeVr6+Ytt6bnn9+IQUCQAJAIAFBIU8NAEIAIQYMAQtCACEHAkAgAUHBAEkNAEIAIQcCQCABQeEASQ0AIAIpA3ggA30gAUHIiwFqKQMAIgiFIgdC/////w+DIgkgAikDcCADfCABQcCLAWopAwAiCoUiC0IgiCIMfiINQiCIIAdCIIgiByAMfnwgDUL/////D4MgByALQv////8PgyILfnwgCSALfiIHQiCIfCIJQiCIfEEAKQO4jAEiC0EAKQOwjAEiDHyFIAlCIIYgB0L/////D4OEhSEHIAIpA2ggA30gC4UiCUL/////D4MiCyACKQNgIAN8IAyFIgxCIIgiDX4iBkL/////D4MgCUIgiCIJIAxC/////w+DIgx+fCALIAx+IgtCIIh8IgxCIIYgC0L/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggCnyFIQULIAIpA1ggA30gAUHYiwFqKQMAIgiFIglC/////w+DIgogAikDUCADfCABQdCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDqIwBIglBACkDoIwBIgp8hSEHIAIpA0ggA30gCYUiCUL/////D4MiDCACKQNAIAN8IAqFIgpCIIgiDX4iBkL/////D4MgCUIgiCIJIApC/////w+DIgp+fCAMIAp+IgpCIIh8IgxCIIYgCkL/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggC3yFIQULIAIpAzggA30gAUHoiwFqKQMAIgiFIglC/////w+DIgogAikDMCADfCABQeCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDmIwBIgdBACkDkIwBIgl8hSEGIAIpAyggA30gB4UiB0L/////D4MiCiACKQMgIAN8IAmFIglCIIgiDH4iDUL/////D4MgB0IgiCIHIAlC/////w+DIgl+fCAKIAl+IglCIIh8IgpCIIYgCUL/////D4OEIA1CIIggByAMfnwgCkIgiHyFIAV8IAggC3yFIQULIAAgAikDGCADfSABQfiLAWopAwAiB4UiCEL/////D4MiCSACKQMQIAN8IAFB8IsBaikDACIKhSILQiCIIgx+Ig1C/////w+DIAhCIIgiCCALQv////8PgyILfnwgCSALfiIJQiCIfCILQiCGIAlC/////w+DhCANQiCIIAggDH58IAtCIIh8hSAGfEEAKQOIjAEiCEEAKQOAjAEiCXyFIgsgAikDCCADfSAIhSIIQv////8PgyIMIAIpAwAgA3wgCYUiCUIgiCINfiIGQv////8PgyAIQiCIIgggCUL/////D4MiCX58IAwgCX4iCUIgiHwiDEIghiAJQv////8Pg4QgBkIgiCAIIA1+fCAMQiCIfIUgBXwgByAKfIUiBXwiB0IliCAHhUL5893xmfKZqxZ+IgdCIIggB4U3AwAgAEIAIAVCh5Wvr5i23puef34gBCADfULP1tO+0ser2UJ+fCALQuPcypX8zvL1hX9+fCIDQiWIIAOFQvnz3fGZ8pmrFn4iA0IgiCADhX03AwgLiQ8DAX8UfgJ/QQAhBCACKQN4IAN9QQApA/iMASIFhSIGQv////8PgyIHIAIpA3AgA3xBACkD8IwBIgiFIglCIIgiCn4iC0L/////D4MgBkIgiCIGIAlC/////w+DIgl+fCAHIAl+IgdCIIh8IglCIIYgB0L/////D4OEIAtCIIggBiAKfnwgCUIgiHyFIAIpA1ggA31BACkD2IwBIgeFIgZC/////w+DIgkgAikDUCADfEEAKQPQjAEiCoUiC0IgiCIMfiINQv////8PgyAGQiCIIgYgC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAGIAx+fCALQiCIfIUgAikDOCADfUEAKQO4jAEiCYUiBkL/////D4MiCyACKQMwIAN8QQApA7CMASIMhSINQiCIIg5+Ig9C/////w+DIAZCIIgiBiANQv////8PgyINfnwgCyANfiILQiCIfCINQiCGIAtC/////w+DhCAPQiCIIAYgDn58IA1CIIh8hSACKQMYIAN9QQApA5iMASILhSIGQv////8PgyINIAIpAxAgA3xBACkDkIwBIg6FIg9CIIgiEH4iEUL/////D4MgBkIgiCIGIA9C/////w+DIg9+fCANIA9+Ig1CIIh8Ig9CIIYgDUL/////D4OEIBFCIIggBiAQfnwgD0IgiHyFQQApA4iMASINQQApA4CMASIPfIV8QQApA6iMASIQQQApA6CMASIRfIV8QQApA8iMASISQQApA8CMASITfIV8QQApA+iMASIUQQApA+CMASIVfIUiBkIliCAGhUL5893xmfKZqxZ+IgZCIIggBoUhBiACKQNoIAN9IBSFIhRC/////w+DIhYgAikDYCADfCAVhSIVQiCIIhd+IhhC/////w+DIBRCIIgiFCAVQv////8PgyIVfnwgFiAVfiIVQiCIfCIWQiCGIBVC/////w+DhCAYQiCIIBQgF358IBZCIIh8hSACKQNIIAN9IBKFIhJC/////w+DIhQgAikDQCADfCAThSITQiCIIhV+IhZC/////w+DIBJCIIgiEiATQv////8PgyITfnwgFCATfiITQiCIfCIUQiCGIBNC/////w+DhCAWQiCIIBIgFX58IBRCIIh8hSACKQMoIAN9IBCFIhBC/////w+DIhIgAikDICADfCARhSIRQiCIIhN+IhRC/////w+DIBBCIIgiECARQv////8PgyIRfnwgEiARfiIRQiCIfCISQiCGIBFC/////w+DhCAUQiCIIBAgE358IBJCIIh8hSACKQMIIAN9IA2FIg1C/////w+DIhAgAikDACADfCAPhSIPQiCIIhF+IhJC/////w+DIA1CIIgiDSAPQv////8PgyIPfnwgECAPfiIPQiCIfCIQQiCGIA9C/////w+DhCASQiCIIA0gEX58IBBCIIh8hSABrSIPQoeVr6+Ytt6bnn9+fCALIA58hXwgCSAMfIV8IAcgCnyFfCAFIAh8hSIFQiWIIAWFQvnz3fGZ8pmrFn4iBUIgiCAFhSEFIAFBIG0hGQJAIAFBoAFIDQAgGUEFIBlBBUobQXxqIRoDQCACIARqIhlBG2opAwAgA30gBEGYjQFqKQMAIgeFIghC/////w+DIgkgGUETaikDACADfCAEQZCNAWopAwAiCoUiC0IgiCIMfiINQv////8PgyAIQiCIIgggC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAIIAx+fCALQiCIfIUgBnwgBEGIjQFqKQMAIgggBEGAjQFqKQMAIgl8hSEGIBlBC2opAwAgA30gCIUiCEL/////D4MiCyAZQQNqKQMAIAN8IAmFIglCIIgi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QXBqKQMANwPwjQFBACADQXhqKQMANwP4jQELQYCMASEEAkACQCACIANrIgJBCE8NACACIQEMAQsgAiEBA0AgBCADKQMANwMAIARBCGohBCADQQhqIQMgAUF4aiIBQQdLDQALCyABRQ0AA0AgBCADLQAAOgAAIARBAWohBCADQQFqIQMgAUF/aiIBDQALC0EAIAI2AoCOAQvcDgUEfwF+An8EfgJ/IwAiACEBIABBgAFrQUBxIgAkAEEAKAKwjgEiAkHAigEgAhshAwJAAkBBACkDkI4BIgRC8QFUDQAgAEEAKQOAigE3AwAgAEEAKQOIigE3AwggAEEAKQOQigE3AxAgAEEAKQOYigE3AxggAEEAKQOgigE3AyAgAEEAKQOoigE3AyggAEEAKQOwigE3AzAgAEEAKQO4igE3AzgCQAJAQQAoAoCOASIFQcAASQ0AIABBACgCiI4BNgJAIAAgAEHAAGpBACgCmI4BQYCMASAFQX9qQQZ2IANBACgCnI4BEAIgACAAKQMIQQAoAoCOASICQcCLAWopAwAiBHwgA0EAKAKcjgFqIgZBAWopAwAgAkHIiwFqKQMAIgeFIghCIIggCEL/////D4N+fDcDCCAAIAApAxggAkHQiwFqKQMAIgh8IAZBEWopAwAgAkHYiwFqKQMAIgmFIgpCIIggCkL/////D4N+fDcDGCAAIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiAAKQMAfHw3AwAgACAJIAggBkEJaikDAIUiBEIgiCAEQv////8Pg34gACkDEHx8NwMQIAZBGWopAwAhBCAAKQMgIQcgACAAKQMoIAJB4IsBaikDACIIfCAGQSFqKQMAIAJB6IsBaikDACIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCACQfCLAWopAwAiBHwgBkExaikDACACQfiLAWopAwAiB4UiCEIgiCAIQv////8Pg358NwM4IAAgByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAApAzB8fDcDMAwBC0HAACAFayELAkACQAJAIAVBOE0NAEGAjgEgC2shBiAAQcAAaiEFIAshAgwBC0EAIQwgCyECA0AgAEHAAGogDGogBSAMakHAjQFqKQMANwMAIAxBCGohDCACQXhqIgJBB0sNAAsgBSAMaiIGQcAARg0BIAZBwI0BaiEGIABBwABqIAxqIQULA0AgBSAGLQAAOgAAIAVBAWohBSAGQQFqIQYgAkF/aiICDQALQQAoAoCOASEFCyAAQcAAaiALaiEGQYCMASECAkAgBUEISQ0AQYCMASECA0AgBiACKQMANwMAIAZBCGohBiACQQhqIQIgBUF4aiIFQQdLDQALCwJAIAVFDQADQCAGIAItAAA6AAAgBkEBaiEGIAJBAWohAiAFQX9qIgUNAAsLIAAgACkDCCAAKQNAIgR8IANBACgCnI4BaiICQQFqKQMAIAApA0giB4UiCEIgiCAIQv////8Pg358NwMIIAAgACkDGCAAKQNQIgh8IAJBEWopAwAgACkDWCIJhSIKQiCIIApC/////w+Dfnw3AxggACAHIAQgAkF5aikDAIUiBEIgiCAEQv////8Pg34gACkDAHx8NwMAIAAgCSAIIAJBCWopAwCFIgRCIIggBEL/////D4N+IAApAxB8fDcDECACQRlqKQMAIQQgACkDICEHIAAgACkDKCAAKQNgIgh8IAJBIWopAwAgACkDaCIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCAAKQNwIgR8IAJBMWopAwAgACkDeCIHhSIIQiCIIAhC/////w+Dfnw3AzggACAHIAQgAkEpaikDAIUiBEIgiCAEQv////8Pg34gACkDMHx8NwMwCyAAIAAgA0ELakEAKQOQjgEiBEKHla+vmLbem55/fhADNwNAIAAgACADQQAoApyOAWpBdWogBELP1tO+0ser2UJ+Qn+FEAM3A0gMAQsgBKchAgJAQQApA6COASIEUA0AAkAgAkEQSw0AIABBwABqIAJBgAggBBAEDAILAkAgAkGAAUsNACAAQcAAaiACQYAIIAQQBQwCCyAAQcAAaiACQYAIIAQQBgwBCwJAIAJBEEsNACAAQcAAaiACIANCABAEDAELAkAgAkGAAUsNACAAQcAAaiACIANCABAFDAELIABBwABqIAIgA0IAEAYLQQAgAEH4AGopAwA3A8AKQQAgAEHwAGopAwA3A7gKQQAgAEHoAGopAwA3A7AKQQAgAEHgAGopAwA3A6gKQQAgAEHYAGopAwA3A6AKQQAgAEHQAGopAwA3A5gKQQAgACkDSCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhCIENwOACkEAIAQ3A5AKQQAgACkDQCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhDcDiAogASQACwYAQYCKAQsCAAsLzAEBAEGACAvEAbj+bDkjpEu+fAGBLPchrRze1G3pg5CX23JApKS3s2cfy3nmTszA5XiCWtB9zP9yIbgIRnT3QySO4DWQ5oE6Jkw8KFK7kcMAy4jQZYsbUy6jcWRIl6IN+U44Ge9Gqd6s2Kj6dj/jnDQ/+dy7x8cLTx2KUeBLzbRZMciffsnZeHNk6sWsgzTT68PFgaD/+hNj6xcN3VG38NpJ0xZVJinUaJ4rFr5YfUeh/I/4uNF60DHORcs6j5UWBCiv1/vKu0tAfkACAAA=",Hde="e8e3fcf8",$K={name:Ode,data:Kde,hash:Hde};const Lde=new on;let PA=null;const Vw=new ArrayBuffer(8);function Dl(t){return!Number.isInteger(t)||t<0||t>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function D8(t,e,r){const n=new DataView(t);n.setUint32(0,e,!0),n.setUint32(4,r,!0)}function Gde(t,e=0,r=0){if(Dl(e))return Promise.reject(Dl(e));if(Dl(r))return Promise.reject(Dl(r));if(PA===null)return un(Lde,$K,16).then(n=>(PA=n,D8(Vw,e,r),PA.writeMemory(new Uint8Array(Vw)),PA.calculate(t)));try{D8(Vw,e,r),PA.writeMemory(new Uint8Array(Vw));const n=PA.calculate(t);return Promise.resolve(n)}catch(n){return Promise.reject(n)}}function qde(t=0,e=0){return Dl(t)?Promise.reject(Dl(t)):Dl(e)?Promise.reject(Dl(e)):Sr($K,16).then(r=>{const n=new ArrayBuffer(8);D8(n,t,e),r.writeMemory(new Uint8Array(n)),r.init();const o={init:()=>(r.writeMemory(new Uint8Array(n)),r.init(),o),update:i=>(r.update(i),o),digest:i=>r.digest(i),save:()=>r.save(),load:i=>(r.load(i),o),blockSize:512,digestSize:16};return o})}var $de="ripemd160",jde="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",zde="42f1de39",jK={name:$de,data:jde,hash:zde};const Yde=new on;let Ww=null;function Jde(t){if(Ww===null)return un(Yde,jK,20).then(e=>(Ww=e,Ww.calculate(t)));try{const e=Ww.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function Vde(){return Sr(jK,20).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:20};return e})}function Wde(t,e){const{blockSize:r}=t,n=bn(e);if(n.length>r){t.update(n);const o=t.digest("binary");return t.init(),o}return new Uint8Array(n.buffer,n.byteOffset,n.length)}function Zde(t,e){t.init();const{blockSize:r}=t,n=Wde(t,e),o=new Uint8Array(r);o.set(n);const i=new Uint8Array(r);for(let a=0;a<r;a++){const c=o[a];i[a]=c^92,o[a]=c^54}t.update(o);const s={init:()=>(t.init(),t.update(o),s),update:a=>(t.update(a),s),digest:a=>{const c=t.digest("binary");return t.init(),t.update(i),t.update(c),t.digest(a)},save:()=>{throw new Error("save() not supported")},load:()=>{throw new Error("load() not supported")},blockSize:t.blockSize,digestSize:t.digestSize};return s}function zK(t,e){if(!t||!t.then)throw new Error('Invalid hash function is provided! Usage: createHMAC(createMD5(), "key").');return t.then(r=>Zde(r,e))}function Xde(t,e,r,n,o){return oi(this,void 0,void 0,function*(){const i=new Uint8Array(n),s=new Uint8Array(e.length+4),a=new DataView(s.buffer),c=bn(e),d=new Uint8Array(c.buffer,c.byteOffset,c.length);s.set(d);let f=0;const l=t.digestSize,u=Math.ceil(n/l);let p=null,A=null;for(let y=1;y<=u;y++){a.setUint32(e.length,y),t.init(),t.update(s),p=t.digest("binary"),A=p.slice();for(let v=1;v<r;v++){t.init(),t.update(A),A=t.digest("binary");for(let B=0;B<l;B++)p[B]^=A[B]}i.set(p.subarray(0,n-f),f),f+=l}if(o==="binary")return i;const h=new Uint8Array(n*2);return r0(h,i,n)})}const ele=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(!t.hashFunction||!t.hashFunction.then)throw new Error('Invalid hash function is provided! Usage: pbkdf2("password", "salt", 1000, 32, createSHA1()).');if(!Number.isInteger(t.iterations)||t.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(t.hashLength)||t.hashLength<1)throw new Error("Hash length should be a positive number");if(t.outputType===void 0&&(t.outputType="hex"),!["hex","binary"].includes(t.outputType))throw new Error(`Insupported output type ${t.outputType}. Valid values: ['hex', 'binary']`)};function k8(t){return oi(this,void 0,void 0,function*(){ele(t);const e=yield zK(t.hashFunction,t.password);return Xde(e,t.salt,t.iterations,t.hashLength,t.outputType)})}var tle="scrypt",rle="AGFzbQEAAAABIwZgAX8Bf2AAAX9gBX9/fn9/AGAEf39/fwBgAX8AYAN/f38AAwcGAAECAwQFBAUBcAEBAQUGAQECgIACBggBfwFBkIgECwc5BAZtZW1vcnkCABJIYXNoX1NldE1lbW9yeVNpemUAAA5IYXNoX0dldEJ1ZmZlcgABBnNjcnlwdAAFCpcmBlsBAX9BACEBAkAgAEEAKAKACGsiAEUNAAJAIABBEHYgAEGAgHxxIABJaiIAQABBf0cNAEH/ASEBDAELQQAhAUEAQQApA4AIIABBEHStfDcDgAgLIAFBGHRBGHULagECfwJAQQAoAogIIgANAEEAPwBBEHQiADYCiAhBgIAgQQAoAoAIayIBRQ0AAkAgAUEQdiABQYCAfHEgAUlqIgBAAEF/Rw0AQQAPC0EAQQApA4AIIABBEHStfDcDgAhBACgCiAghAAsgAAu5EAMMfwl+An8gAUEFdCEFIAQgAUEIdGohBiAEIAFBB3QiB2ohCAJAAkACQAJAIAFFDQBBACEJIAAhCiAEIQsDQCALIAooAgA2AgAgCkEEaiEKIAtBBGohCyAJQQFqIgkgBUkNAAsgAlANAiABQQh0IQxBACENIAMhDgNAQQAhCSABIQ8DQCAOIAlqIgogBCAJaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgDiEJIAQhDyABIRADQCAJIAdqIgogDyAHaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9BgAFqIQ8gEEF/aiIQDQALIAggBCAGIAEQAyAOIAxqIQ4gDUECaiINrSACVA0ADAILCyACUA0CIAhBQGoiCikDOCERIAopAzAhEiAKKQMoIRMgCikDICEUIAopAxghFSAKKQMQIRYgCikDCCEXIAopAwAhGEECIQoDQCAKrSEZIApBAmohCiAZIAJUDQALIAYgETcDOCAGIBI3AzAgBiATNwMoIAYgFDcDICAGIBU3AxggBiAWNwMQIAYgFzcDCCAGIBg3AwALAkAgAUUNACAHQUBqIgogCGohGiACp0F/aiEOIAogBGohGyABQQd0IQ1BACEMA0AgAyANIBsoAgAgDnFsaiEHQQAhCSABIQ8DQCAEIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgAyANIBooAgAgDnFsaiEHQQAhCSABIQ8DQCAIIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAIIAQgBiABEAMgDEECaiIMrSACVA0ADAILCyAIQUBqIgopAzghESAKKQMwIRIgCikDKCETIAopAyAhFCAKKQMYIRUgCikDECEWIAopAwghFyAKKQMAIRhBAiEKA0AgCq0hGSAKQQJqIQogGSACVA0ACyAGIBE3AzggBiASNwMwIAYgEzcDKCAGIBQ3AyAgBiAVNwMYIAYgFjcDECAGIBc3AwggBiAYNwMACyABRQ0AQQAhCgNAIAAgBCgCADYCACAAQQRqIQAgBEEEaiEEIApBAWoiCiAFSQ0ACwsL4wUDAX8IfgJ/IAIgA0EHdCAAakFAaiIEKQMAIgU3AwAgAiAEKQMIIgY3AwggAiAEKQMQIgc3AxAgAiAEKQMYIgg3AxggAiAEKQMgIgk3AyAgAiAEKQMoIgo3AyggAiAEKQMwIgs3AzAgAiAEKQM4Igw3AzgCQCADRQ0AIANBAXQhDSAAQfgAaiEEIANBBnQhDkECIQADQCACIAUgBEGIf2opAwCFNwMAIAIgBiAEQZB/aikDAIU3AwggAiAHIARBmH9qKQMAhTcDECACIAggBEGgf2opAwCFNwMYIAIgCSAEQah/aikDAIU3AyAgAiAKIARBsH9qKQMAhTcDKCACIAsgBEG4f2opAwCFNwMwIAIgDCAEQUBqKQMAhTcDOCACEAQgASACKQMANwMAIAFBCGogAikDCDcDACABQRBqIAIpAxA3AwAgAUEYaiACKQMYNwMAIAFBIGogAikDIDcDACABQShqIAIpAyg3AwAgAUEwaiACKQMwNwMAIAFBOGogAikDODcDACACIAIpAwAgBEFIaikDAIU3AwAgAiACKQMIIARBUGopAwCFNwMIIAIgAikDECAEQVhqKQMAhTcDECACIAIpAxggBEFgaikDAIU3AxggAiACKQMgIARBaGopAwCFNwMgIAIgAikDKCAEQXBqKQMAhTcDKCACIAIpAzAgBEF4aikDAIU3AzAgAiACKQM4IAQpAwCFNwM4IAIQBCABIA5qIgMgAikDADcDACADQQhqIAIpAwg3AwAgA0EQaiACKQMQNwMAIANBGGogAikDGDcDACADQSBqIAIpAyA3AwAgA0EoaiACKQMoNwMAIANBMGogAikDMDcDACADQThqIAIpAzg3AwAgACANTw0BIARBgAFqIQQgAUHAAGohASAAQQJqIQAgAikDOCEMIAIpAzAhCyACKQMoIQogAikDICEJIAIpAxghCCACKQMQIQcgAikDCCEGIAIpAwAhBQwACwsLug0IAX4BfwF+AX8BfgF/AX4SfyAAIAAoAgQgACkDKCIBQiCIpyICIAApAzgiA0IgiKciBGpBB3cgACkDCCIFQiCIp3MiBiAEakEJdyAAKQMYIgdCIIincyIIIAZqQQ13IAJzIgkgB6ciCiABpyILakEHdyADp3MiAiALakEJdyAFp3MiDCACakENdyAKcyINIAxqQRJ3IAtzIg4gACkDACIBQiCIpyIPIAApAxAiA0IgiKciEGpBB3cgACkDICIFQiCIp3MiC2pBB3dzIgogCSAIakESdyAEcyIRIAJqQQd3IAApAzAiB6ciCSABpyISakEHdyADp3MiBCASakEJdyAFp3MiEyAEakENdyAJcyIUcyIJIBFqQQl3IAsgEGpBCXcgB0IgiKdzIhVzIhYgCWpBDXcgAnMiFyAWakESdyARcyIRakEHdyAGIBQgE2pBEncgEnMiEmpBB3cgFSALakENdyAPcyIUcyICIBJqQQl3IAxzIg8gAmpBDXcgBnMiGHMiBiARakEJdyAIIA0gFCAVakESdyAQcyIQIARqQQd3cyIMIBBqQQl3cyIIcyIVIAZqQQ13IApzIhQgDCAKIA5qQQl3IBNzIhMgCmpBDXcgC3MiGSATakESdyAOcyIKakEHdyAXcyILIApqQQl3IA9zIg4gC2pBDXcgDHMiFyAOakESdyAKcyINIAIgCCAMakENdyAEcyIMIAhqQRJ3IBBzIghqQQd3IBlzIgpqQQd3cyIEIBQgFWpBEncgEXMiECALakEHdyAJIBggD2pBEncgEnMiEWpBB3cgDHMiDCARakEJdyATcyISIAxqQQ13IAlzIg9zIgkgEGpBCXcgCiAIakEJdyAWcyITcyIWIAlqQQ13IAtzIhQgFmpBEncgEHMiEGpBB3cgBiAPIBJqQRJ3IBFzIhFqQQd3IBMgCmpBDXcgAnMiC3MiAiARakEJdyAOcyIOIAJqQQ13IAZzIhhzIgYgEGpBCXcgFSAXIAsgE2pBEncgCHMiCCAMakEHd3MiCyAIakEJd3MiE3MiFSAGakENdyAEcyIXIAsgBCANakEJdyAScyISIARqQQ13IApzIhkgEmpBEncgDXMiBGpBB3cgFHMiCiAEakEJdyAOcyIPIApqQQ13IAtzIhQgD2pBEncgBHMiDSACIBMgC2pBDXcgDHMiDCATakESdyAIcyIIakEHdyAZcyILakEHd3MiBCAXIBVqQRJ3IBBzIhAgCmpBB3cgCSAYIA5qQRJ3IBFzIg5qQQd3IAxzIgwgDmpBCXcgEnMiESAMakENdyAJcyIXcyIJIBBqQQl3IAsgCGpBCXcgFnMiEnMiEyAJakENdyAKcyIYIBNqQRJ3IBBzIhBqQQd3IAYgFyARakESdyAOcyIKakEHdyASIAtqQQ13IAJzIhdzIgIgCmpBCXcgD3MiDiACakENdyAGcyIWcyIGIAkgFiAOakESdyAKcyIWakEHdyAVIBQgFyASakESdyAIcyIIIAxqQQd3cyIKIAhqQQl3cyISIApqQQ13IAxzIg9zIgwgFmpBCXcgBCANakEJdyARcyIRcyIVIAxqQQ13IAlzIhQgFWpBEncgFnMiCWpBB3cgAiAPIBJqQRJ3IAhzIghqQQd3IBEgBGpBDXcgC3MiD3MiCyAIakEJdyATcyITIAtqQQ13IAJzIhdzIhZqNgIEIAAgACgCCCAWIAlqQQl3IAogDyARakESdyANcyIRakEHdyAYcyICIBFqQQl3IA5zIg5zIg9qNgIIIAAgACgCDCAPIBZqQQ13IAZzIg1qNgIMIAAgACgCECAGIBBqQQl3IBJzIhIgDiACakENdyAKcyIYIBcgE2pBEncgCHMiCiAMakEHd3MiCCAKakEJd3MiFiAIakENdyAMcyIMajYCECAAIAAoAgAgDSAPakESdyAJc2o2AgAgACAAKAIUIAwgFmpBEncgCnNqNgIUIAAgACgCGCAIajYCGCAAIAAoAhwgFmo2AhwgACAAKAIgIBIgBmpBDXcgBHMiCSAYIA5qQRJ3IBFzIgYgC2pBB3dzIgogBmpBCXcgFXMiBGo2AiAgACAAKAIkIAQgCmpBDXcgC3MiC2o2AiQgACAAKAIoIAsgBGpBEncgBnNqNgIoIAAgACgCLCAKajYCLCAAIAAoAjAgCSASakESdyAQcyIGIAJqQQd3IBRzIgtqNgIwIAAgACgCNCALIAZqQQl3IBNzIgpqNgI0IAAgACgCOCAKIAtqQQ13IAJzIgJqNgI4IAAgACgCPCACIApqQRJ3IAZzajYCPAtyAwF/AX4CfwJAIAJFDQBBACgCiAgiAyAAIAGtIgQgAyAAQQd0IgUgAmxqIgMgAyAFIAFsaiIGEAIgAkEBRg0AIAJBf2ohASAFIQIDQEEAKAKICCACaiAAIAQgAyAGEAIgAiAFaiECIAFBf2oiAQ0ACwsL",nle="d96fb75f",ile={name:tle,data:rle,hash:nle};function ole(t){return oi(this,void 0,void 0,function*(){const{costFactor:e,blockSize:r,parallelism:n,hashLength:o}=t,i=HK(),s=yield k8({password:t.password,salt:t.salt,iterations:1,hashLength:128*r*n,hashFunction:i,outputType:"binary"}),a=yield Sr(ile,0),c=128*r*e,d=256*r;a.setMemorySize(s.length+c+d),a.writeMemory(s,0),a.getExports().scrypt(r,e,n);const f=a.getMemory().subarray(0,128*r*n),l=yield k8({password:t.password,salt:f,iterations:1,hashLength:o,hashFunction:i,outputType:"binary"});if(t.outputType==="hex"){const u=new Uint8Array(o*2);return r0(u,l,o)}return l})}const sle=t=>t&&!(t&t-1),ale=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(t.blockSize)||t.blockSize<1)throw new Error("Block size should be a positive number");if(!Number.isInteger(t.costFactor)||t.costFactor<2||!sle(t.costFactor))throw new Error("Cost factor should be a power of 2, greater than 1");if(!Number.isInteger(t.parallelism)||t.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(t.hashLength)||t.hashLength<1)throw new Error("Hash length should be a positive number.");if(t.outputType===void 0&&(t.outputType="hex"),!["hex","binary"].includes(t.outputType))throw new Error(`Insupported output type ${t.outputType}. Valid values: ['hex', 'binary']`)};function cle(t){return oi(this,void 0,void 0,function*(){return ale(t),ole(t)})}var fle="bcrypt",dle="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",lle="9f4c7b9e",YK={name:fle,data:dle,hash:lle};function ule(t){return oi(this,void 0,void 0,function*(){const{costFactor:e,password:r,salt:n}=t,o=yield Sr(YK,0);o.writeMemory(bn(n),0);const i=bn(r);o.writeMemory(i,16);const s=t.outputType==="encoded"?1:0;o.getExports().bcrypt(i.length,e,s);const a=o.getMemory();if(t.outputType==="encoded")return Pce(a,60);if(t.outputType==="hex"){const c=new Uint8Array(48);return r0(c,a,24)}return a.slice(0,24)})}const hle=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(t.costFactor)||t.costFactor<4||t.costFactor>31)throw new Error("Cost factor should be a number between 4 and 31");if(t.password=bn(t.password),t.password.length<1)throw new Error("Password should be at least 1 byte long");if(t.password.length>72)throw new Error("Password should be at most 72 bytes long");if(t.salt=bn(t.salt),t.salt.length!==16)throw new Error("Salt should be 16 bytes long");if(t.outputType===void 0&&(t.outputType="encoded"),!["hex","binary","encoded"].includes(t.outputType))throw new Error(`Insupported output type ${t.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function Ale(t){return oi(this,void 0,void 0,function*(){return hle(t),ule(t)})}const gle=t=>!(!/^\$2[axyb]\$[0-3][0-9]\$[./A-Za-z0-9]{53}$/.test(t)||t[4]==="0"&&parseInt(t[5],10)<4||t[4]==="3"&&parseInt(t[5],10)>1),ple=t=>{if(!t||typeof t!="object")throw new Error("Invalid options parameter. It requires an object.");if(t.hash===void 0||typeof t.hash!="string")throw new Error("Hash should be specified");if(t.hash.length!==60)throw new Error("Hash should be 60 bytes long");if(!gle(t.hash))throw new Error("Invalid hash");if(t.password=bn(t.password),t.password.length<1)throw new Error("Password should be at least 1 byte long");if(t.password.length>72)throw new Error("Password should be at most 72 bytes long")};function yle(t){return oi(this,void 0,void 0,function*(){ple(t);const{hash:e,password:r}=t,n=yield Sr(YK,0);n.writeMemory(bn(e),0);const o=bn(r);return n.writeMemory(o,60),!!n.getExports().bcrypt_verify(o.length)})}var Ile="whirlpool",mle="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",wle="358808f8",JK={name:Ile,data:mle,hash:wle};const ble=new on;let Zw=null;function Ele(t){if(Zw===null)return un(ble,JK,64).then(e=>(Zw=e,Zw.calculate(t)));try{const e=Zw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function vle(){return Sr(JK,64).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:64};return e})}var Ble="sm3",Cle="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",Qle="6e6f46ad",VK={name:Ble,data:Cle,hash:Qle};const xle=new on;let Xw=null;function Sle(t){if(Xw===null)return un(xle,VK,32).then(e=>(Xw=e,Xw.calculate(t)));try{const e=Xw.calculate(t);return Promise.resolve(e)}catch(e){return Promise.reject(e)}}function _le(){return Sr(VK,32).then(t=>{t.init();const e={init:()=>(t.init(),e),update:r=>(t.update(r),e),digest:r=>t.digest(r),save:()=>t.save(),load:r=>(t.load(r),e),blockSize:64,digestSize:32};return e})}const Dle=Object.freeze(Object.defineProperty({__proto__:null,adler32:$ce,argon2Verify:ffe,argon2d:sfe,argon2i:ife,argon2id:ofe,bcrypt:Ale,bcryptVerify:yle,blake2b:Wce,blake2s:Afe,blake3:wfe,crc32:Qfe,crc32c:_fe,createAdler32:jce,createBLAKE2b:Xb,createBLAKE2s:gfe,createBLAKE3:bfe,createCRC32:xfe,createCRC32C:Dfe,createHMAC:zK,createKeccak:nde,createMD4:Rfe,createMD5:Lfe,createRIPEMD160:Vde,createSHA1:Yfe,createSHA224:fde,createSHA256:HK,createSHA3:ede,createSHA384:yde,createSHA512:wde,createSM3:_le,createWhirlpool:vle,createXXHash128:qde,createXXHash3:Pde,createXXHash32:Qde,createXXHash64:Tde,keccak:rde,md4:Ufe,md5:Hfe,pbkdf2:k8,ripemd160:Jde,scrypt:cle,sha1:zfe,sha224:cde,sha256:lde,sha3:Xfe,sha384:pde,sha512:mde,sm3:Sle,whirlpool:Ele,xxhash128:Gde,xxhash3:Nde,xxhash32:Cde,xxhash64:kde},Symbol.toStringTag,{value:"Module"})),kle=Cv(Dle),WT=Uce,Tle=kle,X2=qe.Buffer;var Fle=class{static randomHexString(){const e=Math.floor(Math.random()*Math.floor(500)),r=[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join("");return X2.from(r).toString("hex")}static async submitIonRequestUntilSuccess(e,r,n){let o;for(;o===void 0;)o=await this.submitIonRequest(e,r,n)}static async submitIonRequest(e,r,n){console.log(`Getting challenge from: ${e}`);const o=await WT(e,{mode:"cors"});if(!o.ok)throw new Error("Get challenge service not available");const i=await o.json();console.log(i);const s=i.challengeNonce,a=i.largestAllowedHash,c=i.validDurationInMinutes*60*1e3;let d="",f="";console.log(`Solving for body:
${n}`);const l=Date.now();do f=this.randomHexString(),d=await Tle.argon2id({password:X2.from(f,"hex").toString()+n,salt:X2.from(s,"hex"),parallelism:1,iterations:1,memorySize:1e3,hashLength:32,outputType:"hex"}),console.log(d),console.log(a);while(d>a&&Date.now()-l<c);if(Date.now()-l>c)return;console.log("3");const u=await WT(r,{method:"POST",mode:"cors",body:n,headers:{"Challenge-Nonce":s,"Answer-Nonce":f,"Content-Type":"application/json"}});if(u.status>=500)console.log(`Unexpected 5xx response: ${await u.text()}`);else if(u.status>=400)console.log(`Bed request: ${await u.text()}`),console.log("Retrying with new challenge and difficulty");else if(u.status>=300)console.log(`Unexpected 3xx response: ${await u.text()}`);else{console.log("Successful registration");const p=await u.text();return console.log(p),p}}};const Mle=Qo(Fle),Sn={DeltaExceedsMaximumSize:"DeltaExceedsMaximumSize",DidDocumentPublicKeyIdDuplicated:"DidDocumentPublicKeyIdDuplicated",DidDocumentPublicKeyMissingOrIncorrectType:"DidDocumentPublicKeyMissingOrIncorrectType",DidDocumentServiceIdDuplicated:"DidDocumentServiceIdDuplicated",DidSuffixIncorrectLength:"DidSuffixIncorrectLength",EncodedStringIncorrectEncoding:"EncodedStringIncorrectEncoding",IdNotUsingBase64UrlCharacterSet:"IdNotUsingBase64UrlCharacterSet",IdTooLong:"IdTooLong",JwkEs256kMissingOrInvalidCrv:"JwkEs256kMissingOrInvalidCrv",JwkEs256kMissingOrInvalidKty:"JwkEs256kMissingOrInvalidKty",JwkEs256kHasIncorrectLengthOfX:"JwkEs256kHasIncorrectLengthOfX",JwkEs256kHasIncorrectLengthOfY:"JwkEs256kHasIncorrectLengthOfY",JwkEs256kHasIncorrectLengthOfD:"JwkEs256kHasIncorrectLengthOfD",MultihashStringNotAMultihash:"MultihashStringNotAMultihash",MultihashUnsupportedHashAlgorithm:"MultihashUnsupportedHashAlgorithm",PublicKeyJwkEs256kHasUnexpectedProperty:"PublicKeyJwkEs256kHasUnexpectedProperty",PublicKeyPurposeDuplicated:"PublicKeyPurposeDuplicated",ServiceEndpointCannotBeAnArray:"ServiceEndpointCannotBeAnArray",ServiceEndpointStringNotValidUri:"ServiceEndpointStringNotValidUri",ServiceTypeTooLong:"ServiceTypeTooLong"};class _n extends Error{constructor(e,r){super(`${e}: ${r}`),this.code=e,Object.setPrototypeOf(this,new.target.prototype)}}function Ule(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var h=0,y=0,v=0,B=A.length;v!==B&&A[v]===0;)v++,h++;for(var S=(B-v)*f+1>>>0,x=new Uint8Array(S);v!==B;){for(var Q=A[v],N=0,$=S-1;(Q!==0||N<y)&&$!==-1;$--,N++)Q+=256*x[$]>>>0,x[$]=Q%a>>>0,Q=Q/a>>>0;if(Q!==0)throw new Error("Non-zero carry");y=N,v++}for(var G=S-y;G!==S&&x[G]===0;)G++;for(var z=c.repeat(h);G<S;++G)z+=t.charAt(x[G]);return z}function u(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var h=0;if(A[h]!==" "){for(var y=0,v=0;A[h]===c;)y++,h++;for(var B=(A.length-h)*d+1>>>0,S=new Uint8Array(B);A[h];){var x=r[A.charCodeAt(h)];if(x===255)return;for(var Q=0,N=B-1;(x!==0||Q<v)&&N!==-1;N--,Q++)x+=a*S[N]>>>0,S[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");v=Q,h++}if(A[h]!==" "){for(var $=B-v;$!==B&&S[$]===0;)$++;for(var G=new Uint8Array(y+(B-$)),z=y;$!==B;)G[z++]=S[$++];return G}}}function p(A){var h=u(A);if(h)return h;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:u,decode:p}}var Rle=Ule,Nle=Rle;const Ple=new Uint8Array(0),Ole=t=>{const e=t.match(/../g);return e?new Uint8Array(e.map(r=>parseInt(r,16))):Ple},Kle=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},V4=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Hle=t=>new TextEncoder().encode(t),Lle=t=>new TextDecoder().decode(t);let Gle=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},qle=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return WK(this,e)}},$le=class{constructor(e){this.decoders=e}or(e){return WK(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const WK=(t,e)=>new $le({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let jle=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Gle(e,r,n),this.decoder=new qle(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const pB=({name:t,prefix:e,encode:r,decode:n})=>new jle(t,e,r,n),sm=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=Nle(r,e);return pB({prefix:t,name:e,encode:n,decode:i=>V4(o(i))})},zle=(t,e,r,n)=>{const o={};for(let f=0;f<e.length;++f)o[e[f]]=f;let i=t.length;for(;t[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,d=0;for(let f=0;f<i;++f){const l=o[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,a+=r,a>=8&&(a-=8,s[d++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Yle=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},Pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>pB({prefix:e,name:t,encode(o){return Yle(o,n,r)},decode(o){return zle(o,n,r,t)}}),Jle=Pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vle=Pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),T8=Pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Wle=Pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Zle=Object.freeze(Object.defineProperty({__proto__:null,base64:Jle,base64pad:Vle,base64url:T8,base64urlpad:Wle},Symbol.toStringTag,{value:"Module"}));let n0=class q1{static encode(e){return T8.baseEncode(e)}static decodeAsBytes(e,r){if(!q1.isBase64UrlString(e))throw new _n(Sn.EncodedStringIncorrectEncoding,`Given ${r} must be base64url string.`);return T8.baseDecode(e)}static decodeAsString(e,r){const n=q1.decodeAsBytes(e,r);return q1.bytesToString(n)}static isBase64UrlString(e){return/^[A-Za-z0-9_-]+$/.test(e)}static stringToBytes(e){return new TextEncoder().encode(e)}static bytesToString(e){return new TextDecoder().decode(e)}};var F8={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,n){n(e)})(ea,function(r){function n(){for(var de=arguments.length,ce=Array(de),he=0;he<de;he++)ce[he]=arguments[he];if(ce.length>1){ce[0]=ce[0].slice(0,-1);for(var pe=ce.length-1,Ie=1;Ie<pe;++Ie)ce[Ie]=ce[Ie].slice(1,-1);return ce[pe]=ce[pe].slice(1),ce.join("")}else return ce[0]}function o(de){return"(?:"+de+")"}function i(de){return de===void 0?"undefined":de===null?"null":Object.prototype.toString.call(de).split(" ").pop().split("]").shift().toLowerCase()}function s(de){return de.toUpperCase()}function a(de){return de!=null?de instanceof Array?de:typeof de.length!="number"||de.split||de.setInterval||de.call?[de]:Array.prototype.slice.call(de):[]}function c(de,ce){var he=de;if(ce)for(var pe in ce)he[pe]=ce[pe];return he}function d(de){var ce="[A-Za-z]",he="[0-9]",pe=n(he,"[A-Fa-f]"),Ie=o(o("%[EFef]"+pe+"%"+pe+pe+"%"+pe+pe)+"|"+o("%[89A-Fa-f]"+pe+"%"+pe+pe)+"|"+o("%"+pe+pe)),Se="[\\:\\/\\?\\#\\[\\]\\@]",Ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ye=n(Se,Ce),nt=de?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",pt=de?"[\\uE000-\\uF8FF]":"[]",wt=n(ce,he,"[\\-\\.\\_\\~]",nt);o(ce+n(ce,he,"[\\+\\-\\.]")+"*"),o(o(Ie+"|"+n(wt,Ce,"[\\:]"))+"*");var Yt=o(o("25[0-5]")+"|"+o("2[0-4]"+he)+"|"+o("1"+he+he)+"|"+o("0?[1-9]"+he)+"|0?0?"+he),fr=o(Yt+"\\."+Yt+"\\."+Yt+"\\."+Yt),Xe=o(pe+"{1,4}"),Wt=o(o(Xe+"\\:"+Xe)+"|"+fr),Ar=o(o(Xe+"\\:")+"{6}"+Wt),Zt=o("\\:\\:"+o(Xe+"\\:")+"{5}"+Wt),Hi=o(o(Xe)+"?\\:\\:"+o(Xe+"\\:")+"{4}"+Wt),Ln=o(o(o(Xe+"\\:")+"{0,1}"+Xe)+"?\\:\\:"+o(Xe+"\\:")+"{3}"+Wt),Gn=o(o(o(Xe+"\\:")+"{0,2}"+Xe)+"?\\:\\:"+o(Xe+"\\:")+"{2}"+Wt),So=o(o(o(Xe+"\\:")+"{0,3}"+Xe)+"?\\:\\:"+Xe+"\\:"+Wt),co=o(o(o(Xe+"\\:")+"{0,4}"+Xe)+"?\\:\\:"+Wt),Bn=o(o(o(Xe+"\\:")+"{0,5}"+Xe)+"?\\:\\:"+Xe),qn=o(o(o(Xe+"\\:")+"{0,6}"+Xe)+"?\\:\\:"),fo=o([Ar,Zt,Hi,Ln,Gn,So,co,Bn,qn].join("|")),hi=o(o(wt+"|"+Ie)+"+");o("[vV]"+pe+"+\\."+n(wt,Ce,"[\\:]")+"+"),o(o(Ie+"|"+n(wt,Ce))+"*");var jo=o(Ie+"|"+n(wt,Ce,"[\\:\\@]"));return o(o(Ie+"|"+n(wt,Ce,"[\\@]"))+"+"),o(o(jo+"|"+n("[\\/\\?]",pt))+"*"),{NOT_SCHEME:new RegExp(n("[^]",ce,he,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",wt,Ce),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",wt,Ce),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",wt,Ce),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",wt,Ce),"g"),NOT_QUERY:new RegExp(n("[^\\%]",wt,Ce,"[\\:\\@\\/\\?]",pt),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",wt,Ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",wt,Ce),"g"),UNRESERVED:new RegExp(wt,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",wt,Ye),"g"),PCT_ENCODED:new RegExp(Ie,"g"),IPV4ADDRESS:new RegExp("^("+fr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+fo+")"+o(o("\\%25|\\%(?!"+pe+"{2})")+"("+hi+")")+"?\\]?$")}}var f=d(!1),l=d(!0),u=function(){function de(ce,he){var pe=[],Ie=!0,Se=!1,Ce=void 0;try{for(var Ye=ce[Symbol.iterator](),nt;!(Ie=(nt=Ye.next()).done)&&(pe.push(nt.value),!(he&&pe.length===he));Ie=!0);}catch(pt){Se=!0,Ce=pt}finally{try{!Ie&&Ye.return&&Ye.return()}finally{if(Se)throw Ce}}return pe}return function(ce,he){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return de(ce,he);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(de){if(Array.isArray(de)){for(var ce=0,he=Array(de.length);ce<de.length;ce++)he[ce]=de[ce];return he}else return Array.from(de)},A=2147483647,h=36,y=1,v=26,B=38,S=700,x=72,Q=128,N="-",$=/^xn--/,G=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=h-y,C=Math.floor,m=String.fromCharCode;function g(de){throw new RangeError(Y[de])}function w(de,ce){for(var he=[],pe=de.length;pe--;)he[pe]=ce(de[pe]);return he}function F(de,ce){var he=de.split("@"),pe="";he.length>1&&(pe=he[0]+"@",de=he[1]),de=de.replace(z,".");var Ie=de.split("."),Se=w(Ie,ce).join(".");return pe+Se}function H(de){for(var ce=[],he=0,pe=de.length;he<pe;){var Ie=de.charCodeAt(he++);if(Ie>=55296&&Ie<=56319&&he<pe){var Se=de.charCodeAt(he++);(Se&64512)==56320?ce.push(((Ie&1023)<<10)+(Se&1023)+65536):(ce.push(Ie),he--)}else ce.push(Ie)}return ce}var K=function(ce){return String.fromCodePoint.apply(String,p(ce))},D=function(ce){return ce-48<10?ce-22:ce-65<26?ce-65:ce-97<26?ce-97:h},I=function(ce,he){return ce+22+75*(ce<26)-((he!=0)<<5)},P=function(ce,he,pe){var Ie=0;for(ce=pe?C(ce/S):ce>>1,ce+=C(ce/he);ce>R*v>>1;Ie+=h)ce=C(ce/R);return C(Ie+(R+1)*ce/(ce+B))},T=function(ce){var he=[],pe=ce.length,Ie=0,Se=Q,Ce=x,Ye=ce.lastIndexOf(N);Ye<0&&(Ye=0);for(var nt=0;nt<Ye;++nt)ce.charCodeAt(nt)>=128&&g("not-basic"),he.push(ce.charCodeAt(nt));for(var pt=Ye>0?Ye+1:0;pt<pe;){for(var wt=Ie,Yt=1,fr=h;;fr+=h){pt>=pe&&g("invalid-input");var Xe=D(ce.charCodeAt(pt++));(Xe>=h||Xe>C((A-Ie)/Yt))&&g("overflow"),Ie+=Xe*Yt;var Wt=fr<=Ce?y:fr>=Ce+v?v:fr-Ce;if(Xe<Wt)break;var Ar=h-Wt;Yt>C(A/Ar)&&g("overflow"),Yt*=Ar}var Zt=he.length+1;Ce=P(Ie-wt,Zt,wt==0),C(Ie/Zt)>A-Se&&g("overflow"),Se+=C(Ie/Zt),Ie%=Zt,he.splice(Ie++,0,Se)}return String.fromCodePoint.apply(String,he)},V=function(ce){var he=[];ce=H(ce);var pe=ce.length,Ie=Q,Se=0,Ce=x,Ye=!0,nt=!1,pt=void 0;try{for(var wt=ce[Symbol.iterator](),Yt;!(Ye=(Yt=wt.next()).done);Ye=!0){var fr=Yt.value;fr<128&&he.push(m(fr))}}catch(wp){nt=!0,pt=wp}finally{try{!Ye&&wt.return&&wt.return()}finally{if(nt)throw pt}}var Xe=he.length,Wt=Xe;for(Xe&&he.push(N);Wt<pe;){var Ar=A,Zt=!0,Hi=!1,Ln=void 0;try{for(var Gn=ce[Symbol.iterator](),So;!(Zt=(So=Gn.next()).done);Zt=!0){var co=So.value;co>=Ie&&co<Ar&&(Ar=co)}}catch(wp){Hi=!0,Ln=wp}finally{try{!Zt&&Gn.return&&Gn.return()}finally{if(Hi)throw Ln}}var Bn=Wt+1;Ar-Ie>C((A-Se)/Bn)&&g("overflow"),Se+=(Ar-Ie)*Bn,Ie=Ar;var qn=!0,fo=!1,hi=void 0;try{for(var jo=ce[Symbol.iterator](),BA;!(qn=(BA=jo.next()).done);qn=!0){var CA=BA.value;if(CA<Ie&&++Se>A&&g("overflow"),CA==Ie){for(var Ym=Se,Jm=h;;Jm+=h){var Vm=Jm<=Ce?y:Jm>=Ce+v?v:Jm-Ce;if(Ym<Vm)break;var RD=Ym-Vm,ND=h-Vm;he.push(m(I(Vm+RD%ND,0))),Ym=C(RD/ND)}he.push(m(I(Ym,0))),Ce=P(Se,Bn,Wt==Xe),Se=0,++Wt}}}catch(wp){fo=!0,hi=wp}finally{try{!qn&&jo.return&&jo.return()}finally{if(fo)throw hi}}++Se,++Ie}return he.join("")},ee=function(ce){return F(ce,function(he){return $.test(he)?T(he.slice(4).toLowerCase()):he})},se=function(ce){return F(ce,function(he){return G.test(he)?"xn--"+V(he):he})},Z={version:"2.1.0",ucs2:{decode:H,encode:K},decode:T,encode:V,toASCII:se,toUnicode:ee},ne={};function X(de){var ce=de.charCodeAt(0),he=void 0;return ce<16?he="%0"+ce.toString(16).toUpperCase():ce<128?he="%"+ce.toString(16).toUpperCase():ce<2048?he="%"+(ce>>6|192).toString(16).toUpperCase()+"%"+(ce&63|128).toString(16).toUpperCase():he="%"+(ce>>12|224).toString(16).toUpperCase()+"%"+(ce>>6&63|128).toString(16).toUpperCase()+"%"+(ce&63|128).toString(16).toUpperCase(),he}function re(de){for(var ce="",he=0,pe=de.length;he<pe;){var Ie=parseInt(de.substr(he+1,2),16);if(Ie<128)ce+=String.fromCharCode(Ie),he+=3;else if(Ie>=194&&Ie<224){if(pe-he>=6){var Se=parseInt(de.substr(he+4,2),16);ce+=String.fromCharCode((Ie&31)<<6|Se&63)}else ce+=de.substr(he,6);he+=6}else if(Ie>=224){if(pe-he>=9){var Ce=parseInt(de.substr(he+4,2),16),Ye=parseInt(de.substr(he+7,2),16);ce+=String.fromCharCode((Ie&15)<<12|(Ce&63)<<6|Ye&63)}else ce+=de.substr(he,9);he+=9}else ce+=de.substr(he,3),he+=3}return ce}function W(de,ce){function he(pe){var Ie=re(pe);return Ie.match(ce.UNRESERVED)?Ie:pe}return de.scheme&&(de.scheme=String(de.scheme).replace(ce.PCT_ENCODED,he).toLowerCase().replace(ce.NOT_SCHEME,"")),de.userinfo!==void 0&&(de.userinfo=String(de.userinfo).replace(ce.PCT_ENCODED,he).replace(ce.NOT_USERINFO,X).replace(ce.PCT_ENCODED,s)),de.host!==void 0&&(de.host=String(de.host).replace(ce.PCT_ENCODED,he).toLowerCase().replace(ce.NOT_HOST,X).replace(ce.PCT_ENCODED,s)),de.path!==void 0&&(de.path=String(de.path).replace(ce.PCT_ENCODED,he).replace(de.scheme?ce.NOT_PATH:ce.NOT_PATH_NOSCHEME,X).replace(ce.PCT_ENCODED,s)),de.query!==void 0&&(de.query=String(de.query).replace(ce.PCT_ENCODED,he).replace(ce.NOT_QUERY,X).replace(ce.PCT_ENCODED,s)),de.fragment!==void 0&&(de.fragment=String(de.fragment).replace(ce.PCT_ENCODED,he).replace(ce.NOT_FRAGMENT,X).replace(ce.PCT_ENCODED,s)),de}function j(de){return de.replace(/^0*(.*)/,"$1")||"0"}function M(de,ce){var he=de.match(ce.IPV4ADDRESS)||[],pe=u(he,2),Ie=pe[1];return Ie?Ie.split(".").map(j).join("."):de}function E(de,ce){var he=de.match(ce.IPV6ADDRESS)||[],pe=u(he,3),Ie=pe[1],Se=pe[2];if(Ie){for(var Ce=Ie.toLowerCase().split("::").reverse(),Ye=u(Ce,2),nt=Ye[0],pt=Ye[1],wt=pt?pt.split(":").map(j):[],Yt=nt.split(":").map(j),fr=ce.IPV4ADDRESS.test(Yt[Yt.length-1]),Xe=fr?7:8,Wt=Yt.length-Xe,Ar=Array(Xe),Zt=0;Zt<Xe;++Zt)Ar[Zt]=wt[Zt]||Yt[Wt+Zt]||"";fr&&(Ar[Xe-1]=M(Ar[Xe-1],ce));var Hi=Ar.reduce(function(Bn,qn,fo){if(!qn||qn==="0"){var hi=Bn[Bn.length-1];hi&&hi.index+hi.length===fo?hi.length++:Bn.push({index:fo,length:1})}return Bn},[]),Ln=Hi.sort(function(Bn,qn){return qn.length-Bn.length})[0],Gn=void 0;if(Ln&&Ln.length>1){var So=Ar.slice(0,Ln.index),co=Ar.slice(Ln.index+Ln.length);Gn=So.join(":")+"::"+co.join(":")}else Gn=Ar.join(":");return Se&&(Gn+="%"+Se),Gn}else return de}var b=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,k="".match(/(){0}/)[1]===void 0;function U(de){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he={},pe=ce.iri!==!1?l:f;ce.reference==="suffix"&&(de=(ce.scheme?ce.scheme+":":"")+"//"+de);var Ie=de.match(b);if(Ie){k?(he.scheme=Ie[1],he.userinfo=Ie[3],he.host=Ie[4],he.port=parseInt(Ie[5],10),he.path=Ie[6]||"",he.query=Ie[7],he.fragment=Ie[8],isNaN(he.port)&&(he.port=Ie[5])):(he.scheme=Ie[1]||void 0,he.userinfo=de.indexOf("@")!==-1?Ie[3]:void 0,he.host=de.indexOf("//")!==-1?Ie[4]:void 0,he.port=parseInt(Ie[5],10),he.path=Ie[6]||"",he.query=de.indexOf("?")!==-1?Ie[7]:void 0,he.fragment=de.indexOf("#")!==-1?Ie[8]:void 0,isNaN(he.port)&&(he.port=de.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ie[4]:void 0)),he.host&&(he.host=E(M(he.host,pe),pe)),he.scheme===void 0&&he.userinfo===void 0&&he.host===void 0&&he.port===void 0&&!he.path&&he.query===void 0?he.reference="same-document":he.scheme===void 0?he.reference="relative":he.fragment===void 0?he.reference="absolute":he.reference="uri",ce.reference&&ce.reference!=="suffix"&&ce.reference!==he.reference&&(he.error=he.error||"URI is not a "+ce.reference+" reference.");var Se=ne[(ce.scheme||he.scheme||"").toLowerCase()];if(!ce.unicodeSupport&&(!Se||!Se.unicodeSupport)){if(he.host&&(ce.domainHost||Se&&Se.domainHost))try{he.host=Z.toASCII(he.host.replace(pe.PCT_ENCODED,re).toLowerCase())}catch(Ce){he.error=he.error||"Host's domain name can not be converted to ASCII via punycode: "+Ce}W(he,f)}else W(he,pe);Se&&Se.parse&&Se.parse(he,ce)}else he.error=he.error||"URI can not be parsed.";return he}function _(de,ce){var he=ce.iri!==!1?l:f,pe=[];return de.userinfo!==void 0&&(pe.push(de.userinfo),pe.push("@")),de.host!==void 0&&pe.push(E(M(String(de.host),he),he).replace(he.IPV6ADDRESS,function(Ie,Se,Ce){return"["+Se+(Ce?"%25"+Ce:"")+"]"})),(typeof de.port=="number"||typeof de.port=="string")&&(pe.push(":"),pe.push(String(de.port))),pe.length?pe.join(""):void 0}var L=/^\.\.?\//,J=/^\/\.(\/|$)/,te=/^\/\.\.(\/|$)/,oe=/^\/?(?:.|\n)*?(?=\/|$)/;function fe(de){for(var ce=[];de.length;)if(de.match(L))de=de.replace(L,"");else if(de.match(J))de=de.replace(J,"/");else if(de.match(te))de=de.replace(te,"/"),ce.pop();else if(de==="."||de==="..")de="";else{var he=de.match(oe);if(he){var pe=he[0];de=de.slice(pe.length),ce.push(pe)}else throw new Error("Unexpected dot segment condition")}return ce.join("")}function ue(de){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=ce.iri?l:f,pe=[],Ie=ne[(ce.scheme||de.scheme||"").toLowerCase()];if(Ie&&Ie.serialize&&Ie.serialize(de,ce),de.host&&!he.IPV6ADDRESS.test(de.host)){if(ce.domainHost||Ie&&Ie.domainHost)try{de.host=ce.iri?Z.toUnicode(de.host):Z.toASCII(de.host.replace(he.PCT_ENCODED,re).toLowerCase())}catch(Ye){de.error=de.error||"Host's domain name can not be converted to "+(ce.iri?"Unicode":"ASCII")+" via punycode: "+Ye}}W(de,he),ce.reference!=="suffix"&&de.scheme&&(pe.push(de.scheme),pe.push(":"));var Se=_(de,ce);if(Se!==void 0&&(ce.reference!=="suffix"&&pe.push("//"),pe.push(Se),de.path&&de.path.charAt(0)!=="/"&&pe.push("/")),de.path!==void 0){var Ce=de.path;!ce.absolutePath&&(!Ie||!Ie.absolutePath)&&(Ce=fe(Ce)),Se===void 0&&(Ce=Ce.replace(/^\/\//,"/%2F")),pe.push(Ce)}return de.query!==void 0&&(pe.push("?"),pe.push(de.query)),de.fragment!==void 0&&(pe.push("#"),pe.push(de.fragment)),pe.join("")}function Ae(de,ce){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pe=arguments[3],Ie={};return pe||(de=U(ue(de,he),he),ce=U(ue(ce,he),he)),he=he||{},!he.tolerant&&ce.scheme?(Ie.scheme=ce.scheme,Ie.userinfo=ce.userinfo,Ie.host=ce.host,Ie.port=ce.port,Ie.path=fe(ce.path||""),Ie.query=ce.query):(ce.userinfo!==void 0||ce.host!==void 0||ce.port!==void 0?(Ie.userinfo=ce.userinfo,Ie.host=ce.host,Ie.port=ce.port,Ie.path=fe(ce.path||""),Ie.query=ce.query):(ce.path?(ce.path.charAt(0)==="/"?Ie.path=fe(ce.path):((de.userinfo!==void 0||de.host!==void 0||de.port!==void 0)&&!de.path?Ie.path="/"+ce.path:de.path?Ie.path=de.path.slice(0,de.path.lastIndexOf("/")+1)+ce.path:Ie.path=ce.path,Ie.path=fe(Ie.path)),Ie.query=ce.query):(Ie.path=de.path,ce.query!==void 0?Ie.query=ce.query:Ie.query=de.query),Ie.userinfo=de.userinfo,Ie.host=de.host,Ie.port=de.port),Ie.scheme=de.scheme),Ie.fragment=ce.fragment,Ie}function ie(de,ce,he){var pe=c({scheme:"null"},he);return ue(Ae(U(de,pe),U(ce,pe),pe,!0),pe)}function ae(de,ce){return typeof de=="string"?de=ue(U(de,ce),ce):i(de)==="object"&&(de=U(ue(de,ce),ce)),de}function le(de,ce,he){return typeof de=="string"?de=ue(U(de,he),he):i(de)==="object"&&(de=ue(de,he)),typeof ce=="string"?ce=ue(U(ce,he),he):i(ce)==="object"&&(ce=ue(ce,he)),de===ce}function ge(de,ce){return de&&de.toString().replace(!ce||!ce.iri?f.ESCAPE:l.ESCAPE,X)}function me(de,ce){return de&&de.toString().replace(!ce||!ce.iri?f.PCT_ENCODED:l.PCT_ENCODED,re)}var ve={scheme:"http",domainHost:!0,parse:function(ce,he){return ce.host||(ce.error=ce.error||"HTTP URIs must have a host."),ce},serialize:function(ce,he){var pe=String(ce.scheme).toLowerCase()==="https";return(ce.port===(pe?443:80)||ce.port==="")&&(ce.port=void 0),ce.path||(ce.path="/"),ce}},Ue={scheme:"https",domainHost:ve.domainHost,parse:ve.parse,serialize:ve.serialize};function ut(de){return typeof de.secure=="boolean"?de.secure:String(de.scheme).toLowerCase()==="wss"}var _e={scheme:"ws",domainHost:!0,parse:function(ce,he){var pe=ce;return pe.secure=ut(pe),pe.resourceName=(pe.path||"/")+(pe.query?"?"+pe.query:""),pe.path=void 0,pe.query=void 0,pe},serialize:function(ce,he){if((ce.port===(ut(ce)?443:80)||ce.port==="")&&(ce.port=void 0),typeof ce.secure=="boolean"&&(ce.scheme=ce.secure?"wss":"ws",ce.secure=void 0),ce.resourceName){var pe=ce.resourceName.split("?"),Ie=u(pe,2),Se=Ie[0],Ce=Ie[1];ce.path=Se&&Se!=="/"?Se:void 0,ce.query=Ce,ce.resourceName=void 0}return ce.fragment=void 0,ce}},Qt={scheme:"wss",domainHost:_e.domainHost,parse:_e.parse,serialize:_e.serialize},We={},Fe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Le="[0-9A-Fa-f]",ar=o(o("%[EFef]"+Le+"%"+Le+Le+"%"+Le+Le)+"|"+o("%[89A-Fa-f]"+Le+"%"+Le+Le)+"|"+o("%"+Le+Le)),ht="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",cr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rr=n(cr,'[\\"\\\\]'),et="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",$t=new RegExp(Fe,"g"),nr=new RegExp(ar,"g"),vt=new RegExp(n("[^]",ht,"[\\.]",'[\\"]',rr),"g"),_r=new RegExp(n("[^]",Fe,et),"g"),Lr=_r;function yt(de){var ce=re(de);return ce.match($t)?ce:de}var Dr={scheme:"mailto",parse:function(ce,he){var pe=ce,Ie=pe.to=pe.path?pe.path.split(","):[];if(pe.path=void 0,pe.query){for(var Se=!1,Ce={},Ye=pe.query.split("&"),nt=0,pt=Ye.length;nt<pt;++nt){var wt=Ye[nt].split("=");switch(wt[0]){case"to":for(var Yt=wt[1].split(","),fr=0,Xe=Yt.length;fr<Xe;++fr)Ie.push(Yt[fr]);break;case"subject":pe.subject=me(wt[1],he);break;case"body":pe.body=me(wt[1],he);break;default:Se=!0,Ce[me(wt[0],he)]=me(wt[1],he);break}}Se&&(pe.headers=Ce)}pe.query=void 0;for(var Wt=0,Ar=Ie.length;Wt<Ar;++Wt){var Zt=Ie[Wt].split("@");if(Zt[0]=me(Zt[0]),he.unicodeSupport)Zt[1]=me(Zt[1],he).toLowerCase();else try{Zt[1]=Z.toASCII(me(Zt[1],he).toLowerCase())}catch(Hi){pe.error=pe.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hi}Ie[Wt]=Zt.join("@")}return pe},serialize:function(ce,he){var pe=ce,Ie=a(ce.to);if(Ie){for(var Se=0,Ce=Ie.length;Se<Ce;++Se){var Ye=String(Ie[Se]),nt=Ye.lastIndexOf("@"),pt=Ye.slice(0,nt).replace(nr,yt).replace(nr,s).replace(vt,X),wt=Ye.slice(nt+1);try{wt=he.iri?Z.toUnicode(wt):Z.toASCII(me(wt,he).toLowerCase())}catch(Wt){pe.error=pe.error||"Email address's domain name can not be converted to "+(he.iri?"Unicode":"ASCII")+" via punycode: "+Wt}Ie[Se]=pt+"@"+wt}pe.path=Ie.join(",")}var Yt=ce.headers=ce.headers||{};ce.subject&&(Yt.subject=ce.subject),ce.body&&(Yt.body=ce.body);var fr=[];for(var Xe in Yt)Yt[Xe]!==We[Xe]&&fr.push(Xe.replace(nr,yt).replace(nr,s).replace(_r,X)+"="+Yt[Xe].replace(nr,yt).replace(nr,s).replace(Lr,X));return fr.length&&(pe.query=fr.join("&")),pe}},Gr=/^([^\:]+)\:(.*)/,mt={scheme:"urn",parse:function(ce,he){var pe=ce.path&&ce.path.match(Gr),Ie=ce;if(pe){var Se=he.scheme||Ie.scheme||"urn",Ce=pe[1].toLowerCase(),Ye=pe[2],nt=Se+":"+(he.nid||Ce),pt=ne[nt];Ie.nid=Ce,Ie.nss=Ye,Ie.path=void 0,pt&&(Ie=pt.parse(Ie,he))}else Ie.error=Ie.error||"URN can not be parsed.";return Ie},serialize:function(ce,he){var pe=he.scheme||ce.scheme||"urn",Ie=ce.nid,Se=pe+":"+(he.nid||Ie),Ce=ne[Se];Ce&&(ce=Ce.serialize(ce,he));var Ye=ce,nt=ce.nss;return Ye.path=(Ie||he.nid)+":"+nt,Ye}},qr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,kr={scheme:"urn:uuid",parse:function(ce,he){var pe=ce;return pe.uuid=pe.nss,pe.nss=void 0,!he.tolerant&&(!pe.uuid||!pe.uuid.match(qr))&&(pe.error=pe.error||"UUID is not valid."),pe},serialize:function(ce,he){var pe=ce;return pe.nss=(ce.uuid||"").toLowerCase(),pe}};ne[ve.scheme]=ve,ne[Ue.scheme]=Ue,ne[_e.scheme]=_e,ne[Qt.scheme]=Qt,ne[Dr.scheme]=Dr,ne[mt.scheme]=mt,ne[kr.scheme]=kr,r.SCHEMES=ne,r.pctEncChar=X,r.pctDecChars=re,r.parse=U,r.removeDotSegments=fe,r.serialize=ue,r.resolveComponents=Ae,r.resolve=ie,r.normalize=ae,r.equal=le,r.escapeComponent=ge,r.unescapeComponent=me,Object.defineProperty(r,"__esModule",{value:!0})})})(F8,F8.exports);var Xle=F8.exports,M8;(function(t){t.Public="public",t.Private="private"})(M8||(M8={}));const vc=M8;class Jo{static validateEs256kOperationKey(e,r){const n=new Set(["kty","crv","x","y"]);r===vc.Private&&n.add("d");for(const o in e)if(!n.has(o))throw new _n(Sn.PublicKeyJwkEs256kHasUnexpectedProperty,`SECP256K1 JWK key has unexpected property '${o}'.`);if(e.crv!=="secp256k1")throw new _n(Sn.JwkEs256kMissingOrInvalidCrv,`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${e.crv}.'`);if(e.kty!=="EC")throw new _n(Sn.JwkEs256kMissingOrInvalidKty,`SECP256K1 JWK 'kty' property must be 'EC' but got '${e.kty}.'`);if(e.x.length!==43)throw new _n(Sn.JwkEs256kHasIncorrectLengthOfX,"SECP256K1 JWK 'x' property must be 43 bytes.");if(e.y.length!==43)throw new _n(Sn.JwkEs256kHasIncorrectLengthOfY,"SECP256K1 JWK 'y' property must be 43 bytes.");if(r===vc.Private&&(e.d===void 0||e.d.length!==43))throw new _n(Sn.JwkEs256kHasIncorrectLengthOfD,"SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(e){if(e.length>50)throw new _n(Sn.IdTooLong,`Key ID length ${e.length} exceed max allowed length of 50.`);if(!n0.isBase64UrlString(e))throw new _n(Sn.IdNotUsingBase64UrlCharacterSet,`Key ID '${e}' is not a Base64URL string.`)}static validatePublicKeyPurposes(e){if(e===void 0)return;const r=new Set;for(const n of e){if(r.has(n))throw new _n(Sn.PublicKeyPurposeDuplicated,`Public key purpose '${n}' already specified.`);r.add(n)}}}class Is{}Is.hashAlgorithmInMultihashCode=18;Is.maxCanonicalizedDeltaSizeInBytes=1e3;var eue=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((o,i,s)=>`${o}${s===0?"":","}${t(i===void 0||typeof i=="symbol"?null:i)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,o)=>{if(e[o]===void 0||typeof e[o]=="symbol")return n;const i=n.length===0?"":",";return`${n}${i}${t(o)}:${t(e[o])}`},"")}}`};const tue=Qo(eue);class tu{static canonicalizeAsBytes(e){const r=tu.removeAllUndefinedProperties(e),n=tue(r);return n0.stringToBytes(n)}static removeAllUndefinedProperties(e){for(const r in e)typeof e[r]=="object"?tu.removeAllUndefinedProperties(e[r]):e[r]===void 0&&delete e[r];return e}}var U8={exports:{}};function rue(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var A=0,h=0,y=0,v=p.length;y!==v&&p[y]===0;)y++,A++;for(var B=(v-y)*d+1>>>0,S=new Uint8Array(B);y!==v;){for(var x=p[y],Q=0,N=B-1;(x!==0||Q<h)&&N!==-1;N--,Q++)x+=256*S[N]>>>0,S[N]=x%s>>>0,x=x/s>>>0;if(x!==0)throw new Error("Non-zero carry");h=Q,y++}for(var $=B-h;$!==B&&S[$]===0;)$++;for(var G=a.repeat(A);$<B;++$)G+=t.charAt(S[$]);return G}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var A=0;if(p[A]!==" "){for(var h=0,y=0;p[A]===a;)h++,A++;for(var v=(p.length-A)*c+1>>>0,B=new Uint8Array(v);p[A];){var S=e[p.charCodeAt(A)];if(S===255)return;for(var x=0,Q=v-1;(S!==0||x<y)&&Q!==-1;Q--,x++)S+=s*B[Q]>>>0,B[Q]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=x,A++}if(p[A]!==" "){for(var N=v-y;N!==v&&B[N]===0;)N++;for(var $=new Uint8Array(h+(v-N)),G=h;N!==v;)$[G++]=B[N++];return $}}}function u(p){var A=l(p);if(A)return A;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:l,decode:u}}var nue=rue;const iue=new TextDecoder,oue=t=>iue.decode(t),sue=new TextEncoder,aue=t=>sue.encode(t);function cue(t,e){const r=new Uint8Array(e);let n=0;for(const o of t)r.set(o,n),n+=o.length;return r}var W4={decodeText:oue,encodeText:aue,concat:cue};const{encodeText:fue}=W4;let due=class{constructor(e,r,n,o){this.name=e,this.code=r,this.codeBuf=fue(this.code),this.alphabet=o,this.codec=n(o)}encode(e){return this.codec.encode(e)}decode(e){for(const r of e)if(this.alphabet&&this.alphabet.indexOf(r)<0)throw new Error(`invalid character '${r}' in '${e}'`);return this.codec.decode(e)}};var lue=due;const uue=(t,e,r)=>{const n={};for(let d=0;d<e.length;++d)n[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const i=new Uint8Array(o*r/8|0);let s=0,a=0,c=0;for(let d=0;d<o;++d){const f=n[t[d]];if(f===void 0)throw new SyntaxError("Invalid character "+t[d]);a=a<<r|f,s+=r,s>=8&&(s-=8,i[c++]=255&a>>s)}if(s>=r||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return i},hue=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},Aue=t=>e=>({encode(r){return hue(r,e,t)},decode(r){return uue(r,e,t)}});var gue={rfc4648:Aue};const Gp=nue,pue=lue,{rfc4648:gi}=gue,{decodeText:yue,encodeText:Iue}=W4,mue=()=>({encode:yue,decode:Iue}),ZK=[["identity","\0",mue,""],["base2","0",gi(1),"01"],["base8","7",gi(3),"01234567"],["base10","9",Gp,"0123456789"],["base16","f",gi(4),"0123456789abcdef"],["base16upper","F",gi(4),"0123456789ABCDEF"],["base32hex","v",gi(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",gi(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",gi(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",gi(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",gi(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",gi(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",gi(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",gi(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",gi(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Gp,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Gp,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Gp,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Gp,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",gi(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",gi(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",gi(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",gi(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],XK=ZK.reduce((t,e)=>(t[e[0]]=new pue(e[0],e[1],e[2],e[3]),t),{}),wue=ZK.reduce((t,e)=>(t[e[1]]=XK[e[0]],t),{});var bue={names:XK,codes:wue};(function(t,e){const r=bue,{encodeText:n,decodeText:o,concat:i}=W4;function s(h,y){if(!y)throw new Error("requires an encoded Uint8Array");const{name:v,codeBuf:B}=l(h);return f(v,y),i([B,y],B.length+y.length)}function a(h,y){const v=l(h),B=n(v.encode(y));return i([v.codeBuf,B],v.codeBuf.length+B.length)}function c(h){h instanceof Uint8Array&&(h=o(h));const y=h[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(y)&&(h=h.toLowerCase()),l(h[0]).decode(h.substring(1))}function d(h){if(h instanceof Uint8Array&&(h=o(h)),Object.prototype.toString.call(h)!=="[object String]")return!1;try{return l(h[0]).name}catch{return!1}}function f(h,y){l(h).decode(o(y))}function l(h){if(Object.prototype.hasOwnProperty.call(r.names,h))return r.names[h];if(Object.prototype.hasOwnProperty.call(r.codes,h))return r.codes[h];throw new Error(`Unsupported encoding: ${h}`)}function u(h){return h instanceof Uint8Array&&(h=o(h)),l(h[0])}e=t.exports=s,e.encode=a,e.decode=c,e.isEncoded=d,e.encoding=l,e.encodingFromData=u;const p=Object.freeze(r.names),A=Object.freeze(r.codes);e.names=p,e.codes=A})(U8,U8.exports);var Eue=U8.exports,vue=eH,ZT=128,Bue=127,Cue=~Bue,Que=Math.pow(2,31);function eH(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Que;)e[r++]=t&255|ZT,t/=128;for(;t&Cue;)e[r++]=t&255|ZT,t>>>=7;return e[r]=t|0,eH.bytes=r-n+1,e}var xue=R8,Sue=128,XT=127;function R8(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw R8.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&XT)<<o:(s&XT)*Math.pow(2,o),o+=7}while(s>=Sue);return R8.bytes=i-n,r}var _ue=Math.pow(2,7),Due=Math.pow(2,14),kue=Math.pow(2,21),Tue=Math.pow(2,28),Fue=Math.pow(2,35),Mue=Math.pow(2,42),Uue=Math.pow(2,49),Rue=Math.pow(2,56),Nue=Math.pow(2,63),Pue=function(t){return t<_ue?1:t<Due?2:t<kue?3:t<Tue?4:t<Fue?5:t<Mue?6:t<Uue?7:t<Rue?8:t<Nue?9:10},Oue={encode:vue,decode:xue,encodingLength:Pue};const Kue=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});var Hue={names:Kue};function Lue(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var h=0,y=0,v=0,B=A.length;v!==B&&A[v]===0;)v++,h++;for(var S=(B-v)*f+1>>>0,x=new Uint8Array(S);v!==B;){for(var Q=A[v],N=0,$=S-1;(Q!==0||N<y)&&$!==-1;$--,N++)Q+=256*x[$]>>>0,x[$]=Q%a>>>0,Q=Q/a>>>0;if(Q!==0)throw new Error("Non-zero carry");y=N,v++}for(var G=S-y;G!==S&&x[G]===0;)G++;for(var z=c.repeat(h);G<S;++G)z+=t.charAt(x[G]);return z}function u(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var h=0;if(A[h]!==" "){for(var y=0,v=0;A[h]===c;)y++,h++;for(var B=(A.length-h)*d+1>>>0,S=new Uint8Array(B);A[h];){var x=r[A.charCodeAt(h)];if(x===255)return;for(var Q=0,N=B-1;(x!==0||Q<v)&&N!==-1;N--,Q++)x+=a*S[N]>>>0,S[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");v=Q,h++}if(A[h]!==" "){for(var $=B-v;$!==B&&S[$]===0;)$++;for(var G=new Uint8Array(y+(B-$)),z=y;$!==B;)G[z++]=S[$++];return G}}}function p(A){var h=u(A);if(h)return h;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:u,decode:p}}var Gue=Lue,que=Gue;const $ue=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},jue=t=>new TextEncoder().encode(t),zue=t=>new TextDecoder().decode(t);let Yue=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Jue=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return tH(this,e)}},Vue=class{constructor(e){this.decoders=e}or(e){return tH(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const tH=(t,e)=>new Vue({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Wue=class{constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Yue(e,r,n),this.decoder=new Jue(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const yB=({name:t,prefix:e,encode:r,decode:n})=>new Wue(t,e,r,n),am=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:o}=que(r,e);return yB({prefix:t,name:e,encode:n,decode:i=>$ue(o(i))})},Zue=(t,e,r,n)=>{const o={};for(let f=0;f<e.length;++f)o[e[f]]=f;let i=t.length;for(;t[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,d=0;for(let f=0;f<i;++f){const l=o[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,a+=r,a>=8&&(a-=8,s[d++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s},Xue=(t,e,r)=>{const n=e[e.length-1]==="=",o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i},Oi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>yB({prefix:e,name:t,encode(o){return Xue(o,n,r)},decode(o){return Zue(o,n,r,t)}}),ehe=yB({prefix:"\0",name:"identity",encode:t=>zue(t),decode:t=>jue(t)}),the=Object.freeze(Object.defineProperty({__proto__:null,identity:ehe},Symbol.toStringTag,{value:"Module"})),rhe=Oi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),nhe=Object.freeze(Object.defineProperty({__proto__:null,base2:rhe},Symbol.toStringTag,{value:"Module"})),ihe=Oi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),ohe=Object.freeze(Object.defineProperty({__proto__:null,base8:ihe},Symbol.toStringTag,{value:"Module"})),she=am({prefix:"9",name:"base10",alphabet:"0123456789"}),ahe=Object.freeze(Object.defineProperty({__proto__:null,base10:she},Symbol.toStringTag,{value:"Module"})),che=Oi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fhe=Oi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),dhe=Object.freeze(Object.defineProperty({__proto__:null,base16:che,base16upper:fhe},Symbol.toStringTag,{value:"Module"})),lhe=Oi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),uhe=Oi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hhe=Oi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ahe=Oi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ghe=Oi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),phe=Oi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),yhe=Oi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ihe=Oi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mhe=Oi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),whe=Object.freeze(Object.defineProperty({__proto__:null,base32:lhe,base32hex:ghe,base32hexpad:yhe,base32hexpadupper:Ihe,base32hexupper:phe,base32pad:hhe,base32padupper:Ahe,base32upper:uhe,base32z:mhe},Symbol.toStringTag,{value:"Module"})),bhe=am({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ehe=am({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vhe=Object.freeze(Object.defineProperty({__proto__:null,base36:bhe,base36upper:Ehe},Symbol.toStringTag,{value:"Module"})),Bhe=am({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Che=am({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Qhe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:Bhe,base58flickr:Che},Symbol.toStringTag,{value:"Module"})),xhe=Oi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),She=Oi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_he=Oi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dhe=Oi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),khe=Object.freeze(Object.defineProperty({__proto__:null,base64:xhe,base64pad:She,base64url:_he,base64urlpad:Dhe},Symbol.toStringTag,{value:"Module"})),rH=Array.from(""),The=rH.reduce((t,e,r)=>(t[r]=e,t),[]),Fhe=rH.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Mhe(t){return t.reduce((e,r)=>(e+=The[r],e),"")}function Uhe(t){const e=[];for(const r of t){const n=Fhe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Rhe=yB({prefix:"",name:"base256emoji",encode:Mhe,decode:Uhe}),Nhe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Rhe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const eF={...the,...nhe,...ohe,...ahe,...dhe,...whe,...vhe,...Qhe,...khe,...Nhe};function Z4(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function nH(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Z4(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function iH(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const tF=iH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),e3=iH("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=nH(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),oH={utf8:tF,"utf-8":tF,hex:eF.base16,latin1:e3,ascii:e3,binary:e3,...eF};function Phe(t,e="utf8"){const r=oH[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const Ohe=Object.freeze(Object.defineProperty({__proto__:null,toString:Phe},Symbol.toStringTag,{value:"Module"})),Khe=Cv(Ohe);function Hhe(t,e="utf8"){const r=oH[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Z4(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}const Lhe=Object.freeze(Object.defineProperty({__proto__:null,fromString:Hhe},Symbol.toStringTag,{value:"Module"})),Ghe=Cv(Lhe);function qhe(t,e){e||(e=t.reduce((o,i)=>o+i.length,0));const r=nH(e);let n=0;for(const o of t)r.set(o,n),n+=o.length;return Z4(r)}const $he=Object.freeze(Object.defineProperty({__proto__:null,concat:qhe},Symbol.toStringTag,{value:"Module"})),jhe=Cv($he),sH=Eue,ag=Oue,{names:II}=Hue,{toString:IB}=Khe,{fromString:zhe}=Ghe,{concat:Yhe}=jhe,Y0={};for(const t in II){const e=t;Y0[II[e]]=e}Object.freeze(Y0);function Jhe(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return IB(t,"base16")}function Vhe(t){return zhe(t,"base16")}function Whe(t){if(!(t instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return IB(sH.encode("base58btc",t)).slice(1)}function Zhe(t){const e=t instanceof Uint8Array?IB(t):t;return sH.decode("z"+e)}function aH(t){if(!(t instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(t.length<2)throw new Error("multihash too short. must be > 2 bytes.");const e=ag.decode(t);if(!fH(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);t=t.slice(ag.decode.bytes);const r=ag.decode(t);if(r<0)throw new Error(`multihash invalid length: ${r}`);if(t=t.slice(ag.decode.bytes),t.length!==r)throw new Error(`multihash length inconsistent: 0x${IB(t,"base16")}`);return{code:e,name:Y0[e],length:r,digest:t}}function Xhe(t,e,r){if(!t||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");const n=cH(e);if(!(t instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(r==null&&(r=t.length),r&&t.length!==r)throw new Error("digest length should be equal to specified length.");const o=ag.encode(n),i=ag.encode(r);return Yhe([o,i,t],o.length+i.length+t.length)}function cH(t){let e=t;if(typeof t=="string"){if(II[t]===void 0)throw new Error(`Unrecognized hash function named: ${t}`);e=II[t]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Y0[e]===void 0&&!X4(e))throw new Error(`Unrecognized function code: ${e}`);return e}function X4(t){return t>0&&t<16}function fH(t){return!!(X4(t)||Y0[t])}function dH(t){aH(t)}function eAe(t){return dH(t),t.subarray(0,2)}var rF={names:II,codes:Y0,toHexString:Jhe,fromHexString:Vhe,toB58String:Whe,fromB58String:Zhe,decode:aH,encode:Xhe,coerceCode:cH,isAppCode:X4,validate:dH,prefix:eAe,isValidCode:fH},tAe=lH,nF=128,rAe=127,nAe=~rAe,iAe=Math.pow(2,31);function lH(t,e,r){e=e||[],r=r||0;for(var n=r;t>=iAe;)e[r++]=t&255|nF,t/=128;for(;t&nAe;)e[r++]=t&255|nF,t>>>=7;return e[r]=t|0,lH.bytes=r-n+1,e}var oAe=N8,sAe=128,iF=127;function N8(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw N8.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&iF)<<o:(s&iF)*Math.pow(2,o),o+=7}while(s>=sAe);return N8.bytes=i-n,r}var aAe=Math.pow(2,7),cAe=Math.pow(2,14),fAe=Math.pow(2,21),dAe=Math.pow(2,28),lAe=Math.pow(2,35),uAe=Math.pow(2,42),hAe=Math.pow(2,49),AAe=Math.pow(2,56),gAe=Math.pow(2,63),pAe=function(t){return t<aAe?1:t<cAe?2:t<fAe?3:t<dAe?4:t<lAe?5:t<uAe?6:t<hAe?7:t<AAe?8:t<gAe?9:10},yAe={encode:tAe,decode:oAe,encodingLength:pAe},oE=yAe;const P8=(t,e=0)=>[oE.decode(t,e),oE.decode.bytes],sE=(t,e,r=0)=>(oE.encode(t,e,r),e),aE=t=>oE.encodingLength(t),O8=(t,e)=>{const r=e.byteLength,n=aE(t),o=n+aE(r),i=new Uint8Array(o+r);return sE(t,i,0),sE(r,i,n),i.set(e,o),new eS(t,r,e,i)},IAe=t=>{const e=V4(t),[r,n]=P8(e),[o,i]=P8(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new eS(r,o,s,e)},mAe=(t,e)=>{if(t===e)return!0;{const r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Kle(t.bytes,r.bytes)}};let eS=class{constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}};const uH=({name:t,code:e,encode:r})=>new wAe(t,e,r);class wAe{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?O8(this.code,r):r.then(n=>O8(this.code,n))}else throw Error("Unknown type, must be binary type")}}const bAe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),EAe=uH({name:"sha2-256",code:18,encode:bAe("SHA-256")});var qp=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Vn{static hash(e,r){return qp(this,void 0,void 0,function*(){const n=yield this.hashAsNonMultihashBytes(e,r);return rF.encode(n,r)})}static hashAsNonMultihashBytes(e,r){return qp(this,void 0,void 0,function*(){let n;switch(r){case 18:n=yield EAe.encode(e);break;default:throw new _n(Sn.MultihashUnsupportedHashAlgorithm,`Hash algorithm defined in multihash code ${r} is not supported.`)}return n})}static canonicalizeThenHashThenEncode(e,r){return qp(this,void 0,void 0,function*(){const n=tu.canonicalizeAsBytes(e);return yield Vn.hashThenEncode(n,r)})}static canonicalizeThenDoubleHashThenEncode(e,r){return qp(this,void 0,void 0,function*(){const n=tu.canonicalizeAsBytes(e),o=yield Vn.hashAsNonMultihashBytes(n,r);return yield Vn.hashThenEncode(o,r)})}static hashThenEncode(e,r){return qp(this,void 0,void 0,function*(){const n=yield Vn.hash(e,r);return n0.encode(n)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(e,r){let n;const o=n0.decodeAsBytes(e,r);try{n=rF.decode(o)}catch{throw new _n(Sn.MultihashStringNotAMultihash,`Given ${r} string '${e}' is not a multihash after decoding.`)}const i=Is.hashAlgorithmInMultihashCode;if(i!==n.code)throw new _n(Sn.MultihashUnsupportedHashAlgorithm,`Given ${r} uses unsupported multihash algorithm with code ${n.code}, should use ${i} or change IonSdkConfig to desired hashing algorithm.`)}}var K8;(function(t){t.Create="create",t.Update="update",t.Deactivate="deactivate",t.Recover="recover"})(K8||(K8={}));const e1=K8;var H8;(function(t){t.Replace="replace",t.AddPublicKeys="add-public-keys",t.RemovePublicKeys="remove-public-keys",t.AddServices="add-services",t.RemoveServices="remove-services"})(H8||(H8={}));const OA=H8;var t1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Uo{static createCreateRequest(e){return t1(this,void 0,void 0,function*(){const r=e.recoveryKey,n=e.updateKey,o=e.document.publicKeys,i=e.document.services;Jo.validateEs256kOperationKey(r,vc.Public),Jo.validateEs256kOperationKey(n,vc.Public),Uo.validateDidDocumentKeys(o),Uo.validateServices(i);const s=Is.hashAlgorithmInMultihashCode,a=[{action:OA.Replace,document:e.document}],c={updateCommitment:yield Vn.canonicalizeThenDoubleHashThenEncode(n,s),patches:a};Uo.validateDeltaSize(c);const f={deltaHash:yield Vn.canonicalizeThenHashThenEncode(c,s),recoveryCommitment:yield Vn.canonicalizeThenDoubleHashThenEncode(r,s)};return{type:e1.Create,suffixData:f,delta:c}})}static createDeactivateRequest(e){return t1(this,void 0,void 0,function*(){Uo.validateDidSuffix(e.didSuffix),Jo.validateEs256kOperationKey(e.recoveryPublicKey,vc.Public);const r=Is.hashAlgorithmInMultihashCode,n=yield Vn.canonicalizeThenHashThenEncode(e.recoveryPublicKey,r),o={didSuffix:e.didSuffix,recoveryKey:e.recoveryPublicKey},i=yield e.signer.sign({alg:"ES256K"},o);return{type:e1.Deactivate,didSuffix:e.didSuffix,revealValue:n,signedData:i}})}static createRecoverRequest(e){return t1(this,void 0,void 0,function*(){Uo.validateDidSuffix(e.didSuffix),Jo.validateEs256kOperationKey(e.recoveryPublicKey,vc.Public),Jo.validateEs256kOperationKey(e.nextRecoveryPublicKey,vc.Public),Jo.validateEs256kOperationKey(e.nextUpdatePublicKey,vc.Public),Uo.validateDidDocumentKeys(e.document.publicKeys),Uo.validateServices(e.document.services);const r=Is.hashAlgorithmInMultihashCode,n=yield Vn.canonicalizeThenHashThenEncode(e.recoveryPublicKey,r),o=[{action:OA.Replace,document:e.document}],i=yield Vn.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,r),s={patches:o,updateCommitment:i},a=yield Vn.canonicalizeThenHashThenEncode(s,r),d={recoveryCommitment:yield Vn.canonicalizeThenDoubleHashThenEncode(e.nextRecoveryPublicKey,r),recoveryKey:e.recoveryPublicKey,deltaHash:a},f=yield e.signer.sign({alg:"ES256K"},d);return{type:e1.Recover,didSuffix:e.didSuffix,revealValue:n,delta:s,signedData:f}})}static createUpdateRequest(e){return t1(this,void 0,void 0,function*(){if(Uo.validateDidSuffix(e.didSuffix),Jo.validateEs256kOperationKey(e.updatePublicKey,vc.Public),Jo.validateEs256kOperationKey(e.nextUpdatePublicKey,vc.Public),Uo.validateServices(e.servicesToAdd),Uo.validateDidDocumentKeys(e.publicKeysToAdd),e.idsOfServicesToRemove!==void 0)for(const A of e.idsOfServicesToRemove)Jo.validateId(A);if(e.idsOfPublicKeysToRemove!==void 0)for(const A of e.idsOfPublicKeysToRemove)Jo.validateId(A);const r=[],n=e.servicesToAdd;if(n!==void 0&&n.length>0){const A={action:OA.AddServices,services:n};r.push(A)}const o=e.idsOfServicesToRemove;if(o!==void 0&&o.length>0){const A={action:OA.RemoveServices,ids:o};r.push(A)}const i=e.publicKeysToAdd;if(i!==void 0&&i.length>0){const A={action:OA.AddPublicKeys,publicKeys:i};r.push(A)}const s=e.idsOfPublicKeysToRemove;if(s!==void 0&&s.length>0){const A={action:OA.RemovePublicKeys,ids:s};r.push(A)}const a=Is.hashAlgorithmInMultihashCode,c=yield Vn.canonicalizeThenHashThenEncode(e.updatePublicKey,a),d=yield Vn.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,a),f={patches:r,updateCommitment:d},l=yield Vn.canonicalizeThenHashThenEncode(f,a),u={updateKey:e.updatePublicKey,deltaHash:l},p=yield e.signer.sign({alg:"ES256K"},u);return{type:e1.Update,didSuffix:e.didSuffix,revealValue:c,delta:f,signedData:p}})}static validateDidSuffix(e){Vn.validateEncodedHashComputedUsingSupportedHashAlgorithm(e,"didSuffix")}static validateDidDocumentKeys(e){if(e===void 0)return;const r=new Set;for(const n of e){if(Array.isArray(n.publicKeyJwk))throw new _n(Sn.DidDocumentPublicKeyMissingOrIncorrectType,"DID Document key 'publicKeyJwk' property is not a non-array object.");if(Jo.validateId(n.id),r.has(n.id))throw new _n(Sn.DidDocumentPublicKeyIdDuplicated,`DID Document key with ID '${n.id}' already exists.`);r.add(n.id),Jo.validatePublicKeyPurposes(n.purposes)}}static validateServices(e){if(e!==void 0&&e.length!==0){const r=new Set;for(const n of e){if(Uo.validateService(n),r.has(n.id))throw new _n(Sn.DidDocumentServiceIdDuplicated,"Service id has to be unique");r.add(n.id)}}}static validateService(e){Jo.validateId(e.id);const r=30;if(e.type.length>r){const n=`Service endpoint type length ${e.type.length} exceeds max allowed length of ${r}.`;throw new _n(Sn.ServiceTypeTooLong,n)}if(Array.isArray(e.serviceEndpoint)){const n="Service endpoint value cannot be an array.";throw new _n(Sn.ServiceEndpointCannotBeAnArray,n)}if(typeof e.serviceEndpoint=="string"&&Xle.parse(e.serviceEndpoint).error!==void 0)throw new _n(Sn.ServiceEndpointStringNotValidUri,`Service endpoint string '${e.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(e){const r=tu.canonicalizeAsBytes(e);if(r.length>Is.maxCanonicalizedDeltaSizeInBytes){const n=`Delta of ${r.length} bytes exceeded limit of ${Is.maxCanonicalizedDeltaSizeInBytes} bytes.`;throw new _n(Sn.DeltaExceedsMaximumSize,n)}}}var oF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class tS{static createLongFormDid(e){return oF(this,void 0,void 0,function*(){const r=yield Uo.createCreateRequest(e),n=yield tS.computeDidUniqueSuffix(r.suffixData);let o;Is.network===void 0||Is.network==="mainnet"?o=`did:ion:${n}`:o=`did:ion:${Is.network}:${n}`;const i={suffixData:r.suffixData,delta:r.delta},s=tu.canonicalizeAsBytes(i),a=n0.encode(s);return`${o}:${a}`})}static computeDidUniqueSuffix(e){return oF(this,void 0,void 0,function*(){const r=tu.canonicalizeAsBytes(e),n=yield Vn.hash(r,Is.hashAlgorithmInMultihashCode);return n0.encode(n)})}}/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const wi=2n**255n-19n,Qg=2n**252n+27742317777372353535851937790883648493n,L8=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,G8=0x6666666666666666666666666666666666666666666666666666666666666658n,r1={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:wi,n:Qg,h:8,Gx:L8,Gy:G8},go=(t="")=>{throw new Error(t)},hH=t=>typeof t=="string",mB=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?go("Uint8Array expected"):t,i0=t=>new Uint8Array(t),o0=(t,e)=>mB(hH(t)?nS(t):i0(t),e),Ze=(t,e=wi)=>{let r=t%e;return r>=0n?r:e+r},sF=t=>t instanceof ru?t:go("Point expected");let aF,ru=class XA{constructor(e,r,n,o){this.ex=e,this.ey=r,this.ez=n,this.et=o}static fromAffine(e){return new XA(e.x,e.y,1n,Ze(e.x*e.y))}static fromHex(e,r=!0){const{d:n}=r1;e=o0(e,32);const o=e.slice();o[31]=e[31]&-129;const i=iS(o);i===0n||(r&&!(0n<i&&i<wi)&&go("bad y coord 1"),!r&&!(0n<i&&i<2n**256n)&&go("bad y coord 2"));const s=Ze(i*i),a=Ze(s-1n),c=Ze(n*s+1n);let{isValid:d,value:f}=BAe(a,c);d||go("bad y coordinate 3");const l=(f&1n)===1n;return(e[31]&128)!==0!==l&&(f=Ze(-f)),new XA(f,i,1n,Ze(f*i))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:r,ey:n,ez:o}=this,{ex:i,ey:s,ez:a}=sF(e),c=Ze(r*a),d=Ze(i*o),f=Ze(n*a),l=Ze(s*o);return c===d&&f===l}is0(){return this.equals($1)}negate(){return new XA(Ze(-this.ex),this.ey,this.ez,Ze(-this.et))}double(){const{ex:e,ey:r,ez:n}=this,{a:o}=r1,i=Ze(e*e),s=Ze(r*r),a=Ze(2n*Ze(n*n)),c=Ze(o*i),d=e+r,f=Ze(Ze(d*d)-i-s),l=c+s,u=l-a,p=c-s,A=Ze(f*u),h=Ze(l*p),y=Ze(f*p),v=Ze(u*l);return new XA(A,h,v,y)}add(e){const{ex:r,ey:n,ez:o,et:i}=this,{ex:s,ey:a,ez:c,et:d}=sF(e),{a:f,d:l}=r1,u=Ze(r*s),p=Ze(n*a),A=Ze(i*l*d),h=Ze(o*c),y=Ze((r+n)*(s+a)-u-p),v=Ze(h-A),B=Ze(h+A),S=Ze(p-f*u),x=Ze(y*v),Q=Ze(B*S),N=Ze(y*S),$=Ze(v*B);return new XA(x,Q,$,N)}mul(e,r=!0){if(e===0n)return r===!0?go("cannot multiply by 0"):$1;if(typeof e=="bigint"&&0n<e&&e<Qg||go("invalid scalar, must be < L"),!r&&this.is0()||e===1n)return this;if(this.equals(nu))return FAe(e).p;let n=$1,o=nu;for(let i=this;e>0n;i=i.double(),e>>=1n)e&1n?n=n.add(i):r&&(o=o.add(i));return n}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(r1.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(Qg/2n,!1).double();return Qg%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:r,ez:n}=this;if(this.is0())return{x:0n,y:0n};const o=pH(n);return Ze(n*o)!==1n&&go("invalid inverse"),{x:Ze(e*o),y:Ze(r*o)}}toRawBytes(){const{x:e,y:r}=this.toAffine(),n=gH(r);return n[31]|=e&1n?128:0,n}toHex(){return rS(this.toRawBytes())}};ru.BASE=new ru(L8,G8,1n,Ze(L8*G8));ru.ZERO=new ru(0n,1n,1n,0n);const{BASE:nu,ZERO:$1}=ru,AH=(t,e)=>t.toString(16).padStart(e,"0"),rS=t=>Array.from(t).map(e=>AH(e,2)).join(""),nS=t=>{const e=t.length;(!hH(t)||e%2)&&go("hex invalid 1");const r=i0(e/2);for(let n=0;n<r.length;n++){const o=n*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);(Number.isNaN(s)||s<0)&&go("hex invalid 2"),r[n]=s}return r},gH=t=>nS(AH(t,32*2)).reverse(),iS=t=>BigInt("0x"+rS(i0(mB(t)).reverse())),mI=(...t)=>{const e=i0(t.reduce((n,o)=>n+mB(o).length,0));let r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},pH=(t,e=wi)=>{(t===0n||e<=0n)&&go("no inverse n="+t+" mod="+e);let r=Ze(t,e),n=e,o=0n,i=1n;for(;r!==0n;){const s=n/r,a=n%r,c=o-i*s;n=r,r=a,o=i,i=c}return n===1n?Ze(o,e):go("no inverse")},hc=(t,e)=>{let r=t;for(;e-- >0n;)r*=r,r%=wi;return r},vAe=t=>{const r=t*t%wi*t%wi,n=hc(r,2n)*r%wi,o=hc(n,1n)*t%wi,i=hc(o,5n)*o%wi,s=hc(i,10n)*i%wi,a=hc(s,20n)*s%wi,c=hc(a,40n)*a%wi,d=hc(c,80n)*c%wi,f=hc(d,80n)*c%wi,l=hc(f,10n)*i%wi;return{pow_p_5_8:hc(l,2n)*t%wi,b2:r}},cF=19681161376707505956807079304988542015446066515923890162744021073123829784752n,BAe=(t,e)=>{const r=Ze(e*e*e),n=Ze(r*r*e),o=vAe(t*n).pow_p_5_8;let i=Ze(t*r*o);const s=Ze(e*i*i),a=i,c=Ze(i*cF),d=s===t,f=s===Ze(-t),l=s===Ze(-t*cF);return d&&(i=a),(f||l)&&(i=c),(Ze(i)&1n)===1n&&(i=Ze(-i)),{isValid:d||f,value:i}},cE=t=>Ze(iS(t),Qg);let Dy;const oS=(...t)=>xg.sha512Async(...t),yH=(...t)=>typeof Dy=="function"?Dy(...t):go("etc.sha512Sync not set"),IH=t=>{const e=t.slice(0,32);e[0]&=248,e[31]&=127,e[31]|=64;const r=t.slice(32,64),n=cE(e),o=nu.mul(n),i=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:i}},sS=t=>oS(o0(t,32)).then(IH),CAe=t=>IH(yH(o0(t,32))),QAe=t=>sS(t).then(e=>e.pointBytes);function mH(t,e){return t?oS(e.hashable).then(e.finish):e.finish(yH(e.hashable))}const xAe=(t,e,r)=>{const{pointBytes:n,scalar:o}=t,i=cE(e),s=nu.mul(i).toRawBytes();return{hashable:mI(s,n,r),finish:d=>{const f=Ze(i+cE(d)*o,Qg);return mB(mI(s,gH(f)),64)}}},SAe=async(t,e)=>{const r=o0(t),n=await sS(e),o=await oS(n.prefix,r);return mH(!0,xAe(n,o,r))},_Ae=(t,e,r)=>{e=o0(e),t=o0(t,64);const n=ru.fromHex(r,!1),o=ru.fromHex(t.slice(0,32),!1),i=iS(t.slice(32,64)),s=nu.mul(i,!1);return{hashable:mI(o.toRawBytes(),n.toRawBytes(),e),finish:d=>{const f=cE(d);return o.add(n.mul(f,!1)).add(s.negate()).clearCofactor().is0()}}},DAe=async(t,e,r)=>mH(!0,_Ae(t,e,r)),fF=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,xg={bytesToHex:rS,hexToBytes:nS,concatBytes:mI,mod:Ze,invert:pH,randomBytes:t=>{const e=fF();return e||go("crypto.getRandomValues must be defined"),e.getRandomValues(i0(t))},sha512Async:async(...t)=>{const e=fF();e||go("crypto.subtle or etc.sha512Async must be defined");const r=mI(...t);return i0(await e.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(xg,{sha512Sync:{configurable:!1,get(){return Dy},set(t){Dy||(Dy=t)}}});const kAe={getExtendedPublicKeyAsync:sS,getExtendedPublicKey:CAe,randomPrivateKey:()=>xg.randomBytes(32),precompute(t=8,e=nu){return e.multiply(3n),e}},nh=8,TAe=()=>{const t=[],e=256/nh+1;let r=nu,n=r;for(let o=0;o<e;o++){n=r,t.push(n);for(let i=1;i<2**(nh-1);i++)n=n.add(r),t.push(n);r=n.double()}return t},FAe=t=>{const e=aF||(aF=TAe()),r=(f,l)=>{let u=l.negate();return f?u:l};let n=$1,o=nu;const i=1+256/nh,s=2**(nh-1),a=BigInt(2**nh-1),c=2**nh,d=BigInt(nh);for(let f=0;f<i;f++){const l=f*s;let u=Number(t&a);t>>=d,u>s&&(u-=c,t+=1n);const p=l,A=l+Math.abs(u)-1,h=f%2!==0,y=u<0;u===0?o=o.add(r(h,e[p])):n=n.add(r(y,e[A]))}return{p:n,f:o}};/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const aS=2n**256n,Ll=aS-0x1000003d1n,Mn=aS-0x14551231950b75fc4402da1732fc9bebfn,wH=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,bH=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,EH={p:Ll,n:Mn,a:0n,b:7n,Gx:wH,Gy:bH},so=32,dF=t=>Ne(Ne(t*t)*t+EH.b),mr=(t="")=>{throw new Error(t)},wB=t=>typeof t=="bigint",vH=t=>typeof t=="string",t3=t=>wB(t)&&0n<t&&t<Ll,wI=t=>wB(t)&&0n<t&&t<Mn,BH=(t,e)=>!(t instanceof Uint8Array)||typeof e=="number"&&e>0&&t.length!==e?mr("Uint8Array expected"):t,ls=t=>new Uint8Array(t),vd=(t,e)=>BH(vH(t)?cm(t):ls(t),e),Ne=(t,e=Ll)=>{let r=t%e;return r>=0n?r:e+r},lF=t=>t instanceof fa?t:mr("Point expected");let uF,fa=class eg{constructor(e,r,n){this.px=e,this.py=r,this.pz=n}static fromAffine(e){return new eg(e.x,e.y,1n)}static fromHex(e){e=vd(e);let r;const n=e[0],o=e.subarray(1),i=fE(o,0,so),s=e.length;if(s===33&&[2,3].includes(n)){t3(i)||mr("Point hex invalid: x not FE");let a=MAe(dF(i));const c=(a&1n)===1n;(n&1)===1!==c&&(a=Ne(-a)),r=new eg(i,a,1n)}return s===65&&n===4&&(r=new eg(i,fE(o,so,2*so),1n)),r?r.ok():mr("Point is not on curve")}static fromPrivateKey(e){return ud.mul(dE(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){const{px:r,py:n,pz:o}=this,{px:i,py:s,pz:a}=lF(e),c=Ne(r*a),d=Ne(i*o),f=Ne(n*a),l=Ne(s*o);return c===d&&f===l}negate(){return new eg(this.px,Ne(-this.py),this.pz)}double(){return this.add(this)}add(e){const{px:r,py:n,pz:o}=this,{px:i,py:s,pz:a}=lF(e),{a:c,b:d}=EH;let f=0n,l=0n,u=0n;const p=Ne(d*3n);let A=Ne(r*i),h=Ne(n*s),y=Ne(o*a),v=Ne(r+n),B=Ne(i+s);v=Ne(v*B),B=Ne(A+h),v=Ne(v-B),B=Ne(r+o);let S=Ne(i+a);return B=Ne(B*S),S=Ne(A+y),B=Ne(B-S),S=Ne(n+o),f=Ne(s+a),S=Ne(S*f),f=Ne(h+y),S=Ne(S-f),u=Ne(c*B),f=Ne(p*y),u=Ne(f+u),f=Ne(h-u),u=Ne(h+u),l=Ne(f*u),h=Ne(A+A),h=Ne(h+A),y=Ne(c*y),B=Ne(p*B),h=Ne(h+y),y=Ne(A-y),y=Ne(c*y),B=Ne(B+y),A=Ne(h*B),l=Ne(l+A),A=Ne(S*B),f=Ne(v*f),f=Ne(f-A),A=Ne(v*h),u=Ne(S*u),u=Ne(u+A),new eg(f,l,u)}mul(e,r=!0){if(!r&&e===0n)return j1;if(wI(e)||mr("invalid scalar"),this.equals(ud))return HAe(e).p;let n=j1,o=ud;for(let i=this;e>0n;i=i.double(),e>>=1n)e&1n?n=n.add(i):r&&(o=o.add(i));return n}mulAddQUns(e,r,n){return this.mul(r,!1).add(e.mul(n,!1)).ok()}toAffine(){const{px:e,py:r,pz:n}=this;if(this.equals(j1))return{x:0n,y:0n};if(n===1n)return{x:e,y:r};const o=dm(n);return Ne(n*o)!==1n&&mr("invalid inverse"),{x:Ne(e*o),y:Ne(r*o)}}assertValidity(){const{x:e,y:r}=this.aff();return(!t3(e)||!t3(r))&&mr("Point invalid: x or y"),Ne(r*r)===dF(e)?this:mr("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){const{x:r,y:n}=this.aff();return(e?(n&1n)===0n?"02":"03":"04")+ky(r)+(e?"":ky(n))}toRawBytes(e=!0){return cm(this.toHex(e))}};fa.BASE=new fa(wH,bH,1n);fa.ZERO=new fa(0n,1n,0n);const{BASE:ud,ZERO:j1}=fa,CH=(t,e)=>t.toString(16).padStart(e,"0"),cS=t=>Array.from(t).map(e=>CH(e,2)).join(""),cm=t=>{const e=t.length;(!vH(t)||e%2)&&mr("hex invalid 1");const r=ls(e/2);for(let n=0;n<r.length;n++){const o=n*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);(Number.isNaN(s)||s<0)&&mr("hex invalid 2"),r[n]=s}return r},fm=t=>BigInt("0x"+(cS(t)||"0")),fE=(t,e,r)=>fm(t.slice(e,r)),bB=t=>wB(t)&&t>=0n&&t<aS?cm(CH(t,2*so)):mr("bigint expected"),ky=t=>cS(bB(t)),q8=(...t)=>{const e=ls(t.reduce((n,o)=>n+BH(o).length,0));let r=0;return t.forEach(n=>{e.set(n,r),r+=n.length}),e},dm=(t,e=Ll)=>{(t===0n||e<=0n)&&mr("no inverse n="+t+" mod="+e);let r=Ne(t,e),n=e,o=0n,i=1n;for(;r!==0n;){const s=n/r,a=n%r,c=o-i*s;n=r,r=a,o=i,i=c}return n===1n?Ne(o,e):mr("no inverse")},MAe=t=>{let e=1n;for(let r=t,n=(Ll+1n)/4n;n>0n;n>>=1n)n&1n&&(e=e*r%Ll),r=r*r%Ll;return Ne(e*e)===t?e:mr("sqrt invalid")},dE=t=>(wB(t)||(t=fm(vd(t,so))),wI(t)?t:mr("private key out of range")),fS=t=>t>Mn>>1n;function r3(t,e=!0){return fa.fromPrivateKey(t).toRawBytes(e)}let $8=class j8{constructor(e,r,n){this.r=e,this.s=r,this.recovery=n,this.assertValidity()}static fromCompact(e){return e=vd(e,64),new j8(fE(e,0,so),fE(e,so,2*so))}assertValidity(){return wI(this.r)&&wI(this.s)?this:mr()}addRecoveryBit(e){return new j8(this.r,this.s,e)}hasHighS(){return fS(this.s)}recoverPublicKey(e){const{r,s:n,recovery:o}=this;[0,1,2,3].includes(o)||mr("recovery id invalid");const i=dS(vd(e,32)),s=o===2||o===3?r+Mn:r;s>=Ll&&mr("q.x invalid");const a=o&1?"03":"02",c=fa.fromHex(a+ky(s)),d=dm(s,Mn),f=Ne(-i*d,Mn),l=Ne(n*d,Mn);return ud.mulAddQUns(c,f,l)}toCompactRawBytes(){return cm(this.toCompactHex())}toCompactHex(){return ky(this.r)+ky(this.s)}};const QH=t=>{const e=t.length*8-256,r=fm(t);return e>0?r>>BigInt(e):r},dS=t=>Ne(QH(t),Mn),hF=t=>bB(t),AF=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;let Ty;const xH={lowS:!0},UAe={lowS:!0};function RAe(t,e,r=xH){["der","recovered","canonical"].some(l=>l in r)&&mr("sign() legacy options not supported");let{lowS:n}=r;n==null&&(n=!0);const o=dS(vd(t)),i=hF(o),s=dE(e),a=[hF(s),i];let c=r.extraEntropy;if(c){c===!0&&(c=Ra.randomBytes(so));const l=vd(c);l.length!==so&&mr(),a.push(l)}const d=o,f=l=>{const u=QH(l);if(!wI(u))return;const p=dm(u,Mn),A=ud.mul(u).aff(),h=Ne(A.x,Mn);if(h===0n)return;const y=Ne(p*Ne(d+Ne(s*h,Mn),Mn),Mn);if(y===0n)return;let v=y,B=(A.x===h?0:2)|Number(A.y&1n);return n&&fS(y)&&(v=Ne(-y,Mn),B^=1),new $8(h,v,B)};return{seed:q8(...a),k2sig:f}}function NAe(t){let e=ls(so),r=ls(so),n=0;const o=()=>{e.fill(1),r.fill(0),n=0},i="drbg: tried 1000 values";if(t){const s=(...d)=>Ra.hmacSha256Async(r,e,...d),a=async(d=ls())=>{r=await s(ls([0]),d),e=await s(),d.length!==0&&(r=await s(ls([1]),d),e=await s())},c=async()=>(n++>=1e3&&mr(i),e=await s(),e);return async(d,f)=>{o(),await a(d);let l;for(;!(l=f(await c()));)await a();return o(),l}}else{const s=(...d)=>{const f=Ty;return f||mr("etc.hmacSha256Sync not set"),f(r,e,...d)},a=(d=ls())=>{r=s(ls([0]),d),e=s(),d.length!==0&&(r=s(ls([1]),d),e=s())},c=()=>(n++>=1e3&&mr(i),e=s(),e);return(d,f)=>{o(),a(d);let l;for(;!(l=f(c()));)a();return o(),l}}}async function PAe(t,e,r=xH){const{seed:n,k2sig:o}=RAe(t,e,r);return NAe(!0)(n,o)}function OAe(t,e,r,n=UAe){let{lowS:o}=n;o==null&&(o=!0),"strict"in n&&mr("verify() legacy options not supported");let i,s,a;const c=t&&typeof t=="object"&&"r"in t;!c&&vd(t).length!==2*so&&mr("signature must be 64 bytes");try{i=c?new $8(t.r,t.s).assertValidity():$8.fromCompact(t),s=dS(vd(e,so)),a=r instanceof fa?r.ok():fa.fromHex(r)}catch{return!1}if(!i)return!1;const{r:d,s:f}=i;if(o&&fS(f))return!1;let l;try{const p=dm(f,Mn),A=Ne(s*p,Mn),h=Ne(d*p,Mn);l=ud.mulAddQUns(a,A,h).aff()}catch{return!1}return l?Ne(l.x,Mn)===d:!1}function SH(t){t=vd(t);const e=so+8;(t.length<e||t.length>1024)&&mr("expected proper params");const r=Ne(fm(t),Mn-1n)+1n;return bB(r)}const Ra={hexToBytes:cm,bytesToHex:cS,concatBytes:q8,bytesToNumberBE:fm,numberToBytesBE:bB,mod:Ne,invert:dm,hmacSha256Async:async(t,...e)=>{const r=AF();if(!r)return mr("etc.hmacSha256Async not set");const n=r.subtle,o=await n.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return ls(await n.sign("HMAC",o,q8(...e)))},hmacSha256Sync:Ty,hashToPrivateKey:SH,randomBytes:t=>{const e=AF();return e||mr("crypto.getRandomValues must be defined"),e.getRandomValues(ls(t))}},gF={normPrivateKeyToScalar:dE,isValidPrivateKey:t=>{try{return!!dE(t)}catch{return!1}},randomPrivateKey:()=>SH(Ra.randomBytes(so+8)),precompute(t=8,e=ud){return e.multiply(3n),e}};Object.defineProperties(Ra,{hmacSha256Sync:{configurable:!1,get(){return Ty},set(t){Ty||(Ty=t)}}});const ih=8,KAe=()=>{const t=[],e=256/ih+1;let r=ud,n=r;for(let o=0;o<e;o++){n=r,t.push(n);for(let i=1;i<2**(ih-1);i++)n=n.add(r),t.push(n);r=n.double()}return t},HAe=t=>{const e=uF||(uF=KAe()),r=(f,l)=>{let u=l.negate();return f?u:l};let n=j1,o=ud;const i=1+256/ih,s=2**(ih-1),a=BigInt(2**ih-1),c=2**ih,d=BigInt(ih);for(let f=0;f<i;f++){const l=f*s;let u=Number(t&a);t>>=d,u>s&&(u-=c,t+=1n);const p=l,A=l+Math.abs(u)-1,h=f%2!==0,y=u<0;u===0?o=o.add(r(h,e[p])):n=n.add(r(y,e[A]))}return{p:n,f:o}};globalThis&&globalThis.__awaiter;var pF;(function(t){t.Mainnet="mainnet",t.Testnet="test"})(pF||(pF={}));var z8;(function(t){t.Authentication="authentication",t.AssertionMethod="assertionMethod",t.CapabilityInvocation="capabilityInvocation",t.CapabilityDelegation="capabilityDelegation",t.KeyAgreement="keyAgreement"})(z8||(z8={}));const $p=z8;globalThis&&globalThis.__awaiter;var Ns=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Y8;(function(t){t.Create="create",t.Update="update",t.Deactivate="deactivate",t.Recover="recover"})(Y8||(Y8={}));const LAe={assertionMethod:$p.AssertionMethod,authentication:$p.Authentication,capabilityDelegation:$p.CapabilityDelegation,capabilityInvocation:$p.CapabilityInvocation,keyAgreement:$p.KeyAgreement};class Vr{static anchor(e){return Ns(this,void 0,void 0,function*(){const{challengeEnabled:r=!1,challengeEndpoint:n="https://beta.ion.msidentity.com/api/v1.0/proof-of-work-challenge",keySet:o,services:i,operationsEndpoint:s="https://ion.tbd.engineering/operations"}=e,a=yield Vr.createIonDocument({keySet:o,services:i}),c=yield Vr.getIonCreateRequest({ionDocument:a,recoveryPublicKeyJwk:o.recoveryKey.publicKeyJwk,updatePublicKeyJwk:o.updateKey.publicKeyJwk});let d;if(r){const f=yield Mle.submitIonRequest(n,s,JSON.stringify(c));f!==void 0&&cI(f)==="String"&&(d=JSON.parse(f))}else{const f=yield fetch(s,{method:"POST",mode:"cors",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});f.ok&&(d=yield f.json())}return d})}static create(e){return Ns(this,void 0,void 0,function*(){let{anchor:r,keyAlgorithm:n,keySet:o,services:i}=e??{};const s={};s.keySet=yield Vr.generateKeySet({keyAlgorithm:n,keySet:o}),s.did=yield Vr.getLongFormDid({keySet:s.keySet,services:i}),s.canonicalId=yield Vr.getShortFormDid({didUrl:s.did});let a;return r?a=yield Vr.anchor({keySet:s.keySet,services:i}):a=yield Vr.resolve({didUrl:s.did}),s.document=a.didDocument,s})}static decodeLongFormDid(e){return Ns(this,void 0,void 0,function*(){const{didUrl:r}=e,n=$c({didUrl:r});if(!n)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);const o=Pe.base64Url(n.id.split(":").pop()).toObject();return Object.assign(Object.assign({},o),{type:Y8.Create})})}static generateDwnOptions(e){return Ns(this,void 0,void 0,function*(){const{signingKeyAlgorithm:r="Ed25519",serviceId:n="#dwn",signingKeyId:o="#dwn-sig",encryptionKeyId:i="#dwn-enc",serviceEndpointNodes:s}=e,a=yield Vr.generateJwkKeyPair({keyAlgorithm:r,keyId:o}),c=yield Vr.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:i});return{keySet:{verificationMethodKeys:[Object.assign(Object.assign({},a),{relationships:["authentication"]}),Object.assign(Object.assign({},c),{relationships:["keyAgreement"]})]},services:[{id:n,serviceEndpoint:{encryptionKeys:[i],nodes:s,signingKeys:[o]},type:"DecentralizedWebNode"}]}})}static generateJwkKeyPair(e){return Ns(this,void 0,void 0,function*(){const{keyAlgorithm:r,keyId:n}=e;let o;switch(r){case"Ed25519":{o=yield new Kv().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break}case"secp256k1":{o=yield new t4().generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break}default:throw new Error(`Unsupported crypto algorithm: '${r}'`)}const i=yield lr.cryptoKeyToJwkPair({keyPair:o});if(n)i.privateKeyJwk.kid=n,i.publicKeyJwk.kid=n;else{const s=yield lr.jwkThumbprint({key:i.publicKeyJwk});i.privateKeyJwk.kid=s,i.publicKeyJwk.kid=s}return i})}static generateKeySet(e){var r,n,o,i;return Ns(this,void 0,void 0,function*(){let{keyAlgorithm:s="Ed25519",keySet:a={}}=e??{};if(a.verificationMethodKeys===void 0){const c=yield Vr.generateJwkKeyPair({keyAlgorithm:s,keyId:"dwn-sig"});a.verificationMethodKeys=[Object.assign(Object.assign({},c),{relationships:["authentication","assertionMethod"]})]}a.recoveryKey===void 0&&(a.recoveryKey=yield Vr.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-recovery-1"})),a.updateKey===void 0&&(a.updateKey=yield Vr.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-update-1"}));for(const c of[...a.verificationMethodKeys,a.recoveryKey,a.updateKey])"publicKeyJwk"in c&&((r=(o=c.publicKeyJwk).kid)!==null&&r!==void 0||(o.kid=yield lr.jwkThumbprint({key:c.publicKeyJwk}))),"privateKeyJwk"in c&&((n=(i=c.privateKeyJwk).kid)!==null&&n!==void 0||(i.kid=yield lr.jwkThumbprint({key:c.privateKeyJwk})));return a})}static getDefaultSigningKey(e){return Ns(this,void 0,void 0,function*(){const{didDocument:r}=e;if(!r.id)throw new Error("DidIonMethod: DID document is missing 'id' property");const[n]=fB({didDocument:r,type:"DecentralizedWebNode"});if(J4(n?.serviceEndpoint)){const[o]=n.serviceEndpoint.signingKeys;return`${r.id}${o}`}if(r.authentication&&Array.isArray(r.authentication)&&r.authentication.length>0&&typeof r.authentication[0]=="string"){const[o]=r.authentication;return`${r.id}${o}`}})}static getLongFormDid(e){return Ns(this,void 0,void 0,function*(){const{services:r=[],keySet:n}=e,o=yield Vr.createIonDocument({keySet:n,services:r}),i=Vr.jwkToIonJwk({key:n.recoveryKey.publicKeyJwk}),s=Vr.jwkToIonJwk({key:n.updateKey.publicKeyJwk});return yield tS.createLongFormDid({document:o,recoveryKey:i,updateKey:s})})}static getShortFormDid(e){return Ns(this,void 0,void 0,function*(){const{didUrl:r}=e,n=$c({didUrl:r});if(!n)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);return n.did.split(":",3).join(":")})}static resolve(e){var r;return Ns(this,void 0,void 0,function*(){const{didUrl:n,resolutionOptions:o={}}=e,i=$c({didUrl:n});if(!i)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${n}`}};if(i.method!=="ion")return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${i.method}`}};const{resolutionEndpoint:s="https://ion.tbd.engineering/identifiers/"}=o,c=`${(p=>p.endsWith("/")?p:p+"/")(s)}${i.did}`,d=yield fetch(c);let f;try{f=yield d.json()}catch{f={}}if(d.ok||"didResolutionMetadata"in f)return f;let l="internalError",u=`DID resolver responded with HTTP status code: ${d.status}`;return"error"in f&&typeof f.error=="object"&&"code"in f.error&&typeof f.error.code=="string"&&"message"in f.error&&typeof f.error.message=="string"&&(l=f.error.code.includes("not_found")?"notFound":l,u=(r=f.error.message)!==null&&r!==void 0?r:u),{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:l,errorMessage:u}}})}static createIonDocument(e){return Ns(this,void 0,void 0,function*(){const{services:r=[],keySet:n}=e,o=[];for(const a of n.verificationMethodKeys){const c=[];for(const l of a.relationships)c.push(LAe[l]);const f={id:a.publicKeyJwk.kid.startsWith("#")?a.publicKeyJwk.kid.substring(1):a.publicKeyJwk.kid,publicKeyJwk:Vr.jwkToIonJwk({key:a.publicKeyJwk}),purposes:c,type:"JsonWebKey2020"};o.push(f)}const i=r.map(a=>Object.assign(Object.assign({},a),{id:a.id.startsWith("#")?a.id.substring(1):a.id}));return{publicKeys:o,services:i}})}static getIonCreateRequest(e){return Ns(this,void 0,void 0,function*(){const{ionDocument:r,recoveryPublicKeyJwk:n,updatePublicKeyJwk:o}=e;return yield Uo.createCreateRequest({document:r,recoveryKey:Vr.jwkToIonJwk({key:n}),updateKey:Vr.jwkToIonJwk({key:o})})})}static jwkToIonJwk({key:e}){let r={};if("crv"in e)return r.crv=e.crv,r.kty=e.kty,r.x=e.x,"d"in e&&(r.d=e.d),"y"in e&&e.y?Object.assign(Object.assign({},r),{y:e.y}):Object.assign({},r);throw new Error("jwkToIonJwk: Unsupported key algorithm.")}}Vr.methodName="ion";var el=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const yF=["Ed25519VerificationKey2020","JsonWebKey2020","X25519KeyAgreementKey2020"],GAe={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},IF={231:33,236:32,237:32};class us{static create(e){var r,n;return el(this,void 0,void 0,function*(){let{enableEncryptionKeyDerivation:o=!1,keyAlgorithm:i,keySet:s,publicKeyFormat:a="JsonWebKey2020"}=e??{};s===void 0&&(s=yield us.generateKeySet({keyAlgorithm:i}));const c={};let d="";if(!((n=(r=s.verificationMethodKeys)===null||r===void 0?void 0:r[0])===null||n===void 0)&&n.publicKeyJwk){const f=s.verificationMethodKeys[0].publicKeyJwk;d=yield lr.jwkToMultibaseId({key:f})}if(!d)throw new Error("DidKeyMethod: Failed to create DID with given input.");return c.did=`did:key:${d}`,c.document=yield us.createDocument({did:c.did,publicKeyFormat:a,enableEncryptionKeyDerivation:o}),c.keySet=s,c})}static createDocument(e){return el(this,void 0,void 0,function*(){const{defaultContext:r="https://www.w3.org/ns/did/v1",did:n,enableEncryptionKeyDerivation:o=!1,enableExperimentalPublicKeyTypes:i=!1,publicKeyFormat:s="JsonWebKey2020"}=e,a={};let c;try{({id:c}=$c({didUrl:n}))}catch{throw new Error(`invalidDid: Unknown format: ${n}`)}if(!us.validateIdentifier({did:n}))throw new Error(`invalidDid: Invalid identifier format: ${n}`);const d=yield us.createSignatureMethod({did:n,enableExperimentalPublicKeyTypes:i,multibaseValue:c,publicKeyFormat:s});if(a.id=n,a.verificationMethod=[d],a.authentication=[d.id],a.assertionMethod=[d.id],a.capabilityInvocation=[d.id],a.capabilityDelegation=[d.id],o===!0){const u=s==="Ed25519VerificationKey2020"?"X25519KeyAgreementKey2020":"JsonWebKey2020",p=yield this.createEncryptionMethod({did:n,enableExperimentalPublicKeyTypes:i,multibaseValue:c,publicKeyFormat:u});a.verificationMethod.push(p),a.keyAgreement=[p.id]}const f=[r];return xK({didDocument:a}).forEach(u=>{const p=GAe[u];f.push(p)}),a["@context"]=f,a})}static createEncryptionMethod(e){return el(this,void 0,void 0,function*(){const{did:r,enableExperimentalPublicKeyTypes:n,multibaseValue:o,publicKeyFormat:i}=e,s={},{key:a,multicodecCode:c}=yield us.deriveEncryptionKey({multibaseValue:o}),d=a.byteLength,f=IF[c];if(d!==f)throw new Error(`invalidPublicKeyLength: Expected ${d} bytes. Actual ${f} bytes.`);const l=K7({key:a,multicodecCode:c});s.id=`${r}#${l}`;try{new URL(s.id)}catch{throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!yF.includes(i))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${i}`);if(n===!1&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(i))throw new Error(`invalidPublicKeyType: Specified '${i}' without setting enableExperimentalPublicKeyTypes to true.`);if(s.type=i,s.controller=r,!us.validateIdentifier({did:r}))throw new Error(`invalidDid: Invalid identifier format: ${r}`);if(i==="X25519KeyAgreementKey2020"&&(s.publicKeyMultibase=l),i==="JsonWebKey2020"){const p=yield lr.multicodecToJose({code:c}),A=yield lr.keyToJwk(Object.assign({keyMaterial:a,keyType:"public"},p));"x"in A&&!("d"in A)&&(s.publicKeyJwk=A)}return s})}static deriveEncryptionKey(e){return el(this,void 0,void 0,function*(){const{multibaseValue:r}=e;let n={};const{key:o,multicodecCode:i}=ek({multibaseKeyId:r});return i===237&&(n={key:yield Hl.convertPublicKeyToX25519({publicKey:o}),multicodecCode:236}),n})}static createSignatureMethod(e){return el(this,void 0,void 0,function*(){const{did:r,enableExperimentalPublicKeyTypes:n,multibaseValue:o,publicKeyFormat:i}=e,s={},{key:a,multicodecCode:c,multicodecName:d}=ek({multibaseKeyId:o}),f=a.byteLength,l=IF[c];if(f!==l)throw new Error(`invalidPublicKeyLength: Expected ${f} bytes. Actual ${l} bytes.`);let u=!1;switch(d){case"secp256k1-pub":u=yield sd.validatePublicKey({key:a});break;case"ed25519-pub":u=yield Hl.validatePublicKey({key:a});break;case"x25519-pub":u=!0;break}if(!u)throw new Error("invalidPublicKey: Invalid public key detected.");s.id=`${r}#${o}`;try{new URL(s.id)}catch{throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!yF.includes(i))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${i}`);if(n===!1&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(i))throw new Error(`invalidPublicKeyType: Specified '${i}' without setting enableExperimentalPublicKeyTypes to true.`);if(s.type=i,s.controller=r,!us.validateIdentifier({did:r}))throw new Error(`invalidDid: Invalid identifier format: ${r}`);if(i==="Ed25519VerificationKey2020"&&(s.publicKeyMultibase=o),i==="JsonWebKey2020"){const A=yield lr.multicodecToJose({code:c}),h=yield lr.keyToJwk(Object.assign({keyMaterial:a,keyType:"public"},A));"x"in h&&!("d"in h)&&(s.publicKeyJwk=h)}return s})}static generateKeySet(e){return el(this,void 0,void 0,function*(){const{keyAlgorithm:r="Ed25519"}=e??{};let n;switch(r){case"Ed25519":{n=yield new Kv().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break}case"secp256k1":{n=yield new t4().generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break}default:throw new Error(`Unsupported crypto algorithm: '${r}'`)}const o=yield lr.cryptoKeyToJwk({key:n.publicKey}),i=yield lr.cryptoKeyToJwk({key:n.privateKey});return{verificationMethodKeys:[{publicKeyJwk:o,privateKeyJwk:i,relationships:["authentication"]}]}})}static getDefaultSigningKey(e){return el(this,void 0,void 0,function*(){const{didDocument:r}=e;if(r.authentication&&Array.isArray(r.authentication)&&r.authentication.length>0&&typeof r.authentication[0]=="string"){const[n]=r.authentication;return n}})}static resolve(e){return el(this,void 0,void 0,function*(){const{didUrl:r,resolutionOptions:n}=e,o=$c({didUrl:r});return o?o.method!=="key"?{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${o.method}`}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:yield us.createDocument({did:o.did}),didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",did:{didString:o.did,methodSpecificId:o.id,method:o.method}}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${r}`}}})}static validateIdentifier(e){const{did:r}=e,{method:n,id:o}=$c({didUrl:r}),[i]=r.split(":",1);return i!=="did"||n!=="key"||parseInt("1")>0||cI(o)!=="String"||!o.startsWith("z")}}us.methodName="key";const qAe={get:function(t){return null},set:function(t,e){return null},delete:function(t){return null},clear:function(){return null},close:function(){return null}};var $Ae=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};let jAe=class{constructor(e){this.didResolvers=new Map,this.cache=e.cache||qAe;for(const r of e.didResolvers)this.didResolvers.set(r.methodName,r)}resolve(e,r){return $Ae(this,void 0,void 0,function*(){const n=$c({didUrl:e});if(!n)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${e}`}};const o=this.didResolvers.get(n.method);if(!o)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${n.method}`}};const i=yield this.cache.get(n.did);if(i)return i;{const s=yield o.resolve({didUrl:n.did,resolutionOptions:r});return yield this.cache.set(n.did,s),s}})}};var s0=1e3,a0=s0*60,c0=a0*60,Hh=c0*24,zAe=Hh*7,YAe=Hh*365.25,JAe=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return VAe(t);if(r==="number"&&isFinite(t))return e.long?ZAe(t):WAe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function VAe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*YAe;case"weeks":case"week":case"w":return r*zAe;case"days":case"day":case"d":return r*Hh;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c0;case"minutes":case"minute":case"mins":case"min":case"m":return r*a0;case"seconds":case"second":case"secs":case"sec":case"s":return r*s0;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function WAe(t){var e=Math.abs(t);return e>=Hh?Math.round(t/Hh)+"d":e>=c0?Math.round(t/c0)+"h":e>=a0?Math.round(t/a0)+"m":e>=s0?Math.round(t/s0)+"s":t+"ms"}function ZAe(t){var e=Math.abs(t);return e>=Hh?n1(t,e,Hh,"day"):e>=c0?n1(t,e,c0,"hour"):e>=a0?n1(t,e,a0,"minute"):e>=s0?n1(t,e,s0,"second"):t+" ms"}function n1(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}const _H=Qo(JAe);var XAe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class bI{constructor(e={}){let{location:r,ttl:n}=e;r??(r=bI.defaultOptions.location),n??(n=bI.defaultOptions.ttl),this.cache=new Fv(r),this.ttl=_H(n)}get(e){return XAe(this,void 0,void 0,function*(){try{const r=yield this.cache.get(e),n=JSON.parse(r);if(Date.now()>=n.ttlMillis){this.cache.nextTick(()=>this.cache.del(e));return}else return n.value}catch(r){if(r.code==="LEVEL_NOT_FOUND")return;throw r}})}set(e,r){const n={ttlMillis:Date.now()+this.ttl,value:r},o=JSON.stringify(n);return this.cache.put(e,o)}delete(e){return this.cache.del(e)}clear(){return this.cache.clear()}close(){return this.cache.close()}}bI.defaultOptions={location:"DATA/AGENT/DID_RESOLVERCACHE",ttl:"15m"};function ege(t,e,r){return Rc.hash(t),r===void 0&&(r=new Uint8Array(t.outputLen)),Ov(t,iI(r),iI(e))}const n3=new Uint8Array([0]),mF=new Uint8Array;function tge(t,e,r,n=32){if(Rc.hash(t),Rc.number(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(n/t.outputLen);r===void 0&&(r=mF);const i=new Uint8Array(o*t.outputLen),s=Ov.create(t,e),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let d=0;d<o;d++)n3[0]=d+1,a.update(d===0?mF:c).update(r).update(n3).digestInto(c),i.set(c,t.outputLen*d),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),n3.fill(0),i.slice(0,n)}const rge=(t,e,r,n,o)=>tge(t,ege(t,e,r),n,o);var Ps=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class nge{constructor(e){var r,n;this._vaultUnlockKey=new Uint8Array,this._keyDerivationWorkFactor=(r=e?.keyDerivationWorkFactor)!==null&&r!==void 0?r:65e4,this._store=(n=e?.store)!==null&&n!==void 0?n:new Hte}backup(e){return Ps(this,void 0,void 0,function*(){throw new Error("Not implemented")})}changePassphrase(e){return Ps(this,void 0,void 0,function*(){throw new Error("Not implemented")})}generateVaultUnlockKey(e){return Ps(this,void 0,void 0,function*(){const{passphrase:r,salt:n}=e;return yield Sb.deriveKey({hash:"SHA-512",iterations:this._keyDerivationWorkFactor,length:256,password:Pe.string(r).toUint8Array(),salt:n})})}getDid(){return Ps(this,void 0,void 0,function*(){const e=yield this._store.get("vaultKeySet");let[r]=e.split(".");const i={verificationMethodKeys:[{publicKeyJwk:Pe.base64Url(r).toObject().wrappedKey,relationships:["authentication"]}]},{did:s}=yield us.create({keySet:i});return s})}getPublicKey(){return Ps(this,void 0,void 0,function*(){const e=yield this._store.get("vaultKeySet");let[r]=e.split(".");const o=Pe.base64Url(r).toObject().wrappedKey;return yield lr.jwkToCryptoKey({key:o})})}getPrivateKey(){return Ps(this,void 0,void 0,function*(){const e=yield this._store.get("vaultKeySet");let[r,n,o,i,s]=e.split(".");const a=Pe.base64Url(r).toObject(),c=Pe.base64Url(n).toUint8Array(),d=Pe.base64Url(o).toUint8Array(),f=Pe.base64Url(s).toUint8Array(),l=yield mk.decrypt({additionalData:Pe.object(a).toUint8Array(),data:c,key:this._vaultUnlockKey,nonce:d,tag:f}),u=yield this.getPublicKey();return new wd(u.algorithm,u.extractable,l,"private",["sign"])})}getStatus(){return Ps(this,void 0,void 0,function*(){try{const e=yield this._store.get("appDataStatus");return JSON.parse(e)}catch{return{initialized:!1,lastBackup:void 0,lastRestore:void 0}}})}initialize(e){return Ps(this,void 0,void 0,function*(){const{keyPair:r,passphrase:n}=e,o=yield this.getStatus();if(o.initialized===!0)throw new Error("Operation 'initialize' failed. Data vault already initialized.");const i=r.publicKey.material,s=rge(Pv,i,void 0,"vault_unlock_salt",32),a=Pe.string("PBES2-HS512+XC20PKW").toUint8Array(),c=new Uint8Array([...a,0,...s]);this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:n,salt:c});const d=yield lr.cryptoKeyToJwk({key:r.publicKey}),f={alg:"PBES2-HS512+XC20PKW",crit:["wrappedKey"],enc:"XC20P",p2c:this._keyDerivationWorkFactor,p2s:Pe.uint8Array(c).toBase64Url(),wrappedKey:d},l=H7(24),u=r.privateKey.material,{ciphertext:p,tag:A}=yield mk.encrypt({additionalData:Pe.object(f).toUint8Array(),data:u,key:this._vaultUnlockKey,nonce:l}),h=Pe.object(f).toBase64Url()+"."+Pe.uint8Array(p).toBase64Url()+"."+Pe.uint8Array(l).toBase64Url()+"."+Pe.string("unused").toBase64Url()+"."+Pe.uint8Array(A).toBase64Url();yield this._store.set("vaultKeySet",h),o.initialized=!0,yield this.setStatus(o)})}lock(){return Ps(this,void 0,void 0,function*(){this._vaultUnlockKey.fill(0),this._vaultUnlockKey=new Uint8Array})}restore(e){return Ps(this,void 0,void 0,function*(){throw new Error("Not implemented")})}setStatus(e){var r,n,o;return Ps(this,void 0,void 0,function*(){const i=yield this.getStatus();return i.initialized=(r=e.initialized)!==null&&r!==void 0?r:i.initialized,i.lastBackup=(n=e.lastBackup)!==null&&n!==void 0?n:i.lastBackup,i.lastRestore=(o=e.lastRestore)!==null&&o!==void 0?o:i.lastRestore,yield this._store.set("appDataStatus",JSON.stringify(i)),!0})}unlock(e){return Ps(this,void 0,void 0,function*(){const{passphrase:r}=e,n=yield this._store.get("vaultKeySet");let[o]=n.split(".");const i=Pe.base64Url(o).toObject();if(i.p2s!==void 0){const s=Pe.base64Url(i.p2s).toUint8Array();this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:r,salt:s})}return!0})}}var Oa=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class ige{constructor(){this._didRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-did"}}deleteDid(e){var r;return Oa(this,void 0,void 0,function*(){const{agent:n,context:o,did:i}=e,s=yield this.getAuthor({agent:n,context:o,did:i}),{reply:a}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});let c;for(const f of(r=a.entries)!==null&&r!==void 0?r:[])if(f.encodedData){const l=Pe.base64Url(f.encodedData).toObject();if(l&&l.did===i){c=f.recordId;break}}if(!c)return!1;const{reply:{status:d}}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:c}});return d.code===202})}findDid(e){var r;return Oa(this,void 0,void 0,function*(){const{agent:n,alias:o,context:i,did:s}=e,a=yield this.getAuthor({agent:n,context:i,did:s}),{reply:c}=yield n.dwnManager.processRequest({author:a,target:a,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(const d of(r=c.entries)!==null&&r!==void 0?r:[])if(d.encodedData){const f=Pe.base64Url(d.encodedData).toObject();if(f&&f.did===s||f&&f.alias===o)return f}})}getDid(e){var r;return Oa(this,void 0,void 0,function*(){const{agent:n,context:o,did:i}=e,s=yield this.getAuthor({agent:n,context:o,did:i}),{reply:a}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(const c of(r=a.entries)!==null&&r!==void 0?r:[])if(c.encodedData){const d=Pe.base64Url(c.encodedData).toObject();if(d&&d.did===i)return d}})}importDid(e){return Oa(this,void 0,void 0,function*(){const{agent:r,context:n,did:o}=e,i=yield this.getAuthor({agent:r,context:n,did:o.did});if(yield this.getDid({agent:r,context:n,did:o.did}))throw new Error(`DidStoreDwn: DID with ID already exists: '${o.did}'`);const a=Pe.object(o).toUint8Array(),{reply:{status:c}}=yield r.dwnManager.processRequest({author:i,target:i,messageType:"RecordsWrite",messageOptions:Object.assign({},this._didRecordProperties),dataStream:new Blob([a])});if(c.code!==202)throw new Error("DidStoreDwn: Failed to write imported DID to store.")})}listDids(e){var r;return Oa(this,void 0,void 0,function*(){const{agent:n,context:o}=e,i=yield this.getAuthor({agent:n,context:o}),{reply:s}=yield n.dwnManager.processRequest({author:i,target:i,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});let a=[];for(const c of(r=s.entries)!==null&&r!==void 0?r:[])if(c.encodedData){const d=Pe.base64Url(c.encodedData).toObject();a.push(d)}return a})}getAuthor(e){return Oa(this,void 0,void 0,function*(){const{context:r,did:n,agent:o}=e;if(r)return r;if(o.agentDid)return o.agentDid;if(!n)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");const i=yield o.didManager.getDefaultSigningKey({did:n});if(i?yield o.keyManager.getKey({keyRef:i}):void 0)return n;throw new Error(`DidStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${n}'`)})}}class oge{constructor(){this.store=new Map}deleteDid({did:e}){return Oa(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}getDid({did:e}){return Oa(this,void 0,void 0,function*(){return this.store.get(e)})}findDid(e){return Oa(this,void 0,void 0,function*(){let{alias:r,did:n}=e;if(n)return this.store.get(n);if(r){for(const o of this.store.values())if(o.alias===r)return o}})}importDid(e){return Oa(this,void 0,void 0,function*(){const{did:r}=e;if(this.store.has(r.did))throw new Error(`DidStoreMemory: DID with ID already exists: '${r.did}'`);const n=structuredClone(r);this.store.set(r.did,n)})}listDids(){return Oa(this,void 0,void 0,function*(){return Array.from(this.store.values())})}}var Ku=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},sge=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},EI;(function(t){t.Create="Create",t.Resolve="Resolve"})(EI||(EI={}));class age{constructor(e){this._didMethods=new Map;const{agent:r,didMethods:n,store:o}=e;if(this._agent=r,this._store=o??new oge,!n)throw new TypeError("DidManager: Required parameter missing: 'didMethods'");for(const i of n)this._didMethods.set(i.methodName,i)}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return Ku(this,void 0,void 0,function*(){let{alias:r,keySet:n,kms:o,metadata:i,method:s,context:a}=e,c=sge(e,["alias","keySet","kms","metadata","method","context"]);const d=this.getMethod(s);n?.verificationMethodKeys===void 0&&(n=yield d.generateKeySet()),n=yield this.importOrGetKeySet({keySet:n,kms:o});const f=yield d.create(Object.assign(Object.assign({},c),{keySet:n}));yield this.updateKeySet({canonicalId:f.canonicalId,didDocument:f.document,keySet:n});const l=Object.assign(Object.assign({},i),f.metadata),u=Object.assign(Object.assign({alias:r,method:s},f),{metadata:l});return a??(a=u.did),yield this._store.importDid({did:u,agent:this.agent,context:a}),u})}getDefaultSigningKey(e){return Ku(this,void 0,void 0,function*(){const{did:r}=e,{didDocument:n}=yield this.agent.didResolver.resolve(r),o=$c({didUrl:r});if(!(n&&o))throw new Error(`DidManager: Unable to resolve: ${r}`);return yield this.getMethod(o.method).getDefaultSigningKey({didDocument:n})})}get(e){return Ku(this,void 0,void 0,function*(){let r;const{context:n,didRef:o}=e;if(r=yield this._store.getDid({did:o,agent:this.agent,context:n}),r||(r=yield this._store.findDid({alias:o,agent:this.agent,context:n}),r))return r})}import(e){return Ku(this,void 0,void 0,function*(){let{alias:r,context:n,did:o,kms:i}=e;if(o.keySet===void 0)throw new Error("Portable DID is missing required property: 'keySet'");const s=$c({didUrl:o.did});if(!s)throw new Error(`DidManager: Unable to resolve: ${o}`);const{method:a}=s;this.getMethod(a);const c=yield this.importOrGetKeySet({keySet:o.keySet,kms:i});yield this.updateKeySet({canonicalId:o.canonicalId,didDocument:o.document,keySet:c});const d=Object.assign(Object.assign({alias:r,method:a},o),{keySet:c});return n??(n=d.did),yield this._store.importDid({did:d,agent:this.agent,context:n}),d})}getMethod(e){const r=this._didMethods.get(e);if(r===void 0)throw new Error(`The DID method '${e}' is not supported`);return r}importOrGetKeySet(e){return Ku(this,void 0,void 0,function*(){const{kms:r}=e,n=this.agent,o=structuredClone(e.keySet);for(let i of o.verificationMethodKeys)if(i.keyManagerId===void 0)if("publicKeyJwk"in i&&"privateKeyJwk"in i&&i.publicKeyJwk&&i.privateKeyJwk){const s=yield lr.jwkToCryptoKey({key:i.publicKeyJwk}),a=yield lr.jwkToCryptoKey({key:i.privateKeyJwk}),c=yield n.keyManager.importKey({privateKey:Object.assign(Object.assign({kms:r},a),{material:a.material}),publicKey:Object.assign(Object.assign({kms:r},s),{material:s.material})});i.keyManagerId=c.privateKey.id,delete i.privateKeyJwk}else if("publicKeyJwk"in i&&i.publicKeyJwk){const s=yield lr.jwkToCryptoKey({key:i.publicKeyJwk}),a=yield n.keyManager.importKey(Object.assign(Object.assign({kms:r},s),{material:s.material}));i.keyManagerId=a.id}else throw new Error("Required parameter(s) missing: 'publicKeyJwk', and optionally, 'privateKeyJwk");else{const s=yield n.keyManager.getKey({keyRef:i.keyManagerId});if(!s)throw new Error(`Key with ID '${i.keyManagerId} not found.`);const a="publicKey"in s?s.publicKey:s;i.publicKeyJwk=yield lr.cryptoKeyToJwk({key:a})}return o})}processRequest(e){return Ku(this,void 0,void 0,function*(){const{messageOptions:r,messageType:n,store:o}=e;switch(n){case EI.Create:return{result:yield this.create(r)};default:throw new Error(`DidManager: Unsupported request type: ${n}`)}})}updateKeySet(e){return Ku(this,void 0,void 0,function*(){const{canonicalId:r,didDocument:n,keySet:o}=e,i=this.agent,s=r??n.id;for(let a of o.verificationMethodKeys){const c=yield lr.jwkToMultibaseId({key:a.publicKeyJwk}),d=Mce({didDocument:n,publicKeyJwk:a.publicKeyJwk,publicKeyMultibase:c});if(!(d&&d.includes("#")))throw new Error("DidManager: Unable to update key set due to malformed verification method ID");const[,f]=d.split("#"),l=`${s}#${f}`;yield i.keyManager.updateKey({keyRef:a.keyManagerId,alias:l})}})}}var cge=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,fge=cge,dge=fge,lge=typeof self=="object"&&self&&self.Object===Object&&self,uge=dge||lge||Function("return this")(),hge=uge,Age=hge,gge=Age.Symbol,DH=gge,wF=DH,kH=Object.prototype,pge=kH.hasOwnProperty,yge=kH.toString,jp=wF?wF.toStringTag:void 0;function Ige(t){var e=pge.call(t,jp),r=t[jp];try{t[jp]=void 0;var n=!0}catch{}var o=yge.call(t);return n&&(e?t[jp]=r:delete t[jp]),o}var mge=Ige,wge=Object.prototype,bge=wge.toString;function Ege(t){return bge.call(t)}var vge=Ege,bF=DH,Bge=mge,Cge=vge,Qge="[object Null]",xge="[object Undefined]",EF=bF?bF.toStringTag:void 0;function Sge(t){return t==null?t===void 0?xge:Qge:EF&&EF in Object(t)?Bge(t):Cge(t)}var _ge=Sge;function Dge(t,e){return function(r){return t(e(r))}}var kge=Dge,Tge=kge,Fge=Tge(Object.getPrototypeOf,Object),Mge=Fge;function Uge(t){return t!=null&&typeof t=="object"}var Rge=Uge,Nge=_ge,Pge=Mge,Oge=Rge,Kge="[object Object]",Hge=Function.prototype,Lge=Object.prototype,TH=Hge.toString,Gge=Lge.hasOwnProperty,qge=TH.call(Object);function $ge(t){if(!Oge(t)||Nge(t)!=Kge)return!1;var e=Pge(t);if(e===null)return!0;var r=Gge.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&TH.call(r)==qge}var jge=$ge;const zge=Qo(jge),i3=new TextEncoder,Yge=new TextDecoder;let Kt=class J8{static base64UrlToBytes(e){return an.baseDecode(e)}static base64UrlToObject(e){const r=an.baseDecode(e);return J8.bytesToObject(r)}static bytesToBase64Url(e){return an.baseEncode(e)}static bytesToString(e){return Yge.decode(e)}static bytesToObject(e){const r=J8.bytesToString(e);return JSON.parse(r)}static objectToBytes(e){const r=JSON.stringify(e);return i3.encode(r)}static stringToBase64Url(e){const r=i3.encode(e);return an.baseEncode(r)}static stringToBytes(e){return i3.encode(e)}};class be extends Error{constructor(e,r){super(`${e}: ${r}`),this.code=e,this.name="DwnError"}}var we;(function(t){t.AuthenticateJwsMissing="AuthenticateJwsMissing",t.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",t.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",t.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",t.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",t.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",t.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",t.DidMethodNotSupported="DidMethodNotSupported",t.DidNotString="DidNotString",t.DidNotValid="DidNotValid",t.DidResolutionFailed="DidResolutionFailed",t.Ed25519InvalidJwk="Ed25519InvalidJwk",t.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",t.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",t.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",t.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",t.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",t.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",t.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",t.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",t.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",t.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",t.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",t.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",t.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",t.MessageGetInvalidCid="MessageGetInvalidCid",t.ParseCidCodecNotSupported="ParseCidCodecNotSupported",t.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",t.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",t.PermissionsGrantNotADelegatedGrant="PermissionsGrantNotADelegatedGrant",t.PermissionsGrantScopeContextIdAndProtocolPath="PermissionsGrantScopeContextIdAndProtocolPath",t.PermissionsGrantScopeSchemaProhibitedFields="PermissionsGrantScopeSchemaProhibitedFields",t.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",t.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",t.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",t.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",t.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",t.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",t.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",t.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",t.ProtocolAuthorizationDuplicateContextRoleRecipient="ProtocolAuthorizationDuplicateContextRoleRecipient",t.ProtocolAuthorizationDuplicateGlobalRoleRecipient="ProtocolAuthorizationDuplicateGlobalRoleRecipient",t.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",t.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",t.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",t.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",t.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",t.ProtocolAuthorizationMissingRole="ProtocolAuthorizationMissingRole",t.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",t.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",t.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",t.ProtocolAuthorizationParentNotFound="ProtocolAuthorizationParentNotFound",t.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",t.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",t.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",t.ProtocolsConfigureContextRoleAtProhibitedProtocolPath="ProtocolsConfigureContextRoleAtProhibitedProtocolPath",t.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath="ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",t.ProtocolsConfigureInvalidRole="ProtocolsConfigureInvalidRole",t.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",t.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",t.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",t.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",t.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",t.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",t.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",t.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",t.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",t.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",t.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",t.RecordsGrantAuthorizationScopeNotProtocol="RecordsGrantAuthorizationScopeNotProtocol",t.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",t.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",t.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",t.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",t.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",t.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",t.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",t.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",t.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",t.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",t.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",t.RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch="RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch",t.RecordsValidateIntegrityGrantedToAndSignerMismatch="RecordsValidateIntegrityGrantedToAndSignerMismatch",t.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",t.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",t.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",t.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",t.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",t.RecordsWriteCreateContextIdAndParentIdMutuallyInclusive="RecordsWriteCreateContextIdAndParentIdMutuallyInclusive",t.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",t.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",t.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",t.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",t.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",t.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",t.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",t.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",t.RecordsWriteMissingAuthorizationSigner="RecordsWriteMissingAuthorizationSigner",t.RecordsWriteMissingSigner="RecordsWriteMissingSigner",t.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",t.RecordsWriteMissingDataAssociation="RecordsWriteMissingDataAssociation",t.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",t.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",t.RecordsWriteMissingSchema="RecordsWriteMissingSchema",t.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",t.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",t.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",t.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",t.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",t.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",t.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",t.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",t.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",t.SchemaValidationFailure="SchemaValidationFailure",t.Secp256k1KeyNotValid="Secp256k1KeyNotValid",t.TimestampInvalid="TimestampInvalid",t.UrlProtocolNotNormalized="UrlProtocolNotNormalized",t.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",t.UrlSchemaNotNormalized="UrlSchemaNotNormalized",t.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable"})(we||(we={}));var i1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function vF(t){if(t.kty!=="OKP"||t.crv!=="Ed25519")throw new be(we.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function BF(t){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:Kt.bytesToBase64Url(t)}}const V8={sign:(t,e)=>i1(void 0,void 0,void 0,function*(){vF(e);const r=xg.bytesToHex(t),n=Kt.base64UrlToBytes(e.d),o=xg.bytesToHex(n);return SAe(r,o)}),verify:(t,e,r)=>i1(void 0,void 0,void 0,function*(){vF(r);const n=Kt.base64UrlToBytes(r.x);return DAe(e,t,n)}),generateKeyPair:()=>i1(void 0,void 0,void 0,function*(){const t=kAe.randomPrivateKey(),e=xg.bytesToHex(t),r=yield QAe(e),n=Kt.bytesToBase64Url(t),o=BF(r),i=Object.assign(Object.assign({},o),{d:n});return{publicJwk:o,privateJwk:i}}),publicKeyToJwk:t=>i1(void 0,void 0,void 0,function*(){return BF(t)})},Jge=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Oc=nZ({name:"sha2-256",code:18,encode:Jge("SHA-256")});var Ba=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Vge=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class Xr{static validateKey(e){if(e.kty!=="EC"||e.crv!=="secp256k1")throw new be(we.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(e){return Ba(this,void 0,void 0,function*(){let r;if(e.byteLength===33){const s=Ra.bytesToHex(e);r=fa.fromHex(s).toRawBytes(!1)}else r=e;const n=Kt.bytesToBase64Url(r.subarray(1,33)),o=Kt.bytesToBase64Url(r.subarray(33,65));return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:n,y:o}})}static privateKeyToJwk(e){return Ba(this,void 0,void 0,function*(){const r=yield Xr.getPublicKey(e),n=yield Xr.publicKeyToJwk(r);return n.d=Kt.bytesToBase64Url(e),n})}static publicJwkToBytes(e){const r=Kt.base64UrlToBytes(e.x),n=Kt.base64UrlToBytes(e.y);return fa.fromAffine({x:Ra.bytesToNumberBE(r),y:Ra.bytesToNumberBE(n)}).toRawBytes(!0)}static privateJwkToBytes(e){return Kt.base64UrlToBytes(e.d)}static sign(e,r){return Ba(this,void 0,void 0,function*(){Xr.validateKey(r);const n=yield Oc.encode(e),o=Ra.bytesToHex(n),i=Xr.privateJwkToBytes(r),s=Ra.bytesToHex(i);return(yield PAe(o,s)).toCompactRawBytes()})}static verify(e,r,n){return Ba(this,void 0,void 0,function*(){Xr.validateKey(n);const o=Xr.publicJwkToBytes(n),i=yield Oc.encode(e);return OAe(r,i,o)})}static generateKeyPair(){return Ba(this,void 0,void 0,function*(){const e=gF.randomPrivateKey(),r=r3(e,!1),n=Kt.bytesToBase64Url(e),o=yield Xr.publicKeyToJwk(r),i=Object.assign(Object.assign({},o),{d:n});return{publicJwk:o,privateJwk:i}})}static generateKeyPairRaw(){return Ba(this,void 0,void 0,function*(){const e=gF.randomPrivateKey();return{publicKey:r3(e,!0),privateKey:e}})}static getPublicKey(e){return Ba(this,void 0,void 0,function*(){return r3(e,!0)})}static getPublicJwk(e){return Ba(this,void 0,void 0,function*(){return Vge(e,["d"])})}static derivePublicKey(e,r){return Ba(this,void 0,void 0,function*(){Xr.validateKeyDerivationPath(r);const n=yield Xr.derivePrivateKey(e,r);return yield Xr.getPublicKey(n)})}static derivePrivateKey(e,r){return Ba(this,void 0,void 0,function*(){Xr.validateKeyDerivationPath(r);let n=e;for(const o of r){const i=Kt.stringToBytes(o);n=yield Xr.deriveChildPrivateKey(n,i)}return n})}static deriveChildPrivateKey(e,r){return Ba(this,void 0,void 0,function*(){const n=yield Oc.encode(e),o=yield Oc.encode(r),i=Ra.concatBytes(n,o);return Ra.hashToPrivateKey(i)})}static validateKeyDerivationPath(e){if(e.includes(""))throw new be(we.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${e}`)}}const lE={Ed25519:V8,secp256k1:{sign:Xr.sign,verify:Xr.verify,generateKeyPair:Xr.generateKeyPair,publicKeyToJwk:Xr.publicKeyToJwk}};var Wge=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Zge{constructor(e){var r,n;if(e.keyId===void 0&&e.privateJwk.kid===void 0)throw new be(we.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(e.algorithm===void 0&&e.privateJwk.alg===void 0)throw new be(we.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=(r=e.keyId)!==null&&r!==void 0?r:e.privateJwk.kid,this.algorithm=(n=e.algorithm)!==null&&n!==void 0?n:e.privateJwk.alg,this.privateJwk=e.privateJwk,this.signatureAlgorithm=lE[e.privateJwk.crv],!this.signatureAlgorithm)throw new be(we.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${e.privateJwk.crv}, crv must be one of ${Object.keys(lE)}`)}sign(e){return Wge(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(e,this.privateJwk)})}}var Xge=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class mn{static getKid(e){const{kid:r}=Kt.base64UrlToObject(e.protected);return r}static getSignerDid(e){const r=mn.getKid(e);return mn.extractDid(r)}static verifySignature(e,r,n){return Xge(this,void 0,void 0,function*(){const o=lE[n.crv];if(!o)throw new be(we.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(lE)}`);const i=Kt.stringToBytes(`${r.protected}.${e}`),s=Kt.base64UrlToBytes(r.signature);return yield o.verify(i,s,n)})}static decodePlainObjectPayload(e){let r;try{r=Kt.base64UrlToObject(e.payload)}catch{throw new be(we.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!zge(r))throw new be(we.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return r}static extractDid(e){const[r]=e.split("#");return r}static createSigners(e){return e.map(n=>mn.createSigner(n))}static createSigner(e){const r=e.keyPair.privateJwk,n=e.keyId;return new Zge({privateJwk:r,keyId:n})}}const zp=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,FH=new Set,W8=typeof Et=="object"&&Et?Et:{},MH=(t,e,r,n)=>{typeof W8.emitWarning=="function"?W8.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let uE=globalThis.AbortController,CF=globalThis.AbortSignal;if(typeof uE>"u"){CF=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(n,o){this._onabort.push(o)}},uE=class{constructor(){e()}signal=new CF;abort(n){if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);this.signal.onabort?.(n)}}};let t=W8.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const e=()=>{t&&(t=!1,MH("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const e0e=t=>!FH.has(t),gl=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),UH=t=>gl(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?z1:null:null;class z1 extends Array{constructor(e){super(e),this.fill(0)}}class cg{heap;length;static#c=!1;static create(e){const r=UH(e);if(!r)return[];cg.#c=!0;const n=new cg(e,r);return cg.#c=!1,n}constructor(e,r){if(!cg.#c)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class lS{#c;#l;#I;#A;#_;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#n;#g;#i;#r;#e;#f;#u;#a;#o;#p;#s;#E;#v;#y;#m;#C;#d;static unsafeExposeInternals(e){return{starts:e.#v,ttls:e.#y,sizes:e.#E,keyMap:e.#i,keyList:e.#r,valList:e.#e,next:e.#f,prev:e.#u,get head(){return e.#a},get tail(){return e.#o},free:e.#p,isBackgroundFetch:r=>e.#t(r),backgroundFetch:(r,n,o,i)=>e.#T(r,n,o,i),moveToTail:r=>e.#S(r),indexes:r=>e.#w(r),rindexes:r=>e.#b(r),isStale:r=>e.#h(r)}}get max(){return this.#c}get maxSize(){return this.#l}get calculatedSize(){return this.#g}get size(){return this.#n}get fetchMethod(){return this.#_}get dispose(){return this.#I}get disposeAfter(){return this.#A}constructor(e){const{max:r=0,ttl:n,ttlResolution:o=1,ttlAutopurge:i,updateAgeOnGet:s,updateAgeOnHas:a,allowStale:c,dispose:d,disposeAfter:f,noDisposeOnSet:l,noUpdateTTL:u,maxSize:p=0,maxEntrySize:A=0,sizeCalculation:h,fetchMethod:y,noDeleteOnFetchRejection:v,noDeleteOnStaleGet:B,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:x,ignoreFetchAbort:Q}=e;if(r!==0&&!gl(r))throw new TypeError("max option must be a nonnegative integer");const N=r?UH(r):Array;if(!N)throw new Error("invalid max value: "+r);if(this.#c=r,this.#l=p,this.maxEntrySize=A||this.#l,this.sizeCalculation=h,this.sizeCalculation){if(!this.#l&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(y!==void 0&&typeof y!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#_=y,this.#C=!!y,this.#i=new Map,this.#r=new Array(r).fill(void 0),this.#e=new Array(r).fill(void 0),this.#f=new N(r),this.#u=new N(r),this.#a=0,this.#o=0,this.#p=cg.create(r),this.#n=0,this.#g=0,typeof d=="function"&&(this.#I=d),typeof f=="function"?(this.#A=f,this.#s=[]):(this.#A=void 0,this.#s=void 0),this.#m=!!this.#I,this.#d=!!this.#A,this.noDisposeOnSet=!!l,this.noUpdateTTL=!!u,this.noDeleteOnFetchRejection=!!v,this.allowStaleOnFetchRejection=!!S,this.allowStaleOnFetchAbort=!!x,this.ignoreFetchAbort=!!Q,this.maxEntrySize!==0){if(this.#l!==0&&!gl(this.#l))throw new TypeError("maxSize must be a positive integer if specified");if(!gl(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#P()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!B,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!a,this.ttlResolution=gl(o)||o===0?o:1,this.ttlAutopurge=!!i,this.ttl=n||0,this.ttl){if(!gl(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#F()}if(this.#c===0&&this.ttl===0&&this.#l===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#c&&!this.#l){const $="LRU_CACHE_UNBOUNDED";e0e($)&&(FH.add($),MH("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",$,lS))}}getRemainingTTL(e){return this.#i.has(e)?1/0:0}#F(){const e=new z1(this.#c),r=new z1(this.#c);this.#y=e,this.#v=r,this.#M=(i,s,a=zp.now())=>{if(r[i]=s!==0?a:0,e[i]=s,s!==0&&this.ttlAutopurge){const c=setTimeout(()=>{this.#h(i)&&this.delete(this.#r[i])},s+1);c.unref&&c.unref()}},this.#Q=i=>{r[i]=e[i]!==0?zp.now():0},this.#B=(i,s)=>{if(e[s]){const a=e[s],c=r[s];i.ttl=a,i.start=c,i.now=n||o();const d=i.now-c;i.remainingTTL=a-d}};let n=0;const o=()=>{const i=zp.now();if(this.ttlResolution>0){n=i;const s=setTimeout(()=>n=0,this.ttlResolution);s.unref&&s.unref()}return i};this.getRemainingTTL=i=>{const s=this.#i.get(i);if(s===void 0)return 0;const a=e[s],c=r[s];if(a===0||c===0)return 1/0;const d=(n||o())-c;return a-d},this.#h=i=>e[i]!==0&&r[i]!==0&&(n||o())-r[i]>e[i]}#Q=()=>{};#B=()=>{};#M=()=>{};#h=()=>!1;#P(){const e=new z1(this.#c);this.#g=0,this.#E=e,this.#x=r=>{this.#g-=e[r],e[r]=0},this.#U=(r,n,o,i)=>{if(this.#t(n))return 0;if(!gl(o))if(i){if(typeof i!="function")throw new TypeError("sizeCalculation must be a function");if(o=i(n,r),!gl(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return o},this.#D=(r,n,o)=>{if(e[r]=n,this.#l){const i=this.#l-e[r];for(;this.#g>i;)this.#k(!0)}this.#g+=e[r],o&&(o.entrySize=n,o.totalCalculatedSize=this.#g)}}#x=e=>{};#D=(e,r,n)=>{};#U=(e,r,n,o)=>{if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#o;!(!this.#R(r)||((e||!this.#h(r))&&(yield r),r===this.#a));)r=this.#u[r]}*#b({allowStale:e=this.allowStale}={}){if(this.#n)for(let r=this.#a;!(!this.#R(r)||((e||!this.#h(r))&&(yield r),r===this.#o));)r=this.#f[r]}#R(e){return e!==void 0&&this.#i.get(this.#r[e])===e}*entries(){for(const e of this.#w())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*rentries(){for(const e of this.#b())this.#e[e]!==void 0&&this.#r[e]!==void 0&&!this.#t(this.#e[e])&&(yield[this.#r[e],this.#e[e]])}*keys(){for(const e of this.#w()){const r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*rkeys(){for(const e of this.#b()){const r=this.#r[e];r!==void 0&&!this.#t(this.#e[e])&&(yield r)}}*values(){for(const e of this.#w())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}*rvalues(){for(const e of this.#b())this.#e[e]!==void 0&&!this.#t(this.#e[e])&&(yield this.#e[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of this.#w()){const o=this.#e[n],i=this.#t(o)?o.__staleWhileFetching:o;if(i!==void 0&&e(i,this.#r[n],this))return this.get(this.#r[n],r)}}forEach(e,r=this){for(const n of this.#w()){const o=this.#e[n],i=this.#t(o)?o.__staleWhileFetching:o;i!==void 0&&e.call(r,i,this.#r[n],this)}}rforEach(e,r=this){for(const n of this.#b()){const o=this.#e[n],i=this.#t(o)?o.__staleWhileFetching:o;i!==void 0&&e.call(r,i,this.#r[n],this)}}purgeStale(){let e=!1;for(const r of this.#b({allowStale:!0}))this.#h(r)&&(this.delete(this.#r[r]),e=!0);return e}dump(){const e=[];for(const r of this.#w({allowStale:!0})){const n=this.#r[r],o=this.#e[r],i=this.#t(o)?o.__staleWhileFetching:o;if(i===void 0||n===void 0)continue;const s={value:i};if(this.#y&&this.#v){s.ttl=this.#y[r];const a=zp.now()-this.#v[r];s.start=Math.floor(Date.now()-a)}this.#E&&(s.size=this.#E[r]),e.unshift([n,s])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const o=Date.now()-n.start;n.start=zp.now()-o}this.set(r,n.value,n)}}set(e,r,n={}){if(r===void 0)return this.delete(e),this;const{ttl:o=this.ttl,start:i,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:c}=n;let{noUpdateTTL:d=this.noUpdateTTL}=n;const f=this.#U(e,r,n.size||0,a);if(this.maxEntrySize&&f>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let l=this.#n===0?void 0:this.#i.get(e);if(l===void 0)l=this.#n===0?this.#o:this.#p.length!==0?this.#p.pop():this.#n===this.#c?this.#k(!1):this.#n,this.#r[l]=e,this.#e[l]=r,this.#i.set(e,l),this.#f[this.#o]=l,this.#u[l]=this.#o,this.#o=l,this.#n++,this.#D(l,f,c),c&&(c.set="add"),d=!1;else{this.#S(l);const u=this.#e[l];if(r!==u){if(this.#C&&this.#t(u)?u.__abortController.abort(new Error("replaced")):s||(this.#m&&this.#I?.(u,e,"set"),this.#d&&this.#s?.push([u,e,"set"])),this.#x(l),this.#D(l,f,c),this.#e[l]=r,c){c.set="replace";const p=u&&this.#t(u)?u.__staleWhileFetching:u;p!==void 0&&(c.oldValue=p)}}else c&&(c.set="update")}if(o!==0&&!this.#y&&this.#F(),this.#y&&(d||this.#M(l,o,i),c&&this.#B(c,l)),!s&&this.#d&&this.#s){const u=this.#s;let p;for(;p=u?.shift();)this.#A?.(...p)}return this}pop(){try{for(;this.#n;){const e=this.#e[this.#a];if(this.#k(!0),this.#t(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#d&&this.#s){const e=this.#s;let r;for(;r=e?.shift();)this.#A?.(...r)}}}#k(e){const r=this.#a,n=this.#r[r],o=this.#e[r];return this.#C&&this.#t(o)?o.__abortController.abort(new Error("evicted")):(this.#m||this.#d)&&(this.#m&&this.#I?.(o,n,"evict"),this.#d&&this.#s?.push([o,n,"evict"])),this.#x(r),e&&(this.#r[r]=void 0,this.#e[r]=void 0,this.#p.push(r)),this.#n===1?(this.#a=this.#o=0,this.#p.length=0):this.#a=this.#f[r],this.#i.delete(n),this.#n--,r}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:o}=r,i=this.#i.get(e);if(i!==void 0){const s=this.#e[i];if(this.#t(s)&&s.__staleWhileFetching===void 0)return!1;if(this.#h(i))o&&(o.has="stale",this.#B(o,i));else return n&&this.#Q(i),o&&(o.has="hit",this.#B(o,i)),!0}else o&&(o.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,o=this.#i.get(e);if(o!==void 0&&(n||!this.#h(o))){const i=this.#e[o];return this.#t(i)?i.__staleWhileFetching:i}}#T(e,r,n,o){const i=r===void 0?void 0:this.#e[r];if(this.#t(i))return i;const s=new uE,{signal:a}=n;a?.addEventListener("abort",()=>s.abort(a.reason),{signal:s.signal});const c={signal:s.signal,options:n,context:o},d=(h,y=!1)=>{const{aborted:v}=s.signal,B=n.ignoreFetchAbort&&h!==void 0;if(n.status&&(v&&!y?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,B&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),v&&!B&&!y)return l(s.signal.reason);const S=p;return this.#e[r]===p&&(h===void 0?S.__staleWhileFetching?this.#e[r]=S.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,h,c.options))),h},f=h=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=h),l(h)),l=h=>{const{aborted:y}=s.signal,v=y&&n.allowStaleOnFetchAbort,B=v||n.allowStaleOnFetchRejection,S=B||n.noDeleteOnFetchRejection,x=p;if(this.#e[r]===p&&(!S||x.__staleWhileFetching===void 0?this.delete(e):v||(this.#e[r]=x.__staleWhileFetching)),B)return n.status&&x.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),x.__staleWhileFetching;if(x.__returned===x)throw h},u=(h,y)=>{const v=this.#_?.(e,i,c);v&&v instanceof Promise&&v.then(B=>h(B),y),s.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(h(),n.allowStaleOnFetchAbort&&(h=B=>d(B,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(u).then(d,f),A=Object.assign(p,{__abortController:s,__staleWhileFetching:i,__returned:void 0});return r===void 0?(this.set(e,A,{...c.options,status:void 0}),r=this.#i.get(e)):this.#e[r]=A,A}#t(e){if(!this.#C)return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof uE}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:c=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:A=this.allowStaleOnFetchAbort,context:h,forceRefresh:y=!1,status:v,signal:B}=r;if(!this.#C)return v&&(v.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:i,status:v});const S={allowStale:n,updateAgeOnGet:o,noDeleteOnStaleGet:i,ttl:s,noDisposeOnSet:a,size:c,sizeCalculation:d,noUpdateTTL:f,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:A,ignoreFetchAbort:p,status:v,signal:B};let x=this.#i.get(e);if(x===void 0){v&&(v.fetch="miss");const Q=this.#T(e,x,S,h);return Q.__returned=Q}else{const Q=this.#e[x];if(this.#t(Q)){const Y=n&&Q.__staleWhileFetching!==void 0;return v&&(v.fetch="inflight",Y&&(v.returnedStale=!0)),Y?Q.__staleWhileFetching:Q.__returned=Q}const N=this.#h(x);if(!y&&!N)return v&&(v.fetch="hit"),this.#S(x),o&&this.#Q(x),v&&this.#B(v,x),Q;const $=this.#T(e,x,S,h),z=$.__staleWhileFetching!==void 0&&n;return v&&(v.fetch=N?"stale":"refresh",z&&N&&(v.returnedStale=!0)),z?$.__staleWhileFetching:$.__returned=$}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:s}=r,a=this.#i.get(e);if(a!==void 0){const c=this.#e[a],d=this.#t(c);return s&&this.#B(s,a),this.#h(a)?(s&&(s.get="stale"),d?(s&&n&&c.__staleWhileFetching!==void 0&&(s.returnedStale=!0),n?c.__staleWhileFetching:void 0):(i||this.delete(e),s&&n&&(s.returnedStale=!0),n?c:void 0)):(s&&(s.get="hit"),d?c.__staleWhileFetching:(this.#S(a),o&&this.#Q(a),c))}else s&&(s.get="miss")}#N(e,r){this.#u[r]=e,this.#f[e]=r}#S(e){e!==this.#o&&(e===this.#a?this.#a=this.#f[e]:this.#N(this.#u[e],this.#f[e]),this.#N(this.#o,e),this.#o=e)}delete(e){let r=!1;if(this.#n!==0){const n=this.#i.get(e);if(n!==void 0)if(r=!0,this.#n===1)this.clear();else{this.#x(n);const o=this.#e[n];this.#t(o)?o.__abortController.abort(new Error("deleted")):(this.#m||this.#d)&&(this.#m&&this.#I?.(o,e,"delete"),this.#d&&this.#s?.push([o,e,"delete"])),this.#i.delete(e),this.#r[n]=void 0,this.#e[n]=void 0,n===this.#o?this.#o=this.#u[n]:n===this.#a?this.#a=this.#f[n]:(this.#f[this.#u[n]]=this.#f[n],this.#u[this.#f[n]]=this.#u[n]),this.#n--,this.#p.push(n)}}if(this.#d&&this.#s?.length){const n=this.#s;let o;for(;o=n?.shift();)this.#A?.(...o)}return r}clear(){for(const e of this.#b({allowStale:!0})){const r=this.#e[e];if(this.#t(r))r.__abortController.abort(new Error("deleted"));else{const n=this.#r[e];this.#m&&this.#I?.(r,n,"delete"),this.#d&&this.#s?.push([r,n,"delete"])}}if(this.#i.clear(),this.#e.fill(void 0),this.#r.fill(void 0),this.#y&&this.#v&&(this.#y.fill(0),this.#v.fill(0)),this.#E&&this.#E.fill(0),this.#a=0,this.#o=0,this.#p.length=0,this.#g=0,this.#n=0,this.#d&&this.#s){const e=this.#s;let r;for(;r=e?.shift();)this.#A?.(...r)}}}var QF=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class RH{constructor(e){this.timeToLiveInSeconds=e,this.cache=new lS({max:1e5,ttl:e*1e3})}set(e,r){return QF(this,void 0,void 0,function*(){try{this.cache.set(e,r)}catch{}})}get(e){return QF(this,void 0,void 0,function*(){return this.cache.get(e)})}}const t0e=jr,Ah=new RegExp("^[A-Za-z0-9_-]+$","u");function yr(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(t&&typeof t=="object"&&!Array.isArray(t)){for(const f in t)if(!(f==="payload"||f==="signatures"))return yr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"}],!1;{if(t.payload!==void 0){let f=t.payload;const l=s;if(typeof f=="string"){if(!Ah.test(f))return yr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return yr.errors=[{instancePath:e+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=l===s}else var a=!0;if(a)if(t.signatures!==void 0){let f=t.signatures;const l=s;if(Array.isArray(f)){if(f.length<1)return yr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var c=!0;const p=f.length;for(let A=0;A<p;A++){let h=f[A];const y=s;if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.protected!==void 0){let B=h.protected;const S=s;if(typeof B=="string"){if(!Ah.test(B))return yr.errors=[{instancePath:e+"/signatures/"+A+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return yr.errors=[{instancePath:e+"/signatures/"+A+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=S===s}else var d=!0;if(d)if(h.signature!==void 0){let B=h.signature;const S=s;if(typeof B=="string"){if(!Ah.test(B))return yr.errors=[{instancePath:e+"/signatures/"+A+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return yr.errors=[{instancePath:e+"/signatures/"+A+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=S===s}else var d=!0}else return yr.errors=[{instancePath:e+"/signatures/"+A,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=y===s;if(!c)break}}}else return yr.errors=[{instancePath:e+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var a=l===s}else var a=!0}}else return yr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return yr.errors=i,s===0}function jr(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const a=s;for(const c in t)if(c!=="signature")return jr.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:c},message:"must NOT have additional properties"}],!1;a===s&&t.signature!==void 0&&(yr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:o})||(i=i===null?yr.errors:i.concat(yr.errors),s=i.length))}else return jr.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return jr.errors=i,s===0}const r0e=Qs,o3={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},delegated:{type:"boolean"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}},NH={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Fy(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;const a=s;let c=!1,d=null;const f=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){const S=s;if(t.interface!=="Protocols"){const x={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};i===null?i=[x]:i.push(x),s++}var u=S===s}else var u=!0;if(u)if(t.method!==void 0){const S=s;if(t.method!=="Query"){const Q={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};i===null?i=[Q]:i.push(Q),s++}var u=S===s}else var u=!0}else{const S={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[S]:i.push(S),s++}var y=f===s;y&&(c=!0,d=0);const p=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let S;if(t.interface===void 0&&(S="interface")||t.method===void 0&&(S="method")){const x={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"};i===null?i=[x]:i.push(x),s++}else{if(t.interface!==void 0){const x=s;if(t.interface!=="Records"){const Q={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[Q]:i.push(Q),s++}var h=x===s}else var h=!0;if(h){if(t.method!==void 0){const x=s;if(t.method!=="Read"){const N={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.schema!==void 0){const x=s;if(typeof t.schema!="string"){const N={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.protocol!==void 0){const x=s;if(typeof t.protocol!="string"){const N={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.contextId!==void 0){const x=s;if(typeof t.contextId!="string"){const N={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h)if(t.protocolPath!==void 0){const x=s;if(typeof t.protocolPath!="string"){const N={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0}}}}}}else{const S={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[S]:i.push(S),s++}var y=p===s;if(y&&c)c=!1,d=[d,1];else{y&&(c=!0,d=1);const S=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let N;if(t.interface===void 0&&(N="interface")||t.method===void 0&&(N="method")){const $={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"};i===null?i=[$]:i.push($),s++}else{if(t.interface!==void 0){const $=s;if(t.interface!=="Records"){const G={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[G]:i.push(G),s++}var v=$===s}else var v=!0;if(v){if(t.method!==void 0){const $=s;if(t.method!=="Delete"){const z={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};i===null?i=[z]:i.push(z),s++}var v=$===s}else var v=!0;if(v)if(t.schema!==void 0){const $=s;if(typeof t.schema!="string"){const z={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[z]:i.push(z),s++}var v=$===s}else var v=!0}}}else{const N={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[N]:i.push(N),s++}var y=S===s;if(y&&c)c=!1,d=[d,2];else{y&&(c=!0,d=2);const N=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.interface===void 0&&(z="interface")||t.method===void 0&&(z="method")){const Y={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"};i===null?i=[Y]:i.push(Y),s++}else{if(t.interface!==void 0){const Y=s;if(t.interface!=="Records"){const R={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[R]:i.push(R),s++}var B=Y===s}else var B=!0;if(B){if(t.method!==void 0){const Y=s;if(t.method!=="Write"){const C={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.schema!==void 0){const Y=s;if(typeof t.schema!="string"){const C={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.protocol!==void 0){const Y=s;if(typeof t.protocol!="string"){const C={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.contextId!==void 0){const Y=s;if(typeof t.contextId!="string"){const C={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B)if(t.protocolPath!==void 0){const Y=s;if(typeof t.protocolPath!="string"){const C={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0}}}}}}else{const z={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[z]:i.push(z),s++}var y=N===s;y&&c?(c=!1,d=[d,3]):y&&(c=!0,d=3)}}if(c)s=a,i!==null&&(a?i.length=a:i=null);else{const S={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return i===null?i=[S]:i.push(S),s++,Fy.errors=i,!1}return Fy.errors=i,s===0}const EB=Object.prototype.hasOwnProperty,Un=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),oa=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u");function Ut(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return Ut.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="delegationChain"||l==="descriptor"))return Ut.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=l===s}else var a=!0;if(a){if(t.delegationChain!==void 0){const l=s;Ut(t.delegationChain,{instancePath:e+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:o})||(i=i===null?Ut.errors:i.concat(Ut.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.dateExpires===void 0&&(A="dateExpires"))return Ut.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!EB.call(o3.properties.descriptor.properties,y))return Ut.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return Ut.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.dateExpires!==void 0){let y=l.dateExpires;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return Ut.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ut.errors=[{instancePath:e+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.description!==void 0){const y=s;if(typeof l.description!="string")return Ut.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0;if(c){if(l.delegated!==void 0){const y=s;if(typeof l.delegated!="boolean")return Ut.errors=[{instancePath:e+"/descriptor/delegated",schemaPath:"#/properties/descriptor/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=y===s}else var c=!0;if(c){if(l.grantedTo!==void 0){let y=l.grantedTo;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return Ut.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ut.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.grantedBy!==void 0){let y=l.grantedBy;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return Ut.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ut.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.grantedFor!==void 0){let y=l.grantedFor;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return Ut.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Ut.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.permissionsRequestId!==void 0){const y=s;if(typeof l.permissionsRequestId!="string")return Ut.errors=[{instancePath:e+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0;if(c){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return Ut.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Permissions")return Ut.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:o3.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return Ut.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Grant")return Ut.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:o3.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.scope!==void 0){const y=s;Fy(l.scope,{instancePath:e+"/descriptor/scope",parentData:l,parentDataProperty:"scope",rootData:o})||(i=i===null?Fy.errors:i.concat(Fy.errors),s=i.length);var c=y===s}else var c=!0;if(c)if(l.conditions!==void 0){let y=l.conditions;const v=s;if(s===s)if(y&&typeof y=="object"&&!Array.isArray(y)){const x=s;for(const Q in y)if(Q!=="publication")return Ut.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(x===s&&y.publication!==void 0){let Q=y.publication;if(typeof Q!="string")return Ut.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(Q==="Required"||Q==="Prohibited"))return Ut.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:NH.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return Ut.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=v===s}else var c=!0}}}}}}}}}}}}}else return Ut.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}}else return Ut.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ut.errors=i,s===0}function Qs(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const c=s;for(const d in t)if(!(d==="signature"||d==="authorDelegatedGrant"))return Qs.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;if(c===s){if(t.signature!==void 0){const d=s;yr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:o})||(i=i===null?yr.errors:i.concat(yr.errors),s=i.length);var a=d===s}else var a=!0;if(a)if(t.authorDelegatedGrant!==void 0){const d=s;Ut(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:o})||(i=i===null?Ut.errors:i.concat(Ut.errors),s=i.length);var a=d===s}else var a=!0}}else return Qs.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Qs.errors=i,s===0}const n0e=kl;function kl(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const c=s;for(const d in t)if(!(d==="signature"||d==="authorDelegatedGrant"||d==="ownerSignature"))return kl.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;if(c===s){let d;if(t.ownerSignature!==void 0&&t.signature===void 0&&(d="signature"))return kl.errors=[{instancePath:e,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:d,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(t.signature!==void 0){const f=s;yr(t.signature,{instancePath:e+"/signature",parentData:t,parentDataProperty:"signature",rootData:o})||(i=i===null?yr.errors:i.concat(yr.errors),s=i.length);var a=f===s}else var a=!0;if(a){if(t.authorDelegatedGrant!==void 0){const f=s;Ut(t.authorDelegatedGrant,{instancePath:e+"/authorDelegatedGrant",parentData:t,parentDataProperty:"authorDelegatedGrant",rootData:o})||(i=i===null?Ut.errors:i.concat(Ut.errors),s=i.length);var a=f===s}else var a=!0;if(a)if(t.ownerSignature!==void 0){const f=s;yr(t.ownerSignature,{instancePath:e+"/ownerSignature",parentData:t,parentDataProperty:"ownerSignature",rootData:o})||(i=i===null?yr.errors:i.concat(yr.errors),s=i.length);var a=f===s}else var a=!0}}}else return kl.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return kl.errors=i,s===0}const i0e=uo,xF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},recordId:{type:"string"}}}}};function uo(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return uo.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return uo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;Qs(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?Qs.errors:i.concat(Qs.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.recordId===void 0&&(A="recordId"))return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!(y==="interface"||y==="method"||y==="messageTimestamp"||y==="recordId"))return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return uo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Records")return uo.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:xF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return uo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Delete")return uo.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:xF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return uo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return uo.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c)if(l.recordId!==void 0){const y=s;if(typeof l.recordId!="string")return uo.errors=[{instancePath:e+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0}}}}}else return uo.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return uo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return uo.errors=i,s===0}const o0e=hn,s3={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{type:"string"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},SF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function ze(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return ze.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const x=s;for(const Q in t)if(!EB.call(SF.properties,Q))return ze.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(x===s){if(t.datePublished!==void 0){const Q=s,N=s;let $=!1,G=null;const z=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let m;if(t.published===void 0&&(m="published")){const g={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:m},message:"must have required property '"+m+"'"};i===null?i=[g]:i.push(g),s++}else if(t.published!==void 0&&t.published!==!0){const g={instancePath:e+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:SF.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};i===null?i=[g]:i.push(g),s++}}var c=z===s;c&&($=!0,G=0);const Y=s,R=s,C=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.published===void 0){const m={};i===null?i=[m]:i.push(m),s++}var a=C===s;if(a){const m={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[m]:i.push(m),s++}else s=R,i!==null&&(R?i.length=R:i=null);var c=Y===s;if(c&&$?($=!1,G=[G,1]):c&&($=!0,G=1),$)s=N,i!==null&&(N?i.length=N:i=null);else{const m={instancePath:e,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:G},message:"must match exactly one schema in oneOf"};return i===null?i=[m]:i.push(m),s++,ze.errors=i,!1}var d=Q===s}else var d=!0;if(d){if(t.protocol!==void 0){const Q=s;if(typeof t.protocol!="string")return ze.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.protocolPath!==void 0){const Q=s;if(typeof t.protocolPath!="string")return ze.errors=[{instancePath:e+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.author!==void 0){let Q=t.author;const N=s;if(s===s)if(typeof Q=="string"){if(!oa.test(Q))return ze.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ze.errors=[{instancePath:e+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=N===s}else var f=!0;if(f){if(t.attester!==void 0){let Q=t.attester;const N=s;if(s===s)if(typeof Q=="string"){if(!oa.test(Q))return ze.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ze.errors=[{instancePath:e+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=N===s}else var f=!0;if(f){if(t.recipient!==void 0){let Q=t.recipient;const N=s;if(s===s)if(typeof Q=="string"){if(!oa.test(Q))return ze.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return ze.errors=[{instancePath:e+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=N===s}else var f=!0;if(f){if(t.contextId!==void 0){const Q=s;if(typeof t.contextId!="string")return ze.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.schema!==void 0){const Q=s;if(typeof t.schema!="string")return ze.errors=[{instancePath:e+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.recordId!==void 0){const Q=s;if(typeof t.recordId!="string")return ze.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.parentId!==void 0){const Q=s;if(typeof t.parentId!="string")return ze.errors=[{instancePath:e+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.published!==void 0){const Q=s;if(typeof t.published!="boolean")return ze.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var f=Q===s}else var f=!0;if(f){if(t.dataFormat!==void 0){const Q=s;if(typeof t.dataFormat!="string")return ze.errors=[{instancePath:e+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.dataSize!==void 0){let Q=t.dataSize;const N=s;if(s===s)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).length<1)return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const z=s;for(const Y in Q)if(!(Y==="gt"||Y==="gte"||Y==="lt"||Y==="lte"))return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Y},message:"must NOT have additional properties"}],!1;if(z===s){if(Q.gt!==void 0){const Y=s,R=s,C=s;if(Q&&typeof Q=="object"&&!Array.isArray(Q)&&Q.gte===void 0){const m={};i===null?i=[m]:i.push(m),s++}var l=C===s;if(l)return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=R,i!==null&&(R?i.length=R:i=null);var u=Y===s}else var u=!0;if(u){if(Q.gte!==void 0){const Y=s,R=s,C=s;if(Q&&typeof Q=="object"&&!Array.isArray(Q)&&Q.gt===void 0){const g={};i===null?i=[g]:i.push(g),s++}var p=C===s;if(p)return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=R,i!==null&&(R?i.length=R:i=null);var u=Y===s}else var u=!0;if(u){if(Q.lt!==void 0){const Y=s,R=s,C=s;if(Q&&typeof Q=="object"&&!Array.isArray(Q)&&Q.lte===void 0){const g={};i===null?i=[g]:i.push(g),s++}var A=C===s;if(A)return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=R,i!==null&&(R?i.length=R:i=null);var u=Y===s}else var u=!0;if(u){if(Q.lte!==void 0){const Y=s,R=s,C=s;if(Q&&typeof Q=="object"&&!Array.isArray(Q)&&Q.lt===void 0){const g={};i===null?i=[g]:i.push(g),s++}var h=C===s;if(h)return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=R,i!==null&&(R?i.length=R:i=null);var u=Y===s}else var u=!0;if(u){if(Q.gt!==void 0){let Y=Q.gt;const R=s;if(!(typeof Y=="number"&&isFinite(Y)))return ze.errors=[{instancePath:e+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var y=R===s}else var y=!0;if(y){if(Q.gte!==void 0){let Y=Q.gte;const R=s;if(!(typeof Y=="number"&&isFinite(Y)))return ze.errors=[{instancePath:e+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var y=R===s}else var y=!0;if(y){if(Q.lt!==void 0){let Y=Q.lt;const R=s;if(!(typeof Y=="number"&&isFinite(Y)))return ze.errors=[{instancePath:e+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var y=R===s}else var y=!0;if(y)if(Q.lte!==void 0){let Y=Q.lte;const R=s;if(!(typeof Y=="number"&&isFinite(Y)))return ze.errors=[{instancePath:e+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var y=R===s}else var y=!0}}}}}}}}}else return ze.errors=[{instancePath:e+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===s}else var f=!0;if(f){if(t.dataCid!==void 0){const Q=s;if(typeof t.dataCid!="string")return ze.errors=[{instancePath:e+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=Q===s}else var f=!0;if(f){if(t.dateCreated!==void 0){let Q=t.dateCreated;const N=s;if(s===N)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).length<1)return ze.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const G=s;for(const z in Q)if(!(z==="from"||z==="to"))return ze.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"}],!1;if(G===s){if(Q.from!==void 0){let z=Q.from;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=Y===s}else var v=!0;if(v)if(Q.to!==void 0){let z=Q.to;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=Y===s}else var v=!0}}}else return ze.errors=[{instancePath:e+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===s}else var f=!0;if(f){if(t.datePublished!==void 0){let Q=t.datePublished;const N=s;if(s===N)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).length<1)return ze.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const G=s;for(const z in Q)if(!(z==="from"||z==="to"))return ze.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"}],!1;if(G===s){if(Q.from!==void 0){let z=Q.from;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=Y===s}else var B=!0;if(B)if(Q.to!==void 0){let z=Q.to;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=Y===s}else var B=!0}}}else return ze.errors=[{instancePath:e+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===s}else var f=!0;if(f)if(t.dateUpdated!==void 0){let Q=t.dateUpdated;const N=s;if(s===N)if(Q&&typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).length<1)return ze.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const G=s;for(const z in Q)if(!(z==="from"||z==="to"))return ze.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:z},message:"must NOT have additional properties"}],!1;if(G===s){if(Q.from!==void 0){let z=Q.from;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var S=Y===s}else var S=!0;if(S)if(Q.to!==void 0){let z=Q.to;const Y=s;if(s===s)if(typeof z=="string"){if(!Un.test(z))return ze.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ze.errors=[{instancePath:e+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var S=Y===s}else var S=!0}}}else return ze.errors=[{instancePath:e+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var f=N===s}else var f=!0}}}}}}}}}}}}}}}}}}else return ze.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ze.errors=i,s===0}function hn(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f;if(t.descriptor===void 0&&(f="descriptor"))return hn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:f},message:"must have required property '"+f+"'"}],!1;{const l=s;for(const u in t)if(!(u==="authorization"||u==="descriptor"))return hn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;if(l===s){if(t.authorization!==void 0){const u=s;Qs(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?Qs.errors:i.concat(Qs.errors),s=i.length);var a=u===s}else var a=!0;if(a)if(t.descriptor!==void 0){let u=t.descriptor;const p=s;if(s===p)if(u&&typeof u=="object"&&!Array.isArray(u)){let h;if(u.interface===void 0&&(h="interface")||u.method===void 0&&(h="method")||u.messageTimestamp===void 0&&(h="messageTimestamp")||u.filter===void 0&&(h="filter"))return hn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{const y=s;for(const v in u)if(!(v==="interface"||v==="method"||v==="messageTimestamp"||v==="filter"||v==="pagination"||v==="dateSort"))return hn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;if(y===s){if(u.interface!==void 0){let v=u.interface;const B=s;if(typeof v!="string")return hn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Records")return hn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:s3.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.method!==void 0){let v=u.method;const B=s;if(typeof v!="string")return hn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Query")return hn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:s3.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.messageTimestamp!==void 0){let v=u.messageTimestamp;const B=s;if(s===s)if(typeof v=="string"){if(!Un.test(v))return hn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return hn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===s}else var c=!0;if(c){if(u.filter!==void 0){const v=s;ze(u.filter,{instancePath:e+"/descriptor/filter",parentData:u,parentDataProperty:"filter",rootData:o})||(i=i===null?ze.errors:i.concat(ze.errors),s=i.length);var c=v===s}else var c=!0;if(c){if(u.pagination!==void 0){let v=u.pagination;const B=s;if(s===B)if(v&&typeof v=="object"&&!Array.isArray(v)){const x=s;for(const Q in v)if(!(Q==="limit"||Q==="cursor"))return hn.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(x===s){if(v.limit!==void 0){let Q=v.limit;const N=s;if(s===N)if(typeof Q=="number"&&isFinite(Q)){if(Q<1||isNaN(Q))return hn.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}else return hn.errors=[{instancePath:e+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var d=N===s}else var d=!0;if(d)if(v.cursor!==void 0){const Q=s;if(typeof v.cursor!="string")return hn.errors=[{instancePath:e+"/descriptor/pagination/cursor",schemaPath:"#/properties/descriptor/properties/pagination/properties/cursor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0}}else return hn.errors=[{instancePath:e+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=B===s}else var c=!0;if(c)if(u.dateSort!==void 0){let v=u.dateSort;const B=s;if(typeof v!="string")return hn.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(v==="createdAscending"||v==="createdDescending"||v==="publishedAscending"||v==="publishedDescending"))return hn.errors=[{instancePath:e+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:s3.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0}}}}}}}else return hn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=p===s}else var a=!0}}}else return hn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return hn.errors=i,s===0}const s0e=Y1,tl={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},PH={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function pr(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;const a=s,c=s;let d=!1,f=null;const l=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Y;if(t.crv===void 0&&(Y="crv")||t.x===void 0&&(Y="x")){const R={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Y},message:"must have required property '"+Y+"'"};i===null?i=[R]:i.push(R),s++}else{if(t.kty!==void 0){const R=s;if(t.kty!=="EC"){const C={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};i===null?i=[C]:i.push(C),s++}var u=R===s}else var u=!0;if(u){if(t.crv!==void 0){const R=s;if(typeof t.crv!="string"){const m={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var u=R===s}else var u=!0;if(u){if(t.x!==void 0){const R=s;if(typeof t.x!="string"){const m={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var u=R===s}else var u=!0;if(u){if(t.y!==void 0){const R=s;if(typeof t.y!="string"){const m={instancePath:e+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var u=R===s}else var u=!0;if(u)if(t.d!==void 0){const R=s;if(typeof t.d!="string"){const m={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var u=R===s}else var u=!0}}}}}var h=l===s;h&&(d=!0,f=0);const p=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let Y;if(t.crv===void 0&&(Y="crv")||t.x===void 0&&(Y="x")){const R={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Y},message:"must have required property '"+Y+"'"};i===null?i=[R]:i.push(R),s++}else{if(t.kty!==void 0){const R=s;if(t.kty!=="OKP"){const C={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};i===null?i=[C]:i.push(C),s++}var A=R===s}else var A=!0;if(A){if(t.crv!==void 0){const R=s;if(typeof t.crv!="string"){const m={instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var A=R===s}else var A=!0;if(A){if(t.x!==void 0){const R=s;if(typeof t.x!="string"){const m={instancePath:e+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var A=R===s}else var A=!0;if(A)if(t.d!==void 0){const R=s;if(typeof t.d!="string"){const m={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[m]:i.push(m),s++}var A=R===s}else var A=!0}}}}var h=p===s;if(h&&d)d=!1,f=[f,1];else{h&&(d=!0,f=1);const Y=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let C;if(t.n===void 0&&(C="n")||t.e===void 0&&(C="e")){const m={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};i===null?i=[m]:i.push(m),s++}else{if(t.kty!==void 0){const m=s;if(t.kty!=="RSA"){const g={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};i===null?i=[g]:i.push(g),s++}var y=m===s}else var y=!0;if(y){if(t.n!==void 0){const m=s;if(typeof t.n!="string"){const w={instancePath:e+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.e!==void 0){const m=s;if(typeof t.e!="string"){const w={instancePath:e+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.d!==void 0){const m=s;if(typeof t.d!="string"){const w={instancePath:e+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.p!==void 0){const m=s;if(typeof t.p!="string"){const w={instancePath:e+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.q!==void 0){const m=s;if(typeof t.q!="string"){const w={instancePath:e+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.dp!==void 0){const m=s;if(typeof t.dp!="string"){const w={instancePath:e+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.dq!==void 0){const m=s;if(typeof t.dq!="string"){const w={instancePath:e+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y){if(t.qi!==void 0){const m=s;if(typeof t.qi!="string"){const w={instancePath:e+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[w]:i.push(w),s++}var y=m===s}else var y=!0;if(y)if(t.oth!==void 0){let m=t.oth;const g=s;if(!(m&&typeof m=="object"&&!Array.isArray(m))){const F={instancePath:e+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[F]:i.push(F),s++}var y=g===s}else var y=!0}}}}}}}}}}var h=Y===s;if(h&&d)d=!1,f=[f,2];else{h&&(d=!0,f=2);const C=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let g;if(t.k===void 0&&(g="k")){const w={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"};i===null?i=[w]:i.push(w),s++}else{if(t.kty!==void 0){const w=s;if(t.kty!=="oct"){const F={instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};i===null?i=[F]:i.push(F),s++}var v=w===s}else var v=!0;if(v)if(t.k!==void 0){const w=s;if(typeof t.k!="string"){const H={instancePath:e+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[H]:i.push(H),s++}var v=w===s}else var v=!0}}var h=C===s;h&&d?(d=!1,f=[f,3]):h&&(d=!0,f=3)}}if(d)s=c,i!==null&&(c?i.length=c:i=null);else{const Y={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:f},message:"must match exactly one schema in oneOf"};return i===null?i=[Y]:i.push(Y),s++,pr.errors=i,!1}if(s===a)if(t&&typeof t=="object"&&!Array.isArray(t)){let Y;if(t.kty===void 0&&(Y="kty"))return pr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Y},message:"must have required property '"+Y+"'"}],!1;if(t.alg!==void 0){const R=s;if(typeof t.alg!="string")return pr.errors=[{instancePath:e+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.kid!==void 0){const R=s;if(typeof t.kid!="string")return pr.errors=[{instancePath:e+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.kty!==void 0){let R=t.kty;const C=s;if(!(R==="EC"||R==="RSA"||R==="oct"||R==="OKP"))return pr.errors=[{instancePath:e+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:PH.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var B=C===s}else var B=!0;if(B){if(t.crv!==void 0){const R=s;if(typeof t.crv!="string")return pr.errors=[{instancePath:e+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.use!==void 0){const R=s;if(typeof t.use!="string")return pr.errors=[{instancePath:e+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.key_ops!==void 0){const R=s;if(typeof t.key_ops!="string")return pr.errors=[{instancePath:e+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.x5u!==void 0){const R=s;if(typeof t.x5u!="string")return pr.errors=[{instancePath:e+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.x5c!==void 0){const R=s;if(typeof t.x5c!="string")return pr.errors=[{instancePath:e+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B){if(t.x5t!==void 0){const R=s;if(typeof t.x5t!="string")return pr.errors=[{instancePath:e+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0;if(B)if(t["x5t#S256"]!==void 0){const R=s;if(typeof t["x5t#S256"]!="string")return pr.errors=[{instancePath:e+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=R===s}else var B=!0}}}}}}}}}else return pr.errors=[{instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var S=a===s;if(S){const Y=s,R=s,C=s;let m=!1;const g=s,w=s;let F=!1;const H=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.d===void 0){const K={};i===null?i=[K]:i.push(K),s++}var x=H===s;if(F=F||x,F)s=w,i!==null&&(w?i.length=w:i=null);else{const K={};i===null?i=[K]:i.push(K),s++}if(s===g)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="EC"){const K={};i===null?i=[K]:i.push(K),s++}}else{const K={};i===null?i=[K]:i.push(K),s++}var Q=g===s;if(m=m||Q,!m){const K=s,D=s;let I=!1;const P=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.d===void 0){const V={};i===null?i=[V]:i.push(V),s++}var N=P===s;if(I=I||N,I)s=D,i!==null&&(D?i.length=D:i=null);else{const V={};i===null?i=[V]:i.push(V),s++}if(s===K)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0&&t.kty!=="OKP"){const V={};i===null?i=[V]:i.push(V),s++}}else{const V={};i===null?i=[V]:i.push(V),s++}var Q=K===s;if(m=m||Q,!m){const V=s,ee=s;let se=!1;const Z=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.d===void 0){const X={};i===null?i=[X]:i.push(X),s++}var $=Z===s;if(se=se||$,!se){const X=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.p===void 0){const W={};i===null?i=[W]:i.push(W),s++}var $=X===s;if(se=se||$,!se){const W=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.q===void 0){const M={};i===null?i=[M]:i.push(M),s++}var $=W===s;if(se=se||$,!se){const M=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.dp===void 0){const b={};i===null?i=[b]:i.push(b),s++}var $=M===s;if(se=se||$,!se){const b=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.dq===void 0){const U={};i===null?i=[U]:i.push(U),s++}var $=b===s;if(se=se||$,!se){const U=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.qi===void 0){const L={};i===null?i=[L]:i.push(L),s++}var $=U===s;if(se=se||$,!se){const L=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.oth===void 0){const te={};i===null?i=[te]:i.push(te),s++}var $=L===s;se=se||$}}}}}}if(se)s=ee,i!==null&&(ee?i.length=ee:i=null);else{const X={};i===null?i=[X]:i.push(X),s++}if(s===V)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.kty!==void 0){const X=s;if(t.kty!=="RSA"){const re={};i===null?i=[re]:i.push(re),s++}var G=X===s}else var G=!0;if(G)if(t.oth!==void 0){let X=t.oth;const re=s;if(!(X&&typeof X=="object"&&!Array.isArray(X))){const j={};i===null?i=[j]:i.push(j),s++}var G=re===s}else var G=!0}else{const X={};i===null?i=[X]:i.push(X),s++}var Q=V===s;m=m||Q}}if(m)s=C,i!==null&&(C?i.length=C:i=null);else{const K={};i===null?i=[K]:i.push(K),s++}var z=R===s;if(z)return pr.errors=[{instancePath:e,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=Y,i!==null&&(Y?i.length=Y:i=null)}return pr.errors=i,s===0}const a0e=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function je(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;const a=s;let c=!1;const d=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.contextId===void 0&&(z="contextId")){const Y={instancePath:e,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"};i===null?i=[Y]:i.push(Y),s++}else if(t.descriptor!==void 0){let Y=t.descriptor;if(s===s)if(Y&&typeof Y=="object"&&!Array.isArray(Y)){let C;if(Y.protocol===void 0&&(C="protocol")||Y.protocolPath===void 0&&(C="protocolPath")){const m={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};i===null?i=[m]:i.push(m),s++}}else{const C={instancePath:e+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[C]:i.push(C),s++}}}var f=d===s;if(c=c||f,!c){const z=s,Y=s,R=s,C=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.contextId===void 0){const g={};i===null?i=[g]:i.push(g),s++}var l=C===s;if(l){const g={instancePath:e,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[g]:i.push(g),s++}else s=R,i!==null&&(R?i.length=R:i=null);var u=Y===s;if(u){const g=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let F=t.descriptor;if(!(F&&typeof F=="object"&&!Array.isArray(F))){const D={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[D]:i.push(D),s++}const H=s,K=s;if(F&&typeof F=="object"&&!Array.isArray(F)&&F.protocol===void 0){const D={};i===null?i=[D]:i.push(D),s++}var p=K===s;if(p){const D={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[D]:i.push(D),s++}else s=H,i!==null&&(H?i.length=H:i=null)}var u=g===s;if(u){const F=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.descriptor!==void 0){let K=t.descriptor;if(!(K&&typeof K=="object"&&!Array.isArray(K))){const P={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[P]:i.push(P),s++}const D=s,I=s;if(K&&typeof K=="object"&&!Array.isArray(K)&&K.protocolPath===void 0){const P={};i===null?i=[P]:i.push(P),s++}var A=I===s;if(A){const P={instancePath:e+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[P]:i.push(P),s++}else s=D,i!==null&&(D?i.length=D:i=null)}var u=F===s}}var f=z===s;c=c||f}if(c)s=a,i!==null&&(a?i.length=a:i=null);else{const z={instancePath:e,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[z]:i.push(z),s++,je.errors=i,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.descriptor===void 0&&(z="descriptor"))return je.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"}],!1;{const Y=s;for(const R in t)if(!(R==="recordId"||R==="contextId"||R==="attestation"||R==="authorization"||R==="encryption"||R==="descriptor"))return je.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:R},message:"must NOT have additional properties"}],!1;if(Y===s){if(t.recordId!==void 0){const R=s;if(typeof t.recordId!="string")return je.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=R===s}else var h=!0;if(h){if(t.contextId!==void 0){const R=s;if(typeof t.contextId!="string")return je.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=R===s}else var h=!0;if(h){if(t.attestation!==void 0){const R=s;yr(t.attestation,{instancePath:e+"/attestation",parentData:t,parentDataProperty:"attestation",rootData:o})||(i=i===null?yr.errors:i.concat(yr.errors),s=i.length);var h=R===s}else var h=!0;if(h){if(t.authorization!==void 0){const R=s;kl(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?kl.errors:i.concat(kl.errors),s=i.length);var h=R===s}else var h=!0;if(h){if(t.encryption!==void 0){let R=t.encryption;const C=s;if(s===C)if(R&&typeof R=="object"&&!Array.isArray(R)){let g;if(R.algorithm===void 0&&(g="algorithm")||R.initializationVector===void 0&&(g="initializationVector")||R.keyEncryption===void 0&&(g="keyEncryption"))return je.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:g},message:"must have required property '"+g+"'"}],!1;{const w=s;for(const F in R)if(!(F==="algorithm"||F==="initializationVector"||F==="keyEncryption"))return je.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:F},message:"must NOT have additional properties"}],!1;if(w===s){if(R.algorithm!==void 0){let F=R.algorithm;const H=s;if(typeof F!="string")return je.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(F!=="A256CTR")return je.errors=[{instancePath:e+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:tl.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var y=H===s}else var y=!0;if(y){if(R.initializationVector!==void 0){let F=R.initializationVector;const H=s;if(s===s)if(typeof F=="string"){if(!Ah.test(F))return je.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return je.errors=[{instancePath:e+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=H===s}else var y=!0;if(y)if(R.keyEncryption!==void 0){let F=R.keyEncryption;const H=s;if(s===H)if(Array.isArray(F)){if(F.length<1)return je.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var v=!0;const D=F.length;for(let I=0;I<D;I++){let P=F[I];const T=s;if(s===T)if(P&&typeof P=="object"&&!Array.isArray(P)){let ee;if(P.rootKeyId===void 0&&(ee="rootKeyId")||P.derivationScheme===void 0&&(ee="derivationScheme")||P.algorithm===void 0&&(ee="algorithm")||P.encryptedKey===void 0&&(ee="encryptedKey")||P.initializationVector===void 0&&(ee="initializationVector")||P.ephemeralPublicKey===void 0&&(ee="ephemeralPublicKey")||P.messageAuthenticationCode===void 0&&(ee="messageAuthenticationCode"))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:ee},message:"must have required property '"+ee+"'"}],!1;{const se=s;for(const Z in P)if(!(Z==="rootKeyId"||Z==="derivationScheme"||Z==="derivedPublicKey"||Z==="algorithm"||Z==="encryptedKey"||Z==="initializationVector"||Z==="ephemeralPublicKey"||Z==="messageAuthenticationCode"))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Z},message:"must NOT have additional properties"}],!1;if(se===s){if(P.rootKeyId!==void 0){const Z=s;if(typeof P.rootKeyId!="string")return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=Z===s}else var B=!0;if(B){if(P.derivationScheme!==void 0){let Z=P.derivationScheme;const ne=s;if(typeof Z!="string")return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(Z==="dataFormats"||Z==="protocolContext"||Z==="protocolPath"||Z==="schemas"))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:tl.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;var B=ne===s}else var B=!0;if(B){if(P.derivedPublicKey!==void 0){const Z=s;pr(P.derivedPublicKey,{instancePath:e+"/encryption/keyEncryption/"+I+"/derivedPublicKey",parentData:P,parentDataProperty:"derivedPublicKey",rootData:o})||(i=i===null?pr.errors:i.concat(pr.errors),s=i.length);var B=Z===s}else var B=!0;if(B){if(P.algorithm!==void 0){let Z=P.algorithm;const ne=s;if(typeof Z!="string")return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Z!=="ECIES-ES256K")return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:tl.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var B=ne===s}else var B=!0;if(B){if(P.encryptedKey!==void 0){let Z=P.encryptedKey;const ne=s;if(s===s)if(typeof Z=="string"){if(!Ah.test(Z))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=ne===s}else var B=!0;if(B){if(P.initializationVector!==void 0){let Z=P.initializationVector;const ne=s;if(s===s)if(typeof Z=="string"){if(!Ah.test(Z))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=ne===s}else var B=!0;if(B){if(P.ephemeralPublicKey!==void 0){const Z=s;pr(P.ephemeralPublicKey,{instancePath:e+"/encryption/keyEncryption/"+I+"/ephemeralPublicKey",parentData:P,parentDataProperty:"ephemeralPublicKey",rootData:o})||(i=i===null?pr.errors:i.concat(pr.errors),s=i.length);var B=Z===s}else var B=!0;if(B)if(P.messageAuthenticationCode!==void 0){let Z=P.messageAuthenticationCode;const ne=s;if(s===s)if(typeof Z=="string"){if(!Ah.test(Z))return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}else return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var B=ne===s}else var B=!0}}}}}}}}}else return je.errors=[{instancePath:e+"/encryption/keyEncryption/"+I,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var v=T===s;if(!v)break}}}else return je.errors=[{instancePath:e+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var y=H===s}else var y=!0}}}}else return je.errors=[{instancePath:e+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=C===s}else var h=!0;if(h)if(t.descriptor!==void 0){let R=t.descriptor;const C=s,m=s;let g=!1;const w=s;if(R&&typeof R=="object"&&!Array.isArray(R)){let H;if(R.published===void 0&&(H="published")||R.datePublished===void 0&&(H="datePublished")){const K={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"};i===null?i=[K]:i.push(K),s++}else if(R.published!==void 0){let K=R.published;if(typeof K!="boolean"){const D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[D]:i.push(D),s++}if(K!==!0){const D={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};i===null?i=[D]:i.push(D),s++}}}var S=w===s;if(g=g||S,!g){const H=s,K=s,D=s;if(R&&typeof R=="object"&&!Array.isArray(R)&&R.datePublished===void 0){const P={};i===null?i=[P]:i.push(P),s++}var x=D===s;if(x){const P={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[P]:i.push(P),s++}else s=K,i!==null&&(K?i.length=K:i=null);if(s===H&&R&&typeof R=="object"&&!Array.isArray(R)&&R.published!==void 0){let P=R.published;if(typeof P!="boolean"){const T={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};i===null?i=[T]:i.push(T),s++}if(P!==!1){const T={instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};i===null?i=[T]:i.push(T),s++}}var S=H===s;if(g=g||S,!g){const P=s,T=s,V=s,ee=s;if(R&&typeof R=="object"&&!Array.isArray(R)&&R.published===void 0){const Z={};i===null?i=[Z]:i.push(Z),s++}var Q=ee===s;if(Q){const Z={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[Z]:i.push(Z),s++}else s=V,i!==null&&(V?i.length=V:i=null);var N=T===s;if(N){const Z=s,ne=s,X=s;if(R&&typeof R=="object"&&!Array.isArray(R)&&R.datePublished===void 0){const W={};i===null?i=[W]:i.push(W),s++}var $=X===s;if($){const W={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};i===null?i=[W]:i.push(W),s++}else s=ne,i!==null&&(ne?i.length=ne:i=null);var N=Z===s}var S=P===s;g=g||S}}if(g)s=m,i!==null&&(m?i.length=m:i=null);else{const H={instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return i===null?i=[H]:i.push(H),s++,je.errors=i,!1}if(s===C)if(R&&typeof R=="object"&&!Array.isArray(R)){let H;if(R.interface===void 0&&(H="interface")||R.method===void 0&&(H="method")||R.dataCid===void 0&&(H="dataCid")||R.dataSize===void 0&&(H="dataSize")||R.dateCreated===void 0&&(H="dateCreated")||R.messageTimestamp===void 0&&(H="messageTimestamp")||R.dataFormat===void 0&&(H="dataFormat"))return je.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:H},message:"must have required property '"+H+"'"}],!1;{const K=s;for(const D in R)if(!EB.call(tl.properties.descriptor.properties,D))return je.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:D},message:"must NOT have additional properties"}],!1;if(K===s){let D;if(R.parentId!==void 0&&R.protocol===void 0&&(D="protocol"))return je.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:D,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(R.interface!==void 0){let I=R.interface;const P=s;if(typeof I!="string")return je.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Records")return je.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var G=P===s}else var G=!0;if(G){if(R.method!==void 0){let I=R.method;const P=s;if(typeof I!="string")return je.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(I!=="Write")return je.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:tl.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var G=P===s}else var G=!0;if(G){if(R.recipient!==void 0){let I=R.recipient;const P=s;if(s===s)if(typeof I=="string"){if(!oa.test(I))return je.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return je.errors=[{instancePath:e+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=P===s}else var G=!0;if(G){if(R.protocol!==void 0){const I=s;if(typeof R.protocol!="string")return je.errors=[{instancePath:e+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=I===s}else var G=!0;if(G){if(R.protocolPath!==void 0){let I=R.protocolPath;const P=s;if(s===P)if(typeof I=="string"){if(!a0e.test(I))return je.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}else return je.errors=[{instancePath:e+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=P===s}else var G=!0;if(G){if(R.schema!==void 0){const I=s;if(typeof R.schema!="string")return je.errors=[{instancePath:e+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=I===s}else var G=!0;if(G){if(R.parentId!==void 0){const I=s;if(typeof R.parentId!="string")return je.errors=[{instancePath:e+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=I===s}else var G=!0;if(G){if(R.dataCid!==void 0){const I=s;if(typeof R.dataCid!="string")return je.errors=[{instancePath:e+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=I===s}else var G=!0;if(G){if(R.dataSize!==void 0){let I=R.dataSize;const P=s;if(!(typeof I=="number"&&isFinite(I)))return je.errors=[{instancePath:e+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var G=P===s}else var G=!0;if(G){if(R.dateCreated!==void 0){let I=R.dateCreated;const P=s;if(s===s)if(typeof I=="string"){if(!Un.test(I))return je.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return je.errors=[{instancePath:e+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=P===s}else var G=!0;if(G){if(R.messageTimestamp!==void 0){let I=R.messageTimestamp;const P=s;if(s===s)if(typeof I=="string"){if(!Un.test(I))return je.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return je.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=P===s}else var G=!0;if(G){if(R.published!==void 0){const I=s;if(typeof R.published!="boolean")return je.errors=[{instancePath:e+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var G=I===s}else var G=!0;if(G){if(R.datePublished!==void 0){let I=R.datePublished;const P=s;if(s===s)if(typeof I=="string"){if(!Un.test(I))return je.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return je.errors=[{instancePath:e+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=P===s}else var G=!0;if(G)if(R.dataFormat!==void 0){const I=s;if(typeof R.dataFormat!="string")return je.errors=[{instancePath:e+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var G=I===s}else var G=!0}}}}}}}}}}}}}}}else return je.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var h=C===s}else var h=!0}}}}}}}else return je.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return je.errors=i,s===0}function Y1(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(!je(t,{instancePath:e,parentData:r,parentDataProperty:n,rootData:o}))i=i===null?je.errors:i.concat(je.errors),s=i.length;else if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.recordId===void 0&&(c="recordId")||t.authorization===void 0&&(c="authorization"))return Y1.errors=[{instancePath:e,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1}else return Y1.errors=[{instancePath:e,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Y1.errors=i,s===0}const c0e=je,f0e=_o,_F={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},watermark:{type:"string"}}}}};function _o(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return _o.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return _o.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp"))return _o.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!(y==="interface"||y==="method"||y==="messageTimestamp"||y==="watermark"))return _o.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return _o.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Events")return _o.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:_F.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return _o.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Get")return _o.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:_F.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.messageTimestamp!==void 0){const y=s;if(typeof l.messageTimestamp!="string")return _o.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0;if(c)if(l.watermark!==void 0){const y=s;if(typeof l.watermark!="string")return _o.errors=[{instancePath:e+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0}}}}}else return _o.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return _o.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return _o.errors=i,s===0}const d0e=Z8;function Z8(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(Z8.errors=i,s===0):(Z8.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}const l0e=ho;function ho(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;const a=s;let c=!1,d=null;const f=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.crv===void 0&&(B="crv")||t.x===void 0&&(B="x")){const S={instancePath:e,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};i===null?i=[S]:i.push(S),s++}else{if(t.kty!==void 0){const S=s;if(t.kty!=="EC"){const x={instancePath:e+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};i===null?i=[x]:i.push(x),s++}var l=S===s}else var l=!0;if(l){if(t.crv!==void 0){const S=s;if(typeof t.crv!="string"){const Q={instancePath:e+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var l=S===s}else var l=!0;if(l){if(t.x!==void 0){const S=s;if(typeof t.x!="string"){const Q={instancePath:e+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var l=S===s}else var l=!0;if(l){if(t.y!==void 0){const S=s;if(typeof t.y!="string"){const Q={instancePath:e+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var l=S===s}else var l=!0;if(l)if(t.d!==void 0){const S=s;if(typeof t.d!="string"){const Q={instancePath:e+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var l=S===s}else var l=!0}}}}}var A=f===s;A&&(c=!0,d=0);const u=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.crv===void 0&&(B="crv")||t.x===void 0&&(B="x")){const S={instancePath:e,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"};i===null?i=[S]:i.push(S),s++}else{if(t.kty!==void 0){const S=s;if(t.kty!=="OKP"){const x={instancePath:e+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};i===null?i=[x]:i.push(x),s++}var p=S===s}else var p=!0;if(p){if(t.crv!==void 0){const S=s;if(typeof t.crv!="string"){const Q={instancePath:e+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var p=S===s}else var p=!0;if(p){if(t.x!==void 0){const S=s;if(typeof t.x!="string"){const Q={instancePath:e+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var p=S===s}else var p=!0;if(p)if(t.d!==void 0){const S=s;if(typeof t.d!="string"){const Q={instancePath:e+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[Q]:i.push(Q),s++}var p=S===s}else var p=!0}}}}var A=u===s;if(A&&c)c=!1,d=[d,1];else{A&&(c=!0,d=1);const B=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let x;if(t.n===void 0&&(x="n")||t.e===void 0&&(x="e")){const Q={instancePath:e,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:x},message:"must have required property '"+x+"'"};i===null?i=[Q]:i.push(Q),s++}else{if(t.kty!==void 0){const Q=s;if(t.kty!=="RSA"){const N={instancePath:e+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};i===null?i=[N]:i.push(N),s++}var h=Q===s}else var h=!0;if(h){if(t.n!==void 0){const Q=s;if(typeof t.n!="string"){const $={instancePath:e+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.e!==void 0){const Q=s;if(typeof t.e!="string"){const $={instancePath:e+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.d!==void 0){const Q=s;if(typeof t.d!="string"){const $={instancePath:e+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.p!==void 0){const Q=s;if(typeof t.p!="string"){const $={instancePath:e+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.q!==void 0){const Q=s;if(typeof t.q!="string"){const $={instancePath:e+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.dp!==void 0){const Q=s;if(typeof t.dp!="string"){const $={instancePath:e+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.dq!==void 0){const Q=s;if(typeof t.dq!="string"){const $={instancePath:e+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h){if(t.qi!==void 0){const Q=s;if(typeof t.qi!="string"){const $={instancePath:e+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[$]:i.push($),s++}var h=Q===s}else var h=!0;if(h)if(t.oth!==void 0){let Q=t.oth;const N=s;if(!(Q&&typeof Q=="object"&&!Array.isArray(Q))){const G={instancePath:e+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[G]:i.push(G),s++}var h=N===s}else var h=!0}}}}}}}}}}var A=B===s;if(A&&c)c=!1,d=[d,2];else{A&&(c=!0,d=2);const x=s;if(t&&typeof t=="object"&&!Array.isArray(t)){let N;if(t.k===void 0&&(N="k")){const $={instancePath:e,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"};i===null?i=[$]:i.push($),s++}else{if(t.kty!==void 0){const $=s;if(t.kty!=="oct"){const G={instancePath:e+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};i===null?i=[G]:i.push(G),s++}var y=$===s}else var y=!0;if(y)if(t.k!==void 0){const $=s;if(typeof t.k!="string"){const z={instancePath:e+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[z]:i.push(z),s++}var y=$===s}else var y=!0}}var A=x===s;A&&c?(c=!1,d=[d,3]):A&&(c=!0,d=3)}}if(c)s=a,i!==null&&(a?i.length=a:i=null);else{const B={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return i===null?i=[B]:i.push(B),s++,ho.errors=i,!1}if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let B;if(t.kty===void 0&&(B="kty"))return ho.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:B},message:"must have required property '"+B+"'"}],!1;if(t.alg!==void 0){const S=s;if(typeof t.alg!="string")return ho.errors=[{instancePath:e+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.kid!==void 0){const S=s;if(typeof t.kid!="string")return ho.errors=[{instancePath:e+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.kty!==void 0){let S=t.kty;const x=s;if(!(S==="EC"||S==="RSA"||S==="oct"||S==="OKP"))return ho.errors=[{instancePath:e+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:PH.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;var v=x===s}else var v=!0;if(v){if(t.crv!==void 0){const S=s;if(typeof t.crv!="string")return ho.errors=[{instancePath:e+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.use!==void 0){const S=s;if(typeof t.use!="string")return ho.errors=[{instancePath:e+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.key_ops!==void 0){const S=s;if(typeof t.key_ops!="string")return ho.errors=[{instancePath:e+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.x5u!==void 0){const S=s;if(typeof t.x5u!="string")return ho.errors=[{instancePath:e+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.x5c!==void 0){const S=s;if(typeof t.x5c!="string")return ho.errors=[{instancePath:e+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v){if(t.x5t!==void 0){const S=s;if(typeof t.x5t!="string")return ho.errors=[{instancePath:e+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0;if(v)if(t["x5t#S256"]!==void 0){const S=s;if(typeof t["x5t#S256"]!="string")return ho.errors=[{instancePath:e+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var v=S===s}else var v=!0}}}}}}}}}else return ho.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ho.errors=i,s===0}const u0e=yr,h0e=Rf;function Rf(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.id===void 0&&(c="id")||t.type===void 0&&(c="type")||t.controller===void 0&&(c="controller")||t.publicKeyJwk===void 0&&(c="publicKeyJwk"))return Rf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;{const d=s;for(const f in t)if(!(f==="id"||f==="type"||f==="controller"||f==="publicKeyJwk"))return Rf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"}],!1;if(d===s){if(t.id!==void 0){const f=s;if(typeof t.id!="string")return Rf.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=f===s}else var a=!0;if(a){if(t.type!==void 0){const f=s;if(t.type!=="JsonWebKey2020")return Rf.errors=[{instancePath:e+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;var a=f===s}else var a=!0;if(a){if(t.controller!==void 0){let f=t.controller;const l=s;if(s===s)if(typeof f=="string"){if(!oa.test(f))return Rf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Rf.errors=[{instancePath:e+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=l===s}else var a=!0;if(a)if(t.publicKeyJwk!==void 0){const f=s;pr(t.publicKeyJwk,{instancePath:e+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:o})||(i=i===null?pr.errors:i.concat(pr.errors),s=i.length);var a=f===s}else var a=!0}}}}}else return Rf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Rf.errors=i,s===0}const A0e=Ii,DF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Ii(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f;if(t.authorization===void 0&&(f="authorization")||t.descriptor===void 0&&(f="descriptor"))return Ii.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:f},message:"must have required property '"+f+"'"}],!1;{const l=s;for(const u in t)if(!(u==="authorization"||u==="descriptor"))return Ii.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;if(l===s){if(t.authorization!==void 0){const u=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=u===s}else var a=!0;if(a)if(t.descriptor!==void 0){let u=t.descriptor;const p=s;if(s===p)if(u&&typeof u=="object"&&!Array.isArray(u)){let h;if(u.interface===void 0&&(h="interface")||u.method===void 0&&(h="method")||u.messageTimestamp===void 0&&(h="messageTimestamp"))return Ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{const y=s;for(const v in u)if(!(v==="interface"||v==="method"||v==="messageTimestamp"||v==="messageCids"))return Ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;if(y===s){if(u.interface!==void 0){let v=u.interface;const B=s;if(typeof v!="string")return Ii.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Messages")return Ii.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:DF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.method!==void 0){let v=u.method;const B=s;if(typeof v!="string")return Ii.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Get")return Ii.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:DF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.messageTimestamp!==void 0){let v=u.messageTimestamp;const B=s;if(s===s)if(typeof v=="string"){if(!Un.test(v))return Ii.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ii.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===s}else var c=!0;if(c)if(u.messageCids!==void 0){let v=u.messageCids;const B=s;if(s===B)if(Array.isArray(v)){if(v.length<1)return Ii.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var d=!0;const x=v.length;for(let Q=0;Q<x;Q++){const N=s;if(typeof v[Q]!="string")return Ii.errors=[{instancePath:e+"/descriptor/messageCids/"+Q,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=N===s;if(!d)break}}}else return Ii.errors=[{instancePath:e+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=B===s}else var c=!0}}}}}else return Ii.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=p===s}else var a=!0}}}else return Ii.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ii.errors=i,s===0}const g0e=Xo;function Xo(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){if(Object.keys(t).length<1)return Xo.errors=[{instancePath:e,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const p=s;for(const A in t)if(!(A==="gt"||A==="gte"||A==="lt"||A==="lte"))return Xo.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;if(p===s){if(t.gt!==void 0){const A=s,h=s,y=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.gte===void 0){const v={};i===null?i=[v]:i.push(v),s++}var a=y===s;if(a)return Xo.errors=[{instancePath:e,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=h,i!==null&&(h?i.length=h:i=null);var c=A===s}else var c=!0;if(c){if(t.gte!==void 0){const A=s,h=s,y=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.gt===void 0){const B={};i===null?i=[B]:i.push(B),s++}var d=y===s;if(d)return Xo.errors=[{instancePath:e,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=h,i!==null&&(h?i.length=h:i=null);var c=A===s}else var c=!0;if(c){if(t.lt!==void 0){const A=s,h=s,y=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.lte===void 0){const B={};i===null?i=[B]:i.push(B),s++}var f=y===s;if(f)return Xo.errors=[{instancePath:e,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=h,i!==null&&(h?i.length=h:i=null);var c=A===s}else var c=!0;if(c){if(t.lte!==void 0){const A=s,h=s,y=s;if(t&&typeof t=="object"&&!Array.isArray(t)&&t.lt===void 0){const B={};i===null?i=[B]:i.push(B),s++}var l=y===s;if(l)return Xo.errors=[{instancePath:e,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=h,i!==null&&(h?i.length=h:i=null);var c=A===s}else var c=!0;if(c){if(t.gt!==void 0){let A=t.gt;const h=s;if(!(typeof A=="number"&&isFinite(A)))return Xo.errors=[{instancePath:e+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var u=h===s}else var u=!0;if(u){if(t.gte!==void 0){let A=t.gte;const h=s;if(!(typeof A=="number"&&isFinite(A)))return Xo.errors=[{instancePath:e+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var u=h===s}else var u=!0;if(u){if(t.lt!==void 0){let A=t.lt;const h=s;if(!(typeof A=="number"&&isFinite(A)))return Xo.errors=[{instancePath:e+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var u=h===s}else var u=!0;if(u)if(t.lte!==void 0){let A=t.lte;const h=s;if(!(typeof A=="number"&&isFinite(A)))return Xo.errors=[{instancePath:e+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var u=h===s}else var u=!0}}}}}}}}}else return Xo.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Xo.errors=i,s===0}const p0e=X8;function X8(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(X8.errors=i,s===0):(X8.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}const y0e=Ut,I0e=$r,a3={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function My(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;const a=s;let c=!1,d=null;const f=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){if(t.interface!==void 0){const S=s;if(t.interface!=="Protocols"){const x={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};i===null?i=[x]:i.push(x),s++}var u=S===s}else var u=!0;if(u)if(t.method!==void 0){const S=s;if(t.method!=="Query"){const Q={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};i===null?i=[Q]:i.push(Q),s++}var u=S===s}else var u=!0}else{const S={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[S]:i.push(S),s++}var y=f===s;y&&(c=!0,d=0);const p=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let S;if(t.interface===void 0&&(S="interface")||t.method===void 0&&(S="method")){const x={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:S},message:"must have required property '"+S+"'"};i===null?i=[x]:i.push(x),s++}else{if(t.interface!==void 0){const x=s;if(t.interface!=="Records"){const Q={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[Q]:i.push(Q),s++}var h=x===s}else var h=!0;if(h){if(t.method!==void 0){const x=s;if(t.method!=="Read"){const N={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.schema!==void 0){const x=s;if(typeof t.schema!="string"){const N={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.protocol!==void 0){const x=s;if(typeof t.protocol!="string"){const N={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h){if(t.contextId!==void 0){const x=s;if(typeof t.contextId!="string"){const N={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0;if(h)if(t.protocolPath!==void 0){const x=s;if(typeof t.protocolPath!="string"){const N={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[N]:i.push(N),s++}var h=x===s}else var h=!0}}}}}}else{const S={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[S]:i.push(S),s++}var y=p===s;if(y&&c)c=!1,d=[d,1];else{y&&(c=!0,d=1);const S=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let N;if(t.interface===void 0&&(N="interface")||t.method===void 0&&(N="method")){const $={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:N},message:"must have required property '"+N+"'"};i===null?i=[$]:i.push($),s++}else{if(t.interface!==void 0){const $=s;if(t.interface!=="Records"){const G={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[G]:i.push(G),s++}var v=$===s}else var v=!0;if(v){if(t.method!==void 0){const $=s;if(t.method!=="Delete"){const z={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};i===null?i=[z]:i.push(z),s++}var v=$===s}else var v=!0;if(v)if(t.schema!==void 0){const $=s;if(typeof t.schema!="string"){const z={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[z]:i.push(z),s++}var v=$===s}else var v=!0}}}else{const N={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[N]:i.push(N),s++}var y=S===s;if(y&&c)c=!1,d=[d,2];else{y&&(c=!0,d=2);const N=s;if(s===s)if(t&&typeof t=="object"&&!Array.isArray(t)){let z;if(t.interface===void 0&&(z="interface")||t.method===void 0&&(z="method")){const Y={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:z},message:"must have required property '"+z+"'"};i===null?i=[Y]:i.push(Y),s++}else{if(t.interface!==void 0){const Y=s;if(t.interface!=="Records"){const R={instancePath:e+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};i===null?i=[R]:i.push(R),s++}var B=Y===s}else var B=!0;if(B){if(t.method!==void 0){const Y=s;if(t.method!=="Write"){const C={instancePath:e+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.schema!==void 0){const Y=s;if(typeof t.schema!="string"){const C={instancePath:e+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.protocol!==void 0){const Y=s;if(typeof t.protocol!="string"){const C={instancePath:e+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B){if(t.contextId!==void 0){const Y=s;if(typeof t.contextId!="string"){const C={instancePath:e+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0;if(B)if(t.protocolPath!==void 0){const Y=s;if(typeof t.protocolPath!="string"){const C={instancePath:e+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[C]:i.push(C),s++}var B=Y===s}else var B=!0}}}}}}else{const z={instancePath:e,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};i===null?i=[z]:i.push(z),s++}var y=N===s;y&&c?(c=!1,d=[d,3]):y&&(c=!0,d=3)}}if(c)s=a,i!==null&&(a?i.length=a:i=null);else{const S={instancePath:e,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:d},message:"must match exactly one schema in oneOf"};return i===null?i=[S]:i.push(S),s++,My.errors=i,!1}return My.errors=i,s===0}function $r(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return $r.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return $r.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.grantedBy===void 0&&(A="grantedBy")||l.grantedTo===void 0&&(A="grantedTo")||l.grantedFor===void 0&&(A="grantedFor")||l.scope===void 0&&(A="scope"))return $r.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!EB.call(a3.properties.descriptor.properties,y))return $r.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return $r.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Permissions")return $r.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:a3.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return $r.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Request")return $r.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:a3.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return $r.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return $r.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.description!==void 0){const y=s;if(typeof l.description!="string")return $r.errors=[{instancePath:e+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0;if(c){if(l.grantedTo!==void 0){let y=l.grantedTo;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return $r.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $r.errors=[{instancePath:e+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.grantedBy!==void 0){let y=l.grantedBy;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return $r.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $r.errors=[{instancePath:e+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.grantedFor!==void 0){let y=l.grantedFor;const v=s;if(s===s)if(typeof y=="string"){if(!oa.test(y))return $r.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return $r.errors=[{instancePath:e+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.scope!==void 0){const y=s;My(l.scope,{instancePath:e+"/descriptor/scope",parentData:l,parentDataProperty:"scope",rootData:o})||(i=i===null?My.errors:i.concat(My.errors),s=i.length);var c=y===s}else var c=!0;if(c)if(l.conditions!==void 0){let y=l.conditions;const v=s;if(s===s)if(y&&typeof y=="object"&&!Array.isArray(y)){const x=s;for(const Q in y)if(Q!=="publication")return $r.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(x===s&&y.publication!==void 0){let Q=y.publication;if(typeof Q!="string")return $r.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(Q==="Required"||Q==="Prohibited"))return $r.errors=[{instancePath:e+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:NH.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}else return $r.errors=[{instancePath:e+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=v===s}else var c=!0}}}}}}}}}}else return $r.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return $r.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return $r.errors=i,s===0}const m0e=Ao,kF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}};function Ao(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return Ao.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return Ao.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.permissionsGrantId===void 0&&(A="permissionsGrantId"))return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!(y==="messageTimestamp"||y==="permissionsGrantId"||y==="interface"||y==="method"))return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return Ao.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Ao.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c){if(l.permissionsGrantId!==void 0){const y=s;if(typeof l.permissionsGrantId!="string")return Ao.errors=[{instancePath:e+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=y===s}else var c=!0;if(c){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return Ao.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Permissions")return Ao.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:kF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c)if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return Ao.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Revoke")return Ao.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:kF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0}}}}}else return Ao.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return Ao.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Ao.errors=i,s===0}const w0e=ex;function ex(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;return t&&typeof t=="object"&&!Array.isArray(t)?(ex.errors=i,s===0):(ex.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}const b0e=Jn,TF=new RegExp(".*","u"),c3={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"string",enum:["delete","read","update","write"]}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a record with either $globalRole or $contextRole set to true",type:"string"},can:{type:"string",enum:["delete","query","read","update","write"]}}}]}},$globalRole:{$comment:"When `true`, this turns a record into `role` that may be used across contexts",type:"boolean"},$contextRole:{$comment:"When `true`, this turns a record into `role` that may be used within a context",type:"boolean"}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},FF=new RegExp("^[^$].*","u"),f3={validate:bi};function bi(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){const A=s;for(const h in t)if(!(h==="$encryption"||h==="$actions"||h==="$globalRole"||h==="$contextRole"||FF.test(h)))return bi.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:h},message:"must NOT have additional properties"}],!1;if(A===s){if(t.$encryption!==void 0){let h=t.$encryption;const y=s;if(s===y)if(h&&typeof h=="object"&&!Array.isArray(h)){const v=s;for(const B in h)if(!(B==="rootKeyId"||B==="publicKeyJwk"))return bi.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:B},message:"must NOT have additional properties"}],!1;if(v===s){if(h.rootKeyId!==void 0){const B=s;if(typeof h.rootKeyId!="string")return bi.errors=[{instancePath:e+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=B===s}else var a=!0;if(a)if(h.publicKeyJwk!==void 0){const B=s;pr(h.publicKeyJwk,{instancePath:e+"/$encryption/publicKeyJwk",parentData:h,parentDataProperty:"publicKeyJwk",rootData:o})||(i=i===null?pr.errors:i.concat(pr.errors),s=i.length);var a=B===s}else var a=!0}}else return bi.errors=[{instancePath:e+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=y===s}else var c=!0;if(c){if(t.$actions!==void 0){let h=t.$actions;const y=s;if(s===y)if(Array.isArray(h)){if(h.length<1)return bi.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var d=!0;const B=h.length;for(let S=0;S<B;S++){let x=h[S];const Q=s;if(!(x&&typeof x=="object"&&!Array.isArray(x)))return bi.errors=[{instancePath:e+"/$actions/"+S,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const N=s;let $=!1,G=null;const z=s;if(x&&typeof x=="object"&&!Array.isArray(x)){let C;if(x.who===void 0&&(C="who")||x.can===void 0&&(C="can")){const m={instancePath:e+"/$actions/"+S,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};i===null?i=[m]:i.push(m),s++}else{const m=s;for(const g in x)if(!(g==="who"||g==="of"||g==="can")){const w={instancePath:e+"/$actions/"+S,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties"};i===null?i=[w]:i.push(w),s++;break}if(m===s){if(x.who!==void 0){let g=x.who;const w=s;if(typeof g!="string"){const F={instancePath:e+"/$actions/"+S+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[F]:i.push(F),s++}if(!(g==="anyone"||g==="author"||g==="recipient")){const F={instancePath:e+"/$actions/"+S+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:c3.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};i===null?i=[F]:i.push(F),s++}var f=w===s}else var f=!0;if(f){if(x.of!==void 0){const g=s;if(typeof x.of!="string"){const F={instancePath:e+"/$actions/"+S+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[F]:i.push(F),s++}var f=g===s}else var f=!0;if(f)if(x.can!==void 0){let g=x.can;const w=s;if(typeof g!="string"){const H={instancePath:e+"/$actions/"+S+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[H]:i.push(H),s++}if(!(g==="delete"||g==="read"||g==="update"||g==="write")){const H={instancePath:e+"/$actions/"+S+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:c3.properties.$actions.items.oneOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};i===null?i=[H]:i.push(H),s++}var f=w===s}else var f=!0}}}}var u=z===s;u&&($=!0,G=0);const Y=s;if(x&&typeof x=="object"&&!Array.isArray(x)){let C;if(x.role===void 0&&(C="role")||x.can===void 0&&(C="can")){const m={instancePath:e+"/$actions/"+S,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:C},message:"must have required property '"+C+"'"};i===null?i=[m]:i.push(m),s++}else{if(x.role!==void 0){const m=s;if(typeof x.role!="string"){const g={instancePath:e+"/$actions/"+S+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[g]:i.push(g),s++}var l=m===s}else var l=!0;if(l)if(x.can!==void 0){let m=x.can;const g=s;if(typeof m!="string"){const F={instancePath:e+"/$actions/"+S+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};i===null?i=[F]:i.push(F),s++}if(!(m==="delete"||m==="query"||m==="read"||m==="update"||m==="write")){const F={instancePath:e+"/$actions/"+S+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:c3.properties.$actions.items.oneOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};i===null?i=[F]:i.push(F),s++}var l=g===s}else var l=!0}}var u=Y===s;if(u&&$?($=!1,G=[G,1]):u&&($=!0,G=1),$)s=N,i!==null&&(N?i.length=N:i=null);else{const C={instancePath:e+"/$actions/"+S,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:G},message:"must match exactly one schema in oneOf"};return i===null?i=[C]:i.push(C),s++,bi.errors=i,!1}var d=Q===s;if(!d)break}}}else return bi.errors=[{instancePath:e+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var c=y===s}else var c=!0;if(c){if(t.$globalRole!==void 0){const h=s;if(typeof t.$globalRole!="boolean")return bi.errors=[{instancePath:e+"/$globalRole",schemaPath:"#/properties/%24globalRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=h===s}else var c=!0;if(c){if(t.$contextRole!==void 0){const h=s;if(typeof t.$contextRole!="boolean")return bi.errors=[{instancePath:e+"/$contextRole",schemaPath:"#/properties/%24contextRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var c=h===s}else var c=!0;if(c){var p=!0;for(const h in t)if(FF.test(h)){const y=s;f3.validate(t[h],{instancePath:e+"/"+h.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:t,parentDataProperty:h,rootData:o})||(i=i===null?f3.validate.errors:i.concat(f3.validate.errors),s=i.length);var p=y===s;if(!p)break}}}}}}}else return bi.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return bi.errors=i,s===0}function Jn(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let u;if(t.protocol===void 0&&(u="protocol")||t.published===void 0&&(u="published")||t.types===void 0&&(u="types")||t.structure===void 0&&(u="structure"))return Jn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:u},message:"must have required property '"+u+"'"}],!1;{const p=s;for(const A in t)if(!(A==="protocol"||A==="published"||A==="types"||A==="structure"))return Jn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:A},message:"must NOT have additional properties"}],!1;if(p===s){if(t.protocol!==void 0){const A=s;if(typeof t.protocol!="string")return Jn.errors=[{instancePath:e+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=A===s}else var a=!0;if(a){if(t.published!==void 0){const A=s;if(typeof t.published!="boolean")return Jn.errors=[{instancePath:e+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;var a=A===s}else var a=!0;if(a){if(t.types!==void 0){let A=t.types;const h=s;if(s===h)if(A&&typeof A=="object"&&!Array.isArray(A)){var c=!0;for(const v in A)if(TF.test(v)){let B=A[v];const S=s;if(s===S)if(B&&typeof B=="object"&&!Array.isArray(B)){const Q=s;for(const N in B)if(!(N==="schema"||N==="dataFormats"))return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:N},message:"must NOT have additional properties"}],!1;if(Q===s){if(B.schema!==void 0){const N=s;if(typeof B.schema!="string")return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=N===s}else var d=!0;if(d)if(B.dataFormats!==void 0){let N=B.dataFormats;const $=s;if(s===$)if(Array.isArray(N)){if(N.length<1)return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{var f=!0;const z=N.length;for(let Y=0;Y<z;Y++){const R=s;if(typeof N[Y]!="string")return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Y,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=R===s;if(!f)break}}}else return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;var d=$===s}else var d=!0}}else return Jn.errors=[{instancePath:e+"/types/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=S===s;if(!c)break}}else return Jn.errors=[{instancePath:e+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=h===s}else var a=!0;if(a)if(t.structure!==void 0){let A=t.structure;const h=s;if(s===h)if(A&&typeof A=="object"&&!Array.isArray(A)){var l=!0;for(const v in A)if(TF.test(v)){const B=s;bi(A[v],{instancePath:e+"/structure/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:A,parentDataProperty:v,rootData:o})||(i=i===null?bi.errors:i.concat(bi.errors),s=i.length);var l=B===s;if(!l)break}}else return Jn.errors=[{instancePath:e+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=h===s}else var a=!0}}}}}else return Jn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Jn.errors=i,s===0}const E0e=bi,v0e=Do,MF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Do(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.authorization===void 0&&(d="authorization")||t.descriptor===void 0&&(d="descriptor"))return Do.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return Do.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.definition===void 0&&(A="definition"))return Do.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!(y==="interface"||y==="method"||y==="messageTimestamp"||y==="definition"))return Do.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return Do.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Protocols")return Do.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:MF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return Do.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Configure")return Do.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:MF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return Do.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Do.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c)if(l.definition!==void 0){const y=s;Jn(l.definition,{instancePath:e+"/descriptor/definition",parentData:l,parentDataProperty:"definition",rootData:o})||(i=i===null?Jn.errors:i.concat(Jn.errors),s=i.length);var c=y===s}else var c=!0}}}}}else return Do.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return Do.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Do.errors=i,s===0}const B0e=Cn,UF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}};function Cn(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let f;if(t.descriptor===void 0&&(f="descriptor"))return Cn.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:f},message:"must have required property '"+f+"'"}],!1;{const l=s;for(const u in t)if(!(u==="authorization"||u==="descriptor"))return Cn.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"}],!1;if(l===s){if(t.authorization!==void 0){const u=s;jr(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?jr.errors:i.concat(jr.errors),s=i.length);var a=u===s}else var a=!0;if(a)if(t.descriptor!==void 0){let u=t.descriptor;const p=s;if(s===p)if(u&&typeof u=="object"&&!Array.isArray(u)){let h;if(u.interface===void 0&&(h="interface")||u.method===void 0&&(h="method")||u.messageTimestamp===void 0&&(h="messageTimestamp"))return Cn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:h},message:"must have required property '"+h+"'"}],!1;{const y=s;for(const v in u)if(!(v==="interface"||v==="method"||v==="messageTimestamp"||v==="filter"))return Cn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:v},message:"must NOT have additional properties"}],!1;if(y===s){if(u.interface!==void 0){let v=u.interface;const B=s;if(typeof v!="string")return Cn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Protocols")return Cn.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:UF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.method!==void 0){let v=u.method;const B=s;if(typeof v!="string")return Cn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(v!=="Query")return Cn.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:UF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=B===s}else var c=!0;if(c){if(u.messageTimestamp!==void 0){let v=u.messageTimestamp;const B=s;if(s===s)if(typeof v=="string"){if(!Un.test(v))return Cn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return Cn.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=B===s}else var c=!0;if(c)if(u.filter!==void 0){let v=u.filter;const B=s;if(s===B)if(v&&typeof v=="object"&&!Array.isArray(v)){if(Object.keys(v).length<1)return Cn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const x=s;for(const Q in v)if(!(Q==="protocol"||Q==="recipient"))return Cn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties"}],!1;if(x===s){if(v.protocol!==void 0){const Q=s;if(typeof v.protocol!="string")return Cn.errors=[{instancePath:e+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=Q===s}else var d=!0;if(d)if(v.recipient!==void 0){let Q=v.recipient;const N=s;if(s===s)if(typeof Q=="string"){if(!oa.test(Q))return Cn.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}else return Cn.errors=[{instancePath:e+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=N===s}else var d=!0}}}else return Cn.errors=[{instancePath:e+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var c=B===s}else var c=!0}}}}}else return Cn.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=p===s}else var a=!0}}}else return Cn.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Cn.errors=i,s===0}const C0e=ko,RF={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function ko(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(s===0)if(t&&typeof t=="object"&&!Array.isArray(t)){let d;if(t.descriptor===void 0&&(d="descriptor"))return ko.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:d},message:"must have required property '"+d+"'"}],!1;{const f=s;for(const l in t)if(!(l==="authorization"||l==="descriptor"))return ko.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"}],!1;if(f===s){if(t.authorization!==void 0){const l=s;Qs(t.authorization,{instancePath:e+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(i=i===null?Qs.errors:i.concat(Qs.errors),s=i.length);var a=l===s}else var a=!0;if(a)if(t.descriptor!==void 0){let l=t.descriptor;const u=s;if(s===u)if(l&&typeof l=="object"&&!Array.isArray(l)){let A;if(l.interface===void 0&&(A="interface")||l.method===void 0&&(A="method")||l.messageTimestamp===void 0&&(A="messageTimestamp")||l.filter===void 0&&(A="filter"))return ko.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:A},message:"must have required property '"+A+"'"}],!1;{const h=s;for(const y in l)if(!(y==="interface"||y==="method"||y==="messageTimestamp"||y==="filter"))return ko.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties"}],!1;if(h===s){if(l.interface!==void 0){let y=l.interface;const v=s;if(typeof y!="string")return ko.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Records")return ko.errors=[{instancePath:e+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:RF.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.method!==void 0){let y=l.method;const v=s;if(typeof y!="string")return ko.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(y!=="Read")return ko.errors=[{instancePath:e+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:RF.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;var c=v===s}else var c=!0;if(c){if(l.messageTimestamp!==void 0){let y=l.messageTimestamp;const v=s;if(s===s)if(typeof y=="string"){if(!Un.test(y))return ko.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}else return ko.errors=[{instancePath:e+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=v===s}else var c=!0;if(c)if(l.filter!==void 0){const y=s;ze(l.filter,{instancePath:e+"/descriptor/filter",parentData:l,parentDataProperty:"filter",rootData:o})||(i=i===null?ze.errors:i.concat(ze.errors),s=i.length);var c=y===s}else var c=!0}}}}}else return ko.errors=[{instancePath:e+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var a=u===s}else var a=!0}}}else return ko.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return ko.errors=i,s===0}const Q0e=ze,x0e=pr,S0e=Nf;function Nf(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.descriptorCid===void 0&&(c="descriptorCid"))return Nf.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;for(const d in t)if(!(d==="descriptorCid"||d==="delegatedGrantId"||d==="permissionsGrantId"||d==="protocolRole"))return Nf.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;{if(t.descriptorCid!==void 0){const d=s;if(typeof t.descriptorCid!="string")return Nf.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.delegatedGrantId!==void 0){const d=s;if(typeof t.delegatedGrantId!="string")return Nf.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.permissionsGrantId!==void 0){const d=s;if(typeof t.permissionsGrantId!="string")return Nf.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a)if(t.protocolRole!==void 0){const d=s;if(typeof t.protocolRole!="string")return Nf.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0}}}}else return Nf.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return Nf.errors=i,s===0}const _0e=es;function es(t,{instancePath:e="",parentData:r,parentDataProperty:n,rootData:o=t}={}){let i=null,s=0;if(t&&typeof t=="object"&&!Array.isArray(t)){let c;if(t.descriptorCid===void 0&&(c="descriptorCid")||t.recordId===void 0&&(c="recordId"))return es.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:c},message:"must have required property '"+c+"'"}],!1;for(const d in t)if(!(d==="descriptorCid"||d==="recordId"||d==="contextId"||d==="attestationCid"||d==="encryptionCid"||d==="delegatedGrantId"||d==="permissionsGrantId"||d==="protocolRole"))return es.errors=[{instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:d},message:"must NOT have additional properties"}],!1;{if(t.descriptorCid!==void 0){const d=s;if(typeof t.descriptorCid!="string")return es.errors=[{instancePath:e+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.recordId!==void 0){const d=s;if(typeof t.recordId!="string")return es.errors=[{instancePath:e+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.contextId!==void 0){const d=s;if(typeof t.contextId!="string")return es.errors=[{instancePath:e+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.attestationCid!==void 0){const d=s;if(typeof t.attestationCid!="string")return es.errors=[{instancePath:e+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.encryptionCid!==void 0){const d=s;if(typeof t.encryptionCid!="string")return es.errors=[{instancePath:e+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.delegatedGrantId!==void 0){const d=s;if(typeof t.delegatedGrantId!="string")return es.errors=[{instancePath:e+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a){if(t.permissionsGrantId!==void 0){const d=s;if(typeof t.permissionsGrantId!="string")return es.errors=[{instancePath:e+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0;if(a)if(t.protocolRole!==void 0){const d=s;if(typeof t.protocolRole!="string")return es.errors=[{instancePath:e+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=d===s}else var a=!0}}}}}}}}else return es.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;return es.errors=i,s===0}const D0e=Object.freeze(Object.defineProperty({__proto__:null,Authorization:t0e,AuthorizationDelegatedGrant:r0e,AuthorizationOwner:n0e,Definitions:d0e,EventsGet:f0e,GeneralJwk:l0e,GeneralJws:u0e,GenericSignaturePayload:S0e,JwkVerificationMethod:h0e,MessagesGet:A0e,NumberRangeFilter:g0e,PermissionsDefinitions:p0e,PermissionsGrant:y0e,PermissionsRequest:I0e,PermissionsRevoke:m0e,PermissionsScopes:w0e,ProtocolDefinition:b0e,ProtocolRuleSet:E0e,ProtocolsConfigure:v0e,ProtocolsQuery:B0e,PublicJwk:x0e,RecordsDelete:i0e,RecordsFilter:Q0e,RecordsQuery:o0e,RecordsRead:C0e,RecordsWrite:s0e,RecordsWriteSignaturePayload:_0e,RecordsWriteUnidentified:c0e},Symbol.toStringTag,{value:"Module"}));function tx(t,e){const r=D0e[t];if(!r)throw new be(we.SchemaValidatorSchemaNotFound,`schema for ${t} not found.`);if(r(e),!r.errors)return;const[n]=r.errors;let{instancePath:o,message:i}=n;throw o||(o=t),new be(we.SchemaValidationFailure,`${o}: ${i}`)}var d3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class _c{constructor(e){this.cache=e||new RH(600)}static get singleton(){return _c._singleton===void 0&&(_c._singleton=new _c),_c._singleton}static verifySignatures(e,r){return d3(this,void 0,void 0,function*(){return yield _c.singleton.verifySignatures(e,r)})}verifySignatures(e,r){return d3(this,void 0,void 0,function*(){const n=[];for(const o of e.signatures){let i;const s=mn.getKid(o),a=`${o.protected}.${e.payload}.${o.signature}`,c=yield this.cache.get(a);if(c===void 0){const f=yield _c.getPublicKey(s,r);i=yield mn.verifySignature(e.payload,o,f),yield this.cache.set(a,i)}else i=c;const d=mn.extractDid(s);if(i)n.push(d);else throw new be(we.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${d}`)}return{signers:n}})}static getPublicKey(e,r){return d3(this,void 0,void 0,function*(){const n=mn.extractDid(e),{didDocument:o}=yield r.resolve(n),{verificationMethod:i=[]}=o||{};let s;for(const c of i)if(e.endsWith(c.id)){s=c;break}if(!s)throw new be(we.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");tx("JwkVerificationMethod",s);const{publicKeyJwk:a}=s;return a})}}const k0e=["string","number","bigint","symbol"],T0e=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function F0e(t){if(t===null)return"null";if(t===void 0)return"undefined";if(t===!0||t===!1)return"boolean";const e=typeof t;if(k0e.includes(e))return e;if(e==="function")return"Function";if(Array.isArray(t))return"Array";if(M0e(t))return"Buffer";const r=U0e(t);return r||"Object"}function M0e(t){return t&&t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer.call(null,t)}function U0e(t){const e=Object.prototype.toString.call(t).slice(8,-1);if(T0e.includes(e))return e}class Ee{constructor(e,r,n){this.major=e,this.majorEncoded=e<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Ee.uint=new Ee(0,"uint",!0);Ee.negint=new Ee(1,"negint",!0);Ee.bytes=new Ee(2,"bytes",!0);Ee.string=new Ee(3,"string",!0);Ee.array=new Ee(4,"array",!1);Ee.map=new Ee(5,"map",!1);Ee.tag=new Ee(6,"tag",!1);Ee.float=new Ee(7,"float",!0);Ee.false=new Ee(7,"false",!0);Ee.true=new Ee(7,"true",!0);Ee.null=new Ee(7,"null",!0);Ee.undefined=new Ee(7,"undefined",!0);Ee.break=new Ee(7,"break",!0);class Je{constructor(e,r,n){this.type=e,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const J0=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",R0e=new TextDecoder,N0e=new TextEncoder;function hE(t){return J0&&globalThis.Buffer.isBuffer(t)}function OH(t){return t instanceof Uint8Array?hE(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t:Uint8Array.from(t)}const P0e=J0?(t,e,r)=>r-e>64?globalThis.Buffer.from(t.subarray(e,r)).toString("utf8"):PF(t,e,r):(t,e,r)=>r-e>64?R0e.decode(t.subarray(e,r)):PF(t,e,r),O0e=J0?t=>t.length>64?globalThis.Buffer.from(t):NF(t):t=>t.length>64?N0e.encode(t):NF(t),xf=t=>Uint8Array.from(t),uS=J0?(t,e,r)=>hE(t)?new Uint8Array(t.subarray(e,r)):t.slice(e,r):(t,e,r)=>t.slice(e,r),K0e=J0?(t,e)=>(t=t.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),OH(globalThis.Buffer.concat(t,e))):(t,e)=>{const r=new Uint8Array(e);let n=0;for(let o of t)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},H0e=J0?t=>globalThis.Buffer.allocUnsafe(t):t=>new Uint8Array(t);function L0e(t,e){if(hE(t)&&hE(e))return t.compare(e);for(let r=0;r<t.length;r++)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function NF(t,e=1/0){let r;const n=t.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function PF(t,e,r){const n=[];for(;e<r;){const o=t[e];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(e+s<=r){let a,c,d,f;switch(s){case 1:o<128&&(i=o);break;case 2:a=t[e+1],(a&192)===128&&(f=(o&31)<<6|a&63,f>127&&(i=f));break;case 3:a=t[e+1],c=t[e+2],(a&192)===128&&(c&192)===128&&(f=(o&15)<<12|(a&63)<<6|c&63,f>2047&&(f<55296||f>57343)&&(i=f));break;case 4:a=t[e+1],c=t[e+2],d=t[e+3],(a&192)===128&&(c&192)===128&&(d&192)===128&&(f=(o&15)<<18|(a&63)<<12|(c&63)<<6|d&63,f>65535&&f<1114112&&(i=f))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),e+=s}return G0e(n)}const OF=4096;function G0e(t){const e=t.length;if(e<=OF)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=OF));return r}const q0e=256;class KH{constructor(e=q0e){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let r=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(e,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(r=H0e(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];e&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=uS(n,0,this.cursor)}else r=K0e(this.chunks,this.cursor);return e&&this.reset(),r}}const Gt="CBOR decode error:",HH="CBOR encode error:";function V0(t,e,r){if(t.length-e<r)throw new Error(`${Gt} not enough data for type`)}const Ui=[24,256,65536,4294967296,BigInt("18446744073709551616")];function AA(t,e,r){V0(t,e,1);const n=t[e];if(r.strict===!0&&n<Ui[0])throw new Error(`${Gt} integer encoded in more bytes than necessary (strict decode)`);return n}function gA(t,e,r){V0(t,e,2);const n=t[e]<<8|t[e+1];if(r.strict===!0&&n<Ui[1])throw new Error(`${Gt} integer encoded in more bytes than necessary (strict decode)`);return n}function pA(t,e,r){V0(t,e,4);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3];if(r.strict===!0&&n<Ui[2])throw new Error(`${Gt} integer encoded in more bytes than necessary (strict decode)`);return n}function yA(t,e,r){V0(t,e,8);const n=t[e]*16777216+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3],o=t[e+4]*16777216+(t[e+5]<<16)+(t[e+6]<<8)+t[e+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<Ui[3])throw new Error(`${Gt} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${Gt} integers outside of the safe integer range are not supported`)}function $0e(t,e,r,n){return new Je(Ee.uint,AA(t,e+1,n),2)}function j0e(t,e,r,n){return new Je(Ee.uint,gA(t,e+1,n),3)}function z0e(t,e,r,n){return new Je(Ee.uint,pA(t,e+1,n),5)}function Y0e(t,e,r,n){return new Je(Ee.uint,yA(t,e+1,n),9)}function IA(t,e){return pa(t,0,e.value)}function pa(t,e,r){if(r<Ui[0]){const n=Number(r);t.push([e|n])}else if(r<Ui[1]){const n=Number(r);t.push([e|24,n])}else if(r<Ui[2]){const n=Number(r);t.push([e|25,n>>>8,n&255])}else if(r<Ui[3]){const n=Number(r);t.push([e|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<Ui[4]){const o=[e|27,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),s=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,t.push(o)}else throw new Error(`${Gt} encountered BigInt larger than allowable range`)}}IA.encodedSize=function(e){return pa.encodedSize(e.value)};pa.encodedSize=function(e){return e<Ui[0]?1:e<Ui[1]?2:e<Ui[2]?3:e<Ui[3]?5:9};IA.compareTokens=function(e,r){return e.value<r.value?-1:e.value>r.value?1:0};function J0e(t,e,r,n){return new Je(Ee.negint,-1-AA(t,e+1,n),2)}function V0e(t,e,r,n){return new Je(Ee.negint,-1-gA(t,e+1,n),3)}function W0e(t,e,r,n){return new Je(Ee.negint,-1-pA(t,e+1,n),5)}const hS=BigInt(-1),LH=BigInt(1);function Z0e(t,e,r,n){const o=yA(t,e+1,n);if(typeof o!="bigint"){const i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new Je(Ee.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${Gt} integers outside of the safe integer range are not supported`);return new Je(Ee.negint,hS-BigInt(o),9)}function AS(t,e){const r=e.value,n=typeof r=="bigint"?r*hS-LH:r*-1-1;pa(t,e.type.majorEncoded,n)}AS.encodedSize=function(e){const r=e.value,n=typeof r=="bigint"?r*hS-LH:r*-1-1;return n<Ui[0]?1:n<Ui[1]?2:n<Ui[2]?3:n<Ui[3]?5:9};AS.compareTokens=function(e,r){return e.value<r.value?1:e.value>r.value?-1:0};function lm(t,e,r,n){V0(t,e,r+n);const o=uS(t,e+r,e+r+n);return new Je(Ee.bytes,o,r+n)}function X0e(t,e,r,n){return lm(t,e,1,r)}function epe(t,e,r,n){return lm(t,e,2,AA(t,e+1,n))}function tpe(t,e,r,n){return lm(t,e,3,gA(t,e+1,n))}function rpe(t,e,r,n){return lm(t,e,5,pA(t,e+1,n))}function npe(t,e,r,n){const o=yA(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Gt} 64-bit integer bytes lengths not supported`);return lm(t,e,9,o)}function AE(t){return t.encodedBytes===void 0&&(t.encodedBytes=t.type===Ee.string?O0e(t.value):t.value),t.encodedBytes}function vB(t,e){const r=AE(e);pa(t,e.type.majorEncoded,r.length),t.push(r)}vB.encodedSize=function(e){const r=AE(e);return pa.encodedSize(r.length)+r.length};vB.compareTokens=function(e,r){return ipe(AE(e),AE(r))};function ipe(t,e){return t.length<e.length?-1:t.length>e.length?1:L0e(t,e)}function um(t,e,r,n,o){const i=r+n;V0(t,e,i);const s=new Je(Ee.string,P0e(t,e+r,e+i),i);return o.retainStringBytes===!0&&(s.byteValue=uS(t,e+r,e+i)),s}function ope(t,e,r,n){return um(t,e,1,r,n)}function spe(t,e,r,n){return um(t,e,2,AA(t,e+1,n),n)}function ape(t,e,r,n){return um(t,e,3,gA(t,e+1,n),n)}function cpe(t,e,r,n){return um(t,e,5,pA(t,e+1,n),n)}function fpe(t,e,r,n){const o=yA(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Gt} 64-bit integer string lengths not supported`);return um(t,e,9,o,n)}const dpe=vB;function W0(t,e,r,n){return new Je(Ee.array,n,r)}function lpe(t,e,r,n){return W0(t,e,1,r)}function upe(t,e,r,n){return W0(t,e,2,AA(t,e+1,n))}function hpe(t,e,r,n){return W0(t,e,3,gA(t,e+1,n))}function Ape(t,e,r,n){return W0(t,e,5,pA(t,e+1,n))}function gpe(t,e,r,n){const o=yA(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Gt} 64-bit integer array lengths not supported`);return W0(t,e,9,o)}function ppe(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Gt} indefinite length items not allowed`);return W0(t,e,1,1/0)}function gS(t,e){pa(t,Ee.array.majorEncoded,e.value)}gS.compareTokens=IA.compareTokens;gS.encodedSize=function(e){return pa.encodedSize(e.value)};function Z0(t,e,r,n){return new Je(Ee.map,n,r)}function ype(t,e,r,n){return Z0(t,e,1,r)}function Ipe(t,e,r,n){return Z0(t,e,2,AA(t,e+1,n))}function mpe(t,e,r,n){return Z0(t,e,3,gA(t,e+1,n))}function wpe(t,e,r,n){return Z0(t,e,5,pA(t,e+1,n))}function bpe(t,e,r,n){const o=yA(t,e+1,n);if(typeof o=="bigint")throw new Error(`${Gt} 64-bit integer map lengths not supported`);return Z0(t,e,9,o)}function Epe(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Gt} indefinite length items not allowed`);return Z0(t,e,1,1/0)}function pS(t,e){pa(t,Ee.map.majorEncoded,e.value)}pS.compareTokens=IA.compareTokens;pS.encodedSize=function(e){return pa.encodedSize(e.value)};function vpe(t,e,r,n){return new Je(Ee.tag,r,1)}function Bpe(t,e,r,n){return new Je(Ee.tag,AA(t,e+1,n),2)}function Cpe(t,e,r,n){return new Je(Ee.tag,gA(t,e+1,n),3)}function Qpe(t,e,r,n){return new Je(Ee.tag,pA(t,e+1,n),5)}function xpe(t,e,r,n){return new Je(Ee.tag,yA(t,e+1,n),9)}function yS(t,e){pa(t,Ee.tag.majorEncoded,e.value)}yS.compareTokens=IA.compareTokens;yS.encodedSize=function(e){return pa.encodedSize(e.value)};const Spe=20,_pe=21,Dpe=22,kpe=23;function Tpe(t,e,r,n){if(n.allowUndefined===!1)throw new Error(`${Gt} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Je(Ee.null,null,1):new Je(Ee.undefined,void 0,1)}function Fpe(t,e,r,n){if(n.allowIndefinite===!1)throw new Error(`${Gt} indefinite length items not allowed`);return new Je(Ee.break,void 0,1)}function IS(t,e,r){if(r){if(r.allowNaN===!1&&Number.isNaN(t))throw new Error(`${Gt} NaN values are not supported`);if(r.allowInfinity===!1&&(t===1/0||t===-1/0))throw new Error(`${Gt} Infinity values are not supported`)}return new Je(Ee.float,t,e)}function Mpe(t,e,r,n){return IS(wS(t,e+1),3,n)}function Upe(t,e,r,n){return IS(bS(t,e+1),5,n)}function Rpe(t,e,r,n){return IS(jH(t,e+1),9,n)}function mS(t,e,r){const n=e.value;if(n===!1)t.push([Ee.float.majorEncoded|Spe]);else if(n===!0)t.push([Ee.float.majorEncoded|_pe]);else if(n===null)t.push([Ee.float.majorEncoded|Dpe]);else if(n===void 0)t.push([Ee.float.majorEncoded|kpe]);else{let o,i=!1;(!r||r.float64!==!0)&&(qH(n),o=wS(Fa,1),n===o||Number.isNaN(n)?(Fa[0]=249,t.push(Fa.slice(0,3)),i=!0):($H(n),o=bS(Fa,1),n===o&&(Fa[0]=250,t.push(Fa.slice(0,5)),i=!0))),i||(Npe(n),o=jH(Fa,1),Fa[0]=251,t.push(Fa.slice(0,9)))}}mS.encodedSize=function(e,r){const n=e.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){qH(n);let o=wS(Fa,1);if(n===o||Number.isNaN(n))return 3;if($H(n),o=bS(Fa,1),n===o)return 5}return 9};const GH=new ArrayBuffer(9),Ls=new DataView(GH,1),Fa=new Uint8Array(GH,0);function qH(t){if(t===1/0)Ls.setUint16(0,31744,!1);else if(t===-1/0)Ls.setUint16(0,64512,!1);else if(Number.isNaN(t))Ls.setUint16(0,32256,!1);else{Ls.setFloat32(0,t);const e=Ls.getUint32(0),r=(e&2139095040)>>23,n=e&8388607;if(r===255)Ls.setUint16(0,31744,!1);else if(r===0)Ls.setUint16(0,(t&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?Ls.setUint16(0,0):o<-14?Ls.setUint16(0,(e&2147483648)>>16|1<<24+o,!1):Ls.setUint16(0,(e&2147483648)>>16|o+15<<10|n>>13,!1)}}}function wS(t,e){if(t.length-e<2)throw new Error(`${Gt} not enough data for float16`);const r=(t[e]<<8)+t[e+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function $H(t){Ls.setFloat32(0,t,!1)}function bS(t,e){if(t.length-e<4)throw new Error(`${Gt} not enough data for float32`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,4).getFloat32(0,!1)}function Npe(t){Ls.setFloat64(0,t,!1)}function jH(t,e){if(t.length-e<8)throw new Error(`${Gt} not enough data for float64`);const r=(t.byteOffset||0)+e;return new DataView(t.buffer,r,8).getFloat64(0,!1)}mS.compareTokens=IA.compareTokens;function tr(t,e,r){throw new Error(`${Gt} encountered invalid minor (${r}) for major ${t[e]>>>5}`)}function BB(t){return()=>{throw new Error(`${Gt} ${t}`)}}const Te=[];for(let t=0;t<=23;t++)Te[t]=tr;Te[24]=$0e;Te[25]=j0e;Te[26]=z0e;Te[27]=Y0e;Te[28]=tr;Te[29]=tr;Te[30]=tr;Te[31]=tr;for(let t=32;t<=55;t++)Te[t]=tr;Te[56]=J0e;Te[57]=V0e;Te[58]=W0e;Te[59]=Z0e;Te[60]=tr;Te[61]=tr;Te[62]=tr;Te[63]=tr;for(let t=64;t<=87;t++)Te[t]=X0e;Te[88]=epe;Te[89]=tpe;Te[90]=rpe;Te[91]=npe;Te[92]=tr;Te[93]=tr;Te[94]=tr;Te[95]=BB("indefinite length bytes/strings are not supported");for(let t=96;t<=119;t++)Te[t]=ope;Te[120]=spe;Te[121]=ape;Te[122]=cpe;Te[123]=fpe;Te[124]=tr;Te[125]=tr;Te[126]=tr;Te[127]=BB("indefinite length bytes/strings are not supported");for(let t=128;t<=151;t++)Te[t]=lpe;Te[152]=upe;Te[153]=hpe;Te[154]=Ape;Te[155]=gpe;Te[156]=tr;Te[157]=tr;Te[158]=tr;Te[159]=ppe;for(let t=160;t<=183;t++)Te[t]=ype;Te[184]=Ipe;Te[185]=mpe;Te[186]=wpe;Te[187]=bpe;Te[188]=tr;Te[189]=tr;Te[190]=tr;Te[191]=Epe;for(let t=192;t<=215;t++)Te[t]=vpe;Te[216]=Bpe;Te[217]=Cpe;Te[218]=Qpe;Te[219]=xpe;Te[220]=tr;Te[221]=tr;Te[222]=tr;Te[223]=tr;for(let t=224;t<=243;t++)Te[t]=BB("simple values are not supported");Te[244]=tr;Te[245]=tr;Te[246]=tr;Te[247]=Tpe;Te[248]=BB("simple values are not supported");Te[249]=Mpe;Te[250]=Upe;Te[251]=Rpe;Te[252]=tr;Te[253]=tr;Te[254]=tr;Te[255]=Fpe;const Af=[];for(let t=0;t<24;t++)Af[t]=new Je(Ee.uint,t,1);for(let t=-1;t>=-24;t--)Af[31-t]=new Je(Ee.negint,t,1);Af[64]=new Je(Ee.bytes,new Uint8Array(0),1);Af[96]=new Je(Ee.string,"",1);Af[128]=new Je(Ee.array,0,1);Af[160]=new Je(Ee.map,0,1);Af[244]=new Je(Ee.false,!1,1);Af[245]=new Je(Ee.true,!0,1);Af[246]=new Je(Ee.null,null,1);function Ppe(t){switch(t.type){case Ee.false:return xf([244]);case Ee.true:return xf([245]);case Ee.null:return xf([246]);case Ee.bytes:return t.value.length?void 0:xf([64]);case Ee.string:return t.value===""?xf([96]):void 0;case Ee.array:return t.value===0?xf([128]):void 0;case Ee.map:return t.value===0?xf([160]):void 0;case Ee.uint:return t.value<24?xf([Number(t.value)]):void 0;case Ee.negint:if(t.value>=-24)return xf([31-Number(t.value)])}}const Ope={float64:!1,mapSorter:Lpe,quickEncodeToken:Ppe};function Kpe(){const t=[];return t[Ee.uint.major]=IA,t[Ee.negint.major]=AS,t[Ee.bytes.major]=vB,t[Ee.string.major]=dpe,t[Ee.array.major]=gS,t[Ee.map.major]=pS,t[Ee.tag.major]=yS,t[Ee.float.major]=mS,t}const zH=Kpe(),l3=new KH;class gE{constructor(e,r){this.obj=e,this.parent=r}includes(e){let r=this;do if(r.obj===e)return!0;while(r=r.parent);return!1}static createCheck(e,r){if(e&&e.includes(r))throw new Error(`${HH} object contains circular references`);return new gE(r,e)}}const rl={null:new Je(Ee.null,null),undefined:new Je(Ee.undefined,void 0),true:new Je(Ee.true,!0),false:new Je(Ee.false,!1),emptyArray:new Je(Ee.array,0),emptyMap:new Je(Ee.map,0)},iu={number(t,e,r,n){return!Number.isInteger(t)||!Number.isSafeInteger(t)?new Je(Ee.float,t):t>=0?new Je(Ee.uint,t):new Je(Ee.negint,t)},bigint(t,e,r,n){return t>=BigInt(0)?new Je(Ee.uint,t):new Je(Ee.negint,t)},Uint8Array(t,e,r,n){return new Je(Ee.bytes,t)},string(t,e,r,n){return new Je(Ee.string,t)},boolean(t,e,r,n){return t?rl.true:rl.false},null(t,e,r,n){return rl.null},undefined(t,e,r,n){return rl.undefined},ArrayBuffer(t,e,r,n){return new Je(Ee.bytes,new Uint8Array(t))},DataView(t,e,r,n){return new Je(Ee.bytes,new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},Array(t,e,r,n){if(!t.length)return r.addBreakTokens===!0?[rl.emptyArray,new Je(Ee.break)]:rl.emptyArray;n=gE.createCheck(n,t);const o=[];let i=0;for(const s of t)o[i++]=J1(s,r,n);return r.addBreakTokens?[new Je(Ee.array,t.length),o,new Je(Ee.break)]:[new Je(Ee.array,t.length),o]},Object(t,e,r,n){const o=e!=="Object",i=o?t.keys():Object.keys(t),s=o?t.size:i.length;if(!s)return r.addBreakTokens===!0?[rl.emptyMap,new Je(Ee.break)]:rl.emptyMap;n=gE.createCheck(n,t);const a=[];let c=0;for(const d of i)a[c++]=[J1(d,r,n),J1(o?t.get(d):t[d],r,n)];return Hpe(a,r),r.addBreakTokens?[new Je(Ee.map,s),a,new Je(Ee.break)]:[new Je(Ee.map,s),a]}};iu.Map=iu.Object;iu.Buffer=iu.Uint8Array;for(const t of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))iu[`${t}Array`]=iu.DataView;function J1(t,e={},r){const n=F0e(t),o=e&&e.typeEncoders&&e.typeEncoders[n]||iu[n];if(typeof o=="function"){const s=o(t,n,e,r);if(s!=null)return s}const i=iu[n];if(!i)throw new Error(`${HH} unsupported type: ${n}`);return i(t,n,e,r)}function Hpe(t,e){e.mapSorter&&t.sort(e.mapSorter)}function Lpe(t,e){const r=Array.isArray(t[0])?t[0][0]:t[0],n=Array.isArray(e[0])?e[0][0]:e[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,i=zH[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function YH(t,e,r,n){if(Array.isArray(e))for(const o of e)YH(t,o,r,n);else r[e.type.major](t,e,n)}function Gpe(t,e,r){const n=J1(t,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const i=e[n.type.major];if(i.encodedSize){const s=i.encodedSize(n,r),a=new KH(s);if(i(a,n,r),a.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return OH(a.chunks[0])}}return l3.reset(),YH(l3,n,e,r),l3.toBytes(!0)}function qpe(t,e){return e=Object.assign({},Ope,e),Gpe(t,zH,e)}const $pe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class jpe{constructor(e,r={}){this.pos=0,this.data=e,this.options=r}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let r=Af[e];if(r===void 0){const n=Te[e];if(!n)throw new Error(`${Gt} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=e&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const vI=Symbol.for("DONE"),CB=Symbol.for("BREAK");function zpe(t,e,r){const n=[];for(let o=0;o<t.value;o++){const i=BI(e,r);if(i===CB){if(t.value===1/0)break;throw new Error(`${Gt} got unexpected break to lengthed array`)}if(i===vI)throw new Error(`${Gt} found array but not enough entries (got ${o}, expected ${t.value})`);n[o]=i}return n}function Ype(t,e,r){const n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let s=0;s<t.value;s++){const a=BI(e,r);if(a===CB){if(t.value===1/0)break;throw new Error(`${Gt} got unexpected break to lengthed map`)}if(a===vI)throw new Error(`${Gt} found map but not enough entries (got ${s} [no key], expected ${t.value})`);if(n!==!0&&typeof a!="string")throw new Error(`${Gt} non-string keys not supported (got ${typeof a})`);if(r.rejectDuplicateMapKeys===!0&&(n&&i.has(a)||!n&&a in o))throw new Error(`${Gt} found repeat map key "${a}"`);const c=BI(e,r);if(c===vI)throw new Error(`${Gt} found map but not enough entries (got ${s} [no value], expected ${t.value})`);n?i.set(a,c):o[a]=c}return n?i:o}function BI(t,e){if(t.done())return vI;const r=t.next();if(r.type===Ee.break)return CB;if(r.type.terminal)return r.value;if(r.type===Ee.array)return zpe(r,t,e);if(r.type===Ee.map)return Ype(r,t,e);if(r.type===Ee.tag){if(e.tags&&typeof e.tags[r.value]=="function"){const n=BI(t,e);return e.tags[r.value](n)}throw new Error(`${Gt} tag not supported (${r.value})`)}throw new Error("unsupported")}function Jpe(t,e){if(!(t instanceof Uint8Array))throw new Error(`${Gt} data to decode must be a Uint8Array`);e=Object.assign({},$pe,e);const r=e.tokenizer||new jpe(t,e),n=BI(r,e);if(n===vI)throw new Error(`${Gt} did not find any content to decode`);if(n===CB)throw new Error(`${Gt} got unexpected break`);if(!r.done())throw new Error(`${Gt} too many terminals, data makes no sense`);return n}const Uy=Pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vpe=Pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Wpe=Pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Zpe=Pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xpe=Pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eye=Pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tye=Pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rye=Pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nye=Pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),iye=Object.freeze(Object.defineProperty({__proto__:null,base32:Uy,base32hex:Xpe,base32hexpad:tye,base32hexpadupper:rye,base32hexupper:eye,base32pad:Wpe,base32padupper:Zpe,base32upper:Vpe,base32z:nye},Symbol.toStringTag,{value:"Module"})),qf=sm({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oye=sm({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sye=Object.freeze(Object.defineProperty({__proto__:null,base58btc:qf,base58flickr:oye},Symbol.toStringTag,{value:"Module"})),KF=(t,e)=>{const{bytes:r,version:n}=t;switch(n){case 0:return cye(r,rx(t),e||qf.encoder);default:return fye(r,rx(t),e||Uy.encoder)}},HF=new WeakMap,rx=t=>{const e=HF.get(t);if(e==null){const r=new Map;return HF.set(t,r),r}return e};let JH=class Yi{constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:r}=this;if(e!==Yp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==dye)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Yi.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=O8(e,r);return Yi.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Yi.equals(this,e)}static equals(e,r){const n=r;return n&&e.code===n.code&&e.version===n.version&&mAe(e.multihash,n.multihash)}toString(e){return KF(this,e)}toJSON(){return{"/":KF(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const r=e;if(r instanceof Yi)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){const{version:n,code:o,multihash:i,bytes:s}=r;return new Yi(n,o,i,s||LF(n,o,i.bytes))}else if(r[lye]===!0){const{version:n,multihash:o,code:i}=r,s=IAe(o);return Yi.create(n,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Yp)throw new Error(`Version 0 CID must use dag-pb (code: ${Yp}) block encoding`);return new Yi(e,r,n,n.bytes)}case 1:{const o=LF(e,r,n.bytes);return new Yi(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return Yi.create(0,Yp,e)}static createV1(e,r){return Yi.create(1,e,r)}static decode(e){const[r,n]=Yi.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=Yi.inspectBytes(e),n=r.size-r.multihashSize,o=V4(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const i=o.subarray(r.multihashSize-r.digestSize),s=new eS(r.multihashCode,r.digestSize,i,o);return[r.version===0?Yi.createV0(s):Yi.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[l,u]=P8(e.subarray(r));return r+=u,l};let o=n(),i=Yp;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const s=r,a=n(),c=n(),d=r+c,f=d-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:f,size:d}}static parse(e,r){const[n,o]=aye(e,r),i=Yi.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return rx(i).set(n,e),i}};const aye=(t,e)=>{switch(t[0]){case"Q":{const r=e||qf;return[qf.prefix,r.decode(`${qf.prefix}${t}`)]}case qf.prefix:{const r=e||qf;return[qf.prefix,r.decode(t)]}case Uy.prefix:{const r=e||Uy;return[Uy.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},cye=(t,e,r)=>{const{prefix:n}=r;if(n!==qf.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const i=r.encode(t).slice(1);return e.set(n,i),i}else return o},fye=(t,e,r)=>{const{prefix:n}=r,o=e.get(n);if(o==null){const i=r.encode(t);return e.set(n,i),i}else return o},Yp=112,dye=18,LF=(t,e,r)=>{const n=aE(t),o=n+aE(e),i=new Uint8Array(o+r.byteLength);return sE(t,i,0),sE(e,i,n),i.set(r,o),i},lye=Symbol.for("@ipld/js-cid/CID"),VH=42;function uye(t){if(t.asCID!==t&&t["/"]!==t.bytes)return null;const e=JH.asCID(t);if(!e)return null;const r=new Uint8Array(e.bytes.byteLength+1);return r.set(e.bytes,1),[new Je(Ee.tag,VH),new Je(Ee.bytes,r)]}function hye(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Aye(t){if(Number.isNaN(t))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(t===1/0||t===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const gye={float64:!0,typeEncoders:{Object:uye,undefined:hye,number:Aye}};function pye(t){if(t[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return JH.decode(t.subarray(1))}const WH={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};WH.tags[VH]=pye;const yye="dag-cbor",QB=113,Iye=t=>qpe(t,gye),ZH=t=>Jpe(t,WH),nx=Object.freeze(Object.defineProperty({__proto__:null,code:QB,decode:ZH,encode:Iye,name:yye},Symbol.toStringTag,{value:"Module"}));function GF(t,e){for(const r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function mye(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return GF(t,r)}catch{r.message=t.message,r.stack=t.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(t)),GF(new o,r)}}var wye=mye;const wr=Qo(wye);function bye(t){return t[Symbol.asyncIterator]!=null}function XH(t,e=1){return e=Number(e),bye(t)?async function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for await(const n of t)for(r.push(n);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}():function*(){let r=[];if(e<1&&(e=1),e!==Math.round(e))throw new Error("Batch size must be an integer");for(const n of t)for(r.push(n);r.length>=e;)yield r.slice(0,e),r=r.slice(e);for(;r.length>0;)yield r.slice(0,e),r=r.slice(e)}()}async function*eL(t,e=1){for await(const r of XH(t,e)){const n=r.map(async o=>o().then(i=>({ok:!0,value:i}),i=>({ok:!1,err:i})));for(let o=0;o<n.length;o++){const i=await n[o];if(i.ok)yield i.value;else throw i.err}}}function xB(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function nl(t=0){return globalThis.Buffer?.alloc!=null?xB(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function Lh(t=0){return globalThis.Buffer?.allocUnsafe!=null?xB(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ix(t,e){e==null&&(e=t.reduce((o,i)=>o+i.length,0));const r=Lh(e);let n=0;for(const o of t)r.set(o,n),n+=o.length;return xB(r)}function Eye(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}const tL=Symbol.for("@achingbrain/uint8arraylist");function qF(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(const n of t){const o=r+n.byteLength;if(e<o)return{buf:n,index:e-r};r=o}throw new RangeError("index is out of bounds")}function o1(t){return!!t?.[tL]}class Qh{bufs;length;[tL]=!0;constructor(...e){this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(const n of e)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(o1(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(const n of e.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(o1(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){const r=qF(this.bufs,e);return r.buf[r.index]}set(e,r){const n=qF(this.bufs,e);n.buf[n.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let n=0;n<e.length;n++)this.set(r+n,e[n]);else if(o1(e))for(let n=0;n<e.length;n++)this.set(r+n,e.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){const{bufs:n,length:o}=this._subList(e,r);return ix(n,o)}subarray(e,r){const{bufs:n,length:o}=this._subList(e,r);return n.length===1?n[0]:ix(n,o)}sublist(e,r){const{bufs:n,length:o}=this._subList(e,r),i=new Qh;return i.length=o,i.bufs=[...n],i}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:this.bufs,length:this.length};const n=[];let o=0;for(let i=0;i<this.bufs.length;i++){const s=this.bufs[i],a=o,c=a+s.byteLength;if(o=c,e>=c)continue;const d=e>=a&&e<c,f=r>a&&r<=c;if(d&&f){if(e===a&&r===c){n.push(s);break}const l=e-a;n.push(s.subarray(l,l+(r-e)));break}if(d){if(e===0){n.push(s);continue}n.push(s.subarray(e-a));continue}if(f){if(r===c){n.push(s);break}n.push(s.subarray(0,r-a));break}n.push(s)}return{bufs:n,length:r-e}}indexOf(e,r=0){if(!o1(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const n=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;const o=n.byteLength;if(o===0)throw new TypeError("search must be at least 1 byte long");const i=256,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=-1;for(let l=0;l<o;l++)s[n[l]]=l;const a=s,c=this.byteLength-n.byteLength,d=n.byteLength-1;let f;for(let l=r;l<=c;l+=f){f=0;for(let u=d;u>=0;u--){const p=this.get(l+u);if(n[u]!==p){f=Math.max(1,u-a[p]);break}}if(f===0)return l}return-1}getInt8(e){const r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){const n=Lh(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,e)}getInt16(e,r){const n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(e,r,n){const o=nl(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,r,n),this.write(o,e)}getInt32(e,r){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(e,r,n){const o=nl(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,r,n),this.write(o,e)}getBigInt64(e,r){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(e,r,n){const o=nl(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,r,n),this.write(o,e)}getUint8(e){const r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){const n=Lh(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,e)}getUint16(e,r){const n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(e,r,n){const o=nl(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,r,n),this.write(o,e)}getUint32(e,r){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(e,r,n){const o=nl(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,r,n),this.write(o,e)}getBigUint64(e,r){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(e,r,n){const o=nl(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,r,n),this.write(o,e)}getFloat32(e,r){const n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(e,r,n){const o=nl(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,r,n),this.write(o,e)}getFloat64(e,r){const n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(e,r,n){const o=nl(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,r,n),this.write(o,e)}equals(e){if(e==null||!(e instanceof Qh)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!Eye(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){const n=new Qh;return n.bufs=e,r==null&&(r=e.reduce((o,i)=>o+i.byteLength,0)),n.length=r,n}}const vye=262144,Bye=(t={})=>{const e=t.chunkSize??vye;return async function*(n){let o=new Qh,i=0,s=!1;for await(const a of n)for(o.append(a),i+=a.length;i>=e;)if(yield o.slice(0,e),s=!0,e===o.length)o=new Qh,i=0;else{const c=new Qh;c.append(o.sublist(e)),o=c,i-=e}(!s||i>0)&&(yield o.subarray(0,i))}};function Cye(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function ES(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function Qye(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<t.length;o++){var i=t.charAt(o),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=o}var a=t.length,c=t.charAt(0),d=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(A){if(A instanceof Uint8Array||(ArrayBuffer.isView(A)?A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength):Array.isArray(A)&&(A=Uint8Array.from(A))),!(A instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(A.length===0)return"";for(var h=0,y=0,v=0,B=A.length;v!==B&&A[v]===0;)v++,h++;for(var S=(B-v)*f+1>>>0,x=new Uint8Array(S);v!==B;){for(var Q=A[v],N=0,$=S-1;(Q!==0||N<y)&&$!==-1;$--,N++)Q+=256*x[$]>>>0,x[$]=Q%a>>>0,Q=Q/a>>>0;if(Q!==0)throw new Error("Non-zero carry");y=N,v++}for(var G=S-y;G!==S&&x[G]===0;)G++;for(var z=c.repeat(h);G<S;++G)z+=t.charAt(x[G]);return z}function u(A){if(typeof A!="string")throw new TypeError("Expected String");if(A.length===0)return new Uint8Array;var h=0;if(A[h]!==" "){for(var y=0,v=0;A[h]===c;)y++,h++;for(var B=(A.length-h)*d+1>>>0,S=new Uint8Array(B);A[h];){var x=r[A.charCodeAt(h)];if(x===255)return;for(var Q=0,N=B-1;(x!==0||Q<v)&&N!==-1;N--,Q++)x+=a*S[N]>>>0,S[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");v=Q,h++}if(A[h]!==" "){for(var $=B-v;$!==B&&S[$]===0;)$++;for(var G=new Uint8Array(y+(B-$)),z=y;$!==B;)G[z++]=S[$++];return G}}}function p(A){var h=u(A);if(h)return h;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:u,decode:p}}var xye=Qye,Sye=xye;class _ye{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Dye{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return rL(this,e)}}class kye{decoders;constructor(e){this.decoders=e}or(e){return rL(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function rL(t,e){return new kye({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}class Tye{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,o){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new _ye(e,r,n),this.decoder=new Dye(e,r,o)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function nL({name:t,prefix:e,encode:r,decode:n}){return new Tye(t,e,r,n)}function iL({name:t,prefix:e,alphabet:r}){const{encode:n,decode:o}=Sye(r,t);return nL({prefix:e,name:t,encode:n,decode:i=>ES(o(i))})}function Fye(t,e,r,n){const o={};for(let f=0;f<e.length;++f)o[e[f]]=f;let i=t.length;for(;t[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let a=0,c=0,d=0;for(let f=0;f<i;++f){const l=o[t[f]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,a+=r,a>=8&&(a-=8,s[d++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s}function Mye(t,e,r){const n=e[e.length-1]==="=",o=(1<<r)-1;let i="",s=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],s+=8;s>r;)s-=r,i+=e[o&a>>s];if(s!==0&&(i+=e[o&a<<r-s]),n)for(;i.length*r&7;)i+="=";return i}function Rd({name:t,prefix:e,bitsPerChar:r,alphabet:n}){return nL({prefix:e,name:t,encode(o){return Mye(o,n,r)},decode(o){return Fye(o,n,r,t)}})}const V1=Rd({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Rd({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Rd({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Rd({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Rd({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Rd({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Rd({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Rd({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Rd({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const ml=iL({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});iL({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uye=oL,$F=128,Rye=127,Nye=~Rye,Pye=Math.pow(2,31);function oL(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Pye;)e[r++]=t&255|$F,t/=128;for(;t&Nye;)e[r++]=t&255|$F,t>>>=7;return e[r]=t|0,oL.bytes=r-n+1,e}var Oye=ox,Kye=128,jF=127;function ox(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a)throw ox.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&jF)<<o:(s&jF)*Math.pow(2,o),o+=7}while(s>=Kye);return ox.bytes=i-n,r}var Hye=Math.pow(2,7),Lye=Math.pow(2,14),Gye=Math.pow(2,21),qye=Math.pow(2,28),$ye=Math.pow(2,35),jye=Math.pow(2,42),zye=Math.pow(2,49),Yye=Math.pow(2,56),Jye=Math.pow(2,63),Vye=function(t){return t<Hye?1:t<Lye?2:t<Gye?3:t<qye?4:t<$ye?5:t<jye?6:t<zye?7:t<Yye?8:t<Jye?9:10},Wye={encode:Uye,decode:Oye,encodingLength:Vye},pE=Wye;function sx(t,e=0){return[pE.decode(t,e),pE.decode.bytes]}function yE(t,e,r=0){return pE.encode(t,e,r),e}function IE(t){return pE.encodingLength(t)}function Zye(t,e){const r=e.byteLength,n=IE(t),o=n+IE(r),i=new Uint8Array(o+r);return yE(t,i,0),yE(r,i,n),i.set(e,o),new vS(t,r,e,i)}function Xye(t){const e=ES(t),[r,n]=sx(e),[o,i]=sx(e.subarray(n)),s=e.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new vS(r,o,s,e)}function eIe(t,e){if(t===e)return!0;{const r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Cye(t.bytes,r.bytes)}}class vS{code;size;digest;bytes;constructor(e,r,n,o){this.code=e,this.size=r,this.digest=n,this.bytes=o}}function zF(t,e){const{bytes:r,version:n}=t;switch(n){case 0:return rIe(r,ax(t),e??ml.encoder);default:return nIe(r,ax(t),e??V1.encoder)}}const YF=new WeakMap;function ax(t){const e=YF.get(t);if(e==null){const r=new Map;return YF.set(t,r),r}return e}class An{code;version;multihash;bytes;"/";constructor(e,r,n,o){this.code=r,this.version=e,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:r}=this;if(e!==Jp)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==iIe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return An.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:r}=this.multihash,n=Zye(e,r);return An.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return An.equals(this,e)}static equals(e,r){const n=r;return n!=null&&e.code===n.code&&e.version===n.version&&eIe(e.multihash,n.multihash)}toString(e){return zF(this,e)}toJSON(){return{"/":zF(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;const r=e;if(r instanceof An)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){const{version:n,code:o,multihash:i,bytes:s}=r;return new An(n,o,i,s??JF(n,o,i.bytes))}else if(r[oIe]===!0){const{version:n,multihash:o,code:i}=r,s=Xye(o);return An.create(n,i,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Jp)throw new Error(`Version 0 CID must use dag-pb (code: ${Jp}) block encoding`);return new An(e,r,n,n.bytes)}case 1:{const o=JF(e,r,n.bytes);return new An(e,r,n,o)}default:throw new Error("Invalid version")}}static createV0(e){return An.create(0,Jp,e)}static createV1(e,r){return An.create(1,e,r)}static decode(e){const[r,n]=An.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){const r=An.inspectBytes(e),n=r.size-r.multihashSize,o=ES(e.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const i=o.subarray(r.multihashSize-r.digestSize),s=new vS(r.multihashCode,r.digestSize,i,o);return[r.version===0?An.createV0(s):An.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0;const n=()=>{const[l,u]=sx(e.subarray(r));return r+=u,l};let o=n(),i=Jp;if(o===18?(o=0,r=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const s=r,a=n(),c=n(),d=r+c,f=d-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:f,size:d}}static parse(e,r){const[n,o]=tIe(e,r),i=An.decode(o);if(i.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return ax(i).set(n,e),i}}function tIe(t,e){switch(t[0]){case"Q":{const r=e??ml;return[ml.prefix,r.decode(`${ml.prefix}${t}`)]}case ml.prefix:{const r=e??ml;return[ml.prefix,r.decode(t)]}case V1.prefix:{const r=e??V1;return[V1.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function rIe(t,e,r){const{prefix:n}=r;if(n!==ml.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=e.get(n);if(o==null){const i=r.encode(t).slice(1);return e.set(n,i),i}else return o}function nIe(t,e,r){const{prefix:n}=r,o=e.get(n);if(o==null){const i=r.encode(t);return e.set(n,i),i}else return o}const Jp=112,iIe=18;function JF(t,e,r){const n=IE(t),o=n+IE(e),i=new Uint8Array(o+r.byteLength);return yE(t,i,0),yE(e,i,n),i.set(r,o),i}const oIe=Symbol.for("@ipld/js-cid/CID"),sIe=new TextDecoder;function BS(t,e){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(e>=t.length)throw new Error("protobuf: unexpected end of data");const o=t[e++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,e]}function mE(t,e){let r;[r,e]=BS(t,e);const n=e+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>t.length)throw new Error("protobuf: unexpected end of data");return[t.subarray(e,n),n]}function sL(t,e){let r;return[r,e]=BS(t,e),[r&7,r>>3,e]}function aIe(t){const e={},r=t.length;let n=0;for(;n<r;){let o,i;if([o,i,n]=sL(t,n),i===1){if(e.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(e.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[e.Hash,n]=mE(t,n)}else if(i===2){if(e.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,n]=mE(t,n),e.Name=sIe.decode(s)}else if(i===3){if(e.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[e.Tsize,n]=BS(t,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return e}function cIe(t){const e=t.length;let r=0,n,o=!1,i;for(;r<e;){let a,c;if([a,c,r]=sL(t,r),a!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${a}`);if(c===1){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,r]=mE(t,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let d;[d,r]=mE(t,r),n.push(aIe(d))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>e)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return i&&(s.Data=i),s.Links=n||[],s}const aL=new TextEncoder,VF=2**32,fIe=2**31;function dIe(t,e){let r=e.length;if(typeof t.Tsize=="number"){if(t.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(t.Tsize))throw new Error("Tsize too large for encoding");r=Ry(e,r,t.Tsize)-1,e[r]=24}if(typeof t.Name=="string"){const n=aL.encode(t.Name);r-=n.length,e.set(n,r),r=Ry(e,r,n.length)-1,e[r]=18}return t.Hash&&(r-=t.Hash.length,e.set(t.Hash,r),r=Ry(e,r,t.Hash.length)-1,e[r]=10),e.length-r}function lIe(t){const e=hIe(t),r=new Uint8Array(e);let n=e;if(t.Data&&(n-=t.Data.length,r.set(t.Data,n),n=Ry(r,n,t.Data.length)-1,r[n]=10),t.Links)for(let o=t.Links.length-1;o>=0;o--){const i=dIe(t.Links[o],r.subarray(0,n));n-=i,n=Ry(r,n,i)-1,r[n]=18}return r}function uIe(t){let e=0;if(t.Hash){const r=t.Hash.length;e+=1+r+Sg(r)}if(typeof t.Name=="string"){const r=aL.encode(t.Name).length;e+=1+r+Sg(r)}return typeof t.Tsize=="number"&&(e+=1+Sg(t.Tsize)),e}function hIe(t){let e=0;if(t.Data){const r=t.Data.length;e+=1+r+Sg(r)}if(t.Links)for(const r of t.Links){const n=uIe(r);e+=1+n+Sg(n)}return e}function Ry(t,e,r){e-=Sg(r);const n=e;for(;r>=fIe;)t[e++]=r&127|128,r/=128;for(;r>=128;)t[e++]=r&127|128,r>>>=7;return t[e]=r,n}function Sg(t){return t%2===0&&t++,Math.floor((AIe(t)+6)/7)}function AIe(t){let e=0;return t>=VF&&(t=Math.floor(t/VF),e=32),t>=65536&&(t>>>=16,e+=16),t>=256&&(t>>>=8,e+=8),e+gIe[t]}const gIe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pIe=["Data","Links"],yIe=["Hash","Name","Tsize"],cx=new TextEncoder;function cL(t,e){if(t===e)return 0;const r=t.Name?cx.encode(t.Name):[],n=e.Name?cx.encode(e.Name):[];let o=r.length,i=n.length;for(let s=0,a=Math.min(o,i);s<a;++s)if(r[s]!==n[s]){o=r[s],i=n[s];break}return o<i?-1:i<o?1:0}function WF(t,e){return!Object.keys(t).some(r=>!e.includes(r))}function fL(t){if(typeof t.asCID=="object"){const r=An.asCID(t);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Hash){let r=An.asCID(t.Hash);try{r||(typeof t.Hash=="string"?r=An.parse(t.Hash):t.Hash instanceof Uint8Array&&(r=An.decode(t.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(e.Hash=r)}if(!e.Hash)throw new TypeError("Invalid DAG-PB form");return typeof t.Name=="string"&&(e.Name=t.Name),typeof t.Tsize=="number"&&(e.Tsize=t.Tsize),e}function ou(t){if((t instanceof Uint8Array||typeof t=="string")&&(t={Data:t}),typeof t!="object"||Array.isArray(t))throw new TypeError("Invalid DAG-PB form");const e={};if(t.Data!==void 0)if(typeof t.Data=="string")e.Data=cx.encode(t.Data);else if(t.Data instanceof Uint8Array)e.Data=t.Data;else throw new TypeError("Invalid DAG-PB form");if(t.Links!==void 0)if(Array.isArray(t.Links))e.Links=t.Links.map(fL),e.Links.sort(cL);else throw new TypeError("Invalid DAG-PB form");else e.Links=[];return e}function dL(t){if(!t||typeof t!="object"||Array.isArray(t)||t instanceof Uint8Array||t["/"]&&t["/"]===t.bytes)throw new TypeError("Invalid DAG-PB form");if(!WF(t,pIe))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(t.Data!==void 0&&!(t.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(t.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let e=0;e<t.Links.length;e++){const r=t.Links[e];if(!r||typeof r!="object"||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!WF(r,yIe))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(r.Hash===void 0)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash==null||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0){if(typeof r.Tsize!="number"||r.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(e>0&&cL(r,t.Links[e-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function IIe(t,e=[]){return ou({Data:t,Links:e})}function mIe(t,e,r){return fL({Hash:r,Name:t,Tsize:e})}const wIe="dag-pb",CS=112;function su(t){dL(t);const e={};return t.Links&&(e.Links=t.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),t.Data&&(e.Data=t.Data),lIe(e)}function hm(t){const e=cIe(t),r={};return e.Data&&(r.Data=e.Data),e.Links&&(r.Links=e.Links.map(n=>{const o={};try{o.Hash=An.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const lL=Object.freeze(Object.defineProperty({__proto__:null,code:CS,createLink:mIe,createNode:IIe,decode:hm,encode:su,name:wIe,prepare:ou,validate:dL},Symbol.toStringTag,{value:"Module"})),QS=new Float32Array([-0]),Tl=new Uint8Array(QS.buffer);function bIe(t,e,r){QS[0]=t,e[r]=Tl[0],e[r+1]=Tl[1],e[r+2]=Tl[2],e[r+3]=Tl[3]}function EIe(t,e){return Tl[0]=t[e],Tl[1]=t[e+1],Tl[2]=t[e+2],Tl[3]=t[e+3],QS[0]}const xS=new Float64Array([-0]),Zi=new Uint8Array(xS.buffer);function vIe(t,e,r){xS[0]=t,e[r]=Zi[0],e[r+1]=Zi[1],e[r+2]=Zi[2],e[r+3]=Zi[3],e[r+4]=Zi[4],e[r+5]=Zi[5],e[r+6]=Zi[6],e[r+7]=Zi[7]}function BIe(t,e){return Zi[0]=t[e],Zi[1]=t[e+1],Zi[2]=t[e+2],Zi[3]=t[e+3],Zi[4]=t[e+4],Zi[5]=t[e+5],Zi[6]=t[e+6],Zi[7]=t[e+7],xS[0]}const CIe=BigInt(Number.MAX_SAFE_INTEGER),QIe=BigInt(Number.MIN_SAFE_INTEGER);class Di{lo;hi;constructor(e,r){this.lo=e|0,this.hi=r|0}toNumber(e=!1){if(!e&&this.hi>>>31>0){const r=~this.lo+1>>>0;let n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const r=~this.lo+1>>>0;let n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){const e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){const e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){const e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}static fromBigInt(e){if(e===0n)return xh;if(e<CIe&&e>QIe)return this.fromNumber(Number(e));const r=e<0n;r&&(e=-e);let n=e>>32n,o=e-(n<<32n);return r&&(n=~n|0n,o=~o|0n,++o>ZF&&(o=0n,++n>ZF&&(n=0n))),new Di(Number(o),Number(n))}static fromNumber(e){if(e===0)return xh;const r=e<0;r&&(e=-e);let n=e>>>0,o=(e-n)/4294967296>>>0;return r&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new Di(n,o)}static from(e){return typeof e=="number"?Di.fromNumber(e):typeof e=="bigint"?Di.fromBigInt(e):typeof e=="string"?Di.fromBigInt(BigInt(e)):e.low!=null||e.high!=null?new Di(e.low>>>0,e.high>>>0):xh}}const xh=new Di(0,0);xh.toBigInt=function(){return 0n};xh.zzEncode=xh.zzDecode=function(){return this};xh.length=function(){return 1};const ZF=4294967296n;function xIe(t){let e=0,r=0;for(let n=0;n<t.length;++n)r=t.charCodeAt(n),r<128?e+=1:r<2048?e+=2:(r&64512)===55296&&(t.charCodeAt(n+1)&64512)===56320?(++n,e+=4):e+=3;return e}function SIe(t,e,r){if(r-e<1)return"";let o;const i=[];let s=0,a;for(;e<r;)a=t[e++],a<128?i[s++]=a:a>191&&a<224?i[s++]=(a&31)<<6|t[e++]&63:a>239&&a<365?(a=((a&7)<<18|(t[e++]&63)<<12|(t[e++]&63)<<6|t[e++]&63)-65536,i[s++]=55296+(a>>10),i[s++]=56320+(a&1023)):i[s++]=(a&15)<<12|(t[e++]&63)<<6|t[e++]&63,s>8191&&((o??(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o!=null?(s>0&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))}function uL(t,e,r){const n=r;let o,i;for(let s=0;s<t.length;++s)o=t.charCodeAt(s),o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&((i=t.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(i&1023),++s,e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128);return r-n}function Ca(t,e){return RangeError(`index out of range: ${t.pos} + ${e??1} > ${t.len}`)}function s1(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}class _Ie{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Ca(this,10);return e}int32(){return this.uint32()|0}sint32(){const e=this.uint32();return e>>>1^-(e&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw Ca(this,4);return s1(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Ca(this,4);return s1(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw Ca(this,4);const e=EIe(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw Ca(this,4);const e=BIe(this.buf,this.pos);return this.pos+=8,e}bytes(){const e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Ca(this,e);return this.pos+=e,r===n?new Uint8Array(0):this.buf.subarray(r,n)}string(){const e=this.bytes();return SIe(e,0,e.length)}skip(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Ca(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Ca(this);while(this.buf[this.pos++]&128);return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){const e=new Di(0,0);let r=0;if(this.len-this.pos>4){for(;r<4;++r)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;r=0}else{for(;r<3;++r){if(this.pos>=this.len)throw Ca(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<r*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<r*7)>>>0,e}if(this.len-this.pos>4){for(;r<5;++r)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;r<5;++r){if(this.pos>=this.len)throw Ca(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<r*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Ca(this,8);const e=s1(this.buf,this.pos+=4),r=s1(this.buf,this.pos+=4);return new Di(e,r)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){return this.readLongVarint().toNumber(!0)}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function DIe(t){return new _Ie(t instanceof Uint8Array?t:t.subarray())}function SS(t,e){const r=DIe(t);return e.decode(r)}const kIe=sm({prefix:"9",name:"base10",alphabet:"0123456789"}),TIe=Object.freeze(Object.defineProperty({__proto__:null,base10:kIe},Symbol.toStringTag,{value:"Module"})),FIe=Pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),MIe=Pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),UIe=Object.freeze(Object.defineProperty({__proto__:null,base16:FIe,base16upper:MIe},Symbol.toStringTag,{value:"Module"})),RIe=Pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),NIe=Object.freeze(Object.defineProperty({__proto__:null,base2:RIe},Symbol.toStringTag,{value:"Module"})),hL=Array.from(""),PIe=hL.reduce((t,e,r)=>(t[r]=e,t),[]),OIe=hL.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function KIe(t){return t.reduce((e,r)=>(e+=PIe[r],e),"")}function HIe(t){const e=[];for(const r of t){const n=OIe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const LIe=pB({prefix:"",name:"base256emoji",encode:KIe,decode:HIe}),GIe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:LIe},Symbol.toStringTag,{value:"Module"})),qIe=sm({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$Ie=sm({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),jIe=Object.freeze(Object.defineProperty({__proto__:null,base36:qIe,base36upper:$Ie},Symbol.toStringTag,{value:"Module"})),zIe=Pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),YIe=Object.freeze(Object.defineProperty({__proto__:null,base8:zIe},Symbol.toStringTag,{value:"Module"})),JIe=pB({prefix:"\0",name:"identity",encode:t=>Lle(t),decode:t=>Hle(t)}),VIe=Object.freeze(Object.defineProperty({__proto__:null,identity:JIe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const XF={...VIe,...NIe,...YIe,...TIe,...UIe,...iye,...jIe,...sye,...Zle,...GIe};function AL(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const eM=AL("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),u3=AL("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Lh(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),WIe={utf8:eM,"utf-8":eM,hex:XF.base16,latin1:u3,ascii:u3,binary:u3,...XF};function _S(t,e="utf8"){const r=WIe[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?xB(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function ZIe(t){const e=t??8192,r=e>>>1;let n,o=e;return function(s){if(s<1||s>r)return Lh(s);o+s>e&&(n=Lh(e),o=0);const a=n.subarray(o,o+=s);return o&7&&(o=(o|7)+1),a}}class py{fn;len;next;val;constructor(e,r,n){this.fn=e,this.len=r,this.next=void 0,this.val=n}}function h3(){}class XIe{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}}const eme=ZIe();function tme(t){return globalThis.Buffer!=null?Lh(t):eme(t)}class fx{len;head;tail;states;constructor(){this.len=0,this.head=new py(h3,0,0),this.tail=this.head,this.states=null}_push(e,r,n){return this.tail=this.tail.next=new py(e,r,n),this.len+=r,this}uint32(e){return this.len+=(this.tail=this.tail.next=new nme((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(Vp,10,Di.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){const r=Di.fromBigInt(e);return this._push(Vp,r.length(),r)}uint64Number(e){const r=Di.fromNumber(e);return this._push(Vp,r.length(),r)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){const r=Di.fromBigInt(e).zzEncode();return this._push(Vp,r.length(),r)}sint64Number(e){const r=Di.fromNumber(e).zzEncode();return this._push(Vp,r.length(),r)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(A3,1,e?1:0)}fixed32(e){return this._push(Wp,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){const r=Di.fromBigInt(e);return this._push(Wp,4,r.lo)._push(Wp,4,r.hi)}fixed64Number(e){const r=Di.fromNumber(e);return this._push(Wp,4,r.lo)._push(Wp,4,r.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(bIe,4,e)}double(e){return this._push(vIe,8,e)}bytes(e){const r=e.length>>>0;return r===0?this._push(A3,1,0):this.uint32(r)._push(ime,r,e)}string(e){const r=xIe(e);return r!==0?this.uint32(r)._push(uL,r,e):this._push(A3,1,0)}fork(){return this.states=new XIe(this),this.head=this.tail=new py(h3,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new py(h3,0,0),this.len=0),this}ldelim(){const e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n!==0&&(this.tail.next=e.next,this.tail=r,this.len+=n),this}finish(){let e=this.head.next;const r=tme(this.len);let n=0;for(;e!=null;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r}}function A3(t,e,r){e[r]=t&255}function rme(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}class nme extends py{next;constructor(e,r){super(rme,e,r),this.next=void 0}}function Vp(t,e,r){for(;t.hi!==0;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}function Wp(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function ime(t,e,r){e.set(t,r)}globalThis.Buffer!=null&&(fx.prototype.bytes=function(t){const e=t.length>>>0;return this.uint32(e),e>0&&this._push(ome,e,t),this},fx.prototype.string=function(t){const e=globalThis.Buffer.byteLength(t);return this.uint32(e),e>0&&this._push(sme,e,t),this});function ome(t,e,r){e.set(t,r)}function sme(t,e,r){t.length<40?uL(t,e,r):e.utf8Write!=null?e.utf8Write(t,r):e.set(_S(t),r)}function ame(){return new fx}function DS(t,e){const r=ame();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var wE;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(wE||(wE={}));function gL(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function cme(t){function e(o){if(t[o.toString()]==null)throw new Error("Invalid enum value");return t[o]}const r=function(i,s){const a=e(i);s.int32(a)},n=function(i){const s=i.int32();return e(s)};return gL("enum",wE.VARINT,r,n)}function kS(t,e){return gL("message",wE.LENGTH_DELIMITED,t,e)}var Bc;(function(t){(function(n){n.Raw="Raw",n.Directory="Directory",n.File="File",n.Metadata="Metadata",n.Symlink="Symlink",n.HAMTShard="HAMTShard"})(t.DataType||(t.DataType={}));let e;(function(n){n[n.Raw=0]="Raw",n[n.Directory=1]="Directory",n[n.File=2]="File",n[n.Metadata=3]="Metadata",n[n.Symlink=4]="Symlink",n[n.HAMTShard=5]="HAMTShard"})(e||(e={})),function(n){n.codec=()=>cme(e)}(t.DataType||(t.DataType={}));let r;t.codec=()=>(r==null&&(r=kS((n,o,i={})=>{if(i.lengthDelimited!==!1&&o.fork(),n.Type!=null&&(o.uint32(8),t.DataType.codec().encode(n.Type,o)),n.Data!=null&&(o.uint32(18),o.bytes(n.Data)),n.filesize!=null&&(o.uint32(24),o.uint64(n.filesize)),n.blocksizes!=null)for(const s of n.blocksizes)o.uint32(32),o.uint64(s);n.hashType!=null&&(o.uint32(40),o.uint64(n.hashType)),n.fanout!=null&&(o.uint32(48),o.uint64(n.fanout)),n.mode!=null&&(o.uint32(56),o.uint32(n.mode)),n.mtime!=null&&(o.uint32(66),bE.codec().encode(n.mtime,o)),i.lengthDelimited!==!1&&o.ldelim()},(n,o)=>{const i={blocksizes:[]},s=o==null?n.len:n.pos+o;for(;n.pos<s;){const a=n.uint32();switch(a>>>3){case 1:i.Type=t.DataType.codec().decode(n);break;case 2:i.Data=n.bytes();break;case 3:i.filesize=n.uint64();break;case 4:i.blocksizes.push(n.uint64());break;case 5:i.hashType=n.uint64();break;case 6:i.fanout=n.uint64();break;case 7:i.mode=n.uint32();break;case 8:i.mtime=bE.codec().decode(n,n.uint32());break;default:n.skipType(a&7);break}}return i})),r),t.encode=n=>DS(n,t.codec()),t.decode=n=>SS(n,t.codec())})(Bc||(Bc={}));var bE;(function(t){let e;t.codec=()=>(e==null&&(e=kS((r,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),r.Seconds!=null&&(n.uint32(8),n.int64(r.Seconds)),r.FractionalNanoseconds!=null&&(n.uint32(21),n.fixed32(r.FractionalNanoseconds)),o.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{const o={},i=n==null?r.len:r.pos+n;for(;r.pos<i;){const s=r.uint32();switch(s>>>3){case 1:o.Seconds=r.int64();break;case 2:o.FractionalNanoseconds=r.fixed32();break;default:r.skipType(s&7);break}}return o})),e),t.encode=r=>DS(r,t.codec()),t.decode=r=>SS(r,t.codec())})(bE||(bE={}));var tM;(function(t){let e;t.codec=()=>(e==null&&(e=kS((r,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),r.MimeType!=null&&(n.uint32(10),n.string(r.MimeType)),o.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{const o={},i=n==null?r.len:r.pos+n;for(;r.pos<i;){const s=r.uint32();switch(s>>>3){case 1:o.MimeType=r.string();break;default:r.skipType(s&7);break}}return o})),e),t.encode=r=>DS(r,t.codec()),t.decode=r=>SS(r,t.codec())})(tM||(tM={}));const rM={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},fme=["directory","hamt-sharded-directory"],nM=parseInt("0644",8),iM=parseInt("0755",8);class Wa{static unmarshal(e){const r=Bc.decode(e),n=new Wa({type:rM[r.Type!=null?r.Type.toString():"File"],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime!=null?{secs:r.mtime.Seconds??0n,nsecs:r.mtime.FractionalNanoseconds}:void 0,fanout:r.fanout});return n._originalMode=r.mode??0,n}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){const{type:r,data:n,blockSizes:o,hashType:i,fanout:s,mtime:a,mode:c}=e;if(r!=null&&!Object.values(rM).includes(r))throw wr(new Error("Type: "+r+" is not valid"),"ERR_INVALID_TYPE");this.type=r??"file",this.data=n,this.hashType=i,this.fanout=s,this.blockSizes=o??[],this._originalMode=0,this.mode=c,this.mtime=a}set mode(e){e==null?this._mode=this.isDirectory()?iM:nM:this._mode=e&4095}get mode(){return this._mode}isDirectory(){return fme.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach(r=>{e+=r}),this.data!=null&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=Bc.DataType.Raw;break;case"directory":e=Bc.DataType.Directory;break;case"file":e=Bc.DataType.File;break;case"metadata":e=Bc.DataType.Metadata;break;case"symlink":e=Bc.DataType.Symlink;break;case"hamt-sharded-directory":e=Bc.DataType.HAMTShard;break;default:throw wr(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let r=this.data;(this.data==null||this.data.length===0)&&(r=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|(this.mode??0),n===nM&&!this.isDirectory()&&(n=void 0),n===iM&&this.isDirectory()&&(n=void 0));let o;return this.mtime!=null&&(o={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Bc.encode({Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:o})}}const dme="raw",f0=85,lme=t=>P0(t),ume=t=>P0(t),hme=Object.freeze(Object.defineProperty({__proto__:null,code:f0,decode:ume,encode:lme,name:dme},Symbol.toStringTag,{value:"Module"}));class da extends Event{constructor(e,r){super(e),this.detail=r}}const d0=async(t,e,r)=>{r.codec==null&&(r.codec=lL);const n=await Oc.digest(t),o=ln.create(r.cidVersion,r.codec.code,n);return await e.put(o,t,r),o};function Ame(t){return async function*(r,n){let o=0n;for await(let i of r.content)yield async()=>{let s;const a={codec:lL,cidVersion:t.cidVersion,onProgress:t.onProgress};t.rawLeaves?(a.codec=hme,a.cidVersion=1):(s=new Wa({type:t.leafType,data:i}),i=su({Data:s.marshal(),Links:[]}));const c=await d0(i,n,a);return o+=BigInt(i.byteLength),t.onProgress?.(new da("unixfs:importer:progress:file:write",{bytesWritten:o,cid:c,path:r.path})),{cid:c,unixfs:s,size:BigInt(i.length),block:i}}}}const gme=async(t,e,r)=>{const n=new Wa({type:"directory",mtime:t.mtime,mode:t.mode}),o=su(ou({Data:n.marshal()})),i=await d0(o,e,r),s=t.path;return{cid:i,path:s,unixfs:n,size:BigInt(o.length),originalPath:t.originalPath,block:o}};async function*pme(t,e,r){let n=-1,o;for await(const i of eL(r.bufferImporter(t,e),r.blockWriteConcurrency)){if(n++,n===0){o={...i,single:!0};continue}else n===1&&o!=null&&(yield{...o,block:void 0,single:void 0},o=void 0);yield{...i,block:void 0}}o!=null&&(yield o)}function oM(t){return t.single===!0}const yme=(t,e,r)=>async function(o){if(o.length===1&&oM(o[0])&&r.reduceSingleLeafToSelf){const f=o[0];let l=f.block;return oM(f)&&(t.mtime!==void 0||t.mode!==void 0)&&(f.unixfs=new Wa({type:"file",mtime:t.mtime,mode:t.mode,data:f.block}),l={Data:f.unixfs.marshal(),Links:[]},f.block=su(ou(l)),f.cid=await d0(f.block,e,{...r,cidVersion:r.cidVersion}),f.size=BigInt(f.block.length)),r.onProgress?.(new da("unixfs:importer:progress:file:layout",{cid:f.cid,path:f.originalPath})),{cid:f.cid,path:t.path,unixfs:f.unixfs,size:f.size,originalPath:f.originalPath}}const i=new Wa({type:"file",mtime:t.mtime,mode:t.mode}),s=o.filter(f=>f.cid.code===f0&&f.size>0||f.unixfs!=null&&f.unixfs.data==null&&f.unixfs.fileSize()>0n?!0:!!f.unixfs?.data?.length).map(f=>f.cid.code===f0?(i.addBlockSize(f.size),{Name:"",Tsize:Number(f.size),Hash:f.cid}):(f.unixfs==null||f.unixfs.data==null?i.addBlockSize(f.unixfs?.fileSize()??0n):i.addBlockSize(BigInt(f.unixfs.data.length)),{Name:"",Tsize:Number(f.size),Hash:f.cid})),a={Data:i.marshal(),Links:s},c=su(ou(a)),d=await d0(c,e,r);return r.onProgress?.(new da("unixfs:importer:progress:file:layout",{cid:d,path:t.originalPath})),{cid:d,path:t.path,unixfs:i,size:BigInt(c.length+a.Links.reduce((f,l)=>f+(l.Tsize??0),0)),originalPath:t.originalPath,block:c}},Ime=async(t,e,r)=>r.layout(pme(t,e,r),yme(t,e,r));function mme(t){return Symbol.iterator in t}function wme(t){return Symbol.asyncIterator in t}function bme(t){try{if(t instanceof Uint8Array)return async function*(){yield t}();if(mme(t))return async function*(){yield*t}();if(wme(t))return t}catch{throw wr(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw wr(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function Eme(t){return async function*(r,n){for await(const o of r){let i;if(o.path!=null&&(i=o.path,o.path=o.path.split("/").filter(s=>s!=null&&s!==".").join("/")),vme(o)){const s={path:o.path,mtime:o.mtime,mode:o.mode,content:async function*(){let a=0n;for await(const c of t.chunker(t.chunkValidator(bme(o.content)))){const d=BigInt(c.byteLength);a+=d,t.onProgress?.(new da("unixfs:importer:progress:file:read",{bytesRead:a,chunkSize:d,path:o.path})),yield c}}(),originalPath:i};yield async()=>Ime(s,n,t)}else if(o.path!=null){const s={path:o.path,mtime:o.mtime,mode:o.mode,originalPath:i};yield async()=>gme(s,n,t)}else throw new Error("Import candidate must have content or path or both")}}}function vme(t){return t.content!=null}const Bme=()=>async function*(e){for await(const r of e){if(r.length===void 0)throw wr(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if(typeof r=="string"||r instanceof String)yield _S(r.toString());else if(Array.isArray(r))yield Uint8Array.from(r);else if(r instanceof Uint8Array)yield r;else throw wr(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}},Cme=174;function Qme(t){const e=t?.maxChildrenPerNode??Cme;return async function r(n,o){const i=[];for await(const s of XH(n,e))i.push(await o(s));return i.length>1?r(i,o):i[0]}}class CI{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,r){this.options=r??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}}const dx=ln.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),lx=ln.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class TS extends CI{_children;constructor(e,r){super(e,r),this._children=new Map}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,r)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(const[e,r]of this._children.entries())yield{key:e,child:r}}estimateNodeSize(){if(this.nodeSize!==void 0)return this.nodeSize;this.nodeSize=0;for(const[e,r]of this._children.entries())r.size!=null&&r.cid!=null&&(this.nodeSize+=e.length+(this.options.cidVersion===1?lx.bytes.byteLength:dx.bytes.byteLength));return this.nodeSize}async*flush(e){const r=[];for(const[c,d]of this._children.entries()){let f=d;if(d instanceof CI)for await(const l of d.flush(e))f=l,yield l;f.size!=null&&f.cid!=null&&r.push({Name:c,Tsize:Number(f.size),Hash:f.cid})}const n=new Wa({type:"directory",mtime:this.mtime,mode:this.mode}),o={Data:n.marshal(),Links:r},i=su(ou(o)),s=await d0(i,e,this.options),a=i.length+o.Links.reduce((c,d)=>c+(d.Tsize==null?0:d.Tsize),0);this.cid=s,this.size=a,yield{cid:s,unixfs:n,path:this.path,size:BigInt(a)}}}var ux={exports:{}};(function(t,e){(function(r,n){var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(h){if(!Array.isArray(h)&&!ArrayBuffer.isView(h))return!1;for(var y=0;y<h.length;y++)if(!Number.isInteger(h[y])||h[y]<0||h[y]>255)return!1;return!0}function s(h,y){return(h&65535)*y+(((h>>>16)*y&65535)<<16)}function a(h,y){return h<<y|h>>>32-y}function c(h){return h^=h>>>16,h=s(h,2246822507),h^=h>>>13,h=s(h,3266489909),h^=h>>>16,h}function d(h,y){h=[h[0]>>>16,h[0]&65535,h[1]>>>16,h[1]&65535],y=[y[0]>>>16,y[0]&65535,y[1]>>>16,y[1]&65535];var v=[0,0,0,0];return v[3]+=h[3]+y[3],v[2]+=v[3]>>>16,v[3]&=65535,v[2]+=h[2]+y[2],v[1]+=v[2]>>>16,v[2]&=65535,v[1]+=h[1]+y[1],v[0]+=v[1]>>>16,v[1]&=65535,v[0]+=h[0]+y[0],v[0]&=65535,[v[0]<<16|v[1],v[2]<<16|v[3]]}function f(h,y){h=[h[0]>>>16,h[0]&65535,h[1]>>>16,h[1]&65535],y=[y[0]>>>16,y[0]&65535,y[1]>>>16,y[1]&65535];var v=[0,0,0,0];return v[3]+=h[3]*y[3],v[2]+=v[3]>>>16,v[3]&=65535,v[2]+=h[2]*y[3],v[1]+=v[2]>>>16,v[2]&=65535,v[2]+=h[3]*y[2],v[1]+=v[2]>>>16,v[2]&=65535,v[1]+=h[1]*y[3],v[0]+=v[1]>>>16,v[1]&=65535,v[1]+=h[2]*y[2],v[0]+=v[1]>>>16,v[1]&=65535,v[1]+=h[3]*y[1],v[0]+=v[1]>>>16,v[1]&=65535,v[0]+=h[0]*y[3]+h[1]*y[2]+h[2]*y[1]+h[3]*y[0],v[0]&=65535,[v[0]<<16|v[1],v[2]<<16|v[3]]}function l(h,y){return y%=64,y===32?[h[1],h[0]]:y<32?[h[0]<<y|h[1]>>>32-y,h[1]<<y|h[0]>>>32-y]:(y-=32,[h[1]<<y|h[0]>>>32-y,h[0]<<y|h[1]>>>32-y])}function u(h,y){return y%=64,y===0?h:y<32?[h[0]<<y|h[1]>>>32-y,h[1]<<y]:[h[1]<<y-32,0]}function p(h,y){return[h[0]^y[0],h[1]^y[1]]}function A(h){return h=p(h,[0,h[0]>>>1]),h=f(h,[4283543511,3981806797]),h=p(h,[0,h[0]>>>1]),h=f(h,[3301882366,444984403]),h=p(h,[0,h[0]>>>1]),h}o.x86.hash32=function(h,y){if(o.inputValidation&&!i(h))return n;y=y||0;for(var v=h.length%4,B=h.length-v,S=y,x=0,Q=3432918353,N=461845907,$=0;$<B;$=$+4)x=h[$]|h[$+1]<<8|h[$+2]<<16|h[$+3]<<24,x=s(x,Q),x=a(x,15),x=s(x,N),S^=x,S=a(S,13),S=s(S,5)+3864292196;switch(x=0,v){case 3:x^=h[$+2]<<16;case 2:x^=h[$+1]<<8;case 1:x^=h[$],x=s(x,Q),x=a(x,15),x=s(x,N),S^=x}return S^=h.length,S=c(S),S>>>0},o.x86.hash128=function(h,y){if(o.inputValidation&&!i(h))return n;y=y||0;for(var v=h.length%16,B=h.length-v,S=y,x=y,Q=y,N=y,$=0,G=0,z=0,Y=0,R=597399067,C=2869860233,m=951274213,g=2716044179,w=0;w<B;w=w+16)$=h[w]|h[w+1]<<8|h[w+2]<<16|h[w+3]<<24,G=h[w+4]|h[w+5]<<8|h[w+6]<<16|h[w+7]<<24,z=h[w+8]|h[w+9]<<8|h[w+10]<<16|h[w+11]<<24,Y=h[w+12]|h[w+13]<<8|h[w+14]<<16|h[w+15]<<24,$=s($,R),$=a($,15),$=s($,C),S^=$,S=a(S,19),S+=x,S=s(S,5)+1444728091,G=s(G,C),G=a(G,16),G=s(G,m),x^=G,x=a(x,17),x+=Q,x=s(x,5)+197830471,z=s(z,m),z=a(z,17),z=s(z,g),Q^=z,Q=a(Q,15),Q+=N,Q=s(Q,5)+2530024501,Y=s(Y,g),Y=a(Y,18),Y=s(Y,R),N^=Y,N=a(N,13),N+=S,N=s(N,5)+850148119;switch($=0,G=0,z=0,Y=0,v){case 15:Y^=h[w+14]<<16;case 14:Y^=h[w+13]<<8;case 13:Y^=h[w+12],Y=s(Y,g),Y=a(Y,18),Y=s(Y,R),N^=Y;case 12:z^=h[w+11]<<24;case 11:z^=h[w+10]<<16;case 10:z^=h[w+9]<<8;case 9:z^=h[w+8],z=s(z,m),z=a(z,17),z=s(z,g),Q^=z;case 8:G^=h[w+7]<<24;case 7:G^=h[w+6]<<16;case 6:G^=h[w+5]<<8;case 5:G^=h[w+4],G=s(G,C),G=a(G,16),G=s(G,m),x^=G;case 4:$^=h[w+3]<<24;case 3:$^=h[w+2]<<16;case 2:$^=h[w+1]<<8;case 1:$^=h[w],$=s($,R),$=a($,15),$=s($,C),S^=$}return S^=h.length,x^=h.length,Q^=h.length,N^=h.length,S+=x,S+=Q,S+=N,x+=S,Q+=S,N+=S,S=c(S),x=c(x),Q=c(Q),N=c(N),S+=x,S+=Q,S+=N,x+=S,Q+=S,N+=S,("00000000"+(S>>>0).toString(16)).slice(-8)+("00000000"+(x>>>0).toString(16)).slice(-8)+("00000000"+(Q>>>0).toString(16)).slice(-8)+("00000000"+(N>>>0).toString(16)).slice(-8)},o.x64.hash128=function(h,y){if(o.inputValidation&&!i(h))return n;y=y||0;for(var v=h.length%16,B=h.length-v,S=[0,y],x=[0,y],Q=[0,0],N=[0,0],$=[2277735313,289559509],G=[1291169091,658871167],z=0;z<B;z=z+16)Q=[h[z+4]|h[z+5]<<8|h[z+6]<<16|h[z+7]<<24,h[z]|h[z+1]<<8|h[z+2]<<16|h[z+3]<<24],N=[h[z+12]|h[z+13]<<8|h[z+14]<<16|h[z+15]<<24,h[z+8]|h[z+9]<<8|h[z+10]<<16|h[z+11]<<24],Q=f(Q,$),Q=l(Q,31),Q=f(Q,G),S=p(S,Q),S=l(S,27),S=d(S,x),S=d(f(S,[0,5]),[0,1390208809]),N=f(N,G),N=l(N,33),N=f(N,$),x=p(x,N),x=l(x,31),x=d(x,S),x=d(f(x,[0,5]),[0,944331445]);switch(Q=[0,0],N=[0,0],v){case 15:N=p(N,u([0,h[z+14]],48));case 14:N=p(N,u([0,h[z+13]],40));case 13:N=p(N,u([0,h[z+12]],32));case 12:N=p(N,u([0,h[z+11]],24));case 11:N=p(N,u([0,h[z+10]],16));case 10:N=p(N,u([0,h[z+9]],8));case 9:N=p(N,[0,h[z+8]]),N=f(N,G),N=l(N,33),N=f(N,$),x=p(x,N);case 8:Q=p(Q,u([0,h[z+7]],56));case 7:Q=p(Q,u([0,h[z+6]],48));case 6:Q=p(Q,u([0,h[z+5]],40));case 5:Q=p(Q,u([0,h[z+4]],32));case 4:Q=p(Q,u([0,h[z+3]],24));case 3:Q=p(Q,u([0,h[z+2]],16));case 2:Q=p(Q,u([0,h[z+1]],8));case 1:Q=p(Q,[0,h[z]]),Q=f(Q,$),Q=l(Q,31),Q=f(Q,G),S=p(S,Q)}return S=p(S,[0,h.length]),x=p(x,[0,h.length]),S=d(S,x),x=d(x,S),S=A(S),x=A(x),S=d(S,x),x=d(x,S),("00000000"+(S[0]>>>0).toString(16)).slice(-8)+("00000000"+(S[1]>>>0).toString(16)).slice(-8)+("00000000"+(x[0]>>>0).toString(16)).slice(-8)+("00000000"+(x[1]>>>0).toString(16)).slice(-8)},t.exports&&(e=t.exports=o),e.murmurHash3=o})()})(ux,ux.exports);var xme=ux.exports,Sme=xme;const _me=Qo(Sme),pL=uH({name:"murmur3-128",code:34,encode:t=>Ole(_me.x64.hash128(t))}),a1=7;var Dme=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,r){let n=this._internalPositionFor(e,!1);if(r===void 0)n!==-1&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let o=!1;n===-1?(n=this._data.length,this._setBit(e),this._changedData=!0):o=!0,this._setInternalPos(n,e,r,o),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const r=this._internalPositionFor(e,!0);if(r!==-1)return this._data[r][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let r=0;for(;r<this.length;)e(this.get(r),r,this),r++}map(e){let r=0,n=new Array(this.length);for(;r<this.length;)n[r]=e(this.get(r),r,this),r++;return n}reduce(e,r){let n=0,o=r;for(;n<this.length;){const i=this.get(n);o=e(o,i,n),n++}return o}find(e){let r=0,n,o;for(;r<this.length&&!n;)o=this.get(r),n=e(o),r++;return n?o:void 0}_internalPositionFor(e,r){const n=this._bytePosFor(e,r);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],i=e-n*a1;if(!((o&1<<i)>0))return-1;const a=this._bitArrays.slice(0,n).reduce(kme,0),c=~(4294967295<<i+1),d=yL(o&c);return a+d-1}_bytePosFor(e,r){const n=Math.floor(e/a1),o=n+1;for(;!r&&this._bitArrays.length<o;)this._bitArrays.push(0);return n}_setBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]|=1<<e-r*a1}_unsetBit(e){const r=this._bytePosFor(e,!1);this._bitArrays[r]&=~(1<<e-r*a1)}_setInternalPos(e,r,n,o){const i=this._data,s=[r,n];if(o)this._sortData(),i[e]=s;else{if(i.length)if(i[i.length-1][0]>=r)i.push(s);else if(i[0][0]<=r)i.unshift(s);else{const a=Math.round(i.length/2);this._data=i.slice(0,a).concat(s).concat(i.slice(a))}else this._data.push(s);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(Tme),this._changedData=!1}bitField(){const e=[];let r=8,n=0,o=0,i;const s=this._bitArrays.slice();for(;s.length||n;){n===0&&(i=s.shift(),n=7);const c=Math.min(n,r),d=~(255<<c),f=i&d;o|=f<<8-r,i=i>>>c,n-=c,r-=c,(!r||!n&&!s.length)&&(e.push(o),o=0,r=8)}for(var a=e.length-1;a>0&&e[a]===0;a--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(Fme)}};function kme(t,e){return t+yL(e)}function yL(t){let e=t;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function Tme(t,e){return t[0]-e[0]}function Fme(t){return t[1]}const Mme=Qo(Dme);class gs{constructor(e,r,n=0){this._options=e,this._popCount=0,this._parent=r,this._posAtParent=n,this._children=new Mme,this.key=null}async put(e,r){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,r)}async get(e){const r=await this._findChild(e);if(r!=null)return r.value}async del(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);n!=null&&n.key===e&&r.bucket._delAt(r.pos)}leafCount(){return this._children.compactArray().reduce((r,n)=>n instanceof gs?r+n.leafCount():r+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const r of e)r instanceof gs?yield*r.eachLeafSeries():yield r}serialize(e,r){const n=[];return r(this._children.reduce((o,i,s)=>(i!=null&&(i instanceof gs?o.push(i.serialize(e,r)):o.push(e(i,s))),o),n))}async asyncTransform(e,r){return await IL(this,e,r)}toJSON(){return this.serialize(Rme,Nme)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const r=await this._findPlace(e),n=r.bucket._at(r.pos);if(!(n instanceof gs)&&n!=null&&n.key===e)return n}async _findPlace(e){const r=this._options.hash(typeof e=="string"?_S(e):e),n=await r.take(this._options.bits),o=this._children.get(n);return o instanceof gs?await o._findPlace(r):{bucket:this,pos:n,hash:r,existingChild:o}}async _findNewBucketAndPos(e){const r=await this._findPlace(e);if(r.existingChild!=null&&r.existingChild.key!==e){const n=new gs(this._options,r.bucket,r.pos);r.bucket._putObjectAt(r.pos,n);const o=await n._findPlace(r.existingChild.hash);return o.bucket._putAt(o,r.existingChild.key,r.existingChild.value),await n._findNewBucketAndPos(r.hash)}return r}_putAt(e,r,n){this._putObjectAt(e.pos,{key:r,value:n,hash:e.hash})}_putObjectAt(e,r){this._children.get(e)==null&&this._popCount++,this._children.set(e,r)}_delAt(e){if(e===-1)throw new Error("Invalid position");this._children.get(e)!=null&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent!=null&&this._popCount<=1)if(this._popCount===1){const e=this._children.find(Ume);if(e!=null&&!(e instanceof gs)){const r=e.hash;r.untake(this._options.bits);const n={pos:this._posAtParent,hash:r,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function Ume(t){return!!t}function Rme(t,e){return t.key}function Nme(t){return t}async function IL(t,e,r){const n=[];for(const o of t._children.compactArray())if(o instanceof gs)await IL(o,e,r);else{const i=await e(o);n.push({bitField:t._children.bitField(),children:i})}return await r(n)}const Pme=[255,254,252,248,240,224,192,128],Ome=[1,3,7,15,31,63,127,255];class Kme{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let r=e,n=0;for(;r>0&&this._haveBits();){const o=this._value[this._currentBytePos],i=this._currentBitPos+1,s=Math.min(i,r),a=Hme(o,i-s,s);n=(n<<s)+a,r-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function Hme(t,e,r){const n=Lme(e,r);return(t&n)>>>e}function Lme(t,e){return Pme[t]&Ome[Math.min(e+t-1,7)]}function Gme(t){function e(r){return r instanceof sM?r:new sM(r,t)}return e}class sM{constructor(e,r){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=r,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let r=e;for(;this._availableBits<r;)await this._produceMoreBits();let n=0;for(;r>0;){const o=this._buffers[this._currentBufferIndex],i=Math.min(o.availableBits(),r),s=o.take(i);n=(n<<i)+s,r-=i,this._availableBits-=i,o.availableBits()===0&&this._currentBufferIndex++}return n}untake(e){let r=e;for(;r>0;){const n=this._buffers[this._currentBufferIndex],o=Math.min(n.totalBits()-n.availableBits(),r);n.untake(o),r-=o,this._availableBits+=o,this._currentBufferIndex>0&&n.totalBits()===n.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth>0?ix([this._value,Uint8Array.from([this._depth])]):this._value,r=await this._hashFn(e),n=new Kme(r);this._buffers.push(n),this._availableBits+=n.availableBits()}}function mL(t){if(t==null||t.hashFn==null)throw new Error("please define an options.hashFn");const e={bits:t.bits??8,hash:Gme(t.hashFn)};return new gs(e)}async function qme(t){return(await pL.encode(t)).slice(0,8).reverse()}const wL=BigInt(34);class $me extends CI{_bucket;constructor(e,r){super(e,r),this._bucket=mL({hashFn:qme,bits:8})}async put(e,r){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,r)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:r}of this._bucket.eachLeafSeries())yield{key:e,child:r}}estimateNodeSize(){return this.nodeSize!==void 0?this.nodeSize:(this.nodeSize=EL(this._bucket,this,this.options),this.nodeSize)}async*flush(e){for await(const r of bL(this._bucket,e,this,this.options))yield{...r,path:this.path}}}async function*bL(t,e,r,n){const o=t._children,i=[];let s=0n;for(let p=0;p<o.length;p++){const A=o.get(p);if(A==null)continue;const h=p.toString(16).toUpperCase().padStart(2,"0");if(A instanceof gs){let y;for await(const v of bL(A,e,null,n))y=v;if(y==null)throw new Error("Could not flush sharded directory, no subshard found");i.push({Name:h,Tsize:Number(y.size),Hash:y.cid}),s+=y.size}else if(jme(A.value)){const y=A.value;let v;for await(const S of y.flush(e))v=S,yield v;if(v==null)throw new Error("Did not flush dir");const B=h+A.key;i.push({Name:B,Tsize:Number(v.size),Hash:v.cid}),s+=v.size}else{const y=A.value;if(y.cid==null)continue;const v=h+A.key,B=y.size;i.push({Name:v,Tsize:Number(B),Hash:y.cid}),s+=BigInt(B??0)}}const a=Uint8Array.from(o.bitField().reverse()),c=new Wa({type:"hamt-sharded-directory",data:a,fanout:BigInt(t.tableSize()),hashType:wL,mtime:r?.mtime,mode:r?.mode}),d={Data:c.marshal(),Links:i},f=su(ou(d)),l=await d0(f,e,n),u=BigInt(f.byteLength)+s;yield{cid:l,unixfs:c,size:u}}function jme(t){return typeof t.flush=="function"}function EL(t,e,r){const n=t._children,o=[];for(let c=0;c<n.length;c++){const d=n.get(c);if(d==null)continue;const f=c.toString(16).toUpperCase().padStart(2,"0");if(d instanceof gs){const l=EL(d,null,r);o.push({Name:f,Tsize:Number(l),Hash:r.cidVersion===0?dx:lx})}else if(typeof d.value.flush=="function"){const u=d.value.nodeSize();o.push({Name:f+d.key,Tsize:Number(u),Hash:r.cidVersion===0?dx:lx})}else{const l=d.value;if(l.cid==null)continue;const u=f+d.key,p=l.size;o.push({Name:u,Tsize:Number(p),Hash:l.cid})}}const i=Uint8Array.from(n.bitField().reverse()),s=new Wa({type:"hamt-sharded-directory",data:i,fanout:BigInt(t.tableSize()),hashType:wL,mtime:e?.mtime,mode:e?.mode});return su(ou({Data:s.marshal(),Links:o})).length}async function vL(t,e,r,n){let o=e;e instanceof TS&&e.estimateNodeSize()>r&&(o=await zme(e,n));const i=o.parent;if(i!=null){if(o!==e){if(t!=null&&(t.parent=o),o.parentKey==null)throw new Error("No parent key found");await i.put(o.parentKey,o)}return vL(o,i,r,n)}return o}async function zme(t,e){const r=new $me({root:t.root,dir:!0,parent:t.parent,parentKey:t.parentKey,path:t.path,dirty:t.dirty,flat:!1,mtime:t.mtime,mode:t.mode},e);for await(const{key:n,child:o}of t.eachChildSeries())await r.put(n,o);return r}const Yme=(t="")=>(t.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function Jme(t,e,r){const n=Yme(t.path??""),o=n.length-1;let i=e,s="";for(let a=0;a<n.length;a++){const c=n[a];s+=`${s!==""?"/":""}${c}`;const d=a===o;if(i.dirty=!0,i.cid=void 0,i.size=void 0,d)await i.put(c,t),e=await vL(null,i,r.shardSplitThresholdBytes,r);else{let f=await i.get(c);(f==null||!(f instanceof CI))&&(f=new TS({root:!1,dir:!0,parent:i,parentKey:c,path:s,dirty:!0,flat:!0,mtime:f?.unixfs?.mtime,mode:f?.unixfs?.mode},r)),await i.put(c,f),i=f}}return e}async function*aM(t,e){if(!(t instanceof CI)){t.unixfs?.isDirectory()===!0&&(yield t);return}yield*t.flush(e)}function Vme(t){return async function*(r,n){let o=new TS({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t),i,s=!1;for await(const a of r){if(a==null)continue;const c=`${a.originalPath??""}`.split("/")[0];c!=null&&c!==""&&(i==null?(i=c,s=!0):i!==c&&(s=!1)),o=await Jme(a,o,t),(a.unixfs==null||!a.unixfs.isDirectory())&&(yield a)}if(t.wrapWithDirectory||s&&o.childCount()>1)yield*aM(o,n);else for await(const a of o.eachChildSeries())a!=null&&(yield*aM(a.child,n))}}async function*hx(t,e,r={}){let n;Symbol.asyncIterator in t||Symbol.iterator in t?n=t:n=[t];const o=r.wrapWithDirectory??!1,i=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,a=r.rawLeaves??!0,c=r.leafType??"file",d=r.fileImportConcurrency??50,f=r.blockWriteConcurrency??10,l=r.reduceSingleLeafToSelf??!0,u=r.chunker??Bye(),p=r.chunkValidator??Bme(),A=r.dagBuilder??Eme({chunker:u,chunkValidator:p,wrapWithDirectory:o,layout:r.layout??Qme(),bufferImporter:r.bufferImporter??Ame({cidVersion:s,rawLeaves:a,leafType:c,onProgress:r.onProgress}),blockWriteConcurrency:f,reduceSingleLeafToSelf:l,cidVersion:s,onProgress:r.onProgress}),h=r.treeBuilder??Vme({wrapWithDirectory:o,shardSplitThresholdBytes:i,cidVersion:s,onProgress:r.onProgress});for await(const y of h(eL(A(n,e),d),e))yield{cid:y.cid,path:y.path,unixfs:y.unixfs,size:y.size}}function Wme(t){return t=t??new Error("Not Found"),wr(t,"ERR_NOT_FOUND")}class Zme{has(e,r){return Promise.reject(new Error(".has is not implemented"))}put(e,r,n){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,r){for await(const{cid:n,block:o}of e)await this.put(n,o,r),yield n}get(e,r){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,r){for await(const n of e)yield{cid:n,block:await this.get(n,r)}}async delete(e,r){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,r){for await(const n of e)await this.delete(n,r),yield n}async*getAll(e){throw new Error(".getAll is not implemented")}}class cM extends Zme{data;constructor(){super(),this.data=new Map}put(e,r){return this.data.set(Yf.encode(e.multihash.bytes),r),e}get(e){const r=this.data.get(Yf.encode(e.multihash.bytes));if(r==null)throw Wme();return r}has(e){return this.data.has(Yf.encode(e.multihash.bytes))}async delete(e){this.data.delete(Yf.encode(e.multihash.bytes))}async*getAll(){for(const[e,r]of this.data.entries())yield{cid:ln.createV1(f0,T6(Yf.decode(e))),block:r}}}var g3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},fM=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};const dM={[Oc.code]:Oc},lM={[QB]:nx};class Wi{static computeCid(e,r=QB,n=Oc.code){return g3(this,void 0,void 0,function*(){const o=lM[r];if(!o)throw new be(we.ComputeCidCodecNotSupported,`codec [${r}] not supported`);const i=dM[n];if(!i)throw new be(we.ComputeCidMultihashNotSupported,`multihash code [${n}] not supported`);const s=o.encode(e),a=yield i.digest(s);return(yield ln.createV1(o.code,a)).toString()})}static parseCid(e){const r=ln.parse(e).toV1();if(!lM[r.code])throw new be(we.ParseCidCodecNotSupported,`codec [${r.code}] not supported`);if(!dM[r.multihash.code])throw new be(we.ParseCidMultihashNotSupported,`multihash code [${r.multihash.code}] not supported`);return r}static computeDagPbCidFromBytes(e){var r,n,o,i;return g3(this,void 0,void 0,function*(){const s=hx([{content:e}],new cM,{cidVersion:1});let a;try{for(var c=!0,d=fM(s),f;f=yield d.next(),r=f.done,!r;c=!0)i=f.value,c=!1,a=i}catch(l){n={error:l}}finally{try{!c&&!r&&(o=d.return)&&(yield o.call(d))}finally{if(n)throw n.error}}return a?a.cid.toString():""})}static computeDagPbCidFromStream(e){var r,n,o,i;return g3(this,void 0,void 0,function*(){const s=hx([{content:e}],new cM,{cidVersion:1});let a;try{for(var c=!0,d=fM(s),f;f=yield d.next(),r=f.done,!r;c=!0)i=f.value,c=!1,a=i}catch(l){n={error:l}}finally{try{!c&&!r&&(o=d.return)&&(yield o.call(d))}finally{if(n)throw n.error}}return a?a.cid.toString():""})}}var uM=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class QI{constructor(e){this.jws=e}static create(e,r=[]){return uM(this,void 0,void 0,function*(){const n={payload:Kt.bytesToBase64Url(e),signatures:[]},o=new QI(n);for(const i of r)yield o.addSignature(i);return o})}addSignature(e){return uM(this,void 0,void 0,function*(){const r={kid:e.keyId,alg:e.algorithm},n=JSON.stringify(r),o=Kt.stringToBase64Url(n),i=`${o}.${this.jws.payload}`,s=Kt.stringToBytes(i),a=yield e.sign(s),c=Kt.bytesToBase64Url(a);this.jws.signatures.push({protected:o,signature:c})})}getJws(){return this.jws}}function Xme(t,e){return t>e?1:t<e?-1:0}var ewe=xI;xI.flatten=xI;xI.unflatten=QL;function BL(t){return t&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function CL(t){return t}function xI(t,e){e=e||{};const r=e.delimiter||".",n=e.maxDepth,o=e.transformKey||CL,i={};function s(a,c,d){d=d||1,Object.keys(a).forEach(function(f){const l=a[f],u=e.safe&&Array.isArray(l),p=Object.prototype.toString.call(l),A=BL(l),h=p==="[object Object]"||p==="[object Array]",y=c?c+r+o(f):o(f);if(!u&&!A&&h&&Object.keys(l).length&&(!e.maxDepth||d<n))return s(l,y,d+1);i[y]=l})}return s(t),i}function QL(t,e){e=e||{};const r=e.delimiter||".",n=e.overwrite||!1,o=e.transformKey||CL,i={};if(BL(t)||Object.prototype.toString.call(t)!=="[object Object]")return t;function a(f){const l=Number(f);return isNaN(l)||f.indexOf(".")!==-1||e.object?f:l}function c(f,l,u){return Object.keys(u).reduce(function(p,A){return p[f+r+A]=u[A],p},l)}function d(f){const l=Object.prototype.toString.call(f),u=l==="[object Array]",p=l==="[object Object]";if(f){if(u)return!f.length;if(p)return!Object.keys(f).length}else return!0}return t=Object.keys(t).reduce(function(f,l){const u=Object.prototype.toString.call(t[l]);return!(u==="[object Object]"||u==="[object Array]")||d(t[l])?(f[l]=t[l],f):c(l,f,xI(t[l],e))},{}),Object.keys(t).forEach(function(f){const l=f.split(r).map(o);let u=a(l.shift()),p=a(l[0]),A=i;for(;p!==void 0;){if(u==="__proto__")return;const h=Object.prototype.toString.call(A[u]),y=h==="[object Object]"||h==="[object Array]";if(!n&&!y&&typeof A[u]<"u")return;(n&&!y||!n&&A[u]==null)&&(A[u]=typeof p=="number"&&!e.object?[]:{}),A=A[u],l.length>0&&(u=a(l.shift()),p=a(l[0]))}A[u]=QL(t[f],e)}),i}const twe=Qo(ewe);function rwe(t){const e=twe.flatten(t);return xL(e),e}function nwe(t){if(typeof t!="object")return!1;for(const e in t)return!1;return!0}function xL(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&xL(t[e]),nwe(t[e])&&delete t[e]})}function tf(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&tf(t[e])})}var Ac=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Qe{static validateJsonSchema(e){const r=e.descriptor.interface,n=e.descriptor.method,o=r+n;tx(o,e)}static getSigner(e){return e.authorization===void 0?void 0:mn.getSignerDid(e.authorization.signature.signatures[0])}static getCid(e){return Ac(this,void 0,void 0,function*(){const r=Object.assign({},e);return r.encodedData&&delete r.encodedData,yield Wi.computeCid(r)})}static compareCid(e,r){return Ac(this,void 0,void 0,function*(){const n=yield Qe.getCid(e),o=yield Qe.getCid(r);return Xme(n,o)})}static createAuthorization(e){return Ac(this,void 0,void 0,function*(){const{descriptor:r,signer:n,delegatedGrant:o,permissionsGrantId:i,protocolRole:s}=e;let a;o!==void 0&&(a=yield Qe.getCid(o));const d={signature:yield Qe.createSignature(r,n,{delegatedGrantId:a,permissionsGrantId:i,protocolRole:s})};return o!==void 0&&(d.authorDelegatedGrant=o),d})}static createSignature(e,r,n){return Ac(this,void 0,void 0,function*(){const o=yield Wi.computeCid(e),i=Object.assign({descriptorCid:o},n);tf(i);const s=Kt.objectToBytes(i);return(yield QI.create(s,[r])).getJws()})}static getNewestMessage(e){return Ac(this,void 0,void 0,function*(){let r;for(const n of e)(r===void 0||(yield Qe.isNewer(n,r)))&&(r=n);return r})}static getOldestMessage(e){return Ac(this,void 0,void 0,function*(){let r;for(const n of e)(r===void 0||(yield Qe.isOlder(n,r)))&&(r=n);return r})}static isNewer(e,r){return Ac(this,void 0,void 0,function*(){return(yield Qe.compareMessageTimestamp(e,r))>0})}static isOlder(e,r){return Ac(this,void 0,void 0,function*(){return(yield Qe.compareMessageTimestamp(e,r))<0})}static compareMessageTimestamp(e,r){return Ac(this,void 0,void 0,function*(){return e.descriptor.messageTimestamp>r.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<r.descriptor.messageTimestamp?-1:Qe.compareCid(e,r)})}static validateMessageSignatureIntegrity(e,r,n="GenericSignaturePayload"){return Ac(this,void 0,void 0,function*(){if(e.signatures.length!==1)throw new be(we.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const o=mn.decodePlainObjectPayload(e);tx(n,o);const{descriptorCid:i}=o,s=yield Wi.computeCid(r);if(i!==s)throw new be(we.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${i} does not match expected CID ${s}`);return o})}}class gf{get message(){return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(e.authorization.authorDelegatedGrant!==void 0?this._author=Qe.getSigner(e.authorization.authorDelegatedGrant):this._author=Qe.getSigner(e),this._signaturePayload=mn.decodePlainObjectPayload(e.authorization.signature))}toJSON(){return this.message}}class q extends Array{constructor(e,r){if(super(e),this.sign=r,Object.setPrototypeOf(this,q.prototype),e>q.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(e){var r=Math.floor,n=Number.isFinite;if(typeof e=="number"){if(e===0)return q.__zero();if(q.__isOneDigitInt(e))return 0>e?q.__oneDigit(-e,!0):q.__oneDigit(e,!1);if(!n(e)||r(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return q.__fromDouble(e)}if(typeof e=="string"){const o=q.__fromString(e);if(o===null)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return o}if(typeof e=="boolean")return e===!0?q.__oneDigit(1,!1):q.__zero();if(typeof e=="object"){if(e.constructor===q)return e;const o=q.__toPrimitive(e);return q.BigInt(o)}throw new TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){const e=["BigInt["];for(const r of this)e.push((r&&(r>>>0).toString(16))+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":e&e-1?q.__toStringGeneric(this,e,!1):q.__toStringBasePowerOfTwo(this,e)}valueOf(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}static toNumber(e){const r=e.length;if(r===0)return 0;if(r===1){const y=e.__unsignedDigit(0);return e.sign?-y:y}const n=e.__digit(r-1),o=q.__clz30(n),i=30*r-o;if(1024<i)return e.sign?-1/0:1/0;let s=i-1,a=n,c=r-1;const d=o+3;let f=d===32?0:a<<d;f>>>=12;const l=d-12;let u=12<=d?0:a<<20+d,p=20+d;for(0<l&&0<c&&(c--,a=e.__digit(c),f|=a>>>30-l,u=a<<l+2,p=l+2);0<p&&0<c;)c--,a=e.__digit(c),u|=30<=p?a<<p-30:a>>>30-p,p-=30;const A=q.__decideRounding(e,p,c,a);if((A===1||A===0&&(1&u)==1)&&(u=u+1>>>0,u===0&&(f++,f>>>20!=0&&(f=0,s++,1023<s))))return e.sign?-1/0:1/0;const h=e.sign?-2147483648:0;return s=s+1023<<20,q.__kBitConversionInts[1]=h|s|f,q.__kBitConversionInts[0]=u,q.__kBitConversionDouble[0]}static unaryMinus(e){if(e.length===0)return e;const r=e.__copy();return r.sign=!e.sign,r}static bitwiseNot(e){return e.sign?q.__absoluteSubOne(e).__trim():q.__absoluteAddOne(e,!0)}static exponentiate(e,r){if(r.sign)throw new RangeError("Exponent must be positive");if(r.length===0)return q.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&!(1&r.__digit(0))?q.unaryMinus(e):e;if(1<r.length)throw new RangeError("BigInt too big");let n=r.__unsignedDigit(0);if(n===1)return e;if(n>=q.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){const s=1+(0|n/30),a=e.sign&&(1&n)!=0,c=new q(s,a);c.__initializeDigits();const d=1<<n%30;return c.__setDigit(s-1,d),c}let o=null,i=e;for(1&n&&(o=e),n>>=1;n!==0;n>>=1)i=q.multiply(i,i),1&n&&(o===null?o=i:o=q.multiply(o,i));return o}static multiply(e,r){if(e.length===0)return e;if(r.length===0)return r;let n=e.length+r.length;30<=e.__clzmsd()+r.__clzmsd()&&n--;const o=new q(n,e.sign!==r.sign);o.__initializeDigits();for(let i=0;i<e.length;i++)q.__multiplyAccumulate(r,e.__digit(i),o,i);return o.__trim()}static divide(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>q.__absoluteCompare(e,r))return q.__zero();const n=e.sign!==r.sign,o=r.__unsignedDigit(0);let i;if(r.length===1&&32767>=o){if(o===1)return n===e.sign?e:q.unaryMinus(e);i=q.__absoluteDivSmall(e,o,null)}else i=q.__absoluteDivLarge(e,r,!0,!1);return i.sign=n,i.__trim()}static remainder(e,r){if(r.length===0)throw new RangeError("Division by zero");if(0>q.__absoluteCompare(e,r))return e;const n=r.__unsignedDigit(0);if(r.length===1&&32767>=n){if(n===1)return q.__zero();const i=q.__absoluteModSmall(e,n);return i===0?q.__zero():q.__oneDigit(i,e.sign)}const o=q.__absoluteDivLarge(e,r,!1,!0);return o.sign=e.sign,o.__trim()}static add(e,r){const n=e.sign;return n===r.sign?q.__absoluteAdd(e,r,n):0<=q.__absoluteCompare(e,r)?q.__absoluteSub(e,r,n):q.__absoluteSub(r,e,!n)}static subtract(e,r){const n=e.sign;return n===r.sign?0<=q.__absoluteCompare(e,r)?q.__absoluteSub(e,r,n):q.__absoluteSub(r,e,!n):q.__absoluteAdd(e,r,n)}static leftShift(e,r){return r.length===0||e.length===0?e:r.sign?q.__rightShiftByAbsolute(e,r):q.__leftShiftByAbsolute(e,r)}static signedRightShift(e,r){return r.length===0||e.length===0?e:r.sign?q.__leftShiftByAbsolute(e,r):q.__rightShiftByAbsolute(e,r)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,r){return 0>q.__compareToBigInt(e,r)}static lessThanOrEqual(e,r){return 0>=q.__compareToBigInt(e,r)}static greaterThan(e,r){return 0<q.__compareToBigInt(e,r)}static greaterThanOrEqual(e,r){return 0<=q.__compareToBigInt(e,r)}static equal(e,r){if(e.sign!==r.sign||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e.__digit(n)!==r.__digit(n))return!1;return!0}static notEqual(e,r){return!q.equal(e,r)}static bitwiseAnd(e,r){var n=Math.max;if(!e.sign&&!r.sign)return q.__absoluteAnd(e,r).__trim();if(e.sign&&r.sign){const o=n(e.length,r.length)+1;let i=q.__absoluteSubOne(e,o);const s=q.__absoluteSubOne(r);return i=q.__absoluteOr(i,s,i),q.__absoluteAddOne(i,!0,i).__trim()}return e.sign&&([e,r]=[r,e]),q.__absoluteAndNot(e,q.__absoluteSubOne(r)).__trim()}static bitwiseXor(e,r){var n=Math.max;if(!e.sign&&!r.sign)return q.__absoluteXor(e,r).__trim();if(e.sign&&r.sign){const s=n(e.length,r.length),a=q.__absoluteSubOne(e,s),c=q.__absoluteSubOne(r);return q.__absoluteXor(a,c,a).__trim()}const o=n(e.length,r.length)+1;e.sign&&([e,r]=[r,e]);let i=q.__absoluteSubOne(r,o);return i=q.__absoluteXor(i,e,i),q.__absoluteAddOne(i,!0,i).__trim()}static bitwiseOr(e,r){var n=Math.max;const o=n(e.length,r.length);if(!e.sign&&!r.sign)return q.__absoluteOr(e,r).__trim();if(e.sign&&r.sign){let s=q.__absoluteSubOne(e,o);const a=q.__absoluteSubOne(r);return s=q.__absoluteAnd(s,a,s),q.__absoluteAddOne(s,!0,s).__trim()}e.sign&&([e,r]=[r,e]);let i=q.__absoluteSubOne(r,o);return i=q.__absoluteAndNot(i,e,i),q.__absoluteAddOne(i,!0,i).__trim()}static asIntN(e,r){var n=Math.floor;if(r.length===0)return r;if(e=n(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return q.__zero();if(e>=q.__kMaxLengthBits)return r;const o=0|(e+29)/30;if(r.length<o)return r;const i=r.__unsignedDigit(o-1),s=1<<(e-1)%30;if(r.length===o&&i<s)return r;if((i&s)!==s)return q.__truncateToNBits(e,r);if(!r.sign)return q.__truncateAndSubFromPowerOfTwo(e,r,!0);if(!(i&s-1)){for(let a=o-2;0<=a;a--)if(r.__digit(a)!==0)return q.__truncateAndSubFromPowerOfTwo(e,r,!1);return r.length===o&&i===s?r:q.__truncateToNBits(e,r)}return q.__truncateAndSubFromPowerOfTwo(e,r,!1)}static asUintN(e,r){var n=Math.floor;if(r.length===0)return r;if(e=n(e),0>e)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(e===0)return q.__zero();if(r.sign){if(e>q.__kMaxLengthBits)throw new RangeError("BigInt too big");return q.__truncateAndSubFromPowerOfTwo(e,r,!1)}if(e>=q.__kMaxLengthBits)return r;const o=0|(e+29)/30;if(r.length<o)return r;const i=e%30;return r.length==o&&(i===0||!(r.__digit(o-1)>>>i))?r:q.__truncateToNBits(e,r)}static ADD(e,r){if(e=q.__toPrimitive(e),r=q.__toPrimitive(r),typeof e=="string")return typeof r!="string"&&(r=r.toString()),e+r;if(typeof r=="string")return e.toString()+r;if(e=q.__toNumeric(e),r=q.__toNumeric(r),q.__isBigInt(e)&&q.__isBigInt(r))return q.add(e,r);if(typeof e=="number"&&typeof r=="number")return e+r;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,r){return q.__compare(e,r,0)}static LE(e,r){return q.__compare(e,r,1)}static GT(e,r){return q.__compare(e,r,2)}static GE(e,r){return q.__compare(e,r,3)}static EQ(e,r){for(;;){if(q.__isBigInt(e))return q.__isBigInt(r)?q.equal(e,r):q.EQ(r,e);if(typeof e=="number"){if(q.__isBigInt(r))return q.__equalToNumber(r,e);if(typeof r!="object")return e==r;r=q.__toPrimitive(r)}else if(typeof e=="string"){if(q.__isBigInt(r))return e=q.__fromString(e),e!==null&&q.equal(e,r);if(typeof r!="object")return e==r;r=q.__toPrimitive(r)}else if(typeof e=="boolean"){if(q.__isBigInt(r))return q.__equalToNumber(r,+e);if(typeof r!="object")return e==r;r=q.__toPrimitive(r)}else if(typeof e=="symbol"){if(q.__isBigInt(r))return!1;if(typeof r!="object")return e==r;r=q.__toPrimitive(r)}else if(typeof e=="object"){if(typeof r=="object"&&r.constructor!==q)return e==r;e=q.__toPrimitive(e)}else return e==r}}static NE(e,r){return!q.EQ(e,r)}static DataViewGetBigInt64(e,r,n=!1){return q.asIntN(64,q.DataViewGetBigUint64(e,r,n))}static DataViewGetBigUint64(e,r,n=!1){const[o,i]=n?[4,0]:[0,4],s=e.getUint32(r+o,n),a=e.getUint32(r+i,n),c=new q(3,!1);return c.__setDigit(0,1073741823&a),c.__setDigit(1,(268435455&s)<<2|a>>>30),c.__setDigit(2,s>>>28),c.__trim()}static DataViewSetBigInt64(e,r,n,o=!1){q.DataViewSetBigUint64(e,r,n,o)}static DataViewSetBigUint64(e,r,n,o=!1){n=q.asUintN(64,n);let i=0,s=0;if(0<n.length&&(s=n.__digit(0),1<n.length)){const d=n.__digit(1);s|=d<<30,i=d>>>2,2<n.length&&(i|=n.__digit(2)<<28)}const[a,c]=o?[4,0]:[0,4];e.setUint32(r+a,i,o),e.setUint32(r+c,s,o)}static __zero(){return new q(0,!1)}static __oneDigit(e,r){const n=new q(1,r);return n.__setDigit(0,e),n}__copy(){const e=new q(this.length,this.sign);for(let r=0;r<this.length;r++)e[r]=this[r];return e}__trim(){let e=this.length,r=this[e-1];for(;r===0;)e--,r=this[e-1],this.pop();return e===0&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,r,n,o){if(0<r)return-1;let i;if(0>r)i=-r-1;else{if(n===0)return-1;n--,o=e.__digit(n),i=29}let s=1<<i;if(!(o&s))return-1;if(s-=1,(o&s)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}static __fromDouble(e){q.__kBitConversionDouble[0]=e;const r=2047&q.__kBitConversionInts[1]>>>20,n=r-1023,o=(0|n/30)+1,i=new q(o,0>e);let s=1048575&q.__kBitConversionInts[1]|1048576,a=q.__kBitConversionInts[0];const c=20,d=n%30;let f,l=0;if(d<20){const u=c-d;l=u+32,f=s>>>u,s=s<<32-u|a>>>u,a<<=32-u}else if(d===20)l=32,f=s,s=a,a=0;else{const u=d-c;l=32-u,f=s<<u|a>>>32-u,s=a<<u,a=0}i.__setDigit(o-1,f);for(let u=o-2;0<=u;u--)0<l?(l-=30,f=s>>>2,s=s<<30|a>>>2,a<<=30):f=0,i.__setDigit(u,f);return i.__trim()}static __isWhitespace(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}static __fromString(e,r=0){let n=0;const o=e.length;let i=0;if(i===o)return q.__zero();let s=e.charCodeAt(i);for(;q.__isWhitespace(s);){if(++i===o)return q.__zero();s=e.charCodeAt(i)}if(s===43){if(++i===o)return null;s=e.charCodeAt(i),n=1}else if(s===45){if(++i===o)return null;s=e.charCodeAt(i),n=-1}if(r===0){if(r=10,s===48){if(++i===o)return q.__zero();if(s=e.charCodeAt(i),s===88||s===120){if(r=16,++i===o)return null;s=e.charCodeAt(i)}else if(s===79||s===111){if(r=8,++i===o)return null;s=e.charCodeAt(i)}else if(s===66||s===98){if(r=2,++i===o)return null;s=e.charCodeAt(i)}}}else if(r===16&&s===48){if(++i===o)return q.__zero();if(s=e.charCodeAt(i),s===88||s===120){if(++i===o)return null;s=e.charCodeAt(i)}}if(n!=0&&r!==10)return null;for(;s===48;){if(++i===o)return q.__zero();s=e.charCodeAt(i)}const a=o-i;let c=q.__kMaxBitsPerChar[r],d=q.__kBitsPerCharTableMultiplier-1;if(a>1073741824/c)return null;const f=c*a+d>>>q.__kBitsPerCharTableShift,l=new q(0|(f+29)/30,!1),u=10>r?r:10,p=10<r?r-10:0;if(r&r-1){l.__initializeDigits();let A=!1,h=0;do{let y=0,v=1;for(;;){let S;if(s-48>>>0<u)S=s-48;else if((32|s)-97>>>0<p)S=(32|s)-87;else{A=!0;break}const x=v*r;if(1073741823<x)break;if(v=x,y=y*r+S,h++,++i===o){A=!0;break}s=e.charCodeAt(i)}d=30*q.__kBitsPerCharTableMultiplier-1;const B=0|(c*h+d>>>q.__kBitsPerCharTableShift)/30;l.__inplaceMultiplyAdd(v,y,B)}while(!A)}else{c>>=q.__kBitsPerCharTableShift;const A=[],h=[];let y=!1;do{let v=0,B=0;for(;;){let S;if(s-48>>>0<u)S=s-48;else if((32|s)-97>>>0<p)S=(32|s)-87;else{y=!0;break}if(B+=c,v=v<<c|S,++i===o){y=!0;break}if(s=e.charCodeAt(i),30<B+c)break}A.push(v),h.push(B)}while(!y);q.__fillFromParts(l,A,h)}if(i!==o){if(!q.__isWhitespace(s))return null;for(i++;i<o;i++)if(s=e.charCodeAt(i),!q.__isWhitespace(s))return null}return l.sign=n==-1,l.__trim()}static __fillFromParts(e,r,n){let o=0,i=0,s=0;for(let a=r.length-1;0<=a;a--){const c=r[a],d=n[a];i|=c<<s,s+=d,s===30?(e.__setDigit(o++,i),s=0,i=0):30<s&&(e.__setDigit(o++,1073741823&i),s-=30,i=c>>>d-s)}if(i!==0){if(o>=e.length)throw new Error("implementation bug");e.__setDigit(o++,i)}for(;o<e.length;o++)e.__setDigit(o,0)}static __toStringBasePowerOfTwo(e,r){const n=e.length;let o=r-1;o=(85&o>>>1)+(85&o),o=(51&o>>>2)+(51&o),o=(15&o>>>4)+(15&o);const i=o,s=r-1,a=e.__digit(n-1),c=q.__clz30(a);let d=0|(30*n-c+i-1)/i;if(e.sign&&d++,268435456<d)throw new Error("string too long");const f=Array(d);let l=d-1,u=0,p=0;for(let h=0;h<n-1;h++){const y=e.__digit(h),v=(u|y<<p)&s;f[l--]=q.__kConversionChars[v];const B=i-p;for(u=y>>>B,p=30-B;p>=i;)f[l--]=q.__kConversionChars[u&s],u>>>=i,p-=i}const A=(u|a<<p)&s;for(f[l--]=q.__kConversionChars[A],u=a>>>i-p;u!==0;)f[l--]=q.__kConversionChars[u&s],u>>>=i;if(e.sign&&(f[l--]="-"),l!=-1)throw new Error("implementation bug");return f.join("")}static __toStringGeneric(e,r,n){const o=e.length;if(o===0)return"";if(o===1){let h=e.__unsignedDigit(0).toString(r);return n===!1&&e.sign&&(h="-"+h),h}const i=30*o-q.__clz30(e.__digit(o-1)),s=q.__kMaxBitsPerChar[r],a=s-1;let c=i*q.__kBitsPerCharTableMultiplier;c+=a-1,c=0|c/a;const d=c+1>>1,f=q.exponentiate(q.__oneDigit(r,!1),q.__oneDigit(d,!1));let l,u;const p=f.__unsignedDigit(0);if(f.length===1&&32767>=p){l=new q(e.length,!1),l.__initializeDigits();let h=0;for(let y=2*e.length-1;0<=y;y--){const v=h<<15|e.__halfDigit(y);l.__setHalfDigit(y,0|v/p),h=0|v%p}u=h.toString(r)}else{const h=q.__absoluteDivLarge(e,f,!0,!0);l=h.quotient;const y=h.remainder.__trim();u=q.__toStringGeneric(y,r,!0)}l.__trim();let A=q.__toStringGeneric(l,r,!0);for(;u.length<d;)u="0"+u;return n===!1&&e.sign&&(A="-"+A),A+u}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,r){const n=e.sign;if(n!==r.sign)return q.__unequalSign(n);const o=q.__absoluteCompare(e,r);return 0<o?q.__absoluteGreater(n):0>o?q.__absoluteLess(n):0}static __compareToNumber(e,r){if(q.__isOneDigitInt(r)){const n=e.sign,o=0>r;if(n!==o)return q.__unequalSign(n);if(e.length===0){if(o)throw new Error("implementation bug");return r===0?0:-1}if(1<e.length)return q.__absoluteGreater(n);const i=Math.abs(r),s=e.__unsignedDigit(0);return s>i?q.__absoluteGreater(n):s<i?q.__absoluteLess(n):0}return q.__compareToDouble(e,r)}static __compareToDouble(e,r){if(r!==r)return r;if(r===1/0)return-1;if(r===-1/0)return 1;const n=e.sign;if(n!==0>r)return q.__unequalSign(n);if(r===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;q.__kBitConversionDouble[0]=r;const o=2047&q.__kBitConversionInts[1]>>>20;if(o==2047)throw new Error("implementation bug: handled elsewhere");const i=o-1023;if(0>i)return q.__absoluteGreater(n);const s=e.length;let a=e.__digit(s-1);const c=q.__clz30(a),d=30*s-c,f=i+1;if(d<f)return q.__absoluteLess(n);if(d>f)return q.__absoluteGreater(n);let l=1048576|1048575&q.__kBitConversionInts[1],u=q.__kBitConversionInts[0];const p=20,A=29-c;if(A!==(0|(d-1)%30))throw new Error("implementation bug");let h,y=0;if(20>A){const v=p-A;y=v+32,h=l>>>v,l=l<<32-v|u>>>v,u<<=32-v}else if(A===20)y=32,h=l,l=u,u=0;else{const v=A-p;y=32-v,h=l<<v|u>>>32-v,l=u<<v,u=0}if(a>>>=0,h>>>=0,a>h)return q.__absoluteGreater(n);if(a<h)return q.__absoluteLess(n);for(let v=s-2;0<=v;v--){0<y?(y-=30,h=l>>>2,l=l<<30|u>>>2,u<<=30):h=0;const B=e.__unsignedDigit(v);if(B>h)return q.__absoluteGreater(n);if(B<h)return q.__absoluteLess(n)}if(l!==0||u!==0){if(y===0)throw new Error("implementation bug");return q.__absoluteLess(n)}return 0}static __equalToNumber(e,r){var n=Math.abs;return q.__isOneDigitInt(r)?r===0?e.length===0:e.length===1&&e.sign===0>r&&e.__unsignedDigit(0)===n(r):q.__compareToDouble(e,r)===0}static __comparisonResultToBool(e,r){return r===0?0>e:r===1?0>=e:r===2?0<e:r===3?0<=e:void 0}static __compare(e,r,n){if(e=q.__toPrimitive(e),r=q.__toPrimitive(r),typeof e=="string"&&typeof r=="string")switch(n){case 0:return e<r;case 1:return e<=r;case 2:return e>r;case 3:return e>=r}if(q.__isBigInt(e)&&typeof r=="string")return r=q.__fromString(r),r!==null&&q.__comparisonResultToBool(q.__compareToBigInt(e,r),n);if(typeof e=="string"&&q.__isBigInt(r))return e=q.__fromString(e),e!==null&&q.__comparisonResultToBool(q.__compareToBigInt(e,r),n);if(e=q.__toNumeric(e),r=q.__toNumeric(r),q.__isBigInt(e)){if(q.__isBigInt(r))return q.__comparisonResultToBool(q.__compareToBigInt(e,r),n);if(typeof r!="number")throw new Error("implementation bug");return q.__comparisonResultToBool(q.__compareToNumber(e,r),n)}if(typeof e!="number")throw new Error("implementation bug");if(q.__isBigInt(r))return q.__comparisonResultToBool(q.__compareToNumber(r,e),2^n);if(typeof r!="number")throw new Error("implementation bug");return n===0?e<r:n===1?e<=r:n===2?e>r:n===3?e>=r:void 0}__clzmsd(){return q.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,r,n){if(e.length<r.length)return q.__absoluteAdd(r,e,n);if(e.length===0)return e;if(r.length===0)return e.sign===n?e:q.unaryMinus(e);let o=e.length;(e.__clzmsd()===0||r.length===e.length&&r.__clzmsd()===0)&&o++;const i=new q(o,n);let s=0,a=0;for(;a<r.length;a++){const c=e.__digit(a)+r.__digit(a)+s;s=c>>>30,i.__setDigit(a,1073741823&c)}for(;a<e.length;a++){const c=e.__digit(a)+s;s=c>>>30,i.__setDigit(a,1073741823&c)}return a<i.length&&i.__setDigit(a,s),i.__trim()}static __absoluteSub(e,r,n){if(e.length===0)return e;if(r.length===0)return e.sign===n?e:q.unaryMinus(e);const o=new q(e.length,n);let i=0,s=0;for(;s<r.length;s++){const a=e.__digit(s)-r.__digit(s)-i;i=1&a>>>30,o.__setDigit(s,1073741823&a)}for(;s<e.length;s++){const a=e.__digit(s)-i;i=1&a>>>30,o.__setDigit(s,1073741823&a)}return o.__trim()}static __absoluteAddOne(e,r,n=null){const o=e.length;n===null?n=new q(o,r):n.sign=r;let i=1;for(let s=0;s<o;s++){const a=e.__digit(s)+i;i=a>>>30,n.__setDigit(s,1073741823&a)}return i!=0&&n.__setDigitGrow(o,1),n}static __absoluteSubOne(e,r){const n=e.length;r=r||n;const o=new q(r,!1);let i=1;for(let s=0;s<n;s++){const a=e.__digit(s)-i;i=1&a>>>30,o.__setDigit(s,1073741823&a)}if(i!=0)throw new Error("implementation bug");for(let s=n;s<r;s++)o.__setDigit(s,0);return o}static __absoluteAnd(e,r,n=null){let o=e.length,i=r.length,s=i;if(o<i){s=o;const d=e,f=o;e=r,o=i,r=d,i=f}let a=s;n===null?n=new q(a,!1):a=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&r.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteAndNot(e,r,n=null){const o=e.length,i=r.length;let s=i;o<i&&(s=o);let a=o;n===null?n=new q(a,!1):a=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)&~r.__digit(c));for(;c<o;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteOr(e,r,n=null){let o=e.length,i=r.length,s=i;if(o<i){s=o;const d=e,f=o;e=r,o=i,r=d,i=f}let a=o;n===null?n=new q(a,!1):a=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)|r.__digit(c));for(;c<o;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteXor(e,r,n=null){let o=e.length,i=r.length,s=i;if(o<i){s=o;const d=e,f=o;e=r,o=i,r=d,i=f}let a=o;n===null?n=new q(a,!1):a=n.length;let c=0;for(;c<s;c++)n.__setDigit(c,e.__digit(c)^r.__digit(c));for(;c<o;c++)n.__setDigit(c,e.__digit(c));for(;c<a;c++)n.__setDigit(c,0);return n}static __absoluteCompare(e,r){const n=e.length-r.length;if(n!=0)return n;let o=e.length-1;for(;0<=o&&e.__digit(o)===r.__digit(o);)o--;return 0>o?0:e.__unsignedDigit(o)>r.__unsignedDigit(o)?1:-1}static __multiplyAccumulate(e,r,n,o){if(r===0)return;const i=32767&r,s=r>>>15;let a=0,c=0;for(let d,f=0;f<e.length;f++,o++){d=n.__digit(o);const l=e.__digit(f),u=32767&l,p=l>>>15,A=q.__imul(u,i),h=q.__imul(u,s),y=q.__imul(p,i),v=q.__imul(p,s);d+=c+A+a,a=d>>>30,d&=1073741823,d+=((32767&h)<<15)+((32767&y)<<15),a+=d>>>30,c=v+(h>>>15)+(y>>>15),n.__setDigit(o,1073741823&d)}for(;a!=0||c!==0;o++){let d=n.__digit(o);d+=a+c,c=0,a=d>>>30,n.__setDigit(o,1073741823&d)}}static __internalMultiplyAdd(e,r,n,o,i){let s=n,a=0;for(let c=0;c<o;c++){const d=e.__digit(c),f=q.__imul(32767&d,r),l=q.__imul(d>>>15,r),u=f+((32767&l)<<15)+a+s;s=u>>>30,a=l>>>15,i.__setDigit(c,1073741823&u)}if(i.length>o)for(i.__setDigit(o++,s+a);o<i.length;)i.__setDigit(o++,0);else if(s+a!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(e,r,n){n>this.length&&(n=this.length);const o=32767&e,i=e>>>15;let s=0,a=r;for(let c=0;c<n;c++){const d=this.__digit(c),f=32767&d,l=d>>>15,u=q.__imul(f,o),p=q.__imul(f,i),A=q.__imul(l,o),h=q.__imul(l,i);let y=a+u+s;s=y>>>30,y&=1073741823,y+=((32767&p)<<15)+((32767&A)<<15),s+=y>>>30,a=h+(p>>>15)+(A>>>15),this.__setDigit(c,1073741823&y)}if(s!=0||a!==0)throw new Error("implementation bug")}static __absoluteDivSmall(e,r,n=null){n===null&&(n=new q(e.length,!1));let o=0;for(let i,s=2*e.length-1;0<=s;s-=2){i=(o<<15|e.__halfDigit(s))>>>0;const a=0|i/r;o=0|i%r,i=(o<<15|e.__halfDigit(s-1))>>>0;const c=0|i/r;o=0|i%r,n.__setDigit(s>>>1,a<<15|c)}return n}static __absoluteModSmall(e,r){let n=0;for(let o=2*e.length-1;0<=o;o--)n=0|((n<<15|e.__halfDigit(o))>>>0)%r;return n}static __absoluteDivLarge(e,r,n,o){const i=r.__halfDigitLength(),s=r.length,a=e.__halfDigitLength()-i;let c=null;n&&(c=new q(a+2>>>1,!1),c.__initializeDigits());const d=new q(i+2>>>1,!1);d.__initializeDigits();const f=q.__clz15(r.__halfDigit(i-1));0<f&&(r=q.__specialLeftShift(r,f,0));const l=q.__specialLeftShift(e,f,1),u=r.__halfDigit(i-1);let p=0;for(let A,h=a;0<=h;h--){A=32767;const y=l.__halfDigit(h+i);if(y!==u){const B=(y<<15|l.__halfDigit(h+i-1))>>>0;A=0|B/u;let S=0|B%u;const x=r.__halfDigit(i-2),Q=l.__halfDigit(h+i-2);for(;q.__imul(A,x)>>>0>(S<<16|Q)>>>0&&(A--,S+=u,!(32767<S)););}q.__internalMultiplyAdd(r,A,0,s,d);let v=l.__inplaceSub(d,h,i+1);v!==0&&(v=l.__inplaceAdd(r,h,i),l.__setHalfDigit(h+i,32767&l.__halfDigit(h+i)+v),A--),n&&(1&h?p=A<<15:c.__setDigit(h>>>1,p|A))}if(o)return l.__inplaceRightShift(f),n?{quotient:c,remainder:l}:l;if(n)return c;throw new Error("unreachable")}static __clz15(e){return q.__clz30(e)-15}__inplaceAdd(e,r,n){let o=0;for(let i=0;i<n;i++){const s=this.__halfDigit(r+i)+e.__halfDigit(i)+o;o=s>>>15,this.__setHalfDigit(r+i,32767&s)}return o}__inplaceSub(e,r,n){let o=0;if(1&r){r>>=1;let i=this.__digit(r),s=32767&i,a=0;for(;a<n-1>>>1;a++){const f=e.__digit(a),l=(i>>>15)-(32767&f)-o;o=1&l>>>15,this.__setDigit(r+a,(32767&l)<<15|32767&s),i=this.__digit(r+a+1),s=(32767&i)-(f>>>15)-o,o=1&s>>>15}const c=e.__digit(a),d=(i>>>15)-(32767&c)-o;if(o=1&d>>>15,this.__setDigit(r+a,(32767&d)<<15|32767&s),r+a+1>=this.length)throw new RangeError("out of bounds");!(1&n)&&(i=this.__digit(r+a+1),s=(32767&i)-(c>>>15)-o,o=1&s>>>15,this.__setDigit(r+e.length,1073709056&i|32767&s))}else{r>>=1;let i=0;for(;i<e.length-1;i++){const f=this.__digit(r+i),l=e.__digit(i),u=(32767&f)-(32767&l)-o;o=1&u>>>15;const p=(f>>>15)-(l>>>15)-o;o=1&p>>>15,this.__setDigit(r+i,(32767&p)<<15|32767&u)}const s=this.__digit(r+i),a=e.__digit(i),c=(32767&s)-(32767&a)-o;o=1&c>>>15;let d=0;!(1&n)&&(d=(s>>>15)-(a>>>15)-o,o=1&d>>>15),this.__setDigit(r+i,(32767&d)<<15|32767&c)}return o}__inplaceRightShift(e){if(e===0)return;let r=this.__digit(0)>>>e;const n=this.length-1;for(let o=0;o<n;o++){const i=this.__digit(o+1);this.__setDigit(o,1073741823&i<<30-e|r),r=i>>>e}this.__setDigit(n,r)}static __specialLeftShift(e,r,n){const o=e.length,i=new q(o+n,!1);if(r===0){for(let a=0;a<o;a++)i.__setDigit(a,e.__digit(a));return 0<n&&i.__setDigit(o,0),i}let s=0;for(let a=0;a<o;a++){const c=e.__digit(a);i.__setDigit(a,1073741823&c<<r|s),s=c>>>30-r}return 0<n&&i.__setDigit(o,s),i}static __leftShiftByAbsolute(e,r){const n=q.__toShiftAmount(r);if(0>n)throw new RangeError("BigInt too big");const o=0|n/30,i=n%30,s=e.length,a=i!==0&&e.__digit(s-1)>>>30-i!=0,c=s+o+(a?1:0),d=new q(c,e.sign);if(i===0){let f=0;for(;f<o;f++)d.__setDigit(f,0);for(;f<c;f++)d.__setDigit(f,e.__digit(f-o))}else{let f=0;for(let l=0;l<o;l++)d.__setDigit(l,0);for(let l=0;l<s;l++){const u=e.__digit(l);d.__setDigit(l+o,1073741823&u<<i|f),f=u>>>30-i}if(a)d.__setDigit(s+o,f);else if(f!==0)throw new Error("implementation bug")}return d.__trim()}static __rightShiftByAbsolute(e,r){const n=e.length,o=e.sign,i=q.__toShiftAmount(r);if(0>i)return q.__rightShiftByMaximum(o);const s=0|i/30,a=i%30;let c=n-s;if(0>=c)return q.__rightShiftByMaximum(o);let d=!1;if(o){if(e.__digit(s)&(1<<a)-1)d=!0;else for(let l=0;l<s;l++)if(e.__digit(l)!==0){d=!0;break}}d&&a===0&&!~e.__digit(n-1)&&c++;let f=new q(c,o);if(a===0){f.__setDigit(c-1,0);for(let l=s;l<n;l++)f.__setDigit(l-s,e.__digit(l))}else{let l=e.__digit(s)>>>a;const u=n-s-1;for(let p=0;p<u;p++){const A=e.__digit(p+s+1);f.__setDigit(p,1073741823&A<<30-a|l),l=A>>>a}f.__setDigit(u,l)}return d&&(f=q.__absoluteAddOne(f,!0,f)),f.__trim()}static __rightShiftByMaximum(e){return e?q.__oneDigit(1,!0):q.__zero()}static __toShiftAmount(e){if(1<e.length)return-1;const r=e.__unsignedDigit(0);return r>q.__kMaxLengthBits?-1:r}static __toPrimitive(e,r="default"){if(typeof e!="object"||e.constructor===q)return e;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){const i=e[Symbol.toPrimitive];if(i){const s=i(r);if(typeof s!="object")return s;throw new TypeError("Cannot convert object to primitive value")}}const n=e.valueOf;if(n){const i=n.call(e);if(typeof i!="object")return i}const o=e.toString;if(o){const i=o.call(e);if(typeof i!="object")return i}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return q.__isBigInt(e)?e:+e}static __isBigInt(e){return typeof e=="object"&&e!==null&&e.constructor===q}static __truncateToNBits(e,r){const n=0|(e+29)/30,o=new q(n,r.sign),i=n-1;for(let a=0;a<i;a++)o.__setDigit(a,r.__digit(a));let s=r.__digit(i);if(e%30!=0){const a=32-e%30;s=s<<a>>>a}return o.__setDigit(i,s),o.__trim()}static __truncateAndSubFromPowerOfTwo(e,r,n){var o=Math.min;const i=0|(e+29)/30,s=new q(i,n);let a=0;const c=i-1;let d=0;for(const p=o(c,r.length);a<p;a++){const A=0-r.__digit(a)-d;d=1&A>>>30,s.__setDigit(a,1073741823&A)}for(;a<c;a++)s.__setDigit(a,0|1073741823&-d);let f=c<r.length?r.__digit(c):0;const l=e%30;let u;if(l==0)u=0-f-d,u&=1073741823;else{const p=32-l;f=f<<p>>>p;const A=1<<32-p;u=A-f-d,u&=A-1}return s.__setDigit(c,u),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,r){this[e]=0|r}__setDigitGrow(e,r){this[e]=0|r}__halfDigitLength(){const e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,r){const n=e>>>1,o=this.__digit(n),i=1&e?32767&o|r<<15:1073709056&o|32767&r;this.__setDigit(n,i)}static __digitPow(e,r){let n=1;for(;0<r;)1&r&&(n*=e),r>>>=1,e*=e;return n}static __isOneDigitInt(e){return(1073741823&e)===e}}q.__kMaxLength=33554432,q.__kMaxLengthBits=q.__kMaxLength<<5,q.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],q.__kBitsPerCharTableShift=5,q.__kBitsPerCharTableMultiplier=1<<q.__kBitsPerCharTableShift,q.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],q.__kBitConversionBuffer=new ArrayBuffer(8),q.__kBitConversionDouble=new Float64Array(q.__kBitConversionBuffer),q.__kBitConversionInts=new Int32Array(q.__kBitConversionBuffer),q.__clz30=Math.clz32?function(t){return Math.clz32(t)-2}:function(t){return t===0?30:0|29-(0|Math.log(t>>>0)/Math.LN2)},q.__imul=Math.imul||function(t,e){return 0|t*e};const Ax={};function pf(t,e){Object.defineProperty(t.prototype,Symbol.toStringTag,{value:e,writable:!1,enumerable:!1,configurable:!0});for(const r of Object.getOwnPropertyNames(t)){const n=Object.getOwnPropertyDescriptor(t,r);n.configurable&&n.enumerable&&(n.enumerable=!1,Object.defineProperty(t,r,n))}for(const r of Object.getOwnPropertyNames(t.prototype)){const n=Object.getOwnPropertyDescriptor(t.prototype,r);n.configurable&&n.enumerable&&(n.enumerable=!1,Object.defineProperty(t.prototype,r,n))}Cr(e,t),Cr(`${e}.prototype`,t.prototype)}function Cr(t,e){const r=`%${t}%`;if(Ax[r]!==void 0)throw new Error(`intrinsic ${t} already exists`);Ax[r]=e}function Be(t){return Ax[t]}var hM,AM;const $e="slot-epochNanoSeconds",Cc="slot-timezone-identifier",xe="slot-year",De="slot-month",ke="slot-day",it="slot-hour",ot="slot-minute",st="slot-second",at="slot-millisecond",ct="slot-microsecond",ft="slot-nanosecond",ye="slot-calendar",SL="slot-date-brand",_L="slot-year-month-brand",DL="slot-month-day-brand",ri="slot-cached-instant",zt="slot-time-zone",Ei="slot-years",xn="slot-months",Vi="slot-weeks",vi="slot-days",Bi="slot-hours",Ci="slot-minutes",Qi="slot-seconds",xi="slot-milliseconds",Si="slot-microseconds",_i="slot-nanoseconds",Br="slot-calendar-identifier",kL=new WeakMap,gx=Symbol.for("@@Temporal__GetSlots");(hM=globalThis)[gx]||(hM[gx]=function(e){return kL.get(e)});const FS=globalThis[gx],px=Symbol.for("@@Temporal__CreateSlots");(AM=globalThis)[px]||(AM[px]=function(e){kL.set(e,Object.create(null))});const yf=globalThis[px];function En(t,...e){if(!t||typeof t!="object")return!1;const r=FS(t);return!!r&&e.every(n=>n in r)}function O(t,e){const r=FS(t)?.[e];if(r===void 0)throw new TypeError(`Missing internal slot ${e}`);return r}function lt(t,e,r){const n=FS(t);if(n===void 0)throw new TypeError("Missing slots for the given container");if(n[e])throw new TypeError(`${e} already has set`);n[e]=r}const gM=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Am=new RegExp("(?:"+[`(?:${gM.source})(?:\\/(?:${gM.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),TL=/(?:[+\u2212-]\d{6}|\d{4})/,EE=/(?:0[1-9]|1[0-2])/,yx=/(?:0[1-9]|[12]\d|3[01])/,iwe=new RegExp(`(${TL.source})(?:-(${EE.source})-(${yx.source})|(${EE.source})(${yx.source}))`),FL=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,ML=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,UL=new RegExp(`([zZ])|${ML.source}?`),pu=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,owe=new RegExp([`^${iwe.source}`,`(?:(?:T|\\s+)${FL.source}(?:${UL.source})?)?`,`(?:\\[!?(${Am.source})\\])?`,`((?:${pu.source})*)$`].join(""),"i"),swe=new RegExp([`^T?${FL.source}`,`(?:${UL.source})?`,`(?:\\[!?${Am.source}\\])?`,`((?:${pu.source})*)$`].join(""),"i"),awe=new RegExp(`^(${TL.source})-?(${EE.source})(?:\\[!?${Am.source}\\])?((?:${pu.source})*)$`),cwe=new RegExp(`^(?:--)?(${EE.source})-?(${yx.source})(?:\\[!?${Am.source}\\])?((?:${pu.source})*)$`),p3=/(\d+)(?:[.,](\d{1,9}))?/,fwe=new RegExp(`(?:${p3.source}H)?(?:${p3.source}M)?(?:${p3.source}S)?`),dwe=new RegExp(`^([+-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${fwe.source})?$`,"i"),lwe=Array.prototype.includes,RL=Array.prototype.push,NL=globalThis.Intl.DateTimeFormat,uwe=Math.min,hwe=Math.max,ur=Math.abs,Io=Math.floor,l0=Math.sign,gh=Math.trunc,SB=Number.isNaN,Ti=Number.isFinite,Awe=Number,gm=String,gwe=Number.MAX_SAFE_INTEGER,fi=Object.create,pwe=Object.getOwnPropertyDescriptor,_B=Reflect.apply,ywe=Reflect.ownKeys,Nr=q.BigInt(0),X0=q.BigInt(1),jc=q.BigInt(60),PL=q.BigInt(24),Nt=q.BigInt(1e3),Bs=q.BigInt(1e6),zc=q.BigInt(1e9),Iwe=q.BigInt(-1),OL=q.multiply(q.BigInt(3600),zc),KL=q.multiply(jc,zc),rf=q.multiply(OL,PL),SI=q.multiply(q.BigInt(-86400),q.BigInt(1e17)),u0=q.multiply(q.BigInt(86400),q.BigInt(1e17)),vE=-271821,BE=275760,_g=q.multiply(q.BigInt(-388152),q.BigInt(1e13)),mwe=q.multiply(rf,q.BigInt(3660)),HL=q.multiply(rf,q.BigInt(366)),LL=q.multiply(rf,q.BigInt(14)),wwe=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function fs(t){return q.equal(t,Nr)}function Ht(t,e){const r=t[e];if(r!==void 0)return r}function Oe(t,e,r){const n=arguments.length>2?r:[];return _B(t,e,n)}function hr(t){return typeof t=="object"&&t!==null||typeof t=="function"}function h0(t){if(typeof t=="bigint")throw new TypeError("Cannot convert BigInt to number");return Awe(t)}function en(t){const e=h0(t);if(SB(e)||e===0)return 0;if(!Ti(e))return e;const r=Io(ur(e));return r===0?0:l0(e)*r}function $o(t){if(typeof t!="number"||SB(t)||!Ti(t))return!1;const e=ur(t);return Io(e)===e}function Ri(t){if(typeof t=="symbol")throw new TypeError("Cannot convert a Symbol value to a String");return gm(t)}function Ft(t){const e=h0(t);if(e===0)return 0;if(SB(e)||!Ti(e))throw new RangeError("invalid number value");const r=gh(e);return r===0?0:r}function pM(t,e){const r=Ft(t);if(r<=0)throw e!==void 0?new RangeError(`property '${e}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return r}function wn(t){const e=h0(t);if(!Ti(e))throw new RangeError("infinity is out of range");if(!$o(e))throw new RangeError(`unsupported fractional value ${t}`);return e===0?0:e}function zr(t,e){return{quotient:q.divide(t,e),remainder:q.remainder(t,e)}}function CE(t){return q.lessThan(t,Nr)}function yM(t){return fs(t)?0:CE(t)?-1:1}function Ga(t){return q.lessThan(t,Nr)?q.multiply(t,Iwe):t}const IM=new Map([["year",Ft],["month",pM],["monthCode",Ri],["day",pM],["hour",Ft],["minute",Ft],["second",Ft],["millisecond",Ft],["microsecond",Ft],["nanosecond",Ft],["years",wn],["months",wn],["weeks",wn],["days",wn],["hours",wn],["minutes",wn],["seconds",wn],["milliseconds",wn],["microseconds",wn],["nanoseconds",wn],["era",Ri],["eraYear",en],["offset",Ri]]),bwe=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),pm=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],QE=new Map(pm.map(t=>[t[0],t[1]])),Ewe=new Map(pm.map(([t,e])=>[e,t])),mM=pm.map(([,t])=>t),wM=Array.from(QE.keys()).sort(),bM=new Map;function GL(t){let e=bM.get(t);return e===void 0&&(e=new NL("en-us",{timeZone:gm(t),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),bM.set(t,e)),e}function EM(t){if(t==null)throw new TypeError(`Expected object not ${t}`);return Object(t)}function Dg(t,e,r,n){if(e==null)return;const o=ywe(e);for(const i of o)if(!r.some(s=>Object.is(s,i))&&Object.prototype.propertyIsEnumerable.call(e,i)){const s=e[i];if(n&&n.some(a=>Object.is(a,s)))continue;t[i]=s}}function sn(t){return En(t,$e)&&!En(t,zt,ye)}function os(t){return En(t,Cc)}function Tr(t){return En(t,Br)}function Mr(t){return En(t,Ei,xn,vi,Bi,Ci,Qi,xi,Si,_i)}function bt(t){return En(t,SL)}function Ur(t){return En(t,it,ot,st,at,ct,ft)&&!En(t,xe,De,ke)}function tt(t){return En(t,xe,De,ke,it,ot,st,at,ct,ft)}function Rt(t){return En(t,_L)}function gn(t){return En(t,DL)}function Me(t){return En(t,$e,zt,ye)}function ep(t){if(En(t,ye)||En(t,zt))throw new TypeError("with() does not support a calendar or timeZone property");if(Ur(t))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(t.calendar!==void 0)throw new TypeError("with() does not support a calendar property");if(t.timeZone!==void 0)throw new TypeError("with() does not support a timeZone property")}function vwe(t){const{ianaName:e,offset:r,z:n}=function(i){if(new RegExp(`^${Am.source}$`,"i").test(i))return{ianaName:i};try{const s=If(i);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${i}`)}(t);return e?qS(e):n?"UTC":HB(cu(r))}function MS(t,e){return e==="never"?"":US(On(t),e)}function US(t,e){return e==="never"||e==="auto"&&t==="iso8601"?"":`[${e==="critical"?"!":""}u-ca=${t}]`}function If(t){const e=owe.exec(t);if(!e)throw new RangeError(`invalid ISO 8601 string: ${t}`);let r=e[1];if(r[0]===""&&(r=`-${r.slice(1)}`),r==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);const n=en(r),o=en(e[2]||e[4]),i=en(e[3]||e[5]),s=en(e[6]),a=e[6]!==void 0,c=en(e[7]||e[10]);let d=en(e[8]||e[11]);d===60&&(d=59);const f=(e[9]||e[12])+"000000000",l=en(f.slice(0,3)),u=en(f.slice(3,6)),p=en(f.slice(6,9));let A,h=!1;if(e[13])A=void 0,h=!0;else if(e[14]&&e[15]){const S=e[14]==="-"||e[14]===""?"-":"+",x=e[15]||"00",Q=e[16]||"00",N=e[17]||"00";let $=e[18]||"0";if(A=`${S}${x}:${Q}`,+$){for(;$.endsWith("0");)$=$.slice(0,-1);A+=`:${N}.${$}`}else+N&&(A+=`:${N}`);A==="-00:00"&&(A="+00:00")}const y=e[19],v=e[20];let B;for(const[,S,x,Q]of v.matchAll(pu))if(x==="u-ca")B===void 0&&(B=Q);else if(S==="!")throw new RangeError(`Unrecognized annotation: !${x}=${Q}`);return zS(n,o,i,s,c,d,l,u,p),{year:n,month:o,day:i,hasTime:a,hour:s,minute:c,second:d,millisecond:l,microsecond:u,nanosecond:p,ianaName:y,offset:A,z:h,calendar:B}}function RS(t){const e=awe.exec(t);let r,n,o,i;if(e){let s=e[1];if(s[0]===""&&(s=`-${s.slice(1)}`),s==="-000000")throw new RangeError(`invalid ISO 8601 string: ${t}`);r=en(s),n=en(e[2]);const a=e[3];for(const[,c,d,f]of a.matchAll(pu))if(d==="u-ca")o===void 0&&(o=f);else if(c==="!")throw new RangeError(`Unrecognized annotation: !${d}=${f}`);if(o!==void 0&&o!=="iso8601")throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if({year:r,month:n,calendar:o,day:i,z:s}=If(t),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:n,calendar:o,referenceISODay:i}}function NS(t){const e=cwe.exec(t);let r,n,o,i;if(e){r=en(e[1]),n=en(e[2]);const s=e[3];for(const[,a,c,d]of s.matchAll(pu))if(c==="u-ca")o===void 0&&(o=d);else if(a==="!")throw new RangeError(`Unrecognized annotation: !${c}=${d}`);if(o!==void 0&&o!=="iso8601")throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if({month:r,day:n,calendar:o,year:i,z:s}=If(t),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:n,calendar:o,referenceISOYear:i}}function Bwe(t){let{year:e,month:r,day:n,hour:o,minute:i,second:s,millisecond:a,microsecond:c,nanosecond:d,offset:f,z:l}=function(h){const y=If(h);if(!y.z&&!y.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return y}(t);if(!l&&!f)throw new RangeError("Temporal.Instant requires a time zone offset");const u=l?0:cu(f);({year:e,month:r,day:n,hour:o,minute:i,second:s,millisecond:a,microsecond:c,nanosecond:d}=$S(e,r,n,o,i,s,a,c,d-u));const p=fu(e,r,n,o,i,s,a,c,d);if(p===null)throw new RangeError("DateTime outside of supported range");return p}function xE(t,e,r,n){let o=t,i=e,s=r;switch(n){case"reject":nf(o,i,s);break;case"constrain":({year:o,month:i,day:s}=sG(o,i,s))}return{year:o,month:i,day:s}}function DB(t,e,r,n,o,i,s){let a=t,c=e,d=r,f=n,l=o,u=i;switch(s){case"reject":GB(a,c,d,f,l,u);break;case"constrain":({hour:a,minute:c,second:d,millisecond:f,microsecond:l,nanosecond:u}=function(A,h,y,v,B,S){const x=yo(A,0,23),Q=yo(h,0,59),N=yo(y,0,59),$=yo(v,0,999),G=yo(B,0,999),z=yo(S,0,999);return{hour:x,minute:Q,second:N,millisecond:$,microsecond:G,nanosecond:z}}(a,c,d,f,l,u))}return{hour:a,minute:c,second:d,millisecond:f,microsecond:l,nanosecond:u}}function mA(t){if(!hr(t))return function(A){const h=dwe.exec(A);if(!h)throw new RangeError(`invalid duration: ${A}`);if(h.slice(2).every(H=>H===void 0))throw new RangeError(`invalid duration: ${A}`);const y=h[1]==="-"||h[1]===""?-1:1,v=h[2]===void 0?0:Ft(h[2])*y,B=h[3]===void 0?0:Ft(h[3])*y,S=h[4]===void 0?0:Ft(h[4])*y,x=h[5]===void 0?0:Ft(h[5])*y,Q=h[6]===void 0?0:Ft(h[6])*y,N=h[7],$=h[8],G=h[9],z=h[10],Y=h[11];let R=0,C=0,m=0;if(N!==void 0){if($??G??z??Y)throw new RangeError("only the smallest unit can be fractional");m=3600*en((N+"000000000").slice(0,9))*y}else if(R=$===void 0?0:Ft($)*y,G!==void 0){if(z??Y)throw new RangeError("only the smallest unit can be fractional");m=60*en((G+"000000000").slice(0,9))*y}else C=z===void 0?0:Ft(z)*y,Y!==void 0&&(m=en((Y+"000000000").slice(0,9))*y);const g=m%1e3,w=gh(m/1e3)%1e3,F=gh(m/1e6)%1e3;return C+=gh(m/1e9)%60,R+=gh(m/6e10),FE(v,B,S,x,Q,R,C,F,w,g),{years:v,months:B,weeks:S,days:x,hours:Q,minutes:R,seconds:C,milliseconds:F,microseconds:w,nanoseconds:g}}(Ri(t));if(Mr(t))return{years:O(t,Ei),months:O(t,xn),weeks:O(t,Vi),days:O(t,vi),hours:O(t,Bi),minutes:O(t,Ci),seconds:O(t,Qi),milliseconds:O(t,xi),microseconds:O(t,Si),nanoseconds:O(t,_i)};const e={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let r=function(A){if(!hr(A))throw new TypeError("invalid duration-like");const h={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let y=!1;for(const v of wM){const B=A[v];B!==void 0&&(y=!0,h[v]=wn(B))}if(!y)throw new TypeError("invalid duration-like");return h}(t);for(const p of wM){const A=r[p];A!==void 0&&(e[p]=A)}let{years:n,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:d,milliseconds:f,microseconds:l,nanoseconds:u}=e;return FE(n,o,i,s,a,c,d,f,l,u),{years:n,months:o,weeks:i,days:s,hours:a,minutes:c,seconds:d,milliseconds:f,microseconds:l,nanoseconds:u}}function Yr(t){return t===void 0?"constrain":lu(t,"overflow",["constrain","reject"],"constrain")}function A0(t){return t===void 0?"compatible":lu(t,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Za(t,e){return lu(t,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],e)}function SE(t,e){return t===void 0?e:lu(t,"offset",["prefer","use","ignore","reject"],e)}function ym(t){return lu(t,"calendarName",["auto","always","never","critical"],"auto")}function tp(t){let e=t.roundingIncrement;if(e===void 0)return 1;if(e=h0(e),!Ti(e))throw new RangeError("roundingIncrement must be finite");const r=gh(e);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${e}`);return r}function rp(t,e,r){const n=r?e:e-1;if(t>n)throw new RangeError(`roundingIncrement must be at least 1 and less than ${n}, not ${t}`);if(e%t!=0)throw new RangeError(`Rounding increment must divide evenly into ${e}`)}function Im(t){const e=t.fractionalSecondDigits;if(e===void 0)return"auto";if(typeof e!="number"){if(Ri(e)!=="auto")throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return"auto"}const r=Io(e);if(!Ti(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`);return r}function mm(t,e){switch(t){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(e){case"auto":return{precision:e,unit:"nanosecond",increment:1};case 0:return{precision:e,unit:"second",increment:1};case 1:case 2:case 3:return{precision:e,unit:"millisecond",increment:10**(3-e)};case 4:case 5:case 6:return{precision:e,unit:"microsecond",increment:10**(6-e)};case 7:case 8:case 9:return{precision:e,unit:"nanosecond",increment:10**(9-e)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${e}`)}}const Gh=Symbol("~required~");function mo(t,e,r,n,o=[]){const i=[];for(const[,d,f]of pm)r!=="datetime"&&r!==f||i.push(d);i.push(...o);let s=n;s===Gh?s=void 0:s!==void 0&&i.push(s);const a=[...i];for(const d of i){const f=Ewe.get(d);f!==void 0&&a.push(f)}let c=lu(t,e,a,s);if(c===void 0&&n===Gh)throw new RangeError(`${e} is required`);return QE.has(c)?QE.get(c):c}function W1(t){const e=t.relativeTo;if(e===void 0)return e;let r,n,o,i,s,a,c,d,f,l,u,p,A="option",h=!1;if(hr(e)){if(Me(e)||bt(e))return e;if(tt(e))return p0(e);l=vm(e);const y=rn(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);y.push("timeZone","offset");const v=gt(e,y,[]),B=fi(null);B.overflow="constrain",{year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f}=wm(l,v,B),p=v.offset,p===void 0&&(A="wall"),u=v.timeZone,u!==void 0&&(u=si(u))}else{let y,v;if({year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f,calendar:l,ianaName:y,offset:p,z:v}=If(Ri(e)),y)u=si(y),v?A="exact":p||(A="wall"),h=!0;else if(v)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(l||(l="iso8601"),!Qd(l))throw new RangeError(`invalid calendar identifier ${l}`);l=of(l)}return u===void 0?_s(r,n,o,l):kn(DE(r,n,o,i,s,a,c,d,f,A,A==="option"?cu(p):0,u,"compatible","reject",h),u,l)}function Ix(t,e,r,n,o,i,s,a,c,d){for(const[f,l]of[["years",t],["months",e],["weeks",r],["days",n],["hours",o],["minutes",i],["seconds",s],["milliseconds",a],["microseconds",c],["nanoseconds",d]])if(l!==0)return QE.get(f);return"nanosecond"}function qh(t,e){return mM.indexOf(t)>mM.indexOf(e)?e:t}function gt(t,e,r,{emptySourceErrorMessage:n}={emptySourceErrorMessage:"no supported properties found"}){const o=fi(null);let i=!1;e.sort();for(const s of e){let a=t[s];if(a!==void 0)i=!0,IM.has(s)&&(a=IM.get(s)(a)),o[s]=a;else if(r!=="partial"){if(lwe.call(r,s))throw new TypeError(`required property '${s}' missing or undefined`);a=bwe.get(s),o[s]=a}}if(r==="partial"&&!i)throw new TypeError(n);return o}function _E(t,e="complete"){const r=["hour","microsecond","millisecond","minute","nanosecond","second"],n=gt(t,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),o={};for(const i of r){const s=pwe(n,i);s!==void 0?o[i]=s.value:e==="complete"&&(o[i]=0)}return o}function Jt(t,e){let r=t;if(hr(r)){if(bt(r))return r;if(Me(r)&&(Yr(e),r=Ho(O(r,zt),O(r,ri),O(r,ye))),tt(r))return Yr(e),_s(O(r,xe),O(r,De),O(r,ke),O(r,ye));const c=vm(r);return Bd(c,gt(r,rn(c,["day","month","monthCode","year"]),[]),e)}Yr(e);let{year:n,month:o,day:i,calendar:s,z:a}=function(d){return If(d)}(Ri(r));if(a)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!Qd(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=of(s),_s(n,o,i,s)}function wm(t,e,r){let{hour:n,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=_E(e);const d=Yr(r),f=Bd(t,e,r),l=O(f,xe),u=O(f,De),p=O(f,ke);return{hour:n,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=DB(n,o,i,s,a,c,d),{year:l,month:u,day:p,hour:n,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}}function ph(t,e){let r,n,o,i,s,a,c,d,f,l;if(hr(t)){if(tt(t))return t;if(Me(t))return Yr(e),Ho(O(t,zt),O(t,ri),O(t,ye));if(bt(t))return Yr(e),po(O(t,xe),O(t,De),O(t,ke),0,0,0,0,0,0,O(t,ye));l=vm(t);const u=gt(t,rn(l,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f}=wm(l,u,e))}else{let u;if(Yr(e),{year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f,calendar:l,z:u}=function(A){return If(A)}(Ri(t)),u)throw new RangeError("Z designator not supported for PlainDateTime");if(zS(r,n,o,i,s,a,c,d,f),l||(l="iso8601"),!Qd(l))throw new RangeError(`invalid calendar identifier ${l}`);l=of(l)}return po(r,n,o,i,s,a,c,d,f,l)}function kg(t){if(Mr(t))return t;let{years:e,months:r,weeks:n,days:o,hours:i,minutes:s,seconds:a,milliseconds:c,microseconds:d,nanoseconds:f}=mA(t);return new(Be("%Temporal.Duration%"))(e,r,n,o,i,s,a,c,d,f)}function qa(t){if(sn(t))return t;if(Me(t))return new(Be("%Temporal.Instant%"))(O(t,$e));const e=Bwe(Ri(t));return new(Be("%Temporal.Instant%"))(e)}function vM(t,e){let r=t;if(hr(r)){if(gn(r))return r;let a,c;if(En(r,ye))a=O(r,ye),c=!1;else{let f=r.calendar;c=f===void 0,f===void 0&&(f="iso8601"),a=Bo(f)}const d=gt(r,rn(a,["day","month","monthCode","year"]),[]);return c&&d.month!==void 0&&d.monthCode===void 0&&d.year===void 0&&(d.year=1972),g0(a,d,e)}Yr(e);let{month:n,day:o,referenceISOYear:i,calendar:s}=NS(Ri(r));if(s===void 0&&(s="iso8601"),!Qd(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=of(s),i===void 0?(nf(1972,n,o),_I(n,o,s)):g0(s,_I(n,o,s,i))}function rd(t,e="constrain"){let r,n,o,i,s,a,c=t;if(hr(c)){if(Ur(c))return c;if(Me(c)&&(c=Ho(O(c,zt),O(c,ri),O(c,ye))),tt(c))return new(Be("%Temporal.PlainTime%"))(O(c,it),O(c,ot),O(c,st),O(c,at),O(c,ct),O(c,ft));({hour:r,minute:n,second:o,millisecond:i,microsecond:s,nanosecond:a}=_E(c)),{hour:r,minute:n,second:o,millisecond:i,microsecond:s,nanosecond:a}=DB(r,n,o,i,s,a,e)}else({hour:r,minute:n,second:o,millisecond:i,microsecond:s,nanosecond:a}=function(f){const l=swe.exec(f);let u,p,A,h,y,v,B;if(l){u=en(l[1]),p=en(l[2]||l[5]),A=en(l[3]||l[6]),A===60&&(A=59);const S=(l[4]||l[7])+"000000000";h=en(S.slice(0,3)),y=en(S.slice(3,6)),v=en(S.slice(6,9)),B=l[14];for(const[,x,Q,N]of B.matchAll(pu))if(Q!=="u-ca"&&x==="!")throw new RangeError(`Unrecognized annotation: !${Q}=${N}`);if(l[8])throw new RangeError("Z designator not supported for PlainTime")}else{let S,x;if({hasTime:x,hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v,z:S}=If(f),!x)throw new RangeError(`time is missing in string: ${f}`);if(S)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(f))return{hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v};try{const{month:S,day:x}=NS(f);nf(1972,S,x)}catch{try{const{year:S,month:x}=RS(f);nf(S,x,1)}catch{return{hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v}}}throw new RangeError(`invalid ISO 8601 time-only string ${f}; may need a T prefix`)}(Ri(c))),GB(r,n,o,i,s,a);return new(Be("%Temporal.PlainTime%"))(r,n,o,i,s,a)}function yy(t,e){if(hr(t)){if(Rt(t))return t;const s=vm(t);return jh(s,gt(t,rn(s,["month","monthCode","year"]),[]),e)}Yr(e);let{year:r,month:n,referenceISODay:o,calendar:i}=RS(Ri(t));if(i===void 0&&(i="iso8601"),!Qd(i))throw new RangeError(`invalid calendar identifier ${i}`);return i=of(i),o===void 0?(nf(r,n,1),DI(r,n,i)):jh(i,DI(r,n,i,o))}function DE(t,e,r,n,o,i,s,a,c,d,f,l,u,p,A){const h=new(Be("%Temporal.PlainDateTime%"))(t,e,r,n,o,i,s,a,c);if(d==="wall"||p==="ignore")return O(Fi(l,h,u),$e);if(d==="exact"||p==="use"){const v=fu(t,e,r,n,o,i,s,a,c);if(v===null)throw new RangeError("ZonedDateTime outside of supported range");return q.subtract(v,q.BigInt(f))}const y=kE(l,h);for(const v of y){const B=Xa(l,v),S=q.toNumber(Ro(q.BigInt(B),KL,"halfExpand"));if(B===f||A&&S===f)return O(v,$e)}if(p==="reject"){const v=HB(f),B=os(l)?O(l,Cc):"time zone";throw new RangeError(`Offset ${v} is invalid for ${h.toString()} in ${B}`)}return O(ZL(y,l,h,u),$e)}function Iy(t,e){let r,n,o,i,s,a,c,d,f,l,u,p,A,h,y=!1,v="option";if(hr(t)){if(Me(t))return t;p=vm(t);const S=rn(p,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);S.push("timeZone","offset");const x=gt(t,S,["timeZone"]);l=si(x.timeZone),u=x.offset,u===void 0&&(v="wall"),A=A0(e),h=SE(e,"reject"),{year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f}=wm(p,x,e)}else{let S,x;if({year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f,ianaName:S,offset:u,z:x,calendar:p}=function(N){const $=If(N);if(!$.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return $}(Ri(t)),l=si(S),x?v="exact":u||(v="wall"),p||(p="iso8601"),!Qd(p))throw new RangeError(`invalid calendar identifier ${p}`);p=of(p),y=!0,A=A0(e),h=SE(e,"reject"),Yr(e)}let B=0;return v==="option"&&(B=cu(u)),kn(DE(r,n,o,i,s,a,c,d,f,v,B,l,A,h,y),l,p)}function qL(t,e,r,n,o){nf(e,r,n),aG(e,r,n),yf(t),lt(t,xe,e),lt(t,De,r),lt(t,ke,n),lt(t,ye,o),lt(t,SL,!0)}function _s(t,e,r,n="iso8601"){const o=Be("%Temporal.PlainDate%"),i=fi(o.prototype);return qL(i,t,e,r,n),i}function $L(t,e,r,n,o,i,s,a,c,d,f){zS(e,r,n,o,i,s,a,c,d),cG(e,r,n,o,i,s,a,c,d),yf(t),lt(t,xe,e),lt(t,De,r),lt(t,ke,n),lt(t,it,o),lt(t,ot,i),lt(t,st,s),lt(t,at,a),lt(t,ct,c),lt(t,ft,d),lt(t,ye,f)}function po(t,e,r,n,o,i,s,a,c,d="iso8601"){const f=Be("%Temporal.PlainDateTime%"),l=fi(f.prototype);return $L(l,t,e,r,n,o,i,s,a,c,d),l}function jL(t,e,r,n,o){nf(o,e,r),aG(o,e,r),yf(t),lt(t,De,e),lt(t,ke,r),lt(t,xe,o),lt(t,ye,n),lt(t,DL,!0)}function _I(t,e,r="iso8601",n=1972){const o=Be("%Temporal.PlainMonthDay%"),i=fi(o.prototype);return jL(i,t,e,r,n),i}function zL(t,e,r,n,o){nf(e,r,o),function(s,a){Nn(s,vE,BE),s===vE?Nn(a,4,12):s===BE&&Nn(a,1,9)}(e,r),yf(t),lt(t,xe,e),lt(t,De,r),lt(t,ke,o),lt(t,ye,n),lt(t,_L,!0)}function DI(t,e,r="iso8601",n=1){const o=Be("%Temporal.PlainYearMonth%"),i=fi(o.prototype);return zL(i,t,e,r,n),i}function YL(t,e,r,n){oh(e),yf(t),lt(t,$e,e),lt(t,zt,r),lt(t,ye,n);const o=new(Be("%Temporal.Instant%"))(O(t,$e));lt(t,ri,o)}function kn(t,e,r="iso8601"){const n=Be("%Temporal.ZonedDateTime%"),o=fi(n.prototype);return YL(o,t,e,r),o}function rn(t,e){if(typeof t=="string"){const o=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.fields%"),o,[e])}const r=Oe(Ht(t,"fields"),t,[e]),n=[];for(const o of r){if(typeof o!="string")throw new TypeError("bad return from calendar.fields()");RL.call(n,o)}return n}function $h(t,e,r){if(typeof t=="string"){const o=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.mergeFields%"),o,[e,r])}const n=Oe(Ht(t,"mergeFields"),t,[e,r]);if(!hr(n))throw new TypeError("bad return from calendar.mergeFields()");return n}function Rn(t,e,r,n,o){let i=o;if(typeof t=="string"){const a=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.dateAdd%"),a,[e,r,n])}i===void 0&&(i=Ht(t,"dateAdd"));const s=_B(i,t,[e,r,n]);if(!bt(s))throw new TypeError("invalid result");return s}function au(t,e,r,n,o){let i=o;if(typeof t=="string"){const a=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.dateUntil%"),a,[e,r,n])}i===void 0&&(i=Ht(t,"dateUntil"));const s=_B(i,t,[e,r,n]);if(!Mr(s))throw new TypeError("invalid result");return s}function kB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.year%"),n,[e])}let r=Oe(Ht(t,"year"),t,[e]);if(typeof r!="number")throw new TypeError("calendar year result must be an integer");if(!$o(r))throw new RangeError("calendar year result must be an integer");return r}function TB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.month%"),n,[e])}let r=Oe(Ht(t,"month"),t,[e]);if(typeof r!="number")throw new TypeError("calendar month result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function bm(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.monthCode%"),n,[e])}let r=Oe(Ht(t,"monthCode"),t,[e]);if(typeof r!="string")throw new TypeError("calendar monthCode result must be a string");return r}function Em(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.day%"),n,[e])}const r=Oe(Ht(t,"day"),t,[e]);if(typeof r!="number")throw new TypeError("calendar day result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function FB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.era%"),n,[e])}let r=Oe(Ht(t,"era"),t,[e]);if(r===void 0)return r;if(typeof r!="string")throw new TypeError("calendar era result must be a string or undefined");return r}function MB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.eraYear%"),n,[e])}let r=Oe(Ht(t,"eraYear"),t,[e]);if(r===void 0)return r;if(typeof r!="number")throw new TypeError("calendar eraYear result must be an integer or undefined");if(!$o(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function PS(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.dayOfWeek%"),n,[e])}const r=Oe(Ht(t,"dayOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function OS(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.dayOfYear%"),n,[e])}const r=Oe(Ht(t,"dayOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar dayOfYear result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function KS(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.weekOfYear%"),n,[e])}const r=Oe(Ht(t,"weekOfYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar weekOfYear result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function HS(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.yearOfWeek%"),n,[e])}const r=Oe(Ht(t,"yearOfWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar yearOfWeek result must be an integer");if(!$o(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function LS(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.daysInWeek%"),n,[e])}const r=Oe(Ht(t,"daysInWeek"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInWeek result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function UB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.daysInMonth%"),n,[e])}const r=Oe(Ht(t,"daysInMonth"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInMonth result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function RB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.daysInYear%"),n,[e])}const r=Oe(Ht(t,"daysInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar daysInYear result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function NB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.monthsInYear%"),n,[e])}const r=Oe(Ht(t,"monthsInYear"),t,[e]);if(typeof r!="number")throw new TypeError("calendar monthsInYear result must be a positive integer");if(!$o(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function PB(t,e){if(typeof t=="string"){const n=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.inLeapYear%"),n,[e])}const r=Oe(Ht(t,"inLeapYear"),t,[e]);if(typeof r!="boolean")throw new TypeError("calendar inLeapYear result must be a boolean");return r}function Bo(t){if(hr(t)){if(En(t,ye))return O(t,ye);if(!function(o){return!!Tr(o)||"dateAdd"in o&&"dateFromFields"in o&&"dateUntil"in o&&"day"in o&&"dayOfWeek"in o&&"dayOfYear"in o&&"daysInMonth"in o&&"daysInWeek"in o&&"daysInYear"in o&&"fields"in o&&"id"in o&&"inLeapYear"in o&&"mergeFields"in o&&"month"in o&&"monthCode"in o&&"monthDayFromFields"in o&&"monthsInYear"in o&&"weekOfYear"in o&&"year"in o&&"yearMonthFromFields"in o&&"yearOfWeek"in o}(t))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return t}const e=Ri(t);if(Qd(e))return of(e);let r;try{({calendar:r}=If(e))}catch{try{({calendar:r}=RS(e))}catch{({calendar:r}=NS(e))}}if(r||(r="iso8601"),!Qd(r))throw new RangeError(`invalid calendar identifier ${r}`);return of(r)}function vm(t){if(En(t,ye))return O(t,ye);const{calendar:e}=t;return e===void 0?"iso8601":Bo(e)}function On(t){if(typeof t=="string")return t;const e=t.id;if(typeof e!="string")throw new TypeError("calendar.id should be a string");return e}function np(t){return hr(t)?t:new(Be("%Temporal.Calendar%"))(t)}function Bm(t,e){return t===e?!0:On(t)===On(e)}function OB(t,e,r){if(t===e)return;const n=On(t),o=On(e);if(n!==o)throw new RangeError(`cannot ${r} of ${n} and ${o} calendars`)}function JL(t,e){if(t===e)return e;const r=On(t),n=On(e);if(r===n||r==="iso8601")return e;if(n==="iso8601")return t;throw new RangeError("irreconcilable calendars")}function Bd(t,e,r,n){if(typeof t=="string"){const i=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.dateFromFields%"),i,[e,r])}const o=Oe(n??Ht(t,"dateFromFields"),t,[e,r]);if(!bt(o))throw new TypeError("invalid result");return o}function jh(t,e,r){if(typeof t=="string"){const o=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.yearMonthFromFields%"),o,[e,r])}let n=Oe(Ht(t,"yearMonthFromFields"),t,[e,r]);if(!Rt(n))throw new TypeError("invalid result");return n}function g0(t,e,r){if(typeof t=="string"){const o=new(Be("%Temporal.Calendar%"))(t);return Oe(Be("%Temporal.Calendar.prototype.monthDayFromFields%"),o,[e,r])}let n=Oe(Ht(t,"monthDayFromFields"),t,[e,r]);if(!gn(n))throw new TypeError("invalid result");return n}function si(t){if(hr(t)){if(Me(t))return O(t,zt);if(!function(r){return!!os(r)||"getOffsetNanosecondsFor"in r&&"getPossibleInstantsFor"in r&&"id"in r}(t))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return t}return vwe(Ri(t))}function kI(t){if(typeof t=="string")return t;const e=t.id;if(typeof e!="string")throw new TypeError("timeZone.id should be a string");return e}function VL(t){return hr(t)?t:new(Be("%Temporal.TimeZone%"))(t)}function WL(t,e){return t===e?!0:kI(t)===kI(e)}function p0(t){return _s(O(t,xe),O(t,De),O(t,ke),O(t,ye))}function GS(t){return new(Be("%Temporal.PlainTime%"))(O(t,it),O(t,ot),O(t,st),O(t,at),O(t,ct),O(t,ft))}function Xa(t,e,r){if(typeof t=="string"){const o=new(Be("%Temporal.TimeZone%"))(t);return Oe(Be("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),o,[e])}const n=Oe(r??Ht(t,"getOffsetNanosecondsFor"),t,[e]);if(typeof n!="number")throw new TypeError("bad return from getOffsetNanosecondsFor");if(!$o(n)||ur(n)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return n}function mx(t,e){return HB(Xa(t,e))}function Ho(t,e,r){const n=O(e,$e),o=Xa(t,e);let{year:i,month:s,day:a,hour:c,minute:d,second:f,millisecond:l,microsecond:u,nanosecond:p}=eG(n);return{year:i,month:s,day:a,hour:c,minute:d,second:f,millisecond:l,microsecond:u,nanosecond:p}=$S(i,s,a,c,d,f,l,u,p+o),po(i,s,a,c,d,f,l,u,p,r)}function Fi(t,e,r){return ZL(kE(t,e),t,e,r)}function ZL(t,e,r,n){const o=Be("%Temporal.Instant%"),i=t.length;if(i===1)return t[0];if(i)switch(n){case"compatible":case"earlier":return t[0];case"later":return t[i-1];case"reject":throw new RangeError("multiple instants found")}const s=O(r,xe),a=O(r,De),c=O(r,ke),d=O(r,it),f=O(r,ot),l=O(r,st),u=O(r,at),p=O(r,ct),A=O(r,ft),h=fu(s,a,c,d,f,l,u,p,A);if(h===null)throw new RangeError("DateTime outside of supported range");const y=new o(q.subtract(h,rf)),v=new o(q.add(h,rf)),B=Xa(e,y),S=Xa(e,v)-B;switch(n){case"earlier":{const x=O(r,ye),Q=Be("%Temporal.PlainDateTime%"),N=vx(s,a,c,d,f,l,u,p,A,x,0,0,0,0,0,0,0,0,0,-S,void 0);return kE(e,new Q(N.year,N.month,N.day,N.hour,N.minute,N.second,N.millisecond,N.microsecond,N.nanosecond,x))[0]}case"compatible":case"later":{const x=O(r,ye),Q=Be("%Temporal.PlainDateTime%"),N=vx(s,a,c,d,f,l,u,p,A,x,0,0,0,0,0,0,0,0,0,S,void 0),$=kE(e,new Q(N.year,N.month,N.day,N.hour,N.minute,N.second,N.millisecond,N.microsecond,N.nanosecond,x));return $[$.length-1]}case"reject":throw new RangeError("no such instant found")}}function kE(t,e,r){if(typeof t=="string"){const i=new(Be("%Temporal.TimeZone%"))(t);return Oe(Be("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),i,[e])}const n=Oe(r??Ht(t,"getPossibleInstantsFor"),t,[e]),o=[];for(const i of n){if(!sn(i))throw new TypeError("bad return from getPossibleInstantsFor");RL.call(o,i)}return o}function wA(t){let e;return t<0||t>9999?e=(t<0?"-":"+")+`000000${ur(t)}`.slice(-6):e=`0000${t}`.slice(-4),e}function br(t){return`00${t}`.slice(-2)}function KB(t,e,r,n,o){if(o==="minute")return"";const i=`:${br(t)}`;let s,a=1e6*e+1e3*r+n;if(o==="auto"){if(a===0)return i;for(s=`${a}`.padStart(9,"0");s[s.length-1]==="0";)s=s.slice(0,-1)}else{if(o===0)return i;s=`${a}`.padStart(9,"0").slice(0,o)}return`${i}.${s}`}function BM(t,e,r){let n=e;n===void 0&&(n="UTC");const o=Ho(n,t,"iso8601"),i=wA(O(o,xe)),s=br(O(o,De)),a=br(O(o,ke)),c=br(O(o,it)),d=br(O(o,ot)),f=KB(O(o,st),O(o,at),O(o,ct),O(o,ft),r);let l="Z";return e!==void 0&&(l=XL(Xa(n,t))),`${i}-${s}-${a}T${c}:${d}${f}${l}`}function y3(t,e="auto",r){function n(z){return z<=gwe?z.toString(10):q.BigInt(z).toString(10)}const o=O(t,Ei),i=O(t,xn),s=O(t,Vi),a=O(t,vi),c=O(t,Bi),d=O(t,Ci);let f=O(t,Qi),l=O(t,xi),u=O(t,Si),p=O(t,_i);const A=Yc(o,i,s,a,c,d,f,l,u,p);if(r){const{unit:z,increment:Y,roundingMode:R}=r;({seconds:f,milliseconds:l,microseconds:u,nanoseconds:p}=Cd(0,0,0,0,0,0,f,l,u,p,Y,z,R))}const h=[];o&&h.push(`${n(ur(o))}Y`),i&&h.push(`${n(ur(i))}M`),s&&h.push(`${n(ur(s))}W`),a&&h.push(`${n(ur(a))}D`);const y=[];c&&y.push(`${n(ur(c))}H`),d&&y.push(`${n(ur(d))}M`);const v=[];let B,S,x,Q,N=y0(0,0,0,f,l,u,p,0);({quotient:N,remainder:B}=zr(N,Nt)),{quotient:N,remainder:S}=zr(N,Nt),{quotient:Q,remainder:x}=zr(N,Nt);const $=1e6*ur(q.toNumber(x))+1e3*ur(q.toNumber(S))+ur(q.toNumber(B));let G;if(e==="auto"){if($!==0)for(G=`${$}`.padStart(9,"0");G[G.length-1]==="0";)G=G.slice(0,-1)}else e!==0&&(G=`${$}`.padStart(9,"0").slice(0,e));return G&&v.unshift(".",G),q.equal(Q,Nr)&&!v.length&&e==="auto"||v.unshift(Ga(Q).toString()),v.length&&y.push(`${v.join("")}S`),y.length&&y.unshift("T"),h.length||y.length?`${A<0?"-":""}P${h.join("")}${y.join("")}`:"PT0S"}function CM(t,e="auto"){return`${wA(O(t,xe))}-${br(O(t,De))}-${br(O(t,ke))}${MS(O(t,ye),e)}`}function QM(t,e,r="auto",n){let o=O(t,xe),i=O(t,De),s=O(t,ke),a=O(t,it),c=O(t,ot),d=O(t,st),f=O(t,at),l=O(t,ct),u=O(t,ft);if(n){const{unit:p,increment:A,roundingMode:h}=n;({year:o,month:i,day:s,hour:a,minute:c,second:d,millisecond:f,microsecond:l,nanosecond:u}=WS(o,i,s,a,c,d,f,l,u,A,p,h))}return`${wA(o)}-${br(i)}-${br(s)}T${br(a)}:${br(c)}${KB(d,f,l,u,e)}${MS(O(t,ye),r)}`}function xM(t,e="auto"){let r=`${br(O(t,De))}-${br(O(t,ke))}`;const n=On(O(t,ye));(e==="always"||e==="critical"||n!=="iso8601")&&(r=`${wA(O(t,xe))}-${r}`);const o=US(n,e);return o&&(r+=o),r}function SM(t,e="auto"){let r=`${wA(O(t,xe))}-${br(O(t,De))}`;const n=On(O(t,ye));(e==="always"||e==="critical"||n!=="iso8601")&&(r+=`-${br(O(t,ke))}`);const o=US(n,e);return o&&(r+=o),r}function _M(t,e,r="auto",n="auto",o="auto",i){let s=O(t,ri);if(i){const{unit:f,increment:l,roundingMode:u}=i,p=ME(O(t,$e),l,f,u);s=new(Be("%Temporal.Instant%"))(p)}const a=O(t,zt),c=Ho(a,s,"iso8601");let d=`${wA(O(c,xe))}-${br(O(c,De))}-${br(O(c,ke))}T${br(O(c,it))}:${br(O(c,ot))}${KB(O(c,st),O(c,at),O(c,ct),O(c,ft),e)}`;return o!=="never"&&(d+=XL(Xa(a,s))),n!=="never"&&(d+=`[${n==="critical"?"!":""}${kI(a)}]`),d+=MS(O(t,ye),r),d}function fg(t){return gG.test(gm(t))}function cu(t){const e=gG.exec(gm(t));if(!e)throw new RangeError(`invalid time zone offset: ${t}`);return(e[1]==="-"||e[1]===""?-1:1)*(1e9*(60*(60*+e[2]+ +(e[3]||0))+ +(e[4]||0))+ +((e[5]||0)+"000000000").slice(0,9))}function qS(t){return fg(t)?HB(cu(t)):GL(gm(t)).resolvedOptions().timeZone}function hd(t,e){const{year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d,nanosecond:f}=tG(t,e),l=r%400,u=(r-l)/400,p=q.multiply(q.BigInt(146097),rf),A=fu(l,n,o,i,s,a,c,d,f),h=q.add(A,q.multiply(p,q.BigInt(u)));return q.toNumber(q.subtract(h,e))}function HB(t){const e=t<0?"-":"+",r=ur(t),n=r%1e9,o=Io(r/1e9)%60,i=Io(r/6e10)%60,s=br(Io(r/36e11)),a=br(i),c=br(o);let d="";if(n){let f=`${n}`.padStart(9,"0");for(;f[f.length-1]==="0";)f=f.slice(0,-1);d=`:${c}.${f}`}else o&&(d=`:${c}`);return`${e}${s}:${a}${d}`}function XL(t){let e=q.toNumber(Ro(q.BigInt(t),KL,"halfExpand"));const r=e<0?"-":"+";e=ur(e);const n=e/6e10%60;return`${r}${br(Io(e/36e11))}:${br(n)}`}function fu(t,e,r,n,o,i,s,a,c){const d=new Date;d.setUTCHours(n,o,i,s),d.setUTCFullYear(t,e-1,r);const f=d.getTime();if(SB(f))return null;let l=q.multiply(q.BigInt(f),Bs);return l=q.add(l,q.multiply(q.BigInt(a),Nt)),l=q.add(l,q.BigInt(c)),q.lessThan(l,SI)||q.greaterThan(l,u0)?null:l}function eG(t){const{quotient:e,remainder:r}=zr(t,Bs);let n=q.toNumber(e),o=q.toNumber(r);o<0&&(o+=1e6,n-=1);const i=Io(o/1e3)%1e3,s=o%1e3,a=new Date(n);return{epochMilliseconds:n,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:i,nanosecond:s}}function tG(t,e){const{epochMilliseconds:r,millisecond:n,microsecond:o,nanosecond:i}=eG(e),{year:s,month:a,day:c,hour:d,minute:f,second:l}=function(p,A){const h=GL(p).format(new Date(A));return function(v){const B=v.split(/[^\w]+/);if(B.length!==7)throw new RangeError(`expected 7 parts in "${v}`);const S=+B[0],x=+B[1];let Q=+B[2];const N=B[3].toUpperCase();if(N==="B"||N==="BC")Q=1-Q;else if(N!=="A"&&N!=="AD")throw new RangeError(`Unknown era ${N} in "${v}`);let $=+B[4];$===24&&($=0);const G=+B[5],z=+B[6];if(!(Ti(Q)&&Ti(S)&&Ti(x)&&Ti($)&&Ti(G)&&Ti(z)))throw new RangeError(`Invalid number in "${v}`);return{year:Q,month:S,day:x,hour:$,minute:G,second:z}}(h)}(t,r);return $S(s,a,c,d,f,l,n,o,i)}function DM(t,e){return q.lessThan(t,e)?e:t}function rG(){return q.add(XS(),mwe)}function nG(t,e){if(q.lessThan(e,_g))return nG(t,_g);const r=q.add(e,HL),n=DM(rG(),r);let o=DM(_g,e);const i=hd(t,o);let s=o,a=i;for(;i===a&&q.lessThan(q.BigInt(o),n);){if(s=q.add(o,LL),q.greaterThan(s,u0))return null;a=hd(t,s),i===a&&(o=s)}return i===a?null:pG(c=>hd(t,c),o,s,i,a)}function wx(t,e){const r=rG(),n=q.greaterThan(e,r),o=n?q.subtract(e,HL):_g;if(t==="Africa/Casablanca"||t==="Africa/El_Aaiun"){const d=O(qa("2088-01-01T00Z"),$e);if(q.lessThan(d,e))return wx(t,d)}let i=q.subtract(e,X0);if(q.lessThan(i,_g))return null;const s=hd(t,i);let a=i,c=s;for(;s===c&&q.greaterThan(i,o);){if(a=q.subtract(i,LL),q.lessThan(a,_g))return null;c=hd(t,a),s===c&&(i=a)}if(s===c){if(n){const d=q.subtract(r,rf);return wx(t,d)}return null}return pG(d=>hd(t,d),a,i,c,s)}function du(t){return t===void 0?!1:t%4==0&&(t%100!=0||t%400==0)}function Ad(t,e){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[du(t)?"leapyear":"standard"][e-1]}function bx(t,e,r){const n=e+(e<3?10:-2),o=t-(e<3?1:0),i=Io(o/100),s=o-100*i,a=(r+Io(2.6*n-.2)+(s+Io(s/4))+(Io(i/4)-2*i))%7;return a+(a<=0?7:0)}function TE(t,e,r){let n=r;for(let o=e-1;o>0;o--)n+=Ad(t,o);return n}function kM(t,e,r){const n=TE(t,e,r),o=bx(t,e,r)||7,i=bx(t,1,1),s=Io((n-o+10)/7);return s<1?i===5||i===6&&du(t-1)?{week:53,year:t-1}:{week:52,year:t-1}:s===53&&(du(t)?366:365)-n<4-o?{week:1,year:t+1}:{week:s,year:t}}function Yc(t,e,r,n,o,i,s,a,c,d){for(const f of[t,e,r,n,o,i,s,a,c,d])if(f!==0)return f<0?-1:1;return 0}function Z1(t,e){let r=t,n=e;if(!Ti(r)||!Ti(n))throw new RangeError("infinity is out of range");return n-=1,r+=Io(n/12),n%=12,n<0&&(n+=12),n+=1,{year:r,month:n}}function LB(t,e,r){let n=t,o=e,i=r;if(!Ti(i))throw new RangeError("infinity is out of range");({year:n,month:o}=Z1(n,o));const s=146097;if(ur(i)>s){const d=gh(i/s);n+=400*d,i-=d*s}let a=0,c=o>2?n:n-1;for(;a=du(c)?366:365,i<-a;)n-=1,c-=1,i+=a;for(c+=1;a=du(c)?366:365,i>a;)n+=1,c+=1,i-=a;for(;i<1;)({year:n,month:o}=Z1(n,o-1)),i+=Ad(n,o);for(;i>Ad(n,o);)i-=Ad(n,o),{year:n,month:o}=Z1(n,o+1);return{year:n,month:o,day:i}}function $S(t,e,r,n,o,i,s,a,c){const{deltaDays:d,hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}=$f(n,o,i,s,a,c),{year:y,month:v,day:B}=LB(t,e,r+d);return{year:y,month:v,day:B,hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}}function $f(t,e,r,n,o,i){let s,a=q.BigInt(t),c=q.BigInt(e),d=q.BigInt(r),f=q.BigInt(n),l=q.BigInt(o),u=q.BigInt(i);return{quotient:s,remainder:u}=Vu(u,Nt),l=q.add(l,s),{quotient:s,remainder:l}=Vu(l,Nt),f=q.add(f,s),{quotient:s,remainder:f}=Vu(f,Nt),d=q.add(d,s),{quotient:s,remainder:d}=Vu(d,jc),c=q.add(c,s),{quotient:s,remainder:c}=Vu(c,jc),a=q.add(a,s),{quotient:s,remainder:a}=Vu(a,PL),{deltaDays:q.toNumber(s),hour:q.toNumber(a),minute:q.toNumber(c),second:q.toNumber(d),millisecond:q.toNumber(f),microsecond:q.toNumber(l),nanosecond:q.toNumber(u)}}function y0(t,e,r,n,o,i,s,a){const c=q.BigInt(t);let d=q.BigInt(s);t!==0&&(d=q.subtract(q.BigInt(s),q.BigInt(a)));const f=q.add(q.BigInt(e),q.multiply(c,q.BigInt(24))),l=q.add(q.BigInt(r),q.multiply(f,jc)),u=q.add(q.BigInt(n),q.multiply(l,jc)),p=q.add(q.BigInt(o),q.multiply(u,Nt)),A=q.add(q.BigInt(i),q.multiply(p,Nt));return q.add(q.BigInt(d),q.multiply(A,Nt))}function jS(t,e){const r=Be("%Temporal.Instant%"),n=l0(q.toNumber(t));let o=q.BigInt(t),i=864e11;if(n===0)return{days:0,nanoseconds:Nr,dayLengthNs:i};if(!Me(e)){let S;return{quotient:S,remainder:o}=zr(o,q.BigInt(i)),{days:q.toNumber(S),nanoseconds:o,dayLengthNs:i}}const s=O(e,$e),a=O(e,ri),c=q.add(s,o),d=new r(c),f=O(e,zt),l=O(e,ye),u=Ho(f,a,l),p=Ho(f,d,l);let{days:A}=VS(O(u,xe),O(u,De),O(u,ke),O(u,it),O(u,ot),O(u,st),O(u,at),O(u,ct),O(u,ft),O(p,xe),O(p,De),O(p,ke),O(p,it),O(p,ot),O(p,st),O(p,at),O(p,ct),O(p,ft),l,"day",fi(null)),h=xs(a,f,l,0,0,0,A,0,0,0,0,0,0),y=q.BigInt(A);if(n===1)for(;q.greaterThan(y,Nr)&&q.greaterThan(h,c);)y=q.subtract(y,X0),h=xs(a,f,l,0,0,0,q.toNumber(y),0,0,0,0,0,0);o=q.subtract(c,h);let v=!1,B=new r(h);do{const S=xs(B,f,l,0,0,0,n,0,0,0,0,0,0),x=O(B,$e);i=q.toNumber(q.subtract(S,x)),v=q.greaterThanOrEqual(q.multiply(q.subtract(o,q.BigInt(i)),q.BigInt(n)),Nr),v&&(o=q.subtract(o,q.BigInt(i)),B=new r(S),y=q.add(y,q.BigInt(n)))}while(v);if(!fs(y)&&yM(y)!==n)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!fs(o)&&yM(o)!==n)throw CE(o)&&n===1?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(q.greaterThanOrEqual(Ga(o),Ga(q.BigInt(i))))throw new Error("assert not reached");return{days:q.toNumber(y),nanoseconds:o,dayLengthNs:ur(i)}}function la(t,e,r,n,o,i,s,a,c){let d=iG(t,e,r,n,o,i,s,a,c);if(d==="positive overflow"||d==="negative overflow")throw new RangeError("Duration out of range");return d}function iG(t,e,r,n,o,i,s,a,c){let d,f,l,u,p,A,h=t;if(Me(c)){const $=xs(O(c,ri),O(c,zt),O(c,ye),0,0,0,h,e,r,n,o,i,s),G=O(c,$e);d=q.subtract($,G)}else d=y0(h,e,r,n,o,i,s,0);a==="year"||a==="month"||a==="week"||a==="day"?{days:h,nanoseconds:d}=jS(d,c):h=0;const y=q.lessThan(d,Nr)?-1:1;switch(d=Ga(d),f=l=u=p=A=Nr,a){case"year":case"month":case"week":case"day":case"hour":({quotient:f,remainder:d}=zr(d,Nt)),{quotient:l,remainder:f}=zr(f,Nt),{quotient:u,remainder:l}=zr(l,Nt),{quotient:p,remainder:u}=zr(u,jc),{quotient:A,remainder:p}=zr(p,jc);break;case"minute":({quotient:f,remainder:d}=zr(d,Nt)),{quotient:l,remainder:f}=zr(f,Nt),{quotient:u,remainder:l}=zr(l,Nt),{quotient:p,remainder:u}=zr(u,jc);break;case"second":({quotient:f,remainder:d}=zr(d,Nt)),{quotient:l,remainder:f}=zr(f,Nt),{quotient:u,remainder:l}=zr(l,Nt);break;case"millisecond":({quotient:f,remainder:d}=zr(d,Nt)),{quotient:l,remainder:f}=zr(f,Nt);break;case"microsecond":({quotient:f,remainder:d}=zr(d,Nt));break;case"nanosecond":break;default:throw new Error("assert not reached")}const v=q.toNumber(A)*y,B=q.toNumber(p)*y,S=q.toNumber(u)*y,x=q.toNumber(l)*y,Q=q.toNumber(f)*y,N=q.toNumber(d)*y;for(const $ of[h,v,B,S,x,Q,N])if(!Ti($))return y===1?"positive overflow":"negative overflow";return{days:h,hours:v,minutes:B,seconds:S,milliseconds:x,microseconds:Q,nanoseconds:N}}function c1(t,e,r,n,o,i){const s=Be("%Temporal.Duration%"),a=Yc(t,e,r,n,0,0,0,0,0,0);if(a===0)return{years:t,months:e,weeks:r,days:n};const c=q.BigInt(a);let d,f,l=q.BigInt(t),u=q.BigInt(e),p=q.BigInt(r),A=q.BigInt(n);i&&(f=Jt(i),d=O(f,ye));const h=new s(a),y=new s(0,a),v=new s(0,0,a);switch(o){case"year":break;case"month":{if(!d)throw new RangeError("a starting point is required for months balancing");let B,S;for(typeof d!="string"&&(B=Ht(d,"dateAdd"),S=Ht(d,"dateUntil"));!fs(l);){const x=Rn(d,f,h,void 0,B),Q=fi(null);Q.largestUnit="month";const N=au(d,f,x,Q,S),$=q.BigInt(O(N,xn));f=x,u=q.add(u,$),l=q.subtract(l,c)}}break;case"week":{if(!d)throw new RangeError("a starting point is required for weeks balancing");const B=typeof d!="string"?Ht(d,"dateAdd"):void 0;for(;!fs(l);){let S;({relativeTo:f,days:S}=Zn(d,f,h,B)),A=q.add(A,q.BigInt(S)),l=q.subtract(l,c)}for(;!fs(u);){let S;({relativeTo:f,days:S}=Zn(d,f,y,B)),A=q.add(A,q.BigInt(S)),u=q.subtract(u,c)}break}default:{if(fs(l)&&fs(u)&&fs(p))break;if(!d)throw new RangeError("a starting point is required for balancing calendar units");const B=typeof d!="string"?Ht(d,"dateAdd"):void 0;for(;!fs(l);){let S;({relativeTo:f,days:S}=Zn(d,f,h,B)),A=q.add(A,q.BigInt(S)),l=q.subtract(l,c)}for(;!fs(u);){let S;({relativeTo:f,days:S}=Zn(d,f,y,B)),A=q.add(A,q.BigInt(S)),u=q.subtract(u,c)}for(;!fs(p);){let S;({relativeTo:f,days:S}=Zn(d,f,v,B)),A=q.add(A,q.BigInt(S)),p=q.subtract(p,c)}break}}return{years:q.toNumber(l),months:q.toNumber(u),weeks:q.toNumber(p),days:q.toNumber(A)}}function TM(t,e,r,n,o){if(Me(t)){const i=O(t,ri),s=O(t,zt),a=O(t,ye),c=Xa(s,i),d=xs(i,s,a,e,r,n,o,0,0,0,0,0,0);return Xa(s,new(Be("%Temporal.Instant%"))(d))-c}return 0}function oG(t){return new(Be("%Temporal.Duration%"))(-O(t,Ei),-O(t,xn),-O(t,Vi),-O(t,vi),-O(t,Bi),-O(t,Ci),-O(t,Qi),-O(t,xi),-O(t,Si),-O(t,_i))}function yo(t,e,r){return uwe(r,hwe(e,t))}function sG(t,e,r){const n=yo(e,1,12);return{year:t,month:n,day:yo(r,1,Ad(t,n))}}function Nn(t,e,r){if(t<e||t>r)throw new RangeError(`value out of range: ${e} <= ${t} <= ${r}`)}function nf(t,e,r){Nn(e,1,12),Nn(r,1,Ad(t,e))}function aG(t,e,r){cG(t,e,r,12,0,0,0,0,0)}function GB(t,e,r,n,o,i){Nn(t,0,23),Nn(e,0,59),Nn(r,0,59),Nn(n,0,999),Nn(o,0,999),Nn(i,0,999)}function zS(t,e,r,n,o,i,s,a,c){nf(t,e,r),GB(n,o,i,s,a,c)}function cG(t,e,r,n,o,i,s,a,c){if(Nn(t,vE,BE),t===vE&&fu(t,e,r+1,n,o,i,s,a,c-1)==null||t===BE&&fu(t,e,r-1,n,o,i,s,a,c+1)==null)throw new RangeError("DateTime outside of supported range")}function oh(t){if(q.lessThan(t,SI)||q.greaterThan(t,u0))throw new RangeError("Instant outside of supported range")}function FE(t,e,r,n,o,i,s,a,c,d){const f=Yc(t,e,r,n,o,i,s,a,c,d);for(const l of[t,e,r,n,o,i,s,a,c,d]){if(!Ti(l))throw new RangeError("infinite values not allowed as duration fields");const u=l0(l);if(u!==0&&u!==f)throw new RangeError("mixed-sign values not allowed as duration fields")}}function YS(t,e,r,n,o,i,s){switch(s){case"year":case"month":{const a=-Fl(t,e,r,n,o,i);if(a===0)return{years:0,months:0,weeks:0,days:0};const c={year:t,month:e,day:r},d={year:n,month:o,day:i};let f=d.year-c.year,l=Sh(t,e,r,f,0,0,0,"constrain"),u=-Fl(l.year,l.month,l.day,n,o,i);if(u===0)return s==="year"?{years:f,months:0,weeks:0,days:0}:{years:0,months:12*f,weeks:0,days:0};let p=d.month-c.month;if(u!==a&&(f-=a,p+=12*a),l=Sh(t,e,r,f,p,0,0,"constrain"),u=-Fl(l.year,l.month,l.day,n,o,i),u===0)return s==="year"?{years:f,months:p,weeks:0,days:0}:{years:0,months:p+12*f,weeks:0,days:0};u!==a&&(p-=a,p===-a&&(f-=a,p=11*a),l=Sh(t,e,r,f,p,0,0,"constrain"));let A=0;return A=l.month===d.month?d.day-l.day:a<0?-l.day-(Ad(d.year,d.month)-d.day):d.day+(Ad(l.year,l.month)-l.day),s==="month"&&(p+=12*f,f=0),{years:f,months:p,weeks:0,days:A}}case"week":case"day":{let a,c,d;Fl(t,e,r,n,o,i)<0?(c={year:t,month:e,day:r},a={year:n,month:o,day:i},d=1):(c={year:n,month:o,day:i},a={year:t,month:e,day:r},d=-1);let f=TE(a.year,a.month,a.day)-TE(c.year,c.month,c.day);for(let u=c.year;u<a.year;++u)f+=du(u)?366:365;let l=0;return s==="week"&&(l=Io(f/7),f%=7),l*=d,f*=d,{years:0,months:0,weeks:l,days:f}}default:throw new Error("assert not reached")}}function fG(t,e,r,n,o,i,s,a,c,d,f,l){let u=s-t,p=a-e,A=c-r,h=d-n,y=f-o,v=l-i;const B=Yc(0,0,0,0,u,p,A,h,y,v);u*=B,p*=B,A*=B,h*=B,y*=B,v*=B;let S=0;if({deltaDays:S,hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v}=$f(u,p,A,h,y,v),S!=0)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return u*=B,p*=B,A*=B,h*=B,y*=B,v*=B,{hours:u,minutes:p,seconds:A,milliseconds:h,microseconds:y,nanoseconds:v}}function JS(t,e,r,n,o,i){const s=q.subtract(e,t);let a=0,c=0,d=q.toNumber(q.remainder(s,Nt)),f=q.toNumber(q.remainder(q.divide(s,Nt),Nt)),l=q.toNumber(q.remainder(q.divide(s,Bs),Nt)),u=q.toNumber(q.divide(s,zc));return{hours:a,minutes:c,seconds:u,milliseconds:l,microseconds:f,nanoseconds:d}=Cd(0,0,0,0,0,0,u,l,f,d,r,n,i),la(0,a,c,u,l,f,d,o)}function VS(t,e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B,S,x){let Q=t,N=e,$=r,{hours:G,minutes:z,seconds:Y,milliseconds:R,microseconds:C,nanoseconds:m}=fG(n,o,i,s,a,c,u,p,A,h,y,v);const g=Yc(0,0,0,0,G,z,Y,R,C,m);Fl(d,f,l,Q,N,$)===-g&&({year:Q,month:N,day:$}=LB(Q,N,$-g),{hours:G,minutes:z,seconds:Y,milliseconds:R,microseconds:C,nanoseconds:m}=la(-g,G,z,Y,R,C,m,S));const w=_s(Q,N,$,B),F=_s(d,f,l,B),H=qh("day",S),K=yu(x);K.largestUnit=H;let{years:D,months:I,weeks:P,days:T}=au(B,w,F,K);return{days:T,hours:G,minutes:z,seconds:Y,milliseconds:R,microseconds:C,nanoseconds:m}=la(T,G,z,Y,R,C,m,S),{years:D,months:I,weeks:P,days:T,hours:G,minutes:z,seconds:Y,milliseconds:R,microseconds:C,nanoseconds:m}}function dG(t,e,r,n,o,i){const s=q.subtract(e,t);if(q.equal(s,Nr))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const a=Be("%Temporal.Instant%"),c=new a(t),d=new a(e),f=Ho(r,c,n),l=Ho(r,d,n);let{years:u,months:p,weeks:A,days:h}=VS(O(f,xe),O(f,De),O(f,ke),O(f,it),O(f,ot),O(f,st),O(f,at),O(f,ct),O(f,ft),O(l,xe),O(l,De),O(l,ke),O(l,it),O(l,ot),O(l,st),O(l,at),O(l,ct),O(l,ft),n,o,i);const y=xs(c,r,n,u,p,A,0,0,0,0,0,0,0);let v=q.subtract(e,y);const B=kn(y,r,n);({nanoseconds:v,days:h}=jS(v,B));const{hours:S,minutes:x,seconds:Q,milliseconds:N,microseconds:$,nanoseconds:G}=la(0,0,0,0,0,0,q.toNumber(v),"hour");return{years:u,months:p,weeks:A,days:h,hours:S,minutes:x,seconds:Q,milliseconds:N,microseconds:$,nanoseconds:G}}function ip(t,e,r,n,o,i){const s=pm.reduce((p,A)=>{const h=A[0],y=A[1],v=A[2];return r!=="datetime"&&v!==r||n.includes(y)||p.push(y,h),p},[]);let a=mo(e,"largestUnit",r,"auto");if(n.includes(a))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${a}`);const c=tp(e);let d=Za(e,"trunc");t==="since"&&(d=function(A){switch(A){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return A}}(d));const f=mo(e,"smallestUnit",r,o);if(n.includes(f))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${f}`);const l=qh(i,f);if(a==="auto"&&(a=l),qh(a,f)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${f}`);const u={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[f];return u!==void 0&&rp(c,u,!1),{largestUnit:a,roundingIncrement:c,roundingMode:d,smallestUnit:f}}function FM(t,e,r,n){const o=t==="since"?-1:1,i=qa(r),s=ip(t,yu(n),"time",[],"nanosecond","second"),a=O(e,$e),c=O(i,$e);let{hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=JS(a,c,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(Be("%Temporal.Duration%"))(0,0,0,0,o*d,o*f,o*l,o*u,o*p,o*A)}function MM(t,e,r,n){const o=t==="since"?-1:1,i=Jt(r),s=O(e,ye);OB(s,O(i,ye),"compute difference between dates");const a=yu(n),c=ip(t,a,"date",[],"day","day");a.largestUnit=c.largestUnit;let{years:d,months:f,weeks:l,days:u}=au(s,e,i,a);return c.smallestUnit==="day"&&c.roundingIncrement===1||({years:d,months:f,weeks:l,days:u}=Cd(d,f,l,u,0,0,0,0,0,0,c.roundingIncrement,c.smallestUnit,c.roundingMode,e)),new(Be("%Temporal.Duration%"))(o*d,o*f,o*l,o*u,0,0,0,0,0,0)}function UM(t,e,r,n){const o=t==="since"?-1:1,i=ph(r),s=O(e,ye);OB(s,O(i,ye),"compute difference between dates");const a=yu(n),c=ip(t,a,"datetime",[],"nanosecond","day");let{years:d,months:f,weeks:l,days:u,hours:p,minutes:A,seconds:h,milliseconds:y,microseconds:v,nanoseconds:B}=VS(O(e,xe),O(e,De),O(e,ke),O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft),O(i,xe),O(i,De),O(i,ke),O(i,it),O(i,ot),O(i,st),O(i,at),O(i,ct),O(i,ft),s,c.largestUnit,a);const S=p0(e);return{years:d,months:f,weeks:l,days:u,hours:p,minutes:A,seconds:h,milliseconds:y,microseconds:v,nanoseconds:B}=Cd(d,f,l,u,p,A,h,y,v,B,c.roundingIncrement,c.smallestUnit,c.roundingMode,S),{days:u,hours:p,minutes:A,seconds:h,milliseconds:y,microseconds:v,nanoseconds:B}=la(u,p,A,h,y,v,B,c.largestUnit),new(Be("%Temporal.Duration%"))(o*d,o*f,o*l,o*u,o*p,o*A,o*h,o*y,o*v,o*B)}function RM(t,e,r,n){const o=t==="since"?-1:1,i=rd(r),s=ip(t,yu(n),"time",[],"nanosecond","hour");let{hours:a,minutes:c,seconds:d,milliseconds:f,microseconds:l,nanoseconds:u}=fG(O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft),O(i,it),O(i,ot),O(i,st),O(i,at),O(i,ct),O(i,ft));return{hours:a,minutes:c,seconds:d,milliseconds:f,microseconds:l,nanoseconds:u}=Cd(0,0,0,0,a,c,d,f,l,u,s.roundingIncrement,s.smallestUnit,s.roundingMode),{hours:a,minutes:c,seconds:d,milliseconds:f,microseconds:l,nanoseconds:u}=la(0,a,c,d,f,l,u,s.largestUnit),new(Be("%Temporal.Duration%"))(0,0,0,0,o*a,o*c,o*d,o*f,o*l,o*u)}function NM(t,e,r,n){const o=t==="since"?-1:1,i=yy(r),s=O(e,ye);OB(s,O(i,ye),"compute difference between months");const a=yu(n),c=ip(t,a,"date",["week","day"],"month","year");a.largestUnit=c.largestUnit;const d=rn(s,["monthCode","year"]),f=gt(e,d,[]);f.day=1;const l=Bd(s,f),u=gt(i,d,[]);u.day=1;const p=Bd(s,u);let{years:A,months:h}=au(s,l,p,a);return c.smallestUnit==="month"&&c.roundingIncrement===1||({years:A,months:h}=Cd(A,h,0,0,0,0,0,0,0,0,c.roundingIncrement,c.smallestUnit,c.roundingMode,l)),new(Be("%Temporal.Duration%"))(o*A,o*h,0,0,0,0,0,0,0,0)}function PM(t,e,r,n){const o=t==="since"?-1:1,i=Iy(r),s=O(e,ye);OB(s,O(i,ye),"compute difference between dates");const a=yu(n),c=ip(t,a,"datetime",[],"nanosecond","hour");a.largestUnit=c.largestUnit;const d=O(e,$e),f=O(i,$e);let l,u,p,A,h,y,v,B,S,x;if(c.largestUnit!=="year"&&c.largestUnit!=="month"&&c.largestUnit!=="week"&&c.largestUnit!=="day")l=0,u=0,p=0,A=0,{hours:h,minutes:y,seconds:v,milliseconds:B,microseconds:S,nanoseconds:x}=JS(d,f,c.roundingIncrement,c.smallestUnit,c.largestUnit,c.roundingMode);else{const Q=O(e,zt);if(!WL(Q,O(i,zt)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:l,months:u,weeks:p,days:A,hours:h,minutes:y,seconds:v,milliseconds:B,microseconds:S,nanoseconds:x}=dG(d,f,Q,s,c.largestUnit,a)),{years:l,months:u,weeks:p,days:A,hours:h,minutes:y,seconds:v,milliseconds:B,microseconds:S,nanoseconds:x}=Cd(l,u,p,A,h,y,v,B,S,x,c.roundingIncrement,c.smallestUnit,c.roundingMode,e),{years:l,months:u,weeks:p,days:A,hours:h,minutes:y,seconds:v,milliseconds:B,microseconds:S,nanoseconds:x}=AG(l,u,p,A,h,y,v,B,S,x,c.roundingIncrement,c.smallestUnit,c.roundingMode,e)}return new(Be("%Temporal.Duration%"))(o*l,o*u,o*p,o*A,o*h,o*y,o*v,o*B,o*S,o*x)}function Sh(t,e,r,n,o,i,s,a){let c=t,d=e,f=r,l=i,u=s;return c+=n,d+=o,{year:c,month:d}=Z1(c,d),{year:c,month:d,day:f}=xE(c,d,f,a),u+=7*l,f+=u,{year:c,month:d,day:f}=LB(c,d,f),{year:c,month:d,day:f}}function lG(t,e,r,n,o,i,s,a,c,d,f,l){let u=t,p=e,A=r,h=n,y=o,v=i;u+=s,p+=a,A+=c,h+=d,y+=f,v+=l;let B=0;return{deltaDays:B,hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v}=$f(u,p,A,h,y,v),{deltaDays:B,hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v}}function uG(t,e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B,S,x){const Q=qh(Ix(t,e,r,n,o,i,s,a,c,d),Ix(f,l,u,p,A,h,y,v,B,S));let N,$,G,z,Y,R,C,m,g,w;if(x)if(bt(x)){const F=Be("%Temporal.Duration%"),H=O(x,ye),K=new F(t,e,r,n,0,0,0,0,0,0),D=new F(f,l,u,p,0,0,0,0,0,0),I=typeof H!="string"?Ht(H,"dateAdd"):void 0,P=Rn(H,x,K,void 0,I),T=Rn(H,P,D,void 0,I),V=qh("day",Q),ee=fi(null);ee.largestUnit=V,{years:N,months:$,weeks:G,days:z}=au(H,x,T,ee),{days:z,hours:Y,minutes:R,seconds:C,milliseconds:m,microseconds:g,nanoseconds:w}=la(z,q.add(q.BigInt(o),q.BigInt(A)),q.add(q.BigInt(i),q.BigInt(h)),q.add(q.BigInt(s),q.BigInt(y)),q.add(q.BigInt(a),q.BigInt(v)),q.add(q.BigInt(c),q.BigInt(B)),q.add(q.BigInt(d),q.BigInt(S)),Q)}else{const F=Be("%Temporal.Instant%"),H=O(x,zt),K=O(x,ye),D=xs(O(x,ri),H,K,t,e,r,n,o,i,s,a,c,d),I=xs(new F(D),H,K,f,l,u,p,A,h,y,v,B,S);Q!=="year"&&Q!=="month"&&Q!=="week"&&Q!=="day"?(N=0,$=0,G=0,z=0,{hours:Y,minutes:R,seconds:C,milliseconds:m,microseconds:g,nanoseconds:w}=JS(O(x,$e),I,1,"nanosecond",Q,"halfExpand")):{years:N,months:$,weeks:G,days:z,hours:Y,minutes:R,seconds:C,milliseconds:m,microseconds:g,nanoseconds:w}=dG(O(x,$e),I,H,K,Q,fi(null))}else{if(Q==="year"||Q==="month"||Q==="week")throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");N=$=G=0,{days:z,hours:Y,minutes:R,seconds:C,milliseconds:m,microseconds:g,nanoseconds:w}=la(n+p,q.add(q.BigInt(o),q.BigInt(A)),q.add(q.BigInt(i),q.BigInt(h)),q.add(q.BigInt(s),q.BigInt(y)),q.add(q.BigInt(a),q.BigInt(v)),q.add(q.BigInt(c),q.BigInt(B)),q.add(q.BigInt(d),q.BigInt(S)),Q)}return FE(N,$,G,z,Y,R,C,m,g,w),{years:N,months:$,weeks:G,days:z,hours:Y,minutes:R,seconds:C,milliseconds:m,microseconds:g,nanoseconds:w}}function Ex(t,e,r,n,o,i,s){let a=Nr;a=q.add(a,q.BigInt(s)),a=q.add(a,q.multiply(q.BigInt(i),Nt)),a=q.add(a,q.multiply(q.BigInt(o),Bs)),a=q.add(a,q.multiply(q.BigInt(n),zc)),a=q.add(a,q.multiply(q.BigInt(r),q.BigInt(6e10))),a=q.add(a,q.multiply(q.BigInt(e),q.BigInt(36e11)));const c=q.add(t,a);return oh(c),c}function vx(t,e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B,S,x){let Q=p,{deltaDays:N,hour:$,minute:G,second:z,millisecond:Y,microsecond:R,nanosecond:C}=lG(n,o,i,s,a,c,A,h,y,v,B,S);Q+=N;const m=Be("%Temporal.Duration%"),g=Rn(d,_s(t,e,r,d),new m(f,l,u,Q,0,0,0,0,0,0),x);return{year:O(g,xe),month:O(g,De),day:O(g,ke),hour:$,minute:G,second:z,millisecond:Y,microsecond:R,nanosecond:C}}function xs(t,e,r,n,o,i,s,a,c,d,f,l,u,p){const A=Be("%Temporal.Duration%");if(Yc(n,o,i,s,0,0,0,0,0,0)===0)return Ex(O(t,$e),a,c,d,f,l,u);const h=Ho(e,t,r),y=Rn(r,_s(O(h,xe),O(h,De),O(h,ke),r),new A(n,o,i,s,0,0,0,0,0,0),p),v=po(O(y,xe),O(y,De),O(y,ke),O(h,it),O(h,ot),O(h,st),O(h,at),O(h,ct),O(h,ft),r);return Ex(O(Fi(e,v,"compatible"),$e),a,c,d,f,l,u)}function OM(t,e,r,n){const o=t==="subtract"?-1:1;let{years:i,months:s,weeks:a,days:c,hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=mA(r);const h=W1(Ct(n));return{years:i,months:s,weeks:a,days:c,hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=uG(O(e,Ei),O(e,xn),O(e,Vi),O(e,vi),O(e,Bi),O(e,Ci),O(e,Qi),O(e,xi),O(e,Si),O(e,_i),o*i,o*s,o*a,o*c,o*d,o*f,o*l,o*u,o*p,o*A,h),new(Be("%Temporal.Duration%"))(i,s,a,c,d,f,l,u,p,A)}function KM(t,e,r){const n=t==="subtract"?-1:1,{hours:o,minutes:i,seconds:s,milliseconds:a,microseconds:c,nanoseconds:d}=function(u,p){let A=mA(u);for(const h of p)if(A[h]!==0)throw new RangeError(`Duration field ${h} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return A}(r,["years","months","weeks","days"]),f=Ex(O(e,$e),n*o,n*i,n*s,n*a,n*c,n*d);return new(Be("%Temporal.Instant%"))(f)}function HM(t,e,r,n){const o=t==="subtract"?-1:1,{years:i,months:s,weeks:a,days:c,hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=mA(r),h=Ct(n),y=O(e,ye),{year:v,month:B,day:S,hour:x,minute:Q,second:N,millisecond:$,microsecond:G,nanosecond:z}=vx(O(e,xe),O(e,De),O(e,ke),O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft),y,o*i,o*s,o*a,o*c,o*d,o*f,o*l,o*u,o*p,o*A,h);return po(v,B,S,x,Q,N,$,G,z,y)}function LM(t,e,r){const n=t==="subtract"?-1:1,{hours:o,minutes:i,seconds:s,milliseconds:a,microseconds:c,nanoseconds:d}=mA(r);let{hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}=lG(O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft),n*o,n*i,n*s,n*a,n*c,n*d);return{hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}=DB(f,l,u,p,A,h,"reject"),new(Be("%Temporal.PlainTime%"))(f,l,u,p,A,h)}function GM(t,e,r,n){let o=mA(r);t==="subtract"&&(o={years:-o.years,months:-o.months,weeks:-o.weeks,days:-o.days,hours:-o.hours,minutes:-o.minutes,seconds:-o.seconds,milliseconds:-o.milliseconds,microseconds:-o.microseconds,nanoseconds:-o.nanoseconds});let{years:i,months:s,weeks:a,days:c,hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=o;({days:c}=la(c,d,f,l,u,p,A,"day"));const h=Ct(n),y=O(e,ye),v=rn(y,["monthCode","year"]),B=gt(e,v,[]),S=fi(null);Dg(S,B,[]),B.day=1;let x=Bd(y,B);const Q=Yc(i,s,a,c,0,0,0,0,0,0),N=Ht(y,"dateAdd"),$=Be("%Temporal.Duration%");if(Q<0){const Y=Rn(y,x,new $(0,1,0,0,0,0,0,0,0,0),void 0,N),R=Rn(y,Y,new $(0,0,0,-1,0,0,0,0,0,0),void 0,N);S.day=Em(y,R),x=Bd(y,S)}const G=new $(i,s,a,c,0,0,0,0,0,0),z=yu(h);return jh(y,gt(Rn(y,x,G,h,N),v,[]),z)}function qM(t,e,r,n){const o=t==="subtract"?-1:1,{years:i,months:s,weeks:a,days:c,hours:d,minutes:f,seconds:l,milliseconds:u,microseconds:p,nanoseconds:A}=mA(r),h=Ct(n),y=O(e,zt),v=O(e,ye);return kn(xs(O(e,ri),y,v,o*i,o*s,o*a,o*c,o*d,o*f,o*l,o*u,o*p,o*A,h),y,v)}function Ro(t,e,r){if(q.equal(e,X0))return t;let{quotient:n,remainder:o}=zr(t,e);if(q.equal(o,Nr))return t;const i=q.lessThan(o,Nr)?-1:1,s=Ga(q.multiply(o,q.BigInt(2))),a=q.equal(s,e),c=q.greaterThan(s,e);switch(r){case"ceil":i>0&&(n=q.add(n,q.BigInt(i)));break;case"floor":i<0&&(n=q.add(n,q.BigInt(i)));break;case"expand":n=q.add(n,q.BigInt(i));break;case"trunc":break;case"halfCeil":(c||a&&i>0)&&(n=q.add(n,q.BigInt(i)));break;case"halfFloor":(c||a&&i<0)&&(n=q.add(n,q.BigInt(i)));break;case"halfExpand":(c||a)&&(n=q.add(n,q.BigInt(i)));break;case"halfTrunc":c&&(n=q.add(n,q.BigInt(i)));break;case"halfEven":(c||a&&q.toNumber(q.remainder(Ga(n),q.BigInt(2)))===1)&&(n=q.add(n,q.BigInt(i)))}return q.multiply(n,e)}function ME(t,e,r,n){let{remainder:o}=Vu(t,rf);const i=q.subtract(t,o),s=Ro(o,q.BigInt(yG[r]*e),n);return q.add(i,s)}function WS(t,e,r,n,o,i,s,a,c,d,f,l,u=864e11){const{deltaDays:p,hour:A,minute:h,second:y,millisecond:v,microsecond:B,nanosecond:S}=ZS(n,o,i,s,a,c,d,f,l,u),{year:x,month:Q,day:N}=LB(t,e,r+p);return{year:x,month:Q,day:N,hour:A,minute:h,second:y,millisecond:v,microsecond:B,nanosecond:S}}function ZS(t,e,r,n,o,i,s,a,c,d=864e11){let f=Nr;switch(a){case"day":case"hour":f=q.BigInt(t);case"minute":f=q.add(q.multiply(f,jc),q.BigInt(e));case"second":f=q.add(q.multiply(f,jc),q.BigInt(r));case"millisecond":f=q.add(q.multiply(f,Nt),q.BigInt(n));case"microsecond":f=q.add(q.multiply(f,Nt),q.BigInt(o));case"nanosecond":f=q.add(q.multiply(f,Nt),q.BigInt(i))}const l=a==="day"?d:yG[a],u=Ro(f,q.BigInt(l*s),c),p=q.toNumber(q.divide(u,q.BigInt(l)));switch(a){case"day":return{deltaDays:p,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return $f(p,0,0,0,0,0);case"minute":return $f(t,p,0,0,0,0);case"second":return $f(t,e,p,0,0,0);case"millisecond":return $f(t,e,r,p,0,0);case"microsecond":return $f(t,e,r,n,p,0);case"nanosecond":return $f(t,e,r,n,o,p);default:throw new Error(`Invalid unit ${a}`)}}function X1(t,e){return YS(O(t,xe),O(t,De),O(t,ke),O(e,xe),O(e,De),O(e,ke),"day").days}function Zn(t,e,r,n){const o=Rn(t,e,r,void 0,n);return{relativeTo:o,days:X1(e,o)}}function hG(t,e,r,n,o){const i=O(t,zt),s=O(t,ye);return kn(xs(O(t,ri),i,s,e,r,n,o,0,0,0,0,0,0),i,s)}function AG(t,e,r,n,o,i,s,a,c,d,f,l,u,p){let A=t,h=e,y=r,v=n,B=o,S=i,x=s,Q=a,N=c,$=d;if(!Me(p)||l==="year"||l==="month"||l==="week"||l==="day"||l==="nanosecond"&&f===1)return{years:A,months:h,weeks:y,days:v,hours:B,minutes:S,seconds:x,milliseconds:Q,microseconds:N,nanoseconds:$};let G=y0(0,B,S,x,Q,N,$,0);const z=l0(q.toNumber(G)),Y=O(p,zt),R=O(p,ye),C=xs(O(p,ri),Y,R,A,h,y,v,0,0,0,0,0,0),m=xs(new(Be("%Temporal.Instant%"))(C),Y,R,0,0,0,z,0,0,0,0,0,0),g=q.subtract(m,C);return q.greaterThanOrEqual(q.multiply(q.subtract(G,g),q.BigInt(z)),Nr)&&({years:A,months:h,weeks:y,days:v}=uG(A,h,y,v,0,0,0,0,0,0,0,0,0,z,0,0,0,0,0,0,p),G=ME(q.subtract(G,g),f,l,u),{hours:B,minutes:S,seconds:x,milliseconds:Q,microseconds:N,nanoseconds:$}=la(0,0,0,0,0,0,q.toNumber(G),"hour")),{years:A,months:h,weeks:y,days:v,hours:B,minutes:S,seconds:x,milliseconds:Q,microseconds:N,nanoseconds:$}}function Cd(t,e,r,n,o,i,s,a,c,d,f,l,u,p){let A=t,h=e,y=r,v=n,B=o,S=i,x=s,Q=a,N=c,$=q.BigInt(d);const G=Be("%Temporal.Duration%");let z,Y,R,C,m=p;if(m){if(Me(m))Y=m,m=Jt(m);else if(!bt(m))throw new TypeError("starting point must be PlainDate or ZonedDateTime");z=O(m,ye)}if(l==="year"||l==="month"||l==="week"||l==="day"){let g,w,F;$=y0(0,B,S,x,Q,N,d,0),Y&&(g=hG(Y,A,h,y,v)),{days:w,nanoseconds:$,dayLengthNs:F}=jS($,g),R=q.BigInt(F),v+=w,B=S=x=Q=N=0}switch(l){case"year":{if(!z)throw new RangeError("A starting point is required for years rounding");const g=new G(A),w=typeof z!="string"?Ht(z,"dateAdd"):void 0,F=Rn(z,m,g,void 0,w),H=Rn(z,m,new G(A,h,y),void 0,w);m=F,v+=X1(F,H);const K=Rn(z,m,new G(0,0,0,v),void 0,w),D=fi(null);D.largestUnit="year";const I=au(z,m,K,D).years;A+=I;const P=m;m=Rn(z,m,new G(I),void 0,w),v-=X1(P,m);const T=new G(v<0?-1:1);let{days:V}=Zn(z,m,T,w);V=ur(V);const ee=q.multiply(q.BigInt(V),R);$=q.add(q.add(q.multiply(ee,q.BigInt(A)),q.multiply(q.BigInt(v),R)),$);const se=Ro($,q.multiply(ee,q.BigInt(f)),u);C=Ec($,ee),A=q.toNumber(q.divide(se,ee)),$=Nr,h=y=v=0;break}case"month":{if(!z)throw new RangeError("A starting point is required for months rounding");const g=new G(A,h),w=typeof z!="string"?Ht(z,"dateAdd"):void 0,F=Rn(z,m,g,void 0,w),H=Rn(z,m,new G(A,h,y),void 0,w);m=F,v+=X1(F,H);const K=l0(v),D=new G(0,v<0?-1:1);let I;for({relativeTo:m,days:I}=Zn(z,m,D,w);ur(v)>=ur(I);)h+=K,v-=I,{relativeTo:m,days:I}=Zn(z,m,D,w);I=ur(I);const P=q.multiply(q.BigInt(I),R);$=q.add(q.add(q.multiply(P,q.BigInt(h)),q.multiply(q.BigInt(v),R)),$);const T=Ro($,q.multiply(P,q.BigInt(f)),u);C=Ec($,P),h=q.toNumber(q.divide(T,P)),$=Nr,y=v=0;break}case"week":{if(!z)throw new RangeError("A starting point is required for weeks rounding");const g=l0(v),w=new G(0,0,v<0?-1:1),F=typeof z!="string"?Ht(z,"dateAdd"):void 0;let H;for({relativeTo:m,days:H}=Zn(z,m,w,F);ur(v)>=ur(H);)y+=g,v-=H,{relativeTo:m,days:H}=Zn(z,m,w,F);H=ur(H);const K=q.multiply(q.BigInt(H),R);$=q.add(q.add(q.multiply(K,q.BigInt(y)),q.multiply(q.BigInt(v),R)),$);const D=Ro($,q.multiply(K,q.BigInt(f)),u);C=Ec($,K),y=q.toNumber(q.divide(D,K)),$=Nr,v=0;break}case"day":{const g=R;$=q.add(q.multiply(g,q.BigInt(v)),$);const w=Ro($,q.multiply(g,q.BigInt(f)),u);C=Ec($,g),v=q.toNumber(q.divide(w,g)),$=Nr;break}case"hour":{let w=q.multiply(q.BigInt(B),q.BigInt(36e11));w=q.add(w,q.multiply(q.BigInt(S),q.BigInt(6e10))),w=q.add(w,q.multiply(q.BigInt(x),zc)),w=q.add(w,q.multiply(q.BigInt(Q),Bs)),w=q.add(w,q.multiply(q.BigInt(N),Nt)),w=q.add(w,$),C=Ec(w,q.BigInt(36e11));const F=Ro(w,q.BigInt(36e11*f),u);B=q.toNumber(q.divide(F,q.BigInt(36e11))),$=Nr,S=x=Q=N=0;break}case"minute":{let w=q.multiply(q.BigInt(S),q.BigInt(6e10));w=q.add(w,q.multiply(q.BigInt(x),zc)),w=q.add(w,q.multiply(q.BigInt(Q),Bs)),w=q.add(w,q.multiply(q.BigInt(N),Nt)),w=q.add(w,$),C=Ec(w,q.BigInt(6e10));const F=Ro(w,q.BigInt(6e10*f),u);S=q.toNumber(q.divide(F,q.BigInt(6e10))),$=Nr,x=Q=N=0;break}case"second":{let w=q.multiply(q.BigInt(x),zc);w=q.add(w,q.multiply(q.BigInt(Q),Bs)),w=q.add(w,q.multiply(q.BigInt(N),Nt)),w=q.add(w,$),C=Ec(w,q.BigInt(1e9));const F=Ro(w,q.BigInt(1e9*f),u);x=q.toNumber(q.divide(F,q.BigInt(1e9))),$=Nr,Q=N=0;break}case"millisecond":{let w=q.multiply(q.BigInt(Q),Bs);w=q.add(w,q.multiply(q.BigInt(N),Nt)),w=q.add(w,$),C=Ec(w,q.BigInt(1e6));const F=Ro(w,q.BigInt(1e6*f),u);Q=q.toNumber(q.divide(F,q.BigInt(1e6))),$=Nr,N=0;break}case"microsecond":{let w=q.multiply(q.BigInt(N),Nt);w=q.add(w,$),C=Ec(w,q.BigInt(1e3));const F=Ro(w,q.BigInt(1e3*f),u);N=q.toNumber(q.divide(F,q.BigInt(1e3))),$=Nr;break}case"nanosecond":C=q.toNumber($),$=Ro(q.BigInt($),q.BigInt(f),u)}return{years:A,months:h,weeks:y,days:v,hours:B,minutes:S,seconds:x,milliseconds:Q,microseconds:N,nanoseconds:q.toNumber($),total:C}}function Fl(t,e,r,n,o,i){for(const[s,a]of[[t,n],[e,o],[r,i]])if(s!==a)return _h(s-a);return 0}function Vu(t,e){let{quotient:r,remainder:n}=zr(t,e);return q.lessThan(n,Nr)&&(r=q.subtract(r,X0),n=q.add(n,e)),{quotient:r,remainder:n}}function Tg(t,e){const{quotient:r,remainder:n}=zr(t,e);return fs(n)||!CE(t)==!CE(e)?r:q.subtract(r,X0)}function Ec(t,e){const{quotient:r,remainder:n}=zr(t,e);return q.toNumber(r)+q.toNumber(n)/q.toNumber(e)}function UE(t){const e=Ny(t);return globalThis.BigInt!==void 0?globalThis.BigInt(e.toString(10)):e}function Ny(t){let e=t;if(typeof t=="object"){const r=t[Symbol.toPrimitive];r&&typeof r=="function"&&(e=_B(r,t,["number"]))}if(typeof e=="number")throw new TypeError("cannot convert number to bigint");return typeof e=="bigint"?q.BigInt(e.toString(10)):q.BigInt(e)}const XS=(()=>{let t=q.BigInt(Date.now()%1e6);return()=>{const e=q.BigInt(Date.now()),r=q.add(q.multiply(e,Bs),t);return t=q.remainder(e,Bs),q.greaterThan(r,u0)?u0:q.lessThan(r,SI)?SI:r}})();function Bl(){return new NL().resolvedOptions().timeZone}function _h(t){return t<0?-1:t>0?1:t}function Ct(t){if(t===void 0)return fi(null);if(hr(t)&&t!==null)return t;throw new TypeError("Options parameter must be an object, not "+(t===null?"null":typeof t))}function I0(t,e){const r=fi(null);return r[t]=e,r}function yu(t){const e=fi(null);return Dg(e,Ct(t),[]),e}function lu(t,e,r,n){let o=t[e];if(o!==void 0){if(o=Ri(o),!r.includes(o))throw new RangeError(`${e} must be one of ${r.join(", ")}, not ${o}`);return o}return n}function Qd(t){return wwe.includes(of(t))}function of(t){return t.replace(/[A-Z]/g,e=>{const r=e.charCodeAt(0);return String.fromCharCode(r+32)})}const gG=new RegExp(`^${ML.source}$`);function pG(t,e,r,n=t(e),o=t(r)){let i=q.BigInt(e),s=q.BigInt(r),a=n,c=o;for(;q.greaterThan(q.subtract(s,i),X0);){const d=q.divide(q.add(i,s),q.BigInt(2)),f=t(d);if(f===a)i=d,a=f;else{if(f!==c)throw new Error(`invalid state in bisection ${a} - ${f} - ${c}`);s=d,c=f}}return s}const yG={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},IG=Symbol("date"),mG=Symbol("ym"),wG=Symbol("md"),bG=Symbol("time"),EG=Symbol("datetime"),vG=Symbol("instant"),Fg=Symbol("original"),tg=Symbol("timezone"),Hs=Symbol("calendar-id"),BG=Symbol("locale"),Bx=Symbol("options"),Py=t=>({value:t,enumerable:!0,writable:!1,configurable:!0}),Mg=globalThis.Intl.DateTimeFormat,xd=Object.assign,Cwe=Object.prototype.hasOwnProperty,Qwe=Reflect.apply;function KA(t,e){let r=t[e];return typeof r=="function"&&(r=new Mg(t[BG],r(t[Bx])),t[e]=r),r}function zh(t,e={}){if(!(this instanceof zh))return new zh(t,e);const r=e!==void 0,n=r?xd({},e):{},o=new Mg(t,n),i=o.resolvedOptions();if(r){const s=xd({},i);for(const a in s)Qwe(Cwe,n,[a])||delete s[a];this[Bx]=s}else this[Bx]=n;this[BG]=i.locale,this[Fg]=o,this[tg]=i.timeZone,this[Hs]=i.calendar,this[IG]=Dwe,this[mG]=Swe,this[wG]=_we,this[bG]=xwe,this[EG]=kwe,this[vG]=Twe}Object.defineProperty(zh,"name",{writable:!0,value:"DateTimeFormat"}),zh.supportedLocalesOf=function(t,e){return Mg.supportedLocalesOf(t,e)};const I3={resolvedOptions:Py(function(){return this[Fg].resolvedOptions()}),format:Py(function(e,...r){let{instant:n,formatter:o}=Ug(e,this);return n&&o?o.format(n.epochMilliseconds):this[Fg].format(e,...r)}),formatRange:Py(function(e,r){if(m0(e)||m0(r)){if(!CG(e,r))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:n,formatter:o}=Ug(e,this),{instant:i,formatter:s}=Ug(r,this);if(n&&i&&o&&s&&o===s)return o.formatRange(n.epochMilliseconds,i.epochMilliseconds)}return this[Fg].formatRange(e,r)})};"formatToParts"in Mg.prototype&&(I3.formatToParts=Py(function(e,...r){let{instant:n,formatter:o}=Ug(e,this);return n&&o?o.formatToParts(n.epochMilliseconds):this[Fg].formatToParts(e,...r)})),"formatRangeToParts"in Mg.prototype&&(I3.formatRangeToParts=Py(function(e,r){if(m0(e)||m0(r)){if(!CG(e,r))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:n,formatter:o}=Ug(e,this),{instant:i,formatter:s}=Ug(r,this);if(n&&i&&o&&s&&o===s)return o.formatRangeToParts(n.epochMilliseconds,i.epochMilliseconds)}return this[Fg].formatRangeToParts(e,r)})),zh.prototype=Object.create(Mg.prototype,I3),Object.defineProperty(zh,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Iu=zh;function Cm(t={},e={}){const r=xd({},t);for(const n of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[n]=n in e?e[n]:r[n],r[n]!==!1&&r[n]!==void 0||delete r[n];return r}function xwe(t){let e=Cm(t,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return t_(e)||(e=xd({},e,{hour:"numeric",minute:"numeric",second:"numeric"})),e}function Swe(t){let e=Cm(t,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in e||"month"in e||(e=xd(e,{year:"numeric",month:"numeric"})),e}function _we(t){let e=Cm(t,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in e||"day"in e||(e=xd({},e,{month:"numeric",day:"numeric"})),e}function Dwe(t){let e=Cm(t,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return e_(e)||(e=xd({},e,{year:"numeric",month:"numeric",day:"numeric"})),e}function kwe(t){let e=Cm(t,{timeZoneName:!1});return t_(e)||e_(e)||(e=xd({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function Twe(t){let e=t;return t_(e)||e_(e)||(e=xd({},e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),e}function e_(t){return"year"in t||"month"in t||"day"in t||"weekday"in t||"dateStyle"in t}function t_(t){return"hour"in t||"minute"in t||"second"in t||"timeStyle"in t||"dayPeriod"in t}function m0(t){return bt(t)||Ur(t)||tt(t)||Me(t)||Rt(t)||gn(t)||sn(t)}function CG(t,e){return!(!m0(t)||!m0(e))&&!(Ur(t)&&!Ur(e))&&!(bt(t)&&!bt(e))&&!(tt(t)&&!tt(e))&&!(Me(t)&&!Me(e))&&!(Rt(t)&&!Rt(e))&&!(gn(t)&&!gn(e))&&!(sn(t)&&!sn(e))}function Ug(t,e){const r=Be("%Temporal.PlainDateTime%");if(Ur(t)){const n=new r(1970,1,1,O(t,it),O(t,ot),O(t,st),O(t,at),O(t,ct),O(t,ft),e[Hs]);return{instant:Fi(e[tg],n,"compatible"),formatter:KA(e,bG)}}if(Rt(t)){const n=O(t,xe),o=O(t,De),i=O(t,ke),s=On(O(t,ye));if(s!==e[Hs])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${e[Hs]}`);const a=new r(n,o,i,12,0,0,0,0,0,s);return{instant:Fi(e[tg],a,"compatible"),formatter:KA(e,mG)}}if(gn(t)){const n=O(t,xe),o=O(t,De),i=O(t,ke),s=On(O(t,ye));if(s!==e[Hs])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${e[Hs]}`);const a=new r(n,o,i,12,0,0,0,0,0,s);return{instant:Fi(e[tg],a,"compatible"),formatter:KA(e,wG)}}if(bt(t)){const n=O(t,xe),o=O(t,De),i=O(t,ke),s=On(O(t,ye));if(s!=="iso8601"&&s!==e[Hs])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${e[Hs]}`);const a=new r(n,o,i,12,0,0,0,0,0,e[Hs]);return{instant:Fi(e[tg],a,"compatible"),formatter:KA(e,IG)}}if(tt(t)){const n=O(t,xe),o=O(t,De),i=O(t,ke),s=O(t,it),a=O(t,ot),c=O(t,st),d=O(t,at),f=O(t,ct),l=O(t,ft),u=On(O(t,ye));if(u!=="iso8601"&&u!==e[Hs])throw new RangeError(`cannot format PlainDateTime with calendar ${u} in locale with calendar ${e[Hs]}`);let p=t;return u==="iso8601"&&(p=new r(n,o,i,s,a,c,d,f,l,e[Hs])),{instant:Fi(e[tg],p,"compatible"),formatter:KA(e,EG)}}if(Me(t))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return sn(t)?{instant:t,formatter:KA(e,vG)}:{}}class Na{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const r=Ny(e);oh(r),yf(this),lt(this,$e,r)}get epochSeconds(){if(!sn(this))throw new TypeError("invalid receiver");const e=O(this,$e);return q.toNumber(Tg(e,zc))}get epochMilliseconds(){if(!sn(this))throw new TypeError("invalid receiver");const e=q.BigInt(O(this,$e));return q.toNumber(Tg(e,Bs))}get epochMicroseconds(){if(!sn(this))throw new TypeError("invalid receiver");return UE(Tg(q.BigInt(O(this,$e)),Nt))}get epochNanoseconds(){if(!sn(this))throw new TypeError("invalid receiver");return UE(q.BigInt(O(this,$e)))}add(e){if(!sn(this))throw new TypeError("invalid receiver");return KM("add",this,e)}subtract(e){if(!sn(this))throw new TypeError("invalid receiver");return KM("subtract",this,e)}until(e,r){if(!sn(this))throw new TypeError("invalid receiver");return FM("until",this,e,r)}since(e,r){if(!sn(this))throw new TypeError("invalid receiver");return FM("since",this,e,r)}round(e){if(!sn(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const r=typeof e=="string"?I0("smallestUnit",e):Ct(e),n=tp(r),o=Za(r,"halfExpand"),i=mo(r,"smallestUnit","time",Gh);rp(n,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[i],!0);const s=ME(O(this,$e),n,i,o);return new Na(s)}equals(e){if(!sn(this))throw new TypeError("invalid receiver");const r=qa(e),n=O(this,$e),o=O(r,$e);return q.equal(q.BigInt(n),q.BigInt(o))}toString(e){if(!sn(this))throw new TypeError("invalid receiver");const r=Ct(e),n=Im(r),o=Za(r,"trunc"),i=mo(r,"smallestUnit","time",void 0);if(i==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=r.timeZone;s!==void 0&&(s=si(s));const{precision:a,unit:c,increment:d}=mm(i,n),f=ME(O(this,$e),d,c,o);return BM(new Na(f),s,a)}toJSON(){if(!sn(this))throw new TypeError("invalid receiver");return BM(this,void 0,"auto")}toLocaleString(e,r){if(!sn(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!sn(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument in toZonedDateTime");const r=e.calendar;if(r===void 0)throw new TypeError("missing calendar property in toZonedDateTime");const n=Bo(r),o=e.timeZone;if(o===void 0)throw new TypeError("missing timeZone property in toZonedDateTime");const i=si(o);return kn(O(this,$e),i,n)}toZonedDateTimeISO(e){if(!sn(this))throw new TypeError("invalid receiver");const r=si(e);return kn(O(this,$e),r,"iso8601")}static fromEpochSeconds(e){const r=h0(e),n=q.multiply(q.BigInt(r),zc);return oh(n),new Na(n)}static fromEpochMilliseconds(e){const r=h0(e),n=q.multiply(q.BigInt(r),Bs);return oh(n),new Na(n)}static fromEpochMicroseconds(e){const r=Ny(e),n=q.multiply(r,Nt);return oh(n),new Na(n)}static fromEpochNanoseconds(e){const r=Ny(e);return oh(r),new Na(r)}static from(e){return sn(e)?new Na(O(e,$e)):qa(e)}static compare(e,r){const n=qa(e),o=qa(r),i=O(n,$e),s=O(o,$e);return q.lessThan(i,s)?-1:q.greaterThan(i,s)?1:0}}pf(Na,"Temporal.Instant");const QG=Array.prototype.includes,Fwe=Array.prototype.push,Mwe=globalThis.Intl.DateTimeFormat,Uwe=Array.prototype.sort,Rwe=Math.abs,Nwe=Math.floor,m3=Object.create,Cx=Object.entries,xG=Set,$M=Reflect.ownKeys,zn=Set.prototype.add,SG=Set.prototype.values,gr={};class Fr{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const r=Ri(e);if(!Qd(r))throw new RangeError(`invalid calendar identifier ${r}`);yf(this),lt(this,Br,of(r))}get id(){if(!Tr(this))throw new TypeError("invalid receiver");return O(this,Br)}dateFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid fields");const n=Ct(r),o=O(this,Br);return gr[o].dateFromFields(e,n,o)}yearMonthFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid fields");const n=Ct(r),o=O(this,Br);return gr[o].yearMonthFromFields(e,n,o)}monthDayFromFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid fields");const n=Ct(r),o=O(this,Br);return gr[o].monthDayFromFields(e,n,o)}fields(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=[],n=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const o of e){if(typeof o!="string")throw new TypeError("invalid fields");if(!n.has(o))throw new RangeError(`invalid field name ${o}`);n.delete(o),Fwe.call(r,o)}return gr[O(this,Br)].fields(r)}mergeFields(e,r){if(!Tr(this))throw new TypeError("invalid receiver");const n=EM(e),o=m3(null);Dg(o,n,[],[void 0]);const i=EM(r),s=m3(null);Dg(s,i,[],[void 0]);const a=$M(s),c=gr[O(this,Br)].fieldKeysToIgnore(a),d=m3(null),f=$M(o);for(const l of f){let u;u=Oe(QG,c,[l])?s[l]:o[l],u!==void 0&&(d[l]=u)}return Dg(d,s,[]),d}dateAdd(e,r,n){if(!Tr(this))throw new TypeError("invalid receiver");const o=Jt(e),i=kg(r),s=Yr(Ct(n)),{days:a}=la(O(i,vi),O(i,Bi),O(i,Ci),O(i,Qi),O(i,xi),O(i,Si),O(i,_i),"day"),c=O(this,Br);return gr[c].dateAdd(o,O(i,Ei),O(i,xn),O(i,Vi),a,s,c)}dateUntil(e,r,n){if(!Tr(this))throw new TypeError("invalid receiver");const o=Jt(e),i=Jt(r);let s=mo(Ct(n),"largestUnit","date","auto");s==="auto"&&(s="day");const{years:a,months:c,weeks:d,days:f}=gr[O(this,Br)].dateUntil(o,i,s);return new(Be("%Temporal.Duration%"))(a,c,d,f,0,0,0,0,0,0)}year(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].year(r)}month(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");if(gn(r))throw new TypeError("use monthCode on PlainMonthDay instead");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].month(r)}monthCode(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||gn(r)||(r=Jt(r)),gr[O(this,Br)].monthCode(r)}day(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return gn(r)||(r=Jt(r)),gr[O(this,Br)].day(r)}era(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].era(r)}eraYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].eraYear(r)}dayOfWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=Jt(e);return gr[O(this,Br)].dayOfWeek(r)}dayOfYear(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=Jt(e);return gr[O(this,Br)].dayOfYear(r)}weekOfYear(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=Jt(e);return gr[O(this,Br)].weekOfYear(r)}yearOfWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=Jt(e);return gr[O(this,Br)].yearOfWeek(r)}daysInWeek(e){if(!Tr(this))throw new TypeError("invalid receiver");const r=Jt(e);return gr[O(this,Br)].daysInWeek(r)}daysInMonth(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].daysInMonth(r)}daysInYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].daysInYear(r)}monthsInYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].monthsInYear(r)}inLeapYear(e){let r=e;if(!Tr(this))throw new TypeError("invalid receiver");return Rt(r)||(r=Jt(r)),gr[O(this,Br)].inLeapYear(r)}toString(){if(!Tr(this))throw new TypeError("invalid receiver");return O(this,Br)}toJSON(){if(!Tr(this))throw new TypeError("invalid receiver");return O(this,Br)}static from(e){return np(Bo(e))}}function r_(t){if(!t.startsWith("M"))throw new RangeError(`Invalid month code: ${t}.  Month codes must start with M.`);const e=+t.slice(1);if(isNaN(e))throw new RangeError(`Invalid month code: ${t}`);return e}function gd(t,e=!1){return`M${t.toString().padStart(2,"0")}${e?"L":""}`}function eb(t,e,r=12){let{month:n,monthCode:o}=t;if(o===void 0){if(n===void 0)throw new TypeError("Either month or monthCode are required");e==="reject"&&Nn(n,1,r),e==="constrain"&&(n=yo(n,1,r)),o=gd(n)}else{const i=r_(o);if(n!==void 0&&n!==i)throw new RangeError(`monthCode ${o} and month ${n} must match if both are present`);if(o!==gd(i))throw new RangeError(`Invalid month code: ${o}`);if(n=i,n<1||n>r)throw new RangeError(`Invalid monthCode: ${o}`)}return{...t,month:n,monthCode:o}}pf(Fr,"Temporal.Calendar"),Cr("Temporal.Calendar.from",Fr.from),Cr("Temporal.Calendar.prototype.dateAdd",Fr.prototype.dateAdd),Cr("Temporal.Calendar.prototype.dateFromFields",Fr.prototype.dateFromFields),Cr("Temporal.Calendar.prototype.dateUntil",Fr.prototype.dateUntil),Cr("Temporal.Calendar.prototype.day",Fr.prototype.day),Cr("Temporal.Calendar.prototype.dayOfWeek",Fr.prototype.dayOfWeek),Cr("Temporal.Calendar.prototype.dayOfYear",Fr.prototype.dayOfYear),Cr("Temporal.Calendar.prototype.daysInMonth",Fr.prototype.daysInMonth),Cr("Temporal.Calendar.prototype.daysInWeek",Fr.prototype.daysInWeek),Cr("Temporal.Calendar.prototype.daysInYear",Fr.prototype.daysInYear),Cr("Temporal.Calendar.prototype.era",Fr.prototype.era),Cr("Temporal.Calendar.prototype.eraYear",Fr.prototype.eraYear),Cr("Temporal.Calendar.prototype.fields",Fr.prototype.fields),Cr("Temporal.Calendar.prototype.inLeapYear",Fr.prototype.inLeapYear),Cr("Temporal.Calendar.prototype.mergeFields",Fr.prototype.mergeFields),Cr("Temporal.Calendar.prototype.month",Fr.prototype.month),Cr("Temporal.Calendar.prototype.monthCode",Fr.prototype.monthCode),Cr("Temporal.Calendar.prototype.monthDayFromFields",Fr.prototype.monthDayFromFields),Cr("Temporal.Calendar.prototype.monthsInYear",Fr.prototype.monthsInYear),Cr("Temporal.Calendar.prototype.weekOfYear",Fr.prototype.weekOfYear),Cr("Temporal.Calendar.prototype.year",Fr.prototype.year),Cr("Temporal.Calendar.prototype.yearMonthFromFields",Fr.prototype.yearMonthFromFields),Cr("Temporal.Calendar.prototype.yearOfWeek",Fr.prototype.yearOfWeek),gr.iso8601={dateFromFields(t,e,r){let n=gt(t,["day","month","monthCode","year"],["year","day"]);const o=Yr(e);n=eb(n);let{year:i,month:s,day:a}=n;return{year:i,month:s,day:a}=xE(i,s,a,o),_s(i,s,a,r)},yearMonthFromFields(t,e,r){let n=gt(t,["month","monthCode","year"],["year"]);const o=Yr(e);n=eb(n);let{year:i,month:s}=n;return{year:i,month:s}=function(c,d,f){let l=c,u=d;switch(f){case"reject":nf(l,u,1);break;case"constrain":({year:l,month:u}=sG(l,u))}return{year:l,month:u}}(i,s,o),DI(i,s,r,1)},monthDayFromFields(t,e,r){let n=gt(t,["day","month","monthCode","year"],["day"]);const o=Yr(e);if(n.month!==void 0&&n.year===void 0&&n.monthCode===void 0)throw new TypeError("either year or monthCode required with month");const i=n.monthCode===void 0;n=eb(n);let{month:s,day:a,year:c}=n;return{month:s,day:a}=xE(i?c:1972,s,a,o),_I(s,a,r,1972)},fields:t=>t,fieldKeysToIgnore(t){const e=new xG;for(let r=0;r<t.length;r++){const n=t[r];Oe(zn,e,[n]),n==="month"?Oe(zn,e,["monthCode"]):n==="monthCode"&&Oe(zn,e,["month"])}return[...Oe(SG,e,[])]},dateAdd(t,e,r,n,o,i,s){let a=O(t,xe),c=O(t,De),d=O(t,ke);return{year:a,month:c,day:d}=Sh(a,c,d,e,r,n,o,i),_s(a,c,d,s)},dateUntil:(t,e,r)=>YS(O(t,xe),O(t,De),O(t,ke),O(e,xe),O(e,De),O(e,ke),r),year:t=>O(t,xe),era(){},eraYear(){},month:t=>O(t,De),monthCode:t=>gd(O(t,De)),day:t=>O(t,ke),dayOfWeek:t=>bx(O(t,xe),O(t,De),O(t,ke)),dayOfYear:t=>TE(O(t,xe),O(t,De),O(t,ke)),weekOfYear:t=>kM(O(t,xe),O(t,De),O(t,ke)).week,yearOfWeek:t=>kM(O(t,xe),O(t,De),O(t,ke)).year,daysInWeek:()=>7,daysInMonth:t=>Ad(O(t,xe),O(t,De)),daysInYear(t){let e=t;return En(e,xe)||(e=Jt(e)),du(O(e,xe))?366:365},monthsInYear:()=>12,inLeapYear(t){let e=t;return En(e,xe)||(e=Jt(e)),du(O(e,xe))}};class Qr{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),e!==void 0){let r=0;for(const n of e.map.entries()){if(++r>Qr.MAX_CACHE_ENTRIES)break;this.map.set(...n)}}}get(e){const r=this.map.get(e);return r&&(this.hits++,this.report()),this.calls++,r}set(e,r){this.map.set(e,r),this.misses++,this.report()}report(){}setObject(e){if(Qr.objectMap.get(e))throw new RangeError("object already cached");Qr.objectMap.set(e,this),this.report()}static getCacheForObject(e){let r=Qr.objectMap.get(e);return r||(r=new Qr,Qr.objectMap.set(e,r)),r}}function _G({isoYear:t,isoMonth:e,isoDay:r}){return`${wA(t)}-${br(e)}-${br(r)}T00:00Z`}function w3(t,e){return{years:t.year-e.year,months:t.month-e.month,days:t.day-e.day}}Qr.objectMap=new WeakMap,Qr.MAX_CACHE_ENTRIES=1e3;class op{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return this.formatter===void 0&&(this.formatter=new Mwe(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,r){const{year:n,month:o,day:i}=e,s=JSON.stringify({func:"isoToCalendarDate",isoYear:n,isoMonth:o,isoDay:i,id:this.id}),a=r.get(s);if(a)return a;const c=this.getFormatter();let d,f;try{f=_G({isoYear:n,isoMonth:o,isoDay:i}),d=c.formatToParts(new Date(f))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:n,isoMonth:o,isoDay:i})}`)}const l={};for(let{type:p,value:A}of d){if(p==="year"&&(l.eraYear=+A),p==="relatedYear"&&(l.eraYear=+A),p==="month"){const h=/^([0-9]*)(.*?)$/.exec(A);if(!h||h.length!=3||!h[1]&&!h[2])throw new RangeError(`Unexpected month: ${A}`);if(l.month=h[1]?+h[1]:1,l.month<1)throw new RangeError(`Invalid month ${A} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(l.month>13)throw new RangeError(`Invalid month ${A} from ${f}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);h[2]&&(l.monthExtra=h[2])}p==="day"&&(l.day=+A),this.hasEra&&p==="era"&&A!=null&&A!==""&&(A=A.split(" (")[0],l.era=A.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(l.eraYear===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:p,eraYear:A}=this.reviseIntlEra(l,e);l.era=p,l.eraYear=A}this.checkIcuBugs&&this.checkIcuBugs(e);const u=this.adjustCalendarDate(l,r,"constrain",!0);if(u.year===void 0)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(u.month===void 0)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(u.day===void 0)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return r.set(s,u),["constrain","reject"].forEach(p=>{const A=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:p,id:this.id});r.set(A,e)}),u}validateCalendarDate(e){const{era:r,month:n,year:o,day:i,eraYear:s,monthCode:a,monthExtra:c}=e;if(c!==void 0)throw new RangeError("Unexpected `monthExtra` value");if(o===void 0&&s===void 0)throw new TypeError("year or eraYear is required");if(n===void 0&&a===void 0)throw new TypeError("month or monthCode is required");if(i===void 0)throw new RangeError("Missing day");if(a!==void 0){if(typeof a!="string")throw new RangeError("monthCode must be a string, not "+typeof a);if(!/^M([01]?\d)(L?)$/.test(a))throw new RangeError(`Invalid monthCode: ${a}`)}if(this.constantEra){if(r!==void 0&&r!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${r}`);if(s!==void 0&&o!==void 0&&s!==o)throw new RangeError(`eraYear ${s} does not match year ${o}`)}if(this.hasEra&&e.era===void 0!=(e.eraYear===void 0))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,r,n="constrain",o=!1){if(this.calendarType==="lunisolar")throw new RangeError("Override required for lunisolar calendars");let i=e;if(this.validateCalendarDate(i),this.constantEra){const{year:d,eraYear:f}=i;i={...i,era:this.constantEra,year:d!==void 0?d:f,eraYear:f!==void 0?f:d}}const s=this.monthsInYear(i,r);let{month:a,monthCode:c}=i;return{month:a,monthCode:c}=eb(i,n,s),{...i,month:a,monthCode:c}}regulateMonthDayNaive(e,r,n){const o=this.monthsInYear(e,n);let{month:i,day:s}=e;return r==="reject"?(Nn(i,1,o),Nn(s,1,this.maximumMonthLength(e))):(i=yo(i,1,o),s=yo(s,1,this.maximumMonthLength({...e,month:i}))),{...e,month:i,day:s}}calendarToIsoDate(e,r="constrain",n){const o=e;let i=this.adjustCalendarDate(e,n,r,!1);i=this.regulateMonthDayNaive(i,r,n);const{year:s,month:a,day:c}=i,d=JSON.stringify({func:"calendarToIsoDate",year:s,month:a,day:c,overflow:r,id:this.id});let f,l=n.get(d);if(l||o.year!==void 0&&o.month!==void 0&&o.day!==void 0&&(o.year!==i.year||o.month!==i.month||o.day!==i.day)&&(f=JSON.stringify({func:"calendarToIsoDate",year:o.year,month:o.month,day:o.day,overflow:r,id:this.id}),l=n.get(f),l))return l;let u=this.estimateIsoDate({year:s,month:a,day:c});const p=B=>{let S=this.addDaysIso(u,B);if(i.day>this.minimumMonthLength(i)){let x=this.isoToCalendarDate(S,n);for(;x.month!==a||x.year!==s;){if(r==="reject")throw new RangeError(`day ${c} does not exist in month ${a} of year ${s}`);S=this.addDaysIso(S,-1),x=this.isoToCalendarDate(S,n)}}return S};let A=0,h=this.isoToCalendarDate(u,n),y=w3(i,h);if(y.years!==0||y.months!==0||y.days!==0){const B=365*y.years+30*y.months+y.days;u=this.addDaysIso(u,B),h=this.isoToCalendarDate(u,n),y=w3(i,h),y.years===0&&y.months===0?u=p(y.days):A=this.compareCalendarDates(i,h)}let v=8;for(;A;){u=this.addDaysIso(u,A*v);const B=h;h=this.isoToCalendarDate(u,n);const S=A;if(A=this.compareCalendarDates(i,h),A){if(y=w3(i,h),y.years===0&&y.months===0)u=p(y.days),A=0;else if(S&&A!==S)if(v>1)v/=2;else{if(r==="reject")throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...o})}`);this.compareCalendarDates(h,B)>0&&(u=this.addDaysIso(u,-1)),A=0}}}if(n.set(d,u),f&&n.set(f,u),i.year===void 0||i.month===void 0||i.day===void 0||i.monthCode===void 0||this.hasEra&&(i.era===void 0||i.eraYear===void 0))throw new RangeError("Unexpected missing property");return u}temporalToCalendarDate(e,r){const n={year:O(e,xe),month:O(e,De),day:O(e,ke)};return this.isoToCalendarDate(n,r)}compareCalendarDates(e,r){const n=gt(e,["day","month","year"],["day","month","year"]),o=gt(r,["day","month","year"],["day","month","year"]);return n.year!==o.year?_h(n.year-o.year):n.month!==o.month?_h(n.month-o.month):n.day!==o.day?_h(n.day-o.day):0}regulateDate(e,r="constrain",n){const o=this.calendarToIsoDate(e,r,n);return this.isoToCalendarDate(o,n)}addDaysIso(e,r){return Sh(e.year,e.month,e.day,0,0,0,r,"constrain")}addDaysCalendar(e,r,n){const o=this.calendarToIsoDate(e,"constrain",n),i=this.addDaysIso(o,r);return this.isoToCalendarDate(i,n)}addMonthsCalendar(e,r,n,o){let i=e;const{day:s}=i;for(let a=0,c=Rwe(r);a<c;a++){const{month:d}=i,f=i,l=r<0?-Math.max(s,this.daysInPreviousMonth(i,o)):this.daysInMonth(i,o),u=this.calendarToIsoDate(i,"constrain",o);let p=this.addDaysIso(u,l);if(i=this.isoToCalendarDate(p,o),r>0){const A=this.monthsInYear(f,o);for(;i.month-1!=d%A;)p=this.addDaysIso(p,-1),i=this.isoToCalendarDate(p,o)}i.day!==s&&(i=this.regulateDate({...i,day:s},"constrain",o))}if(n==="reject"&&i.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return i}addCalendar(e,{years:r=0,months:n=0,weeks:o=0,days:i=0},s,a){const{year:c,day:d,monthCode:f}=e,l=this.adjustCalendarDate({year:c+r,monthCode:f,day:d},a),u=this.addMonthsCalendar(l,n,s,a),p=i+7*o;return this.addDaysCalendar(u,p,a)}untilCalendar(e,r,n,o){let i=0,s=0,a=0,c=0;switch(n){case"day":i=this.calendarDaysUntil(e,r,o);break;case"week":{const d=this.calendarDaysUntil(e,r,o);i=d%7,s=(d-i)/7;break}case"month":case"year":{const d=this.compareCalendarDates(r,e);if(!d)return{years:0,months:0,weeks:0,days:0};const f=r.year-e.year,l=r.day-e.day;if(n==="year"&&f){let A=0;r.monthCode>e.monthCode&&(A=1),r.monthCode<e.monthCode&&(A=-1),A||(A=Math.sign(l)),c=A*d<0?f-d:f}let u,p=c?this.addCalendar(e,{years:c},"constrain",o):e;do a+=d,u=p,p=this.addMonthsCalendar(u,d,"constrain",o),p.day!==e.day&&(p=this.regulateDate({...p,day:e.day},"constrain",o));while(this.compareCalendarDates(r,p)*d>=0);a-=d,i=this.calendarDaysUntil(u,r,o);break}}return{years:c,months:a,weeks:s,days:i}}daysInMonth(e,r){const{day:n}=e,o=this.maximumMonthLength(e),i=this.minimumMonthLength(e);if(i===o)return i;const s=n<=o-i?o:i,a=this.calendarToIsoDate(e,"constrain",r),c=this.addDaysIso(a,s),d=this.isoToCalendarDate(c,r),f=this.addDaysIso(c,-d.day);return this.isoToCalendarDate(f,r).day}daysInPreviousMonth(e,r){const{day:n,month:o,year:i}=e;let s={year:o>1?i:i-1,month:o,day:1};const a=o>1?o-1:this.monthsInYear(s,r);s={...s,month:a};const c=this.minimumMonthLength(s),d=this.maximumMonthLength(s);if(c===d)return d;const f=this.calendarToIsoDate(e,"constrain",r),l=this.addDaysIso(f,-n);return this.isoToCalendarDate(l,r).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,r,n){const o=this.calendarToIsoDate(e,"constrain",n),i=this.calendarToIsoDate(r,"constrain",n);return this.isoDaysUntil(o,i)}isoDaysUntil(e,r){return YS(e.year,e.month,e.day,r.year,r.month,r.day,"day").days}monthDayFromFields(e,r,n){let o,i,s,a,c,{monthCode:d,day:f}=e;if(d===void 0){let{year:p,era:A,eraYear:h}=e;if(p===void 0&&(A===void 0||h===void 0))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:d,day:f}=this.isoToCalendarDate(this.calendarToIsoDate(e,r,n),n))}const l=this.isoToCalendarDate({year:1972,month:12,day:31},n),u=l.monthCode>d||l.monthCode===d&&l.day>=f?l.year:l.year-1;for(let p=0;p<100;p++){const A=this.adjustCalendarDate({day:f,monthCode:d,year:u-p},n),h=this.calendarToIsoDate(A,"constrain",n),y=this.isoToCalendarDate(h,n);if({year:o,month:i,day:s}=h,y.monthCode===d&&y.day===f)return{month:i,day:s,year:o};r==="constrain"&&(a===void 0||y.monthCode===a.monthCode&&y.day>a.day)&&(a=y,c=h)}if(r==="constrain"&&c!==void 0)return c;throw new RangeError(`No recent ${this.id} year with monthCode ${d} and day ${f}`)}}class Pwe extends op{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:r}=e;return(7*r+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,r){const{month:n,year:o}=e,i=this.getMonthCode(o,n),s=Cx(this.months).find(c=>c[1].monthCode===i);if(s===void 0)throw new RangeError(`unmatched Hebrew month: ${n}`);const a=s[1].days;return typeof a=="number"?a:a[r]}estimateIsoDate(e){const{year:r}=e;return{year:r-3760,month:1,day:1}}getMonthCode(e,r){return this.inLeapYear({year:e})?r===6?gd(5,!0):gd(r<6?r:r-1):gd(r)}adjustCalendarDate(e,r,n="constrain",o=!1){let{year:i,eraYear:s,month:a,monthCode:c,day:d,monthExtra:f}=e;if(i===void 0&&s!==void 0&&(i=s),s===void 0&&i!==void 0&&(s=i),o){if(f){const l=this.months[f];if(!l)throw new RangeError(`Unrecognized month from formatToParts: ${f}`);a=this.inLeapYear({year:i})?l.leap:l.regular}return c=this.getMonthCode(i,a),{year:i,month:a,day:d,era:void 0,eraYear:s,monthCode:c}}if(this.validateCalendarDate(e),a===void 0)if(c.endsWith("L")){if(c!=="M05L")throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${c}`);if(a=6,!this.inLeapYear({year:i})){if(n==="reject")throw new RangeError(`Hebrew monthCode M05L is invalid in year ${i} which is not a leap year`);a=6,c="M06"}}else{a=r_(c),this.inLeapYear({year:i})&&a>=6&&a++;const l=this.monthsInYear({year:i});if(a<1||a>l)throw new RangeError(`Invalid monthCode: ${c}`)}else if(n==="reject"?(Nn(a,1,this.monthsInYear({year:i})),Nn(d,1,this.maximumMonthLength({year:i,month:a}))):(a=yo(a,1,this.monthsInYear({year:i})),d=yo(d,1,this.maximumMonthLength({year:i,month:a}))),c===void 0)c=this.getMonthCode(i,a);else if(this.getMonthCode(i,a)!==c)throw new RangeError(`monthCode ${c} doesn't correspond to month ${a} in Hebrew year ${i}`);return{...e,day:d,month:a,monthCode:c,year:i,eraYear:s}}}class sp extends op{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,r){return this.daysInMonth({year:e.year,month:12,day:1},r)===30}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:r}=this.adjustCalendarDate(e);return{year:Nwe(r*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class DG extends sp{constructor(){super(...arguments),this.id="islamic"}}class Owe extends sp{constructor(){super(...arguments),this.id="islamic-umalqura"}}class Kwe extends sp{constructor(){super(...arguments),this.id="islamic-tbla"}}class Hwe extends sp{constructor(){super(...arguments),this.id="islamic-civil"}}class Lwe extends sp{constructor(){super(...arguments),this.id="islamic-rgsa"}}class Gwe extends sp{constructor(){super(...arguments),this.id="islamicc"}}class qwe extends op{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,r){return DG.prototype.inLeapYear.call(this,e,r)}monthsInYear(){return 12}minimumMonthLength(e){const{month:r}=e;return r===12?29:r<=6?31:30}maximumMonthLength(e){const{month:r}=e;return r===12?30:r<=6?31:30}estimateIsoDate(e){const{year:r}=this.adjustCalendarDate(e);return{year:r+621,month:1,day:1}}}class $we extends op{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug=new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})!=="10/11/-79 Saka"}inLeapYear(e){return kG(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:r}=e;let n=this.months[r];if(n===void 0)throw new RangeError(`Invalid month: ${r}`);return this.inLeapYear(e)&&n.leap&&(n=n.leap),n}estimateIsoDate(e){const r=this.adjustCalendarDate(e),n=this.getMonthInfo(r);return Sh(r.year+78+(n.nextYear?1:0),n.month,n.day,0,0,0,r.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function kG(t){return t%4==0&&(t%100!=0||t%400==0)}class Qm extends op{constructor(e,r){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:n,anchorEra:o}=function(s){let a,c=s;if(c.length===0)throw new RangeError("Invalid era data: eras are required");if(c.length===1&&c[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(c.length===1&&!c[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(c.filter(f=>f.reverseOf!=null).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");c.forEach(f=>{if(f.isAnchor||!f.anchorEpoch&&!f.reverseOf){if(a)throw new RangeError("Invalid era data: cannot have multiple anchor eras");a=f,f.anchorEpoch={year:f.hasYearZero?0:1}}else if(!f.name)throw new RangeError("If era name is blank, it must be the anchor era")}),c=c.filter(f=>f.name),c.forEach(f=>{const{reverseOf:l}=f;if(l){const u=c.find(p=>p.name===l);if(u===void 0)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${l}`);f.reverseOf=u,f.anchorEpoch=u.anchorEpoch,f.isoEpoch=u.isoEpoch}f.anchorEpoch.month===void 0&&(f.anchorEpoch.month=1),f.anchorEpoch.day===void 0&&(f.anchorEpoch.day=1)}),Uwe.call(c,(f,l)=>{if(f.reverseOf)return 1;if(l.reverseOf)return-1;if(!f.isoEpoch||!l.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return l.isoEpoch.year-f.isoEpoch.year});const d=c[c.length-1].reverseOf;if(d&&d!==c[c.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return c.forEach((f,l)=>{f.genericName="era"+(c.length-1-l)}),{eras:c,anchorEra:a||c[0]}}(r);this.anchorEra=o,this.eras=n}inLeapYear(e){const{year:r}=this.estimateIsoDate({month:1,day:1,year:e.year});return kG(r)}monthsInYear(){return 12}minimumMonthLength(e){const{month:r}=e;return r===2?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(r)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const r=(a,c)=>{const d=e[a];if(d!=null&&d!=c)throw new RangeError(`Input ${a} ${d} doesn't match calculated value ${c}`)},n=a=>{let c;const d={...e,year:a},f=this.eras.find((l,u)=>{if(u===this.eras.length-1){if(l.reverseOf){if(a>0)throw new RangeError(`Signed year ${a} is invalid for era ${l.name}`);return c=l.anchorEpoch.year-a,!0}return c=a-l.anchorEpoch.year+(l.hasYearZero?0:1),!0}return this.compareCalendarDates(d,l.anchorEpoch)>=0&&(c=a-l.anchorEpoch.year+(l.hasYearZero?0:1),!0)});if(!f)throw new RangeError(`Year ${a} was not matched by any era`);return{eraYear:c,era:f.name}};let{year:o,eraYear:i,era:s}=e;if(o!=null)({eraYear:i,era:s}=n(o)),r("era",s),r("eraYear",i);else{if(i==null)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const a=s===void 0?void 0:this.eras.find(c=>c.name===s||c.genericName===s);if(!a)throw new RangeError(`Era ${s} (ISO year ${i}) was not matched by any era`);if(i<1&&a.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${o}`);o=a.reverseOf?a.anchorEpoch.year-i:i+a.anchorEpoch.year-(a.hasYearZero?0:1),r("year",o),{eraYear:i,era:s}=n(o)}}return{...e,year:o,eraYear:i,era:s}}adjustCalendarDate(e,r,n="constrain"){let o=e;const{month:i,monthCode:s}=o;return i===void 0&&(o={...o,month:r_(s)}),this.validateCalendarDate(o),o=this.completeEraYear(o),super.adjustCalendarDate(o,r,n)}estimateIsoDate(e){const r=this.adjustCalendarDate(e),{year:n,month:o,day:i}=r,{anchorEra:s}=this;return xE(n+s.isoEpoch.year-(s.hasYearZero?0:1),o,i,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Fl(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class n_ extends Qm{constructor(e,r){super(e,r)}inLeapYear(e){const{year:r}=e;return(r+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:r}=e;return r===13?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class jwe extends n_{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class zwe extends n_{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Ywe extends n_{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class Jwe extends Qm{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Vwe extends Qm{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Wwe extends Qm{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:r,eraYear:n}=e;return r!=="bc"&&r!=="b"||(r="bce"),r!=="ad"&&r!=="a"||(r="ce"),{era:r,eraYear:n}}}class Zwe extends Qm{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,r){const{era:n,eraYear:o}=e,{year:i}=r;return this.eras.find(s=>s.name===n)?{era:n,eraYear:o}:i<1?{era:"bce",eraYear:1-i}:{era:"ce",eraYear:i}}}class TG extends op{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,r){const n=this.getMonthList(e.year,r);return Cx(n).length===13}monthsInYear(e,r){return this.inLeapYear(e,r)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,r){if(e===void 0)throw new TypeError("Missing year");const n=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),o=r.get(n);if(o)return o;const i=this.getFormatter(),s=(y,v)=>{const B=_G({isoYear:y,isoMonth:2,isoDay:1}),S=new Date(B);S.setUTCDate(v+1);const x=i.formatToParts(S),Q=x.find(G=>G.type==="month").value,N=+x.find(G=>G.type==="day").value;let $=x.find(G=>G.type==="relatedYear");if($===void 0)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return $=+$.value,{calendarMonthString:Q,calendarDay:N,calendarYearToVerify:$}};let a=17,{calendarMonthString:c,calendarDay:d,calendarYearToVerify:f}=s(e,a);c!=="1"&&(a+=29,{calendarMonthString:c,calendarDay:d}=s(e,a)),a-=d-5;const l={};let u,p,A=1,h=!1;do({calendarMonthString:c,calendarDay:d,calendarYearToVerify:f}=s(e,a)),u&&(l[p].daysInMonth=u+30-d),f!==e?h=!0:(l[c]={monthIndex:A++},a+=30),u=d,p=c;while(!h);return l[p].daysInMonth=u+30-d,r.set(n,l),l}estimateIsoDate(e){const{year:r,month:n}=e;return{year:r,month:n>=12?12:n+1,day:1}}adjustCalendarDate(e,r,n="constrain",o=!1){let{year:i,month:s,monthExtra:a,day:c,monthCode:d,eraYear:f}=e;if(o){if(i=f,a&&a!=="bis")throw new RangeError(`Unexpected leap month suffix: ${a}`);const l=gd(s,a!==void 0),u=`${s}${a||""}`,p=this.getMonthList(i,r)[u];if(p===void 0)throw new RangeError(`Unmatched month ${u} in Chinese year ${i}`);return s=p.monthIndex,{year:i,month:s,day:c,era:void 0,eraYear:f,monthCode:l}}if(this.validateCalendarDate(e),i===void 0&&(i=f),f===void 0&&(f=i),s===void 0){const l=this.getMonthList(i,r);let u=d.replace("L","bis").slice(1);u[0]==="0"&&(u=u.slice(1));let p=l[u];if(s=p&&p.monthIndex,s===void 0&&d.endsWith("L")&&d!="M13L"&&n==="constrain"){let A=d.slice(1,-1);A[0]==="0"&&(A=A.slice(1)),p=l[A],p&&(s=p.monthIndex,d=gd(A))}if(s===void 0)throw new RangeError(`Unmatched month ${d} in Chinese year ${i}`)}else if(d===void 0){const l=this.getMonthList(i,r),u=Cx(l),p=u.length;n==="reject"?(Nn(s,1,p),Nn(c,1,this.maximumMonthLength())):(s=yo(s,1,p),c=yo(c,1,this.maximumMonthLength()));const A=u.find(([,h])=>h.monthIndex===s);if(A===void 0)throw new RangeError(`Invalid month ${s} in Chinese year ${i}`);d=gd(A[0].replace("bis",""),A[0].indexOf("bis")!==-1)}else{const l=this.getMonthList(i,r);let u=d.replace("L","bis").slice(1);u[0]==="0"&&(u=u.slice(1));const p=l[u];if(!p)throw new RangeError(`Unmatched monthCode ${d} in Chinese year ${i}`);if(s!==p.monthIndex)throw new RangeError(`monthCode ${d} doesn't correspond to month ${s} in Chinese year ${i}`)}return{...e,year:i,eraYear:f,month:s,monthCode:d,day:c}}}class Xwe extends TG{constructor(){super(...arguments),this.id="chinese"}}class e1e extends TG{constructor(){super(...arguments),this.id="dangi"}}class t1e{constructor(e){this.helper=e}dateFromFields(e,r,n){const o=new Qr,i=gt(e,this.fields(["day","month","monthCode","year"]),[]),s=Yr(r),{year:a,month:c,day:d}=this.helper.calendarToIsoDate(i,s,o),f=_s(a,c,d,n);return o.setObject(f),f}yearMonthFromFields(e,r,n){const o=new Qr,i=gt(e,this.fields(["month","monthCode","year"]),[]),s=Yr(r),{year:a,month:c,day:d}=this.helper.calendarToIsoDate({...i,day:1},s,o),f=DI(a,c,n,d);return o.setObject(f),f}monthDayFromFields(e,r,n){const o=new Qr,i=gt(e,this.fields(["day","month","monthCode","year"]),[]),s=Yr(r),{year:a,month:c,day:d}=this.helper.monthDayFromFields(i,s,o),f=_I(c,d,n,a);return o.setObject(f),f}fields(e){let r=e;return QG.call(r,"year")&&(r=[...r,"era","eraYear"]),r}fieldKeysToIgnore(e){const r=new xG;for(let n=0;n<e.length;n++){const o=e[n];switch(Oe(zn,r,[o]),o){case"era":Oe(zn,r,["eraYear"]),Oe(zn,r,["year"]);break;case"eraYear":Oe(zn,r,["era"]),Oe(zn,r,["year"]);break;case"year":Oe(zn,r,["era"]),Oe(zn,r,["eraYear"]);break;case"month":Oe(zn,r,["monthCode"]),this.helper.erasBeginMidYear&&(Oe(zn,r,["era"]),Oe(zn,r,["eraYear"]));break;case"monthCode":Oe(zn,r,["month"]),this.helper.erasBeginMidYear&&(Oe(zn,r,["era"]),Oe(zn,r,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Oe(zn,r,["era"]),Oe(zn,r,["eraYear"]))}}return[...Oe(SG,r,[])]}dateAdd(e,r,n,o,i,s,a){const c=Qr.getCacheForObject(e),d=this.helper.temporalToCalendarDate(e,c),f=this.helper.addCalendar(d,{years:r,months:n,weeks:o,days:i},s,c),l=this.helper.calendarToIsoDate(f,"constrain",c),{year:u,month:p,day:A}=l,h=_s(u,p,A,a);return new Qr(c).setObject(h),h}dateUntil(e,r,n){const o=Qr.getCacheForObject(e),i=Qr.getCacheForObject(r),s=this.helper.temporalToCalendarDate(e,o),a=this.helper.temporalToCalendarDate(r,i);return this.helper.untilCalendar(s,a,n,o)}year(e){const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).year}month(e){const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).month}day(e){const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).day}era(e){if(!this.helper.hasEra)return;const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).era}eraYear(e){if(!this.helper.hasEra)return;const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).eraYear}monthCode(e){const r=Qr.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,r).monthCode}dayOfWeek(e){return gr.iso8601.dayOfWeek(e)}dayOfYear(e){const r=Qr.getCacheForObject(e),n=this.helper.isoToCalendarDate(e,r),o=this.helper.startOfCalendarYear(n);return this.helper.calendarDaysUntil(o,n,r)+1}weekOfYear(e){return gr.iso8601.weekOfYear(e)}yearOfWeek(e){return gr.iso8601.yearOfWeek(e)}daysInWeek(e){return gr.iso8601.daysInWeek(e)}daysInMonth(e){const r=Qr.getCacheForObject(e),n=this.helper.temporalToCalendarDate(e,r),o=this.helper.maximumMonthLength(n);if(o===this.helper.minimumMonthLength(n))return o;const i=this.helper.startOfCalendarMonth(n),s=this.helper.addMonthsCalendar(i,1,"constrain",r);return this.helper.calendarDaysUntil(i,s,r)}daysInYear(e){let r=e;En(r,xe)||(r=Jt(r));const n=Qr.getCacheForObject(r),o=this.helper.temporalToCalendarDate(r,n),i=this.helper.startOfCalendarYear(o),s=this.helper.addCalendar(i,{years:1},"constrain",n);return this.helper.calendarDaysUntil(i,s,n)}monthsInYear(e){const r=Qr.getCacheForObject(e),n=this.helper.temporalToCalendarDate(e,r);return this.helper.monthsInYear(n,r)}inLeapYear(e){let r=e;En(r,xe)||(r=Jt(r));const n=Qr.getCacheForObject(r),o=this.helper.temporalToCalendarDate(r,n);return this.helper.inLeapYear(o,n)}}for(const t of[Pwe,qwe,Ywe,jwe,zwe,Xwe,e1e,Jwe,$we,Vwe,Wwe,Zwe,DG,Owe,Kwe,Hwe,Lwe,Gwe]){const e=new t;gr[e.id]=new t1e(e)}class xm{constructor(e,r,n,o="iso8601"){qL(this,Ft(e),Ft(r),Ft(n),Bo(o))}get calendarId(){if(!bt(this))throw new TypeError("invalid receiver");return On(O(this,ye))}get era(){if(!bt(this))throw new TypeError("invalid receiver");return FB(O(this,ye),this)}get eraYear(){if(!bt(this))throw new TypeError("invalid receiver");return MB(O(this,ye),this)}get year(){if(!bt(this))throw new TypeError("invalid receiver");return kB(O(this,ye),this)}get month(){if(!bt(this))throw new TypeError("invalid receiver");return TB(O(this,ye),this)}get monthCode(){if(!bt(this))throw new TypeError("invalid receiver");return bm(O(this,ye),this)}get day(){if(!bt(this))throw new TypeError("invalid receiver");return Em(O(this,ye),this)}get dayOfWeek(){if(!bt(this))throw new TypeError("invalid receiver");return PS(O(this,ye),this)}get dayOfYear(){if(!bt(this))throw new TypeError("invalid receiver");return OS(O(this,ye),this)}get weekOfYear(){if(!bt(this))throw new TypeError("invalid receiver");return KS(O(this,ye),this)}get yearOfWeek(){if(!bt(this))throw new TypeError("invalid receiver");return HS(O(this,ye),this)}get daysInWeek(){if(!bt(this))throw new TypeError("invalid receiver");return LS(O(this,ye),this)}get daysInMonth(){if(!bt(this))throw new TypeError("invalid receiver");return UB(O(this,ye),this)}get daysInYear(){if(!bt(this))throw new TypeError("invalid receiver");return RB(O(this,ye),this)}get monthsInYear(){if(!bt(this))throw new TypeError("invalid receiver");return NB(O(this,ye),this)}get inLeapYear(){if(!bt(this))throw new TypeError("invalid receiver");return PB(O(this,ye),this)}with(e,r){if(!bt(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");ep(e);const n=Ct(r),o=O(this,ye),i=rn(o,["day","month","monthCode","year"]);let s=gt(this,i,[]);return s=$h(o,s,gt(e,i,"partial")),s=gt(s,i,[]),Bd(o,s,n)}withCalendar(e){if(!bt(this))throw new TypeError("invalid receiver");const r=Bo(e);return new xm(O(this,xe),O(this,De),O(this,ke),r)}add(e,r){if(!bt(this))throw new TypeError("invalid receiver");const n=kg(e),o=Ct(r);return Rn(O(this,ye),this,n,o)}subtract(e,r){if(!bt(this))throw new TypeError("invalid receiver");const n=oG(kg(e)),o=Ct(r);return Rn(O(this,ye),this,n,o)}until(e,r){if(!bt(this))throw new TypeError("invalid receiver");return MM("until",this,e,r)}since(e,r){if(!bt(this))throw new TypeError("invalid receiver");return MM("since",this,e,r)}equals(e){if(!bt(this))throw new TypeError("invalid receiver");const r=Jt(e);for(const n of[xe,De,ke])if(O(this,n)!==O(r,n))return!1;return Bm(O(this,ye),O(r,ye))}toString(e){if(!bt(this))throw new TypeError("invalid receiver");return CM(this,ym(Ct(e)))}toJSON(){if(!bt(this))throw new TypeError("invalid receiver");return CM(this)}toLocaleString(e,r){if(!bt(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!bt(this))throw new TypeError("invalid receiver");const r=O(this,xe),n=O(this,De),o=O(this,ke),i=O(this,ye);if(e===void 0)return po(r,n,o,0,0,0,0,0,0,i);const s=rd(e);return po(r,n,o,O(s,it),O(s,ot),O(s,st),O(s,at),O(s,ct),O(s,ft),i)}toZonedDateTime(e){if(!bt(this))throw new TypeError("invalid receiver");let r,n;if(hr(e))if(os(e))r=e;else{const A=e.timeZone;A===void 0?r=si(e):(r=si(A),n=e.plainTime)}else r=si(e);const o=O(this,xe),i=O(this,De),s=O(this,ke),a=O(this,ye);let c=0,d=0,f=0,l=0,u=0,p=0;return n!==void 0&&(n=rd(n),c=O(n,it),d=O(n,ot),f=O(n,st),l=O(n,at),u=O(n,ct),p=O(n,ft)),kn(O(Fi(r,po(o,i,s,c,d,f,l,u,p,a),"compatible"),$e),r,a)}toPlainYearMonth(){if(!bt(this))throw new TypeError("invalid receiver");const e=O(this,ye);return jh(e,gt(this,rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!bt(this))throw new TypeError("invalid receiver");const e=O(this,ye);return g0(e,gt(this,rn(e,["day","monthCode"]),[]))}getISOFields(){if(!bt(this))throw new TypeError("invalid receiver");return{calendar:O(this,ye),isoDay:O(this,ke),isoMonth:O(this,De),isoYear:O(this,xe)}}getCalendar(){if(!bt(this))throw new TypeError("invalid receiver");return np(O(this,ye))}static from(e,r){const n=Ct(r);return bt(e)?(Yr(n),_s(O(e,xe),O(e,De),O(e,ke),O(e,ye))):Jt(e,n)}static compare(e,r){const n=Jt(e),o=Jt(r);return Fl(O(n,xe),O(n,De),O(n,ke),O(o,xe),O(o,De),O(o,ke))}}pf(xm,"Temporal.PlainDate");class Sm{constructor(e,r,n,o=0,i=0,s=0,a=0,c=0,d=0,f="iso8601"){$L(this,Ft(e),Ft(r),Ft(n),o===void 0?0:Ft(o),i===void 0?0:Ft(i),s===void 0?0:Ft(s),a===void 0?0:Ft(a),c===void 0?0:Ft(c),d===void 0?0:Ft(d),Bo(f))}get calendarId(){if(!tt(this))throw new TypeError("invalid receiver");return On(O(this,ye))}get year(){if(!tt(this))throw new TypeError("invalid receiver");return kB(O(this,ye),this)}get month(){if(!tt(this))throw new TypeError("invalid receiver");return TB(O(this,ye),this)}get monthCode(){if(!tt(this))throw new TypeError("invalid receiver");return bm(O(this,ye),this)}get day(){if(!tt(this))throw new TypeError("invalid receiver");return Em(O(this,ye),this)}get hour(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,it)}get minute(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,ot)}get second(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,st)}get millisecond(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,at)}get microsecond(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,ct)}get nanosecond(){if(!tt(this))throw new TypeError("invalid receiver");return O(this,ft)}get era(){if(!tt(this))throw new TypeError("invalid receiver");return FB(O(this,ye),this)}get eraYear(){if(!tt(this))throw new TypeError("invalid receiver");return MB(O(this,ye),this)}get dayOfWeek(){if(!tt(this))throw new TypeError("invalid receiver");return PS(O(this,ye),this)}get dayOfYear(){if(!tt(this))throw new TypeError("invalid receiver");return OS(O(this,ye),this)}get weekOfYear(){if(!tt(this))throw new TypeError("invalid receiver");return KS(O(this,ye),this)}get yearOfWeek(){if(!tt(this))throw new TypeError("invalid receiver");return HS(O(this,ye),this)}get daysInWeek(){if(!tt(this))throw new TypeError("invalid receiver");return LS(O(this,ye),this)}get daysInYear(){if(!tt(this))throw new TypeError("invalid receiver");return RB(O(this,ye),this)}get daysInMonth(){if(!tt(this))throw new TypeError("invalid receiver");return UB(O(this,ye),this)}get monthsInYear(){if(!tt(this))throw new TypeError("invalid receiver");return NB(O(this,ye),this)}get inLeapYear(){if(!tt(this))throw new TypeError("invalid receiver");return PB(O(this,ye),this)}with(e,r){if(!tt(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");ep(e);const n=Ct(r),o=O(this,ye),i=rn(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let s=gt(this,i,[]);s=$h(o,s,gt(e,i,"partial")),s=gt(s,i,[]);const{year:a,month:c,day:d,hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}=wm(o,s,n);return po(a,c,d,f,l,u,p,A,h,o)}withPlainTime(e){if(!tt(this))throw new TypeError("invalid receiver");const r=O(this,xe),n=O(this,De),o=O(this,ke),i=O(this,ye);if(e===void 0)return po(r,n,o,0,0,0,0,0,0,i);const s=rd(e);return po(r,n,o,O(s,it),O(s,ot),O(s,st),O(s,at),O(s,ct),O(s,ft),i)}withPlainDate(e){if(!tt(this))throw new TypeError("invalid receiver");const r=Jt(e),n=O(r,xe),o=O(r,De),i=O(r,ke);let s=O(r,ye);const a=O(this,it),c=O(this,ot),d=O(this,st),f=O(this,at),l=O(this,ct),u=O(this,ft);return s=JL(O(this,ye),s),po(n,o,i,a,c,d,f,l,u,s)}withCalendar(e){if(!tt(this))throw new TypeError("invalid receiver");const r=Bo(e);return new Sm(O(this,xe),O(this,De),O(this,ke),O(this,it),O(this,ot),O(this,st),O(this,at),O(this,ct),O(this,ft),r)}add(e,r){if(!tt(this))throw new TypeError("invalid receiver");return HM("add",this,e,r)}subtract(e,r){if(!tt(this))throw new TypeError("invalid receiver");return HM("subtract",this,e,r)}until(e,r){if(!tt(this))throw new TypeError("invalid receiver");return UM("until",this,e,r)}since(e,r){if(!tt(this))throw new TypeError("invalid receiver");return UM("since",this,e,r)}round(e){if(!tt(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const r=typeof e=="string"?I0("smallestUnit",e):Ct(e),n=tp(r),o=Za(r,"halfExpand"),i=mo(r,"smallestUnit","time",Gh,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i];rp(n,s,s===1);let a=O(this,xe),c=O(this,De),d=O(this,ke),f=O(this,it),l=O(this,ot),u=O(this,st),p=O(this,at),A=O(this,ct),h=O(this,ft);return{year:a,month:c,day:d,hour:f,minute:l,second:u,millisecond:p,microsecond:A,nanosecond:h}=WS(a,c,d,f,l,u,p,A,h,n,i,o),po(a,c,d,f,l,u,p,A,h,O(this,ye))}equals(e){if(!tt(this))throw new TypeError("invalid receiver");const r=ph(e);for(const n of[xe,De,ke,it,ot,st,at,ct,ft])if(O(this,n)!==O(r,n))return!1;return Bm(O(this,ye),O(r,ye))}toString(e){if(!tt(this))throw new TypeError("invalid receiver");const r=Ct(e),n=ym(r),o=Im(r),i=Za(r,"trunc"),s=mo(r,"smallestUnit","time",void 0);if(s==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:a,unit:c,increment:d}=mm(s,o);return QM(this,a,n,{unit:c,increment:d,roundingMode:i})}toJSON(){if(!tt(this))throw new TypeError("invalid receiver");return QM(this,"auto")}toLocaleString(e,r){if(!tt(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,r){if(!tt(this))throw new TypeError("invalid receiver");const n=si(e);return kn(O(Fi(n,this,A0(Ct(r))),$e),n,O(this,ye))}toPlainDate(){if(!tt(this))throw new TypeError("invalid receiver");return p0(this)}toPlainYearMonth(){if(!tt(this))throw new TypeError("invalid receiver");const e=O(this,ye);return jh(e,gt(this,rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!tt(this))throw new TypeError("invalid receiver");const e=O(this,ye);return g0(e,gt(this,rn(e,["day","monthCode"]),[]))}toPlainTime(){if(!tt(this))throw new TypeError("invalid receiver");return GS(this)}getISOFields(){if(!tt(this))throw new TypeError("invalid receiver");return{calendar:O(this,ye),isoDay:O(this,ke),isoHour:O(this,it),isoMicrosecond:O(this,ct),isoMillisecond:O(this,at),isoMinute:O(this,ot),isoMonth:O(this,De),isoNanosecond:O(this,ft),isoSecond:O(this,st),isoYear:O(this,xe)}}getCalendar(){if(!tt(this))throw new TypeError("invalid receiver");return np(O(this,ye))}static from(e,r){const n=Ct(r);return tt(e)?(Yr(n),po(O(e,xe),O(e,De),O(e,ke),O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft),O(e,ye))):ph(e,n)}static compare(e,r){const n=ph(e),o=ph(r);for(const i of[xe,De,ke,it,ot,st,at,ct,ft]){const s=O(n,i),a=O(o,i);if(s!==a)return _h(s-a)}return 0}}pf(Sm,"Temporal.PlainDateTime");class Ml{constructor(e=0,r=0,n=0,o=0,i=0,s=0,a=0,c=0,d=0,f=0){const l=e===void 0?0:wn(e),u=r===void 0?0:wn(r),p=n===void 0?0:wn(n),A=o===void 0?0:wn(o),h=i===void 0?0:wn(i),y=s===void 0?0:wn(s),v=a===void 0?0:wn(a),B=c===void 0?0:wn(c),S=d===void 0?0:wn(d),x=f===void 0?0:wn(f);FE(l,u,p,A,h,y,v,B,S,x),yf(this),lt(this,Ei,l),lt(this,xn,u),lt(this,Vi,p),lt(this,vi,A),lt(this,Bi,h),lt(this,Ci,y),lt(this,Qi,v),lt(this,xi,B),lt(this,Si,S),lt(this,_i,x)}get years(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Ei)}get months(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,xn)}get weeks(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Vi)}get days(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,vi)}get hours(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Bi)}get minutes(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Ci)}get seconds(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Qi)}get milliseconds(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,xi)}get microseconds(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,Si)}get nanoseconds(){if(!Mr(this))throw new TypeError("invalid receiver");return O(this,_i)}get sign(){if(!Mr(this))throw new TypeError("invalid receiver");return Yc(O(this,Ei),O(this,xn),O(this,Vi),O(this,vi),O(this,Bi),O(this,Ci),O(this,Qi),O(this,xi),O(this,Si),O(this,_i))}get blank(){if(!Mr(this))throw new TypeError("invalid receiver");return Yc(O(this,Ei),O(this,xn),O(this,Vi),O(this,vi),O(this,Bi),O(this,Ci),O(this,Qi),O(this,xi),O(this,Si),O(this,_i))===0}with(e){if(!Mr(this))throw new TypeError("invalid receiver");const r=gt(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:n=O(this,Ei),months:o=O(this,xn),weeks:i=O(this,Vi),days:s=O(this,vi),hours:a=O(this,Bi),minutes:c=O(this,Ci),seconds:d=O(this,Qi),milliseconds:f=O(this,xi),microseconds:l=O(this,Si),nanoseconds:u=O(this,_i)}=r;return new Ml(n,o,i,s,a,c,d,f,l,u)}negated(){if(!Mr(this))throw new TypeError("invalid receiver");return oG(this)}abs(){if(!Mr(this))throw new TypeError("invalid receiver");return new Ml(Math.abs(O(this,Ei)),Math.abs(O(this,xn)),Math.abs(O(this,Vi)),Math.abs(O(this,vi)),Math.abs(O(this,Bi)),Math.abs(O(this,Ci)),Math.abs(O(this,Qi)),Math.abs(O(this,xi)),Math.abs(O(this,Si)),Math.abs(O(this,_i)))}add(e,r){if(!Mr(this))throw new TypeError("invalid receiver");return OM("add",this,e,r)}subtract(e,r){if(!Mr(this))throw new TypeError("invalid receiver");return OM("subtract",this,e,r)}round(e){if(!Mr(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");let r=O(this,Ei),n=O(this,xn),o=O(this,Vi),i=O(this,vi),s=O(this,Bi),a=O(this,Ci),c=O(this,Qi),d=O(this,xi),f=O(this,Si),l=O(this,_i),u=Ix(r,n,o,i,s,a,c,d,f,l);const p=typeof e=="string"?I0("smallestUnit",e):Ct(e);let A=mo(p,"largestUnit","datetime",void 0,["auto"]),h=W1(p);const y=tp(p),v=Za(p,"halfExpand");let B=mo(p,"smallestUnit","datetime",void 0),S=!0;B||(S=!1,B="nanosecond"),u=qh(u,B);let x=!0;if(A||(x=!1,A=u),A==="auto"&&(A=u),!S&&!x)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(qh(A,B)!==A)throw new RangeError(`largestUnit ${A} cannot be smaller than smallestUnit ${B}`);const Q={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[B];return Q!==void 0&&rp(y,Q,!1),{years:r,months:n,weeks:o,days:i}=c1(r,n,o,i,A,h),{years:r,months:n,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:d,microseconds:f,nanoseconds:l}=Cd(r,n,o,i,s,a,c,d,f,l,y,B,v,h),{years:r,months:n,weeks:o,days:i,hours:s,minutes:a,seconds:c,milliseconds:d,microseconds:f,nanoseconds:l}=AG(r,n,o,i,s,a,c,d,f,l,y,B,v,h),{days:i,hours:s,minutes:a,seconds:c,milliseconds:d,microseconds:f,nanoseconds:l}=la(i,s,a,c,d,f,l,A,h),{years:r,months:n,weeks:o,days:i}=function($,G,z,Y,R,C){const m=Be("%Temporal.Duration%"),g=Yc($,G,z,Y,0,0,0,0,0,0);if(g===0)return{years:$,months:G,weeks:z,days:Y};const w=q.BigInt(g);let F,H,K=q.BigInt($),D=q.BigInt(G),I=q.BigInt(z),P=q.BigInt(Y);C&&(H=Jt(C),F=O(H,ye));const T=new m(g),V=new m(0,g),ee=new m(0,0,g);switch(R){case"year":{if(!F)throw new RangeError("a starting point is required for years balancing");const se=typeof F!="string"?Ht(F,"dateAdd"):void 0;let Z,ne,X;for({relativeTo:Z,days:ne}=Zn(F,H,T,se);q.greaterThanOrEqual(Ga(P),q.BigInt(ur(ne)));)P=q.subtract(P,q.BigInt(ne)),K=q.add(K,w),H=Z,{relativeTo:Z,days:ne}=Zn(F,H,T,se);for({relativeTo:Z,days:X}=Zn(F,H,V,se);q.greaterThanOrEqual(Ga(P),q.BigInt(ur(X)));)P=q.subtract(P,q.BigInt(X)),D=q.add(D,w),H=Z,{relativeTo:Z,days:X}=Zn(F,H,V,se);Z=Rn(F,H,T,void 0,se);const re=typeof F!="string"?Ht(F,"dateUntil"):void 0,W=fi(null);W.largestUnit="month";let j=au(F,H,Z,W,re),M=O(j,xn);for(;q.greaterThanOrEqual(Ga(D),q.BigInt(ur(M)));){D=q.subtract(D,q.BigInt(M)),K=q.add(K,w),H=Z,Z=Rn(F,H,T,void 0,se);const E=fi(null);E.largestUnit="month",j=au(F,H,Z,E,re),M=O(j,xn)}break}case"month":{if(!F)throw new RangeError("a starting point is required for months balancing");const se=typeof F!="string"?Ht(F,"dateAdd"):void 0;let Z,ne;for({relativeTo:Z,days:ne}=Zn(F,H,V,se);q.greaterThanOrEqual(Ga(P),q.BigInt(ur(ne)));)P=q.subtract(P,q.BigInt(ne)),D=q.add(D,w),H=Z,{relativeTo:Z,days:ne}=Zn(F,H,V,se);break}case"week":{if(!F)throw new RangeError("a starting point is required for weeks balancing");const se=typeof F!="string"?Ht(F,"dateAdd"):void 0;let Z,ne;for({relativeTo:Z,days:ne}=Zn(F,H,ee,se);q.greaterThanOrEqual(Ga(P),q.BigInt(ur(ne)));)P=q.subtract(P,q.BigInt(ne)),I=q.add(I,w),H=Z,{relativeTo:Z,days:ne}=Zn(F,H,ee,se);break}}return{years:q.toNumber(K),months:q.toNumber(D),weeks:q.toNumber(I),days:q.toNumber(P)}}(r,n,o,i,A,h),new Ml(r,n,o,i,s,a,c,d,f,l)}total(e){if(!Mr(this))throw new TypeError("invalid receiver");let r=O(this,Ei),n=O(this,xn),o=O(this,Vi),i=O(this,vi),s=O(this,Bi),a=O(this,Ci),c=O(this,Qi),d=O(this,xi),f=O(this,Si),l=O(this,_i);if(e===void 0)throw new TypeError("options argument is required");const u=typeof e=="string"?I0("unit",e):Ct(e),p=W1(u),A=mo(u,"unit","datetime",Gh);let h;({years:r,months:n,weeks:o,days:i}=c1(r,n,o,i,A,p)),Me(p)&&(h=hG(p,r,n,o,0));let y=iG(i,s,a,c,d,f,l,A,h);if(y==="positive overflow")return 1/0;if(y==="negative overflow")return-1/0;({days:i,hours:s,minutes:a,seconds:c,milliseconds:d,microseconds:f,nanoseconds:l}=y);const{total:v}=Cd(r,n,o,i,s,a,c,d,f,l,1,A,"trunc",p);return v}toString(e){if(!Mr(this))throw new TypeError("invalid receiver");const r=Ct(e),n=Im(r),o=Za(r,"trunc"),i=mo(r,"smallestUnit","time",void 0);if(i==="hour"||i==="minute")throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:s,unit:a,increment:c}=mm(i,n);return y3(this,s,{unit:a,increment:c,roundingMode:o})}toJSON(){if(!Mr(this))throw new TypeError("invalid receiver");return y3(this)}toLocaleString(e,r){if(!Mr(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&Intl.DurationFormat!==void 0?new Intl.DurationFormat(e,r).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),y3(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Mr(e)?new Ml(O(e,Ei),O(e,xn),O(e,Vi),O(e,vi),O(e,Bi),O(e,Ci),O(e,Qi),O(e,xi),O(e,Si),O(e,_i)):kg(e)}static compare(e,r,n){const o=kg(e),i=kg(r),s=W1(Ct(n)),a=O(o,Ei),c=O(o,xn),d=O(o,Vi);let f=O(o,vi);const l=O(o,Bi),u=O(o,Ci),p=O(o,Qi),A=O(o,xi),h=O(o,Si);let y=O(o,_i);const v=O(i,Ei),B=O(i,xn),S=O(i,Vi);let x=O(i,vi);const Q=O(i,Bi),N=O(i,Ci),$=O(i,Qi),G=O(i,xi),z=O(i,Si);let Y=O(i,_i);const R=TM(s,a,c,d,f),C=TM(s,v,B,S,x);a===0&&v===0&&c===0&&B===0&&d===0&&S===0||({days:f}=c1(a,c,d,f,"day",s),{days:x}=c1(v,B,S,x,"day",s));const m=y0(f,l,u,p,A,h,y,R),g=y0(x,Q,N,$,G,z,Y,C);return _h(q.toNumber(q.subtract(m,g)))}}pf(Ml,"Temporal.Duration");const r1e=Object.create;class i_{constructor(e,r,n="iso8601",o=1972){jL(this,Ft(e),Ft(r),Bo(n),Ft(o))}get monthCode(){if(!gn(this))throw new TypeError("invalid receiver");return bm(O(this,ye),this)}get day(){if(!gn(this))throw new TypeError("invalid receiver");return Em(O(this,ye),this)}get calendarId(){if(!gn(this))throw new TypeError("invalid receiver");return On(O(this,ye))}with(e,r){if(!gn(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");ep(e);const n=Ct(r),o=O(this,ye),i=rn(o,["day","month","monthCode","year"]);let s=gt(this,i,[]);return s=$h(o,s,gt(e,i,"partial")),s=gt(s,i,[]),g0(o,s,n)}equals(e){if(!gn(this))throw new TypeError("invalid receiver");const r=vM(e);for(const n of[De,ke,xe])if(O(this,n)!==O(r,n))return!1;return Bm(O(this,ye),O(r,ye))}toString(e){if(!gn(this))throw new TypeError("invalid receiver");return xM(this,ym(Ct(e)))}toJSON(){if(!gn(this))throw new TypeError("invalid receiver");return xM(this)}toLocaleString(e,r){if(!gn(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!gn(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("argument should be an object");const r=O(this,ye),n=rn(r,["day","monthCode"]),o=gt(this,n,[]),i=rn(r,["year"]);let s=$h(r,o,gt(e,i,[]));s=gt(s,[...new Set([...n,...i])],[]);const a=r1e(null);return a.overflow="reject",Bd(r,s,a)}getISOFields(){if(!gn(this))throw new TypeError("invalid receiver");return{calendar:O(this,ye),isoDay:O(this,ke),isoMonth:O(this,De),isoYear:O(this,xe)}}getCalendar(){if(!gn(this))throw new TypeError("invalid receiver");return np(O(this,ye))}static from(e,r){const n=Ct(r);return gn(e)?(Yr(n),_I(O(e,De),O(e,ke),O(e,ye),O(e,xe))):vM(e,n)}}pf(i_,"Temporal.PlainMonthDay");const o_=()=>new(Be("%Temporal.Instant%"))(XS()),jM=(t,e=Bl())=>{const r=si(e),n=Bo(t);return Ho(r,o_(),n)},b3=(t=Bl())=>Ho(si(t),o_(),"iso8601"),zM=(t,e=Bl())=>{const r=si(e),n=Bo(t);return kn(XS(),r,n)},FG={instant:o_,plainDateTime:jM,plainDateTimeISO:b3,plainDate:(t,e=Bl())=>p0(jM(t,e)),plainDateISO:(t=Bl())=>p0(b3(t)),plainTimeISO:(t=Bl())=>GS(b3(t)),timeZoneId:()=>Bl(),zonedDateTime:zM,zonedDateTimeISO:(t=Bl())=>zM("iso8601",t),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(FG,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const n1e=Object.assign;function YM(t,e,r){let n=O(t,it),o=O(t,ot),i=O(t,st),s=O(t,at),a=O(t,ct),c=O(t,ft);if(r){const{unit:d,increment:f,roundingMode:l}=r;({hour:n,minute:o,second:i,millisecond:s,microsecond:a,nanosecond:c}=ZS(n,o,i,s,a,c,f,d,l))}return`${br(n)}:${br(o)}${KB(i,s,a,c,e)}`}class Dh{constructor(e=0,r=0,n=0,o=0,i=0,s=0){const a=e===void 0?0:Ft(e),c=r===void 0?0:Ft(r),d=n===void 0?0:Ft(n),f=o===void 0?0:Ft(o),l=i===void 0?0:Ft(i),u=s===void 0?0:Ft(s);GB(a,c,d,f,l,u),yf(this),lt(this,it,a),lt(this,ot,c),lt(this,st,d),lt(this,at,f),lt(this,ct,l),lt(this,ft,u)}get hour(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,it)}get minute(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,ot)}get second(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,st)}get millisecond(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,at)}get microsecond(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,ct)}get nanosecond(){if(!Ur(this))throw new TypeError("invalid receiver");return O(this,ft)}with(e,r){if(!Ur(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");ep(e);const n=Yr(Ct(r)),o=_E(e,"partial"),i=_E(this);let{hour:s,minute:a,second:c,millisecond:d,microsecond:f,nanosecond:l}=n1e(i,o);return{hour:s,minute:a,second:c,millisecond:d,microsecond:f,nanosecond:l}=DB(s,a,c,d,f,l,n),new Dh(s,a,c,d,f,l)}add(e){if(!Ur(this))throw new TypeError("invalid receiver");return LM("add",this,e)}subtract(e){if(!Ur(this))throw new TypeError("invalid receiver");return LM("subtract",this,e)}until(e,r){if(!Ur(this))throw new TypeError("invalid receiver");return RM("until",this,e,r)}since(e,r){if(!Ur(this))throw new TypeError("invalid receiver");return RM("since",this,e,r)}round(e){if(!Ur(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const r=typeof e=="string"?I0("smallestUnit",e):Ct(e),n=tp(r),o=Za(r,"halfExpand"),i=mo(r,"smallestUnit","time",Gh);rp(n,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i],!1);let s=O(this,it),a=O(this,ot),c=O(this,st),d=O(this,at),f=O(this,ct),l=O(this,ft);return{hour:s,minute:a,second:c,millisecond:d,microsecond:f,nanosecond:l}=ZS(s,a,c,d,f,l,n,i,o),new Dh(s,a,c,d,f,l)}equals(e){if(!Ur(this))throw new TypeError("invalid receiver");const r=rd(e);for(const n of[it,ot,st,at,ct,ft])if(O(this,n)!==O(r,n))return!1;return!0}toString(e){if(!Ur(this))throw new TypeError("invalid receiver");const r=Ct(e),n=Im(r),o=Za(r,"trunc"),i=mo(r,"smallestUnit","time",void 0);if(i==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:a,increment:c}=mm(i,n);return YM(this,s,{unit:a,increment:c,roundingMode:o})}toJSON(){if(!Ur(this))throw new TypeError("invalid receiver");return YM(this,"auto")}toLocaleString(e,r){if(!Ur(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!Ur(this))throw new TypeError("invalid receiver");const r=Jt(e),n=O(r,xe),o=O(r,De),i=O(r,ke),s=O(r,ye);return po(n,o,i,O(this,it),O(this,ot),O(this,st),O(this,at),O(this,ct),O(this,ft),s)}toZonedDateTime(e){if(!Ur(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");const r=e.plainDate;if(r===void 0)throw new TypeError("missing date property");const n=Jt(r),o=e.timeZone;if(o===void 0)throw new TypeError("missing timeZone property");const i=si(o),s=O(n,xe),a=O(n,De),c=O(n,ke),d=O(n,ye),f=O(this,it),l=O(this,ot),u=O(this,st),p=O(this,at),A=O(this,ct),h=O(this,ft);return kn(O(Fi(i,new(Be("%Temporal.PlainDateTime%"))(s,a,c,f,l,u,p,A,h,d),"compatible"),$e),i,d)}getISOFields(){if(!Ur(this))throw new TypeError("invalid receiver");return{isoHour:O(this,it),isoMicrosecond:O(this,ct),isoMillisecond:O(this,at),isoMinute:O(this,ot),isoNanosecond:O(this,ft),isoSecond:O(this,st)}}static from(e,r){const n=Yr(Ct(r));return Ur(e)?new Dh(O(e,it),O(e,ot),O(e,st),O(e,at),O(e,ct),O(e,ft)):rd(e,n)}static compare(e,r){const n=rd(e),o=rd(r);for(const i of[it,ot,st,at,ct,ft]){const s=O(n,i),a=O(o,i);if(s!==a)return _h(s-a)}return 0}}pf(Dh,"Temporal.PlainTime");class Oy{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const r=qS(e);yf(this),lt(this,Cc,r)}get id(){if(!os(this))throw new TypeError("invalid receiver");return O(this,Cc)}getOffsetNanosecondsFor(e){if(!os(this))throw new TypeError("invalid receiver");const r=qa(e),n=O(this,Cc);return fg(n)?cu(n):hd(n,O(r,$e))}getOffsetStringFor(e){if(!os(this))throw new TypeError("invalid receiver");return mx(this,qa(e))}getPlainDateTimeFor(e,r="iso8601"){if(!os(this))throw new TypeError("invalid receiver");return Ho(this,qa(e),Bo(r))}getInstantFor(e,r){if(!os(this))throw new TypeError("invalid receiver");return Fi(this,ph(e),A0(Ct(r)))}getPossibleInstantsFor(e){if(!os(this))throw new TypeError("invalid receiver");const r=ph(e),n=Be("%Temporal.Instant%"),o=O(this,Cc);if(fg(o)){const s=fu(O(r,xe),O(r,De),O(r,ke),O(r,it),O(r,ot),O(r,st),O(r,at),O(r,ct),O(r,ft));if(s===null)throw new RangeError("DateTime outside of supported range");const a=cu(o);return[new n(q.subtract(s,q.BigInt(a)))]}return function(a,c,d,f,l,u,p,A,h,y){const v=fu(c,d,f,l,u,p,A,h,y);if(v===null)throw new RangeError("DateTime outside of supported range");let B=q.subtract(v,rf);q.lessThan(B,SI)&&(B=v);let S=q.add(v,rf);q.greaterThan(S,u0)&&(S=v);const x=hd(a,B),Q=hd(a,S);return(x===Q?[x]:[x,Q]).map(N=>{const $=q.subtract(v,q.BigInt(N)),G=tG(a,$);if(c===G.year&&d===G.month&&f===G.day&&l===G.hour&&u===G.minute&&p===G.second&&A===G.millisecond&&h===G.microsecond&&y===G.nanosecond)return $}).filter(N=>N!==void 0)}(o,O(r,xe),O(r,De),O(r,ke),O(r,it),O(r,ot),O(r,st),O(r,at),O(r,ct),O(r,ft)).map(s=>new n(s))}getNextTransition(e){if(!os(this))throw new TypeError("invalid receiver");const r=qa(e),n=O(this,Cc);if(fg(n)||n==="UTC")return null;let o=O(r,$e);const i=Be("%Temporal.Instant%");return o=nG(n,o),o===null?null:new i(o)}getPreviousTransition(e){if(!os(this))throw new TypeError("invalid receiver");const r=qa(e),n=O(this,Cc);if(fg(n)||n==="UTC")return null;let o=O(r,$e);const i=Be("%Temporal.Instant%");return o=wx(n,o),o===null?null:new i(o)}toString(){if(!os(this))throw new TypeError("invalid receiver");return O(this,Cc)}toJSON(){if(!os(this))throw new TypeError("invalid receiver");return O(this,Cc)}static from(e){return VL(si(e))}}pf(Oy,"Temporal.TimeZone"),Cr("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Oy.prototype.getOffsetNanosecondsFor),Cr("Temporal.TimeZone.prototype.getPossibleInstantsFor",Oy.prototype.getPossibleInstantsFor);const i1e=Object.create;class s_{constructor(e,r,n="iso8601",o=1){zL(this,Ft(e),Ft(r),Bo(n),Ft(o))}get year(){if(!Rt(this))throw new TypeError("invalid receiver");return kB(O(this,ye),this)}get month(){if(!Rt(this))throw new TypeError("invalid receiver");return TB(O(this,ye),this)}get monthCode(){if(!Rt(this))throw new TypeError("invalid receiver");return bm(O(this,ye),this)}get calendarId(){if(!Rt(this))throw new TypeError("invalid receiver");return On(O(this,ye))}get era(){if(!Rt(this))throw new TypeError("invalid receiver");return FB(O(this,ye),this)}get eraYear(){if(!Rt(this))throw new TypeError("invalid receiver");return MB(O(this,ye),this)}get daysInMonth(){if(!Rt(this))throw new TypeError("invalid receiver");return UB(O(this,ye),this)}get daysInYear(){if(!Rt(this))throw new TypeError("invalid receiver");return RB(O(this,ye),this)}get monthsInYear(){if(!Rt(this))throw new TypeError("invalid receiver");return NB(O(this,ye),this)}get inLeapYear(){if(!Rt(this))throw new TypeError("invalid receiver");return PB(O(this,ye),this)}with(e,r){if(!Rt(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid argument");ep(e);const n=Ct(r),o=O(this,ye),i=rn(o,["month","monthCode","year"]);let s=gt(this,i,[]);return s=$h(o,s,gt(e,i,"partial")),s=gt(s,i,[]),jh(o,s,n)}add(e,r){if(!Rt(this))throw new TypeError("invalid receiver");return GM("add",this,e,r)}subtract(e,r){if(!Rt(this))throw new TypeError("invalid receiver");return GM("subtract",this,e,r)}until(e,r){if(!Rt(this))throw new TypeError("invalid receiver");return NM("until",this,e,r)}since(e,r){if(!Rt(this))throw new TypeError("invalid receiver");return NM("since",this,e,r)}equals(e){if(!Rt(this))throw new TypeError("invalid receiver");const r=yy(e);for(const n of[xe,De,ke])if(O(this,n)!==O(r,n))return!1;return Bm(O(this,ye),O(r,ye))}toString(e){if(!Rt(this))throw new TypeError("invalid receiver");return SM(this,ym(Ct(e)))}toJSON(){if(!Rt(this))throw new TypeError("invalid receiver");return SM(this)}toLocaleString(e,r){if(!Rt(this))throw new TypeError("invalid receiver");return new Iu(e,r).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Rt(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("argument should be an object");const r=O(this,ye),n=rn(r,["monthCode","year"]),o=gt(this,n,[]),i=rn(r,["day"]);let s=$h(r,o,gt(e,i,[]));s=gt(s,[...new Set([...n,...i])],[]);const a=i1e(null);return a.overflow="reject",Bd(r,s,a)}getISOFields(){if(!Rt(this))throw new TypeError("invalid receiver");return{calendar:O(this,ye),isoDay:O(this,ke),isoMonth:O(this,De),isoYear:O(this,xe)}}getCalendar(){if(!Rt(this))throw new TypeError("invalid receiver");return np(O(this,ye))}static from(e,r){const n=Ct(r);return Rt(e)?(Yr(n),DI(O(e,xe),O(e,De),O(e,ye),O(e,ke))):yy(e,n)}static compare(e,r){const n=yy(e),o=yy(r);return Fl(O(n,xe),O(n,De),O(n,ke),O(o,xe),O(o,De),O(o,ke))}}pf(s_,"Temporal.PlainYearMonth");const o1e=Iu.prototype.resolvedOptions,s1e=Object.create;class a_{constructor(e,r,n="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");YL(this,Ny(e),si(r),Bo(n))}get calendarId(){if(!Me(this))throw new TypeError("invalid receiver");return On(O(this,ye))}get timeZoneId(){if(!Me(this))throw new TypeError("invalid receiver");return kI(O(this,zt))}get year(){if(!Me(this))throw new TypeError("invalid receiver");return kB(O(this,ye),ir(this))}get month(){if(!Me(this))throw new TypeError("invalid receiver");return TB(O(this,ye),ir(this))}get monthCode(){if(!Me(this))throw new TypeError("invalid receiver");return bm(O(this,ye),ir(this))}get day(){if(!Me(this))throw new TypeError("invalid receiver");return Em(O(this,ye),ir(this))}get hour(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),it)}get minute(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),ot)}get second(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),st)}get millisecond(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),at)}get microsecond(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),ct)}get nanosecond(){if(!Me(this))throw new TypeError("invalid receiver");return O(ir(this),ft)}get era(){if(!Me(this))throw new TypeError("invalid receiver");return FB(O(this,ye),ir(this))}get eraYear(){if(!Me(this))throw new TypeError("invalid receiver");return MB(O(this,ye),ir(this))}get epochSeconds(){if(!Me(this))throw new TypeError("invalid receiver");const e=O(this,$e);return q.toNumber(Tg(e,zc))}get epochMilliseconds(){if(!Me(this))throw new TypeError("invalid receiver");const e=O(this,$e);return q.toNumber(Tg(e,Bs))}get epochMicroseconds(){if(!Me(this))throw new TypeError("invalid receiver");return UE(Tg(O(this,$e),Nt))}get epochNanoseconds(){if(!Me(this))throw new TypeError("invalid receiver");return UE(O(this,$e))}get dayOfWeek(){if(!Me(this))throw new TypeError("invalid receiver");return PS(O(this,ye),ir(this))}get dayOfYear(){if(!Me(this))throw new TypeError("invalid receiver");return OS(O(this,ye),ir(this))}get weekOfYear(){if(!Me(this))throw new TypeError("invalid receiver");return KS(O(this,ye),ir(this))}get yearOfWeek(){if(!Me(this))throw new TypeError("invalid receiver");return HS(O(this,ye),ir(this))}get hoursInDay(){if(!Me(this))throw new TypeError("invalid receiver");const e=ir(this),r=Be("%Temporal.PlainDateTime%"),n=O(e,xe),o=O(e,De),i=O(e,ke),s=new r(n,o,i,0,0,0,0,0,0),a=Sh(n,o,i,0,0,0,1,"reject"),c=new r(a.year,a.month,a.day,0,0,0,0,0,0),d=O(this,zt),f=O(Fi(d,s,"compatible"),$e),l=O(Fi(d,c,"compatible"),$e);return Ec(q.subtract(l,f),OL)}get daysInWeek(){if(!Me(this))throw new TypeError("invalid receiver");return LS(O(this,ye),ir(this))}get daysInMonth(){if(!Me(this))throw new TypeError("invalid receiver");return UB(O(this,ye),ir(this))}get daysInYear(){if(!Me(this))throw new TypeError("invalid receiver");return RB(O(this,ye),ir(this))}get monthsInYear(){if(!Me(this))throw new TypeError("invalid receiver");return NB(O(this,ye),ir(this))}get inLeapYear(){if(!Me(this))throw new TypeError("invalid receiver");return PB(O(this,ye),ir(this))}get offset(){if(!Me(this))throw new TypeError("invalid receiver");return mx(O(this,zt),O(this,ri))}get offsetNanoseconds(){if(!Me(this))throw new TypeError("invalid receiver");return Xa(O(this,zt),O(this,ri))}with(e,r){if(!Me(this))throw new TypeError("invalid receiver");if(!hr(e))throw new TypeError("invalid zoned-date-time-like");ep(e);const n=Ct(r),o=O(this,ye);let i=rn(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);i.push("offset");let s=gt(this,i,["offset"]);s=$h(o,s,gt(e,i,"partial")),s=gt(s,i,["offset"]);const a=A0(n),c=SE(n,"prefer");let{year:d,month:f,day:l,hour:u,minute:p,second:A,millisecond:h,microsecond:y,nanosecond:v}=wm(o,s,n);const B=cu(s.offset),S=O(this,zt);return kn(DE(d,f,l,u,p,A,h,y,v,"option",B,S,a,c,!1),S,o)}withPlainDate(e){if(!Me(this))throw new TypeError("invalid receiver");const r=Jt(e),n=O(r,xe),o=O(r,De),i=O(r,ke);let s=O(r,ye);const a=ir(this),c=O(a,it),d=O(a,ot),f=O(a,st),l=O(a,at),u=O(a,ct),p=O(a,ft);s=JL(O(this,ye),s);const A=O(this,zt);return kn(O(Fi(A,new(Be("%Temporal.PlainDateTime%"))(n,o,i,c,d,f,l,u,p,s),"compatible"),$e),A,s)}withPlainTime(e){if(!Me(this))throw new TypeError("invalid receiver");const r=Be("%Temporal.PlainTime%"),n=e===void 0?new r:rd(e),o=ir(this),i=O(o,xe),s=O(o,De),a=O(o,ke),c=O(this,ye),d=O(n,it),f=O(n,ot),l=O(n,st),u=O(n,at),p=O(n,ct),A=O(n,ft),h=O(this,zt);return kn(O(Fi(h,new(Be("%Temporal.PlainDateTime%"))(i,s,a,d,f,l,u,p,A,c),"compatible"),$e),h,c)}withTimeZone(e){if(!Me(this))throw new TypeError("invalid receiver");const r=si(e);return kn(O(this,$e),r,O(this,ye))}withCalendar(e){if(!Me(this))throw new TypeError("invalid receiver");const r=Bo(e);return kn(O(this,$e),O(this,zt),r)}add(e,r){if(!Me(this))throw new TypeError("invalid receiver");return qM("add",this,e,r)}subtract(e,r){if(!Me(this))throw new TypeError("invalid receiver");return qM("subtract",this,e,r)}until(e,r){if(!Me(this))throw new TypeError("invalid receiver");return PM("until",this,e,r)}since(e,r){if(!Me(this))throw new TypeError("invalid receiver");return PM("since",this,e,r)}round(e){if(!Me(this))throw new TypeError("invalid receiver");if(e===void 0)throw new TypeError("options parameter is required");const r=typeof e=="string"?I0("smallestUnit",e):Ct(e),n=tp(r),o=Za(r,"halfExpand"),i=mo(r,"smallestUnit","time",Gh,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[i];rp(n,s,s===1);const a=ir(this);let c=O(a,xe),d=O(a,De),f=O(a,ke),l=O(a,it),u=O(a,ot),p=O(a,st),A=O(a,at),h=O(a,ct),y=O(a,ft);const v=Be("%Temporal.PlainDateTime%"),B=O(this,zt),S=O(this,ye),x=Fi(B,new v(O(a,xe),O(a,De),O(a,ke),0,0,0,0,0,0),"compatible"),Q=xs(x,B,S,0,0,0,1,0,0,0,0,0,0),N=q.subtract(Q,q.BigInt(O(x,$e)));if(q.lessThanOrEqual(N,Nr))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return{year:c,month:d,day:f,hour:l,minute:u,second:p,millisecond:A,microsecond:h,nanosecond:y}=WS(c,d,f,l,u,p,A,h,y,n,i,o,q.toNumber(N)),kn(DE(c,d,f,l,u,p,A,h,y,"option",Xa(B,O(this,ri)),B,"compatible","prefer",!1),B,O(this,ye))}equals(e){if(!Me(this))throw new TypeError("invalid receiver");const r=Iy(e),n=O(this,$e),o=O(r,$e);return!!q.equal(q.BigInt(n),q.BigInt(o))&&!!WL(O(this,zt),O(r,zt))&&Bm(O(this,ye),O(r,ye))}toString(e){if(!Me(this))throw new TypeError("invalid receiver");const r=Ct(e),n=ym(r),o=Im(r),i=function(p){return lu(p,"offset",["auto","never"],"auto")}(r),s=Za(r,"trunc"),a=mo(r,"smallestUnit","time",void 0);if(a==="hour")throw new RangeError('smallestUnit must be a time unit other than "hour"');const c=function(p){return lu(p,"timeZoneName",["auto","never","critical"],"auto")}(r),{precision:d,unit:f,increment:l}=mm(a,o);return _M(this,d,n,c,i,{unit:f,increment:l,roundingMode:s})}toLocaleString(e,r){if(!Me(this))throw new TypeError("invalid receiver");const n=Ct(r),o=s1e(null);if(Dg(o,n,["timeZone"]),n.timeZone!==void 0)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");o.year===void 0&&o.month===void 0&&o.day===void 0&&o.weekday===void 0&&o.dateStyle===void 0&&o.hour===void 0&&o.minute===void 0&&o.second===void 0&&o.timeStyle===void 0&&o.dayPeriod===void 0&&o.timeZoneName===void 0&&(o.timeZoneName="short");let i=kI(O(this,zt));if(fg(i))throw new RangeError("toLocaleString does not support offset string time zones");i=qS(i),o.timeZone=i;const s=new Iu(e,o),a=Oe(o1e,s,[]).calendar,c=On(O(this,ye));if(c!=="iso8601"&&a!=="iso8601"&&a!==c)throw new RangeError(`cannot format ZonedDateTime with calendar ${c} in locale with calendar ${a}`);return s.format(O(this,ri))}toJSON(){if(!Me(this))throw new TypeError("invalid receiver");return _M(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Me(this))throw new TypeError("invalid receiver");const e=ir(this),r=Be("%Temporal.PlainDateTime%"),n=O(this,ye),o=new r(O(e,xe),O(e,De),O(e,ke),0,0,0,0,0,0,n),i=O(this,zt);return kn(O(Fi(i,o,"compatible"),$e),i,n)}toInstant(){if(!Me(this))throw new TypeError("invalid receiver");return new(Be("%Temporal.Instant%"))(O(this,$e))}toPlainDate(){if(!Me(this))throw new TypeError("invalid receiver");return p0(ir(this))}toPlainTime(){if(!Me(this))throw new TypeError("invalid receiver");return GS(ir(this))}toPlainDateTime(){if(!Me(this))throw new TypeError("invalid receiver");return ir(this)}toPlainYearMonth(){if(!Me(this))throw new TypeError("invalid receiver");const e=O(this,ye);return jh(e,gt(this,rn(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Me(this))throw new TypeError("invalid receiver");const e=O(this,ye);return g0(e,gt(this,rn(e,["day","monthCode"]),[]))}getISOFields(){if(!Me(this))throw new TypeError("invalid receiver");const e=ir(this),r=O(this,zt);return{calendar:O(this,ye),isoDay:O(e,ke),isoHour:O(e,it),isoMicrosecond:O(e,ct),isoMillisecond:O(e,at),isoMinute:O(e,ot),isoMonth:O(e,De),isoNanosecond:O(e,ft),isoSecond:O(e,st),isoYear:O(e,xe),offset:mx(r,O(this,ri)),timeZone:r}}getCalendar(){if(!Me(this))throw new TypeError("invalid receiver");return np(O(this,ye))}getTimeZone(){if(!Me(this))throw new TypeError("invalid receiver");return VL(O(this,zt))}static from(e,r){const n=Ct(r);return Me(e)?(A0(n),SE(n,"reject"),Yr(n),kn(O(e,$e),O(e,zt),O(e,ye))):Iy(e,n)}static compare(e,r){const n=Iy(e),o=Iy(r),i=O(n,$e),s=O(o,$e);return q.lessThan(q.BigInt(i),q.BigInt(s))?-1:q.greaterThan(q.BigInt(i),q.BigInt(s))?1:0}}function ir(t){return Ho(O(t,zt),O(t,ri),O(t,ye))}pf(a_,"Temporal.ZonedDateTime");var HA=Object.freeze({__proto__:null,Calendar:Fr,Duration:Ml,Instant:Na,Now:FG,PlainDate:xm,PlainDateTime:Sm,PlainMonthDay:i_,PlainTime:Dh,PlainYearMonth:s_,TimeZone:Oy,ZonedDateTime:a_});const a1e=[Na,Fr,xm,Sm,Ml,i_,Dh,Oy,s_,a_];for(const t of a1e){const e=Object.getOwnPropertyDescriptor(t,"prototype");(e.configurable||e.enumerable||e.writable)&&(e.configurable=!1,e.enumerable=!1,e.writable=!1,Object.defineProperty(t,"prototype",e))}var JM=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};let Kr=class MG{static sleep(e){return JM(this,void 0,void 0,function*(){return new Promise(r=>setTimeout(r,e))})}static minimalSleep(){return JM(this,void 0,void 0,function*(){yield MG.sleep(2)})}static getCurrentTimestamp(){return HA.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(e){const{year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d}=e;return HA.ZonedDateTime.from({timeZone:"UTC",year:r,month:n,day:o,hour:i,minute:s,second:a,millisecond:c,microsecond:d}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(e,r){const n=r?HA.Instant.from(r):HA.Now.instant(),o=HA.Duration.from(e);return n.add(o).toString({smallestUnit:"microseconds"})}static validateTimestamp(e){try{HA.Instant.from(e)}catch{throw new be(we.TimestampInvalid,`Invalid timestamp: ${e}`)}}};var He;(function(t){t.Events="Events",t.Messages="Messages",t.Permissions="Permissions",t.Protocols="Protocols",t.Records="Records"})(He||(He={}));var Re;(function(t){t.Configure="Configure",t.Create="Create",t.Get="Get",t.Grant="Grant",t.Query="Query",t.Read="Read",t.Request="Request",t.Revoke="Revoke",t.Write="Write",t.Delete="Delete"})(Re||(Re={}));function qB(t){let e;try{e=ap(t)}catch{e=void 0}if(t!==e)throw new be(we.UrlProtocolNotNormalized,`Protocol URI ${t} must be normalized.`)}function ap(t){return UG(t)}function c_(t){let e;try{e=_m(t)}catch{e=void 0}if(t!==e)throw new be(we.UrlSchemaNotNormalized,`Schema URI ${t} must be normalized.`)}function _m(t){return UG(t)}function UG(t){let e;/^[^:]+:(\/{2})?[^\/].*/.test(t)?e=t:e=`http://${t}`;try{const r=new URL(e);return r.search="",r.hash="",c1e(r.href)}catch{throw new be(we.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}function c1e(t){return t.endsWith("/")?t.slice(0,-1):t}var E3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class jf extends gf{static parse(e){return E3(this,void 0,void 0,function*(){return yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),jf.validateScope(e),Kr.validateTimestamp(e.descriptor.messageTimestamp),Kr.validateTimestamp(e.descriptor.dateExpires),new jf(e)})}static create(e){var r;return E3(this,void 0,void 0,function*(){const n=Object.assign({},e.scope);n.protocol=n.protocol!==void 0?ap(n.protocol):void 0,n.schema=n.schema!==void 0?_m(n.schema):void 0;const o={interface:He.Permissions,method:Re.Grant,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,delegated:e.delegated,permissionsRequestId:e.permissionsRequestId,scope:n,conditions:e.conditions};tf(o);const i=yield Qe.createAuthorization({descriptor:o,signer:e.signer}),s={descriptor:o,authorization:i};return Qe.validateJsonSchema(s),jf.validateScope(s),new jf(s)})}asDelegatedGrant(){return jf.asDelegatedGrant(this.message)}static asDelegatedGrant(e){if(!e.descriptor.delegated)throw new be(we.PermissionsGrantNotADelegatedGrant,`PermissionsGrant given is not a delegated grant. Descriptor: ${e.descriptor}`);return e}static createFromPermissionsRequest(e,r,n){var o,i,s,a,c,d;return E3(this,void 0,void 0,function*(){const f=e.message.descriptor;return jf.create({dateExpires:n.dateExpires,description:(o=n.description)!==null&&o!==void 0?o:f.description,grantedBy:(i=n.grantedBy)!==null&&i!==void 0?i:f.grantedBy,grantedTo:(s=n.grantedTo)!==null&&s!==void 0?s:f.grantedTo,grantedFor:(a=n.grantedFor)!==null&&a!==void 0?a:f.grantedFor,permissionsRequestId:yield Qe.getCid(e.message),scope:(c=n.scope)!==null&&c!==void 0?c:f.scope,conditions:(d=n.conditions)!==null&&d!==void 0?d:f.conditions,signer:r})})}authorize(){const{grantedBy:e,grantedFor:r}=this.message.descriptor;if(this.author!==e)throw new be(we.PermissionsGrantGrantedByMismatch,"Message author must match grantedBy property");if(e!==r)throw new be(we.PermissionsGrantUnauthorizedGrant,`${e} is not authorized to give access to the DWN belonging to ${r}`)}static validateScope(e){const r=e.descriptor.scope;if(r.schema!==void 0&&(r.protocol!==void 0||r.contextId!==void 0||r.protocolPath))throw new be(we.PermissionsGrantScopeSchemaProhibitedFields,"PermissionsGrants for RecordsRead and RecordsWrite that have `schema` present may not also have protocol-related properties present");if(r.protocol!==void 0&&r.contextId!==void 0&&r.protocolPath!==void 0)throw new be(we.PermissionsGrantScopeContextIdAndProtocolPath,"PermissionsGrants for RecordsRead and RecordsWrite may not have both `contextId` and `protocolPath` present")}}var RG=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function rc(t,e){return RG(this,void 0,void 0,function*(){if(t===void 0)throw new be(we.AuthenticateJwsMissing,"Missing JWS.");if(yield _c.verifySignatures(t.signature,e),t.ownerSignature!==void 0&&(yield _c.verifySignatures(t.ownerSignature,e)),t.authorDelegatedGrant!==void 0){const r=yield jf.parse(t.authorDelegatedGrant);yield _c.verifySignatures(r.message.authorization.signature,e)}})}function f_(t,e){return RG(this,void 0,void 0,function*(){if(e.author!==t)throw new be(we.AuthorizationUnknownAuthor,"message failed authorization, permission grant check not yet implemented")})}var f1e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class d1e{isTenant(e){return f1e(this,void 0,void 0,function*(){return!0})}}var xt={},Qx={exports:{}},v3=65536,l1e=4294967295;function u1e(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var h1e=Mt.Buffer,RE=globalThis.crypto||globalThis.msCrypto;RE&&RE.getRandomValues?Qx.exports=A1e:Qx.exports=u1e;function A1e(t,e){if(t>l1e)throw new RangeError("requested too many random bytes");var r=h1e.allocUnsafe(t);if(t>0)if(t>v3)for(var n=0;n<t;n+=v3)RE.getRandomValues(r.slice(n,n+v3));else RE.getRandomValues(r);return typeof e=="function"?Et.nextTick(function(){e(null,r)}):r}var cp=Qx.exports,xx={exports:{}};typeof Object.create=="function"?xx.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:xx.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Tt=xx.exports,Sx={exports:{}},NG=sA.EventEmitter,d_={},PG={},OG=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,r);if(s.value!==o||s.enumerable!==!0)return!1}return!0},g1e=OG,l_=function(){return g1e()&&!!Symbol.toStringTag},VM=typeof Symbol<"u"&&Symbol,p1e=OG,y1e=function(){return typeof VM!="function"||typeof Symbol!="function"||typeof VM("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:p1e()},WM={foo:{}},I1e=Object,m1e=function(){return{__proto__:WM}.foo===WM.foo&&!({__proto__:null}instanceof I1e)},w1e="Function.prototype.bind called on incompatible ",b1e=Object.prototype.toString,E1e=Math.max,v1e="[object Function]",ZM=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var i=0;i<r.length;i+=1)n[i+e.length]=r[i];return n},B1e=function(e,r){for(var n=[],o=r||0,i=0;o<e.length;o+=1,i+=1)n[i]=e[o];return n},C1e=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},Q1e=function(e){var r=this;if(typeof r!="function"||b1e.apply(r)!==v1e)throw new TypeError(w1e+r);for(var n=B1e(arguments,1),o,i=function(){if(this instanceof o){var f=r.apply(this,ZM(n,arguments));return Object(f)===f?f:this}return r.apply(e,ZM(n,arguments))},s=E1e(0,r.length-n.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(o=Function("binder","return function ("+C1e(a,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var d=function(){};d.prototype=r.prototype,o.prototype=new d,d.prototype=null}return o},x1e=Q1e,u_=Function.prototype.bind||x1e,S1e=Function.prototype.call,_1e=Object.prototype.hasOwnProperty,D1e=u_,k1e=D1e.call(S1e,_1e),Lt,w0=SyntaxError,KG=Function,Rg=TypeError,B3=function(t){try{return KG('"use strict"; return ('+t+").constructor;")()}catch{}},kh=Object.getOwnPropertyDescriptor;if(kh)try{kh({},"")}catch{kh=null}var C3=function(){throw new Rg},T1e=kh?function(){try{return arguments.callee,C3}catch{try{return kh(arguments,"callee").get}catch{return C3}}}():C3,LA=y1e(),F1e=m1e(),Wn=Object.getPrototypeOf||(F1e?function(t){return t.__proto__}:null),rg={},M1e=typeof Uint8Array>"u"||!Wn?Lt:Wn(Uint8Array),Th={"%AggregateError%":typeof AggregateError>"u"?Lt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lt:ArrayBuffer,"%ArrayIteratorPrototype%":LA&&Wn?Wn([][Symbol.iterator]()):Lt,"%AsyncFromSyncIteratorPrototype%":Lt,"%AsyncFunction%":rg,"%AsyncGenerator%":rg,"%AsyncGeneratorFunction%":rg,"%AsyncIteratorPrototype%":rg,"%Atomics%":typeof Atomics>"u"?Lt:Atomics,"%BigInt%":typeof BigInt>"u"?Lt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Lt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lt:FinalizationRegistry,"%Function%":KG,"%GeneratorFunction%":rg,"%Int8Array%":typeof Int8Array>"u"?Lt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":LA&&Wn?Wn(Wn([][Symbol.iterator]())):Lt,"%JSON%":typeof JSON=="object"?JSON:Lt,"%Map%":typeof Map>"u"?Lt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!LA||!Wn?Lt:Wn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lt:Promise,"%Proxy%":typeof Proxy>"u"?Lt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Lt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!LA||!Wn?Lt:Wn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":LA&&Wn?Wn(""[Symbol.iterator]()):Lt,"%Symbol%":LA?Symbol:Lt,"%SyntaxError%":w0,"%ThrowTypeError%":T1e,"%TypedArray%":M1e,"%TypeError%":Rg,"%Uint8Array%":typeof Uint8Array>"u"?Lt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Lt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lt:WeakSet};if(Wn)try{null.error}catch(t){var U1e=Wn(Wn(t));Th["%Error.prototype%"]=U1e}var R1e=function t(e){var r;if(e==="%AsyncFunction%")r=B3("async function () {}");else if(e==="%GeneratorFunction%")r=B3("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=B3("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Wn&&(r=Wn(o.prototype))}return Th[e]=r,r},XM={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dm=u_,NE=k1e,N1e=Dm.call(Function.call,Array.prototype.concat),P1e=Dm.call(Function.apply,Array.prototype.splice),e9=Dm.call(Function.call,String.prototype.replace),PE=Dm.call(Function.call,String.prototype.slice),O1e=Dm.call(Function.call,RegExp.prototype.exec),K1e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H1e=/\\(\\)?/g,L1e=function(e){var r=PE(e,0,1),n=PE(e,-1);if(r==="%"&&n!=="%")throw new w0("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new w0("invalid intrinsic syntax, expected opening `%`");var o=[];return e9(e,K1e,function(i,s,a,c){o[o.length]=a?e9(c,H1e,"$1"):s||i}),o},G1e=function(e,r){var n=e,o;if(NE(XM,n)&&(o=XM[n],n="%"+o[0]+"%"),NE(Th,n)){var i=Th[n];if(i===rg&&(i=R1e(n)),typeof i>"u"&&!r)throw new Rg("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new w0("intrinsic "+e+" does not exist!")},fp=function(e,r){if(typeof e!="string"||e.length===0)throw new Rg("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Rg('"allowMissing" argument must be a boolean');if(O1e(/^%?[^%]*%?$/,e)===null)throw new w0("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=L1e(e),o=n.length>0?n[0]:"",i=G1e("%"+o+"%",r),s=i.name,a=i.value,c=!1,d=i.alias;d&&(o=d[0],P1e(n,N1e([0,1],d)));for(var f=1,l=!0;f<n.length;f+=1){var u=n[f],p=PE(u,0,1),A=PE(u,-1);if((p==='"'||p==="'"||p==="`"||A==='"'||A==="'"||A==="`")&&p!==A)throw new w0("property names with quotes must have matching quotes");if((u==="constructor"||!l)&&(c=!0),o+="."+u,s="%"+o+"%",NE(Th,s))a=Th[s];else if(a!=null){if(!(u in a)){if(!r)throw new Rg("base intrinsic for "+e+" exists, but the property is not available.");return}if(kh&&f+1>=n.length){var h=kh(a,u);l=!!h,l&&"get"in h&&!("originalValue"in h.get)?a=h.get:a=a[u]}else l=NE(a,u),a=a[u];l&&!c&&(Th[s]=a)}}return a},HG={exports:{}},q1e=fp,_x=q1e("%Object.defineProperty%",!0),Dx=function(){if(_x)try{return _x({},"a",{value:1}),!0}catch{return!1}return!1};Dx.hasArrayLengthDefineBug=function(){if(!Dx())return null;try{return _x([],"length",{value:1}).length!==1}catch{return!0}};var LG=Dx,$1e=fp,tb=$1e("%Object.getOwnPropertyDescriptor%",!0);if(tb)try{tb([],"length")}catch{tb=null}var h_=tb,j1e=LG(),A_=fp,Ky=j1e&&A_("%Object.defineProperty%",!0);if(Ky)try{Ky({},"a",{value:1})}catch{Ky=!1}var z1e=A_("%SyntaxError%"),GA=A_("%TypeError%"),t9=h_,Y1e=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new GA("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new GA("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new GA("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new GA("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new GA("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new GA("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!t9&&t9(e,r);if(Ky)Ky(e,r,{configurable:s===null&&c?c.configurable:!s,enumerable:o===null&&c?c.enumerable:!o,value:n,writable:i===null&&c?c.writable:!i});else if(a||!o&&!i&&!s)e[r]=n;else throw new z1e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GG=fp,r9=Y1e,J1e=LG(),n9=h_,i9=GG("%TypeError%"),V1e=GG("%Math.floor%"),W1e=function(e,r){if(typeof e!="function")throw new i9("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||V1e(r)!==r)throw new i9("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,i=!0;if("length"in e&&n9){var s=n9(e,"length");s&&!s.configurable&&(o=!1),s&&!s.writable&&(i=!1)}return(o||i||!n)&&(J1e?r9(e,"length",r,!0,!0):r9(e,"length",r)),e};(function(t){var e=u_,r=fp,n=W1e,o=r("%TypeError%"),i=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(s,i),c=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(u){if(typeof u!="function")throw new o("a function is required");var p=a(e,s,arguments);return n(p,1+d(0,u.length-(arguments.length-1)),!0)};var f=function(){return a(e,i,arguments)};c?c(t.exports,"apply",{value:f}):t.exports.apply=f})(HG);var qG=HG.exports,$G=fp,jG=qG,Z1e=jG($G("String.prototype.indexOf")),zG=function(e,r){var n=$G(e,!!r);return typeof n=="function"&&Z1e(e,".prototype.")>-1?jG(n):n},X1e=l_(),ebe=zG,kx=ebe("Object.prototype.toString"),$B=function(e){return X1e&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:kx(e)==="[object Arguments]"},YG=function(e){return $B(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&kx(e)!=="[object Array]"&&kx(e.callee)==="[object Function]"},tbe=function(){return $B(arguments)}();$B.isLegacyArguments=YG;var rbe=tbe?$B:YG,nbe=Object.prototype.toString,ibe=Function.prototype.toString,obe=/^\s*(?:function)?\*/,JG=l_(),Q3=Object.getPrototypeOf,sbe=function(){if(!JG)return!1;try{return Function("return function*() {}")()}catch{}},x3,abe=function(e){if(typeof e!="function")return!1;if(obe.test(ibe.call(e)))return!0;if(!JG){var r=nbe.call(e);return r==="[object GeneratorFunction]"}if(!Q3)return!1;if(typeof x3>"u"){var n=sbe();x3=n?Q3(n):!1}return Q3(e)===x3},VG=Function.prototype.toString,dg=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Tx,rb;if(typeof dg=="function"&&typeof Object.defineProperty=="function")try{Tx=Object.defineProperty({},"length",{get:function(){throw rb}}),rb={},dg(function(){throw 42},null,Tx)}catch(t){t!==rb&&(dg=null)}else dg=null;var cbe=/^\s*class\b/,Fx=function(e){try{var r=VG.call(e);return cbe.test(r)}catch{return!1}},S3=function(e){try{return Fx(e)?!1:(VG.call(e),!0)}catch{return!1}},nb=Object.prototype.toString,fbe="[object Object]",dbe="[object Function]",lbe="[object GeneratorFunction]",ube="[object HTMLAllCollection]",hbe="[object HTML document.all class]",Abe="[object HTMLCollection]",gbe=typeof Symbol=="function"&&!!Symbol.toStringTag,pbe=!(0 in[,]),Mx=function(){return!1};if(typeof document=="object"){var ybe=document.all;nb.call(ybe)===nb.call(document.all)&&(Mx=function(e){if((pbe||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=nb.call(e);return(r===ube||r===hbe||r===Abe||r===fbe)&&e("")==null}catch{}return!1})}var Ibe=dg?function(e){if(Mx(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{dg(e,null,Tx)}catch(r){if(r!==rb)return!1}return!Fx(e)&&S3(e)}:function(e){if(Mx(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(gbe)return S3(e);if(Fx(e))return!1;var r=nb.call(e);return r!==dbe&&r!==lbe&&!/^\[object HTML/.test(r)?!1:S3(e)},mbe=Ibe,wbe=Object.prototype.toString,WG=Object.prototype.hasOwnProperty,bbe=function(e,r,n){for(var o=0,i=e.length;o<i;o++)WG.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},Ebe=function(e,r,n){for(var o=0,i=e.length;o<i;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},vbe=function(e,r,n){for(var o in e)WG.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},Bbe=function(e,r,n){if(!mbe(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),wbe.call(e)==="[object Array]"?bbe(e,r,o):typeof e=="string"?Ebe(e,r,o):vbe(e,r,o)},Cbe=Bbe,_3=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],Qbe=globalThis,xbe=function(){for(var e=[],r=0;r<_3.length;r++)typeof Qbe[_3[r]]=="function"&&(e[e.length]=_3[r]);return e},OE=Cbe,Sbe=xbe,o9=qG,g_=zG,ib=h_,_be=g_("Object.prototype.toString"),ZG=l_(),s9=globalThis,Ux=Sbe(),p_=g_("String.prototype.slice"),D3=Object.getPrototypeOf,Dbe=g_("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},KE={__proto__:null};ZG&&ib&&D3?OE(Ux,function(t){var e=new s9[t];if(Symbol.toStringTag in e){var r=D3(e),n=ib(r,Symbol.toStringTag);if(!n){var o=D3(r);n=ib(o,Symbol.toStringTag)}KE["$"+t]=o9(n.get)}}):OE(Ux,function(t){var e=new s9[t],r=e.slice||e.set;r&&(KE["$"+t]=o9(r))});var kbe=function(e){var r=!1;return OE(KE,function(n,o){if(!r)try{"$"+n(e)===o&&(r=p_(o,1))}catch{}}),r},Tbe=function(e){var r=!1;return OE(KE,function(n,o){if(!r)try{n(e),r=p_(o,1)}catch{}}),r},XG=function(e){if(!e||typeof e!="object")return!1;if(!ZG){var r=p_(_be(e),8,-1);return Dbe(Ux,r)>-1?r:r!=="Object"?!1:Tbe(e)}return ib?kbe(e):null},Fbe=XG,Mbe=function(e){return!!Fbe(e)};(function(t){var e=rbe,r=abe,n=XG,o=Mbe;function i(J){return J.call.bind(J)}var s=typeof BigInt<"u",a=typeof Symbol<"u",c=i(Object.prototype.toString),d=i(Number.prototype.valueOf),f=i(String.prototype.valueOf),l=i(Boolean.prototype.valueOf);if(s)var u=i(BigInt.prototype.valueOf);if(a)var p=i(Symbol.prototype.valueOf);function A(J,te){if(typeof J!="object")return!1;try{return te(J),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function h(J){return typeof Promise<"u"&&J instanceof Promise||J!==null&&typeof J=="object"&&typeof J.then=="function"&&typeof J.catch=="function"}t.isPromise=h;function y(J){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(J):o(J)||V(J)}t.isArrayBufferView=y;function v(J){return n(J)==="Uint8Array"}t.isUint8Array=v;function B(J){return n(J)==="Uint8ClampedArray"}t.isUint8ClampedArray=B;function S(J){return n(J)==="Uint16Array"}t.isUint16Array=S;function x(J){return n(J)==="Uint32Array"}t.isUint32Array=x;function Q(J){return n(J)==="Int8Array"}t.isInt8Array=Q;function N(J){return n(J)==="Int16Array"}t.isInt16Array=N;function $(J){return n(J)==="Int32Array"}t.isInt32Array=$;function G(J){return n(J)==="Float32Array"}t.isFloat32Array=G;function z(J){return n(J)==="Float64Array"}t.isFloat64Array=z;function Y(J){return n(J)==="BigInt64Array"}t.isBigInt64Array=Y;function R(J){return n(J)==="BigUint64Array"}t.isBigUint64Array=R;function C(J){return c(J)==="[object Map]"}C.working=typeof Map<"u"&&C(new Map);function m(J){return typeof Map>"u"?!1:C.working?C(J):J instanceof Map}t.isMap=m;function g(J){return c(J)==="[object Set]"}g.working=typeof Set<"u"&&g(new Set);function w(J){return typeof Set>"u"?!1:g.working?g(J):J instanceof Set}t.isSet=w;function F(J){return c(J)==="[object WeakMap]"}F.working=typeof WeakMap<"u"&&F(new WeakMap);function H(J){return typeof WeakMap>"u"?!1:F.working?F(J):J instanceof WeakMap}t.isWeakMap=H;function K(J){return c(J)==="[object WeakSet]"}K.working=typeof WeakSet<"u"&&K(new WeakSet);function D(J){return K(J)}t.isWeakSet=D;function I(J){return c(J)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function P(J){return typeof ArrayBuffer>"u"?!1:I.working?I(J):J instanceof ArrayBuffer}t.isArrayBuffer=P;function T(J){return c(J)==="[object DataView]"}T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1));function V(J){return typeof DataView>"u"?!1:T.working?T(J):J instanceof DataView}t.isDataView=V;var ee=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function se(J){return c(J)==="[object SharedArrayBuffer]"}function Z(J){return typeof ee>"u"?!1:(typeof se.working>"u"&&(se.working=se(new ee)),se.working?se(J):J instanceof ee)}t.isSharedArrayBuffer=Z;function ne(J){return c(J)==="[object AsyncFunction]"}t.isAsyncFunction=ne;function X(J){return c(J)==="[object Map Iterator]"}t.isMapIterator=X;function re(J){return c(J)==="[object Set Iterator]"}t.isSetIterator=re;function W(J){return c(J)==="[object Generator]"}t.isGeneratorObject=W;function j(J){return c(J)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=j;function M(J){return A(J,d)}t.isNumberObject=M;function E(J){return A(J,f)}t.isStringObject=E;function b(J){return A(J,l)}t.isBooleanObject=b;function k(J){return s&&A(J,u)}t.isBigIntObject=k;function U(J){return a&&A(J,p)}t.isSymbolObject=U;function _(J){return M(J)||E(J)||b(J)||k(J)||U(J)}t.isBoxedPrimitive=_;function L(J){return typeof Uint8Array<"u"&&(P(J)||Z(J))}t.isAnyArrayBuffer=L,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(J){Object.defineProperty(t,J,{enumerable:!1,value:function(){throw new Error(J+" is not supported in userland")}})})})(PG);var Ube=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(V){for(var ee=Object.keys(V),se={},Z=0;Z<ee.length;Z++)se[ee[Z]]=Object.getOwnPropertyDescriptor(V,ee[Z]);return se},r=/%[sdj%]/g;t.format=function(T){if(!Q(T)){for(var V=[],ee=0;ee<arguments.length;ee++)V.push(s(arguments[ee]));return V.join(" ")}for(var ee=1,se=arguments,Z=se.length,ne=String(T).replace(r,function(re){if(re==="%%")return"%";if(ee>=Z)return re;switch(re){case"%s":return String(se[ee++]);case"%d":return Number(se[ee++]);case"%j":try{return JSON.stringify(se[ee++])}catch{return"[Circular]"}default:return re}}),X=se[ee];ee<Z;X=se[++ee])B(X)||!z(X)?ne+=" "+X:ne+=" "+s(X);return ne},t.deprecate=function(T,V){if(typeof Et<"u"&&Et.noDeprecation===!0)return T;if(typeof Et>"u")return function(){return t.deprecate(T,V).apply(this,arguments)};var ee=!1;function se(){if(!ee){if(Et.throwDeprecation)throw new Error(V);Et.traceDeprecation?console.trace(V):console.error(V),ee=!0}return T.apply(this,arguments)}return se};var n={},o=/^$/;if({}.NODE_DEBUG){var i={}.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i")}t.debuglog=function(T){if(T=T.toUpperCase(),!n[T])if(o.test(T)){var V=Et.pid;n[T]=function(){var ee=t.format.apply(t,arguments);console.error("%s %d: %s",T,V,ee)}}else n[T]=function(){};return n[T]};function s(T,V){var ee={seen:[],stylize:c};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),v(V)?ee.showHidden=V:V&&t._extend(ee,V),$(ee.showHidden)&&(ee.showHidden=!1),$(ee.depth)&&(ee.depth=2),$(ee.colors)&&(ee.colors=!1),$(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=a),f(ee,T,ee.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(T,V){var ee=s.styles[V];return ee?"\x1B["+s.colors[ee][0]+"m"+T+"\x1B["+s.colors[ee][1]+"m":T}function c(T,V){return T}function d(T){var V={};return T.forEach(function(ee,se){V[ee]=!0}),V}function f(T,V,ee){if(T.customInspect&&V&&C(V.inspect)&&V.inspect!==t.inspect&&!(V.constructor&&V.constructor.prototype===V)){var se=V.inspect(ee,T);return Q(se)||(se=f(T,se,ee)),se}var Z=l(T,V);if(Z)return Z;var ne=Object.keys(V),X=d(ne);if(T.showHidden&&(ne=Object.getOwnPropertyNames(V)),R(V)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return u(V);if(ne.length===0){if(C(V)){var re=V.name?": "+V.name:"";return T.stylize("[Function"+re+"]","special")}if(G(V))return T.stylize(RegExp.prototype.toString.call(V),"regexp");if(Y(V))return T.stylize(Date.prototype.toString.call(V),"date");if(R(V))return u(V)}var W="",j=!1,M=["{","}"];if(y(V)&&(j=!0,M=["[","]"]),C(V)){var E=V.name?": "+V.name:"";W=" [Function"+E+"]"}if(G(V)&&(W=" "+RegExp.prototype.toString.call(V)),Y(V)&&(W=" "+Date.prototype.toUTCString.call(V)),R(V)&&(W=" "+u(V)),ne.length===0&&(!j||V.length==0))return M[0]+W+M[1];if(ee<0)return G(V)?T.stylize(RegExp.prototype.toString.call(V),"regexp"):T.stylize("[Object]","special");T.seen.push(V);var b;return j?b=p(T,V,ee,X,ne):b=ne.map(function(k){return A(T,V,ee,X,k,j)}),T.seen.pop(),h(b,W,M)}function l(T,V){if($(V))return T.stylize("undefined","undefined");if(Q(V)){var ee="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return T.stylize(ee,"string")}if(x(V))return T.stylize(""+V,"number");if(v(V))return T.stylize(""+V,"boolean");if(B(V))return T.stylize("null","null")}function u(T){return"["+Error.prototype.toString.call(T)+"]"}function p(T,V,ee,se,Z){for(var ne=[],X=0,re=V.length;X<re;++X)K(V,String(X))?ne.push(A(T,V,ee,se,String(X),!0)):ne.push("");return Z.forEach(function(W){W.match(/^\d+$/)||ne.push(A(T,V,ee,se,W,!0))}),ne}function A(T,V,ee,se,Z,ne){var X,re,W;if(W=Object.getOwnPropertyDescriptor(V,Z)||{value:V[Z]},W.get?W.set?re=T.stylize("[Getter/Setter]","special"):re=T.stylize("[Getter]","special"):W.set&&(re=T.stylize("[Setter]","special")),K(se,Z)||(X="["+Z+"]"),re||(T.seen.indexOf(W.value)<0?(B(ee)?re=f(T,W.value,null):re=f(T,W.value,ee-1),re.indexOf(`
`)>-1&&(ne?re=re.split(`
`).map(function(j){return"  "+j}).join(`
`).slice(2):re=`
`+re.split(`
`).map(function(j){return"   "+j}).join(`
`))):re=T.stylize("[Circular]","special")),$(X)){if(ne&&Z.match(/^\d+$/))return re;X=JSON.stringify(""+Z),X.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(X=X.slice(1,-1),X=T.stylize(X,"name")):(X=X.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),X=T.stylize(X,"string"))}return X+": "+re}function h(T,V,ee){var se=T.reduce(function(Z,ne){return ne.indexOf(`
`)>=0,Z+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0);return se>60?ee[0]+(V===""?"":V+`
 `)+" "+T.join(`,
  `)+" "+ee[1]:ee[0]+V+" "+T.join(", ")+" "+ee[1]}t.types=PG;function y(T){return Array.isArray(T)}t.isArray=y;function v(T){return typeof T=="boolean"}t.isBoolean=v;function B(T){return T===null}t.isNull=B;function S(T){return T==null}t.isNullOrUndefined=S;function x(T){return typeof T=="number"}t.isNumber=x;function Q(T){return typeof T=="string"}t.isString=Q;function N(T){return typeof T=="symbol"}t.isSymbol=N;function $(T){return T===void 0}t.isUndefined=$;function G(T){return z(T)&&g(T)==="[object RegExp]"}t.isRegExp=G,t.types.isRegExp=G;function z(T){return typeof T=="object"&&T!==null}t.isObject=z;function Y(T){return z(T)&&g(T)==="[object Date]"}t.isDate=Y,t.types.isDate=Y;function R(T){return z(T)&&(g(T)==="[object Error]"||T instanceof Error)}t.isError=R,t.types.isNativeError=R;function C(T){return typeof T=="function"}t.isFunction=C;function m(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}t.isPrimitive=m,t.isBuffer=Ube;function g(T){return Object.prototype.toString.call(T)}function w(T){return T<10?"0"+T.toString(10):T.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(){var T=new Date,V=[w(T.getHours()),w(T.getMinutes()),w(T.getSeconds())].join(":");return[T.getDate(),F[T.getMonth()],V].join(" ")}t.log=function(){console.log("%s - %s",H(),t.format.apply(t,arguments))},t.inherits=Tt,t._extend=function(T,V){if(!V||!z(V))return T;for(var ee=Object.keys(V),se=ee.length;se--;)T[ee[se]]=V[ee[se]];return T};function K(T,V){return Object.prototype.hasOwnProperty.call(T,V)}var D=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(D&&V[D]){var ee=V[D];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,D,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var se,Z,ne=new Promise(function(W,j){se=W,Z=j}),X=[],re=0;re<arguments.length;re++)X.push(arguments[re]);X.push(function(W,j){W?Z(W):se(j)});try{V.apply(this,X)}catch(W){Z(W)}return ne}return Object.setPrototypeOf(ee,Object.getPrototypeOf(V)),D&&Object.defineProperty(ee,D,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,e(V))},t.promisify.custom=D;function I(T,V){if(!T){var ee=new Error("Promise was rejected with a falsy value");ee.reason=T,T=ee}return V(T)}function P(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');function V(){for(var ee=[],se=0;se<arguments.length;se++)ee.push(arguments[se]);var Z=ee.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var ne=this,X=function(){return Z.apply(ne,arguments)};T.apply(this,ee).then(function(re){Et.nextTick(X.bind(null,null,re))},function(re){Et.nextTick(I.bind(null,re,X))})}return Object.setPrototypeOf(V,Object.getPrototypeOf(T)),Object.defineProperties(V,e(T)),V}t.callbackify=P})(d_);var k3,a9;function Rbe(){if(a9)return k3;a9=1;function t(A,h){var y=Object.keys(A);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(A);h&&(v=v.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),y.push.apply(y,v)}return y}function e(A){for(var h=1;h<arguments.length;h++){var y=arguments[h]!=null?arguments[h]:{};h%2?t(Object(y),!0).forEach(function(v){r(A,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(v){Object.defineProperty(A,v,Object.getOwnPropertyDescriptor(y,v))})}return A}function r(A,h,y){return h=s(h),h in A?Object.defineProperty(A,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):A[h]=y,A}function n(A,h){if(!(A instanceof h))throw new TypeError("Cannot call a class as a function")}function o(A,h){for(var y=0;y<h.length;y++){var v=h[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(A,s(v.key),v)}}function i(A,h,y){return h&&o(A.prototype,h),y&&o(A,y),Object.defineProperty(A,"prototype",{writable:!1}),A}function s(A){var h=a(A,"string");return typeof h=="symbol"?h:String(h)}function a(A,h){if(typeof A!="object"||A===null)return A;var y=A[Symbol.toPrimitive];if(y!==void 0){var v=y.call(A,h||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(A)}var c=qe,d=c.Buffer,f=d_,l=f.inspect,u=l&&l.custom||"inspect";function p(A,h,y){d.prototype.copy.call(A,h,y)}return k3=function(){function A(){n(this,A),this.head=null,this.tail=null,this.length=0}return i(A,[{key:"push",value:function(y){var v={data:y,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(y){var v={data:y,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var v=this.head,B=""+v.data;v=v.next;)B+=y+v.data;return B}},{key:"concat",value:function(y){if(this.length===0)return d.alloc(0);for(var v=d.allocUnsafe(y>>>0),B=this.head,S=0;B;)p(B.data,v,S),S+=B.data.length,B=B.next;return v}},{key:"consume",value:function(y,v){var B;return y<this.head.data.length?(B=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?B=this.shift():B=v?this._getString(y):this._getBuffer(y),B}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var v=this.head,B=1,S=v.data;for(y-=S.length;v=v.next;){var x=v.data,Q=y>x.length?x.length:y;if(Q===x.length?S+=x:S+=x.slice(0,y),y-=Q,y===0){Q===x.length?(++B,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=x.slice(Q));break}++B}return this.length-=B,S}},{key:"_getBuffer",value:function(y){var v=d.allocUnsafe(y),B=this.head,S=1;for(B.data.copy(v),y-=B.data.length;B=B.next;){var x=B.data,Q=y>x.length?x.length:y;if(x.copy(v,v.length-y,0,Q),y-=Q,y===0){Q===x.length?(++S,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=x.slice(Q));break}++S}return this.length-=S,v}},{key:u,value:function(y,v){return l(this,e(e({},v),{},{depth:0,customInspect:!1}))}}]),A}(),k3}function Nbe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Et.nextTick(Rx,this,t)):Et.nextTick(Rx,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted?Et.nextTick(ob,r):(r._writableState.errorEmitted=!0,Et.nextTick(c9,r,i)):Et.nextTick(c9,r,i):e?(Et.nextTick(ob,r),e(i)):Et.nextTick(ob,r)}),this)}function c9(t,e){Rx(t,e),ob(t)}function ob(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Pbe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Rx(t,e){t.emit("error",e)}function Obe(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var eq={destroy:Nbe,undestroy:Pbe,errorOrDestroy:Obe},bA={};function Kbe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var tq={};function ya(t,e,r){r||(r=Error);function n(i,s,a){return typeof e=="string"?e:e(i,s,a)}var o=function(i){Kbe(s,i);function s(a,c,d){return i.call(this,n(a,c,d))||this}return s}(r);o.prototype.name=r.name,o.prototype.code=t,tq[t]=o}function f9(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Hbe(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Lbe(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Gbe(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ya("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ya("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Hbe(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var o;if(Lbe(t," argument"))o="The ".concat(t," ").concat(n," ").concat(f9(e,"type"));else{var i=Gbe(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(i," ").concat(n," ").concat(f9(e,"type"))}return o+=". Received type ".concat(typeof r),o},TypeError);ya("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ya("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ya("ERR_STREAM_PREMATURE_CLOSE","Premature close");ya("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ya("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ya("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ya("ERR_STREAM_WRITE_AFTER_END","write after end");ya("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ya("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ya("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");bA.codes=tq;var qbe=bA.codes.ERR_INVALID_OPT_VALUE;function $be(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function jbe(t,e,r,n){var o=$be(e,n,r);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var i=n?r:"highWaterMark";throw new qbe(i,o)}return Math.floor(o)}return t.objectMode?16:16*1024}var rq={getHighWaterMark:jbe},zbe=Ybe;function Ybe(t,e){if(T3("noDeprecation"))return t;var r=!1;function n(){if(!r){if(T3("throwDeprecation"))throw new Error(e);T3("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function T3(t){try{if(!globalThis.localStorage)return!1}catch{return!1}var e=globalThis.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var F3,d9;function y_(){if(d9)return F3;d9=1,F3=G;function t(Z){var ne=this;this.next=null,this.entry=null,this.finish=function(){se(ne,Z)}}var e;G.WritableState=N;var r={deprecate:zbe},n=NG,o=qe.Buffer,i=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(Z){return o.from(Z)}function a(Z){return o.isBuffer(Z)||Z instanceof i}var c=eq,d=rq,f=d.getHighWaterMark,l=bA.codes,u=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,A=l.ERR_MULTIPLE_CALLBACK,h=l.ERR_STREAM_CANNOT_PIPE,y=l.ERR_STREAM_DESTROYED,v=l.ERR_STREAM_NULL_VALUES,B=l.ERR_STREAM_WRITE_AFTER_END,S=l.ERR_UNKNOWN_ENCODING,x=c.errorOrDestroy;Tt(G,n);function Q(){}function N(Z,ne,X){e=e||Yh(),Z=Z||{},typeof X!="boolean"&&(X=ne instanceof e),this.objectMode=!!Z.objectMode,X&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=f(this,Z,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=Z.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){F(ne,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}N.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,X=[];ne;)X.push(ne),ne=ne.next;return X},function(){try{Object.defineProperty(N.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var $;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($=Function.prototype[Symbol.hasInstance],Object.defineProperty(G,Symbol.hasInstance,{value:function(ne){return $.call(this,ne)?!0:this!==G?!1:ne&&ne._writableState instanceof N}})):$=function(ne){return ne instanceof this};function G(Z){e=e||Yh();var ne=this instanceof e;if(!ne&&!$.call(G,this))return new G(Z);this._writableState=new N(Z,this,ne),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),n.call(this)}G.prototype.pipe=function(){x(this,new h)};function z(Z,ne){var X=new B;x(Z,X),Et.nextTick(ne,X)}function Y(Z,ne,X,re){var W;return X===null?W=new v:typeof X!="string"&&!ne.objectMode&&(W=new u("chunk",["string","Buffer"],X)),W?(x(Z,W),Et.nextTick(re,W),!1):!0}G.prototype.write=function(Z,ne,X){var re=this._writableState,W=!1,j=!re.objectMode&&a(Z);return j&&!o.isBuffer(Z)&&(Z=s(Z)),typeof ne=="function"&&(X=ne,ne=null),j?ne="buffer":ne||(ne=re.defaultEncoding),typeof X!="function"&&(X=Q),re.ending?z(this,X):(j||Y(this,re,Z,X))&&(re.pendingcb++,W=C(this,re,j,Z,ne,X)),W},G.prototype.cork=function(){this._writableState.corked++},G.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&D(this,Z))},G.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new S(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(G.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function R(Z,ne,X){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof ne=="string"&&(ne=o.from(ne,X)),ne}Object.defineProperty(G.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(Z,ne,X,re,W,j){if(!X){var M=R(ne,re,W);re!==M&&(X=!0,W="buffer",re=M)}var E=ne.objectMode?1:re.length;ne.length+=E;var b=ne.length<ne.highWaterMark;if(b||(ne.needDrain=!0),ne.writing||ne.corked){var k=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:re,encoding:W,isBuf:X,callback:j,next:null},k?k.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else m(Z,ne,!1,E,re,W,j);return b}function m(Z,ne,X,re,W,j,M){ne.writelen=re,ne.writecb=M,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new y("write")):X?Z._writev(W,ne.onwrite):Z._write(W,j,ne.onwrite),ne.sync=!1}function g(Z,ne,X,re,W){--ne.pendingcb,X?(Et.nextTick(W,re),Et.nextTick(V,Z,ne),Z._writableState.errorEmitted=!0,x(Z,re)):(W(re),Z._writableState.errorEmitted=!0,x(Z,re),V(Z,ne))}function w(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function F(Z,ne){var X=Z._writableState,re=X.sync,W=X.writecb;if(typeof W!="function")throw new A;if(w(X),ne)g(Z,X,re,ne,W);else{var j=I(X)||Z.destroyed;!j&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&D(Z,X),re?Et.nextTick(H,Z,X,j,W):H(Z,X,j,W)}}function H(Z,ne,X,re){X||K(Z,ne),ne.pendingcb--,re(),V(Z,ne)}function K(Z,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,Z.emit("drain"))}function D(Z,ne){ne.bufferProcessing=!0;var X=ne.bufferedRequest;if(Z._writev&&X&&X.next){var re=ne.bufferedRequestCount,W=new Array(re),j=ne.corkedRequestsFree;j.entry=X;for(var M=0,E=!0;X;)W[M]=X,X.isBuf||(E=!1),X=X.next,M+=1;W.allBuffers=E,m(Z,ne,!0,ne.length,W,"",j.finish),ne.pendingcb++,ne.lastBufferedRequest=null,j.next?(ne.corkedRequestsFree=j.next,j.next=null):ne.corkedRequestsFree=new t(ne),ne.bufferedRequestCount=0}else{for(;X;){var b=X.chunk,k=X.encoding,U=X.callback,_=ne.objectMode?1:b.length;if(m(Z,ne,!1,_,b,k,U),X=X.next,ne.bufferedRequestCount--,ne.writing)break}X===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=X,ne.bufferProcessing=!1}G.prototype._write=function(Z,ne,X){X(new p("_write()"))},G.prototype._writev=null,G.prototype.end=function(Z,ne,X){var re=this._writableState;return typeof Z=="function"?(X=Z,Z=null,ne=null):typeof ne=="function"&&(X=ne,ne=null),Z!=null&&this.write(Z,ne),re.corked&&(re.corked=1,this.uncork()),re.ending||ee(this,re,X),this},Object.defineProperty(G.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function P(Z,ne){Z._final(function(X){ne.pendingcb--,X&&x(Z,X),ne.prefinished=!0,Z.emit("prefinish"),V(Z,ne)})}function T(Z,ne){!ne.prefinished&&!ne.finalCalled&&(typeof Z._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,Et.nextTick(P,Z,ne)):(ne.prefinished=!0,Z.emit("prefinish")))}function V(Z,ne){var X=I(ne);if(X&&(T(Z,ne),ne.pendingcb===0&&(ne.finished=!0,Z.emit("finish"),ne.autoDestroy))){var re=Z._readableState;(!re||re.autoDestroy&&re.endEmitted)&&Z.destroy()}return X}function ee(Z,ne,X){ne.ending=!0,V(Z,ne),X&&(ne.finished?Et.nextTick(X):Z.once("finish",X)),ne.ended=!0,Z.writable=!1}function se(Z,ne,X){var re=Z.entry;for(Z.entry=null;re;){var W=re.callback;ne.pendingcb--,W(X),re=re.next}ne.corkedRequestsFree.next=Z}return Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),G.prototype.destroy=c.destroy,G.prototype._undestroy=c.undestroy,G.prototype._destroy=function(Z,ne){ne(Z)},F3}var M3,l9;function Yh(){if(l9)return M3;l9=1;var t=Object.keys||function(d){var f=[];for(var l in d)f.push(l);return f};M3=s;var e=I_(),r=y_();Tt(s,e);for(var n=t(r.prototype),o=0;o<n.length;o++){var i=n[o];s.prototype[i]||(s.prototype[i]=r.prototype[i])}function s(d){if(!(this instanceof s))return new s(d);e.call(this,d),r.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||Et.nextTick(c,this)}function c(d){d.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),M3}var u9=bA.codes.ERR_STREAM_PREMATURE_CLOSE;function Jbe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];t.apply(this,n)}}}function Vbe(){}function Wbe(t){return t.setHeader&&typeof t.abort=="function"}function nq(t,e,r){if(typeof e=="function")return nq(t,null,e);e||(e={}),r=Jbe(r||Vbe);var n=e.readable||e.readable!==!1&&t.readable,o=e.writable||e.writable!==!1&&t.writable,i=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){o=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,d=function(){n=!1,c=!0,o||r.call(t)},f=function(A){r.call(t,A)},l=function(){var A;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(A=new u9),r.call(t,A);if(o&&!s)return(!t._writableState||!t._writableState.ended)&&(A=new u9),r.call(t,A)},u=function(){t.req.on("finish",a)};return Wbe(t)?(t.on("complete",a),t.on("abort",l),t.req?u():t.on("request",u)):o&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",d),t.on("finish",a),e.error!==!1&&t.on("error",f),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",u),t.req&&t.req.removeListener("finish",a),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",a),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",l)}}var jB=nq,U3,h9;function Zbe(){if(h9)return U3;h9=1;var t;function e(S,x,Q){return x=r(x),x in S?Object.defineProperty(S,x,{value:Q,enumerable:!0,configurable:!0,writable:!0}):S[x]=Q,S}function r(S){var x=n(S,"string");return typeof x=="symbol"?x:String(x)}function n(S,x){if(typeof S!="object"||S===null)return S;var Q=S[Symbol.toPrimitive];if(Q!==void 0){var N=Q.call(S,x||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(S)}var o=jB,i=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),l=Symbol("stream");function u(S,x){return{value:S,done:x}}function p(S){var x=S[i];if(x!==null){var Q=S[l].read();Q!==null&&(S[d]=null,S[i]=null,S[s]=null,x(u(Q,!1)))}}function A(S){Et.nextTick(p,S)}function h(S,x){return function(Q,N){S.then(function(){if(x[c]){Q(u(void 0,!0));return}x[f](Q,N)},N)}}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var x=this,Q=this[a];if(Q!==null)return Promise.reject(Q);if(this[c])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(z,Y){Et.nextTick(function(){x[a]?Y(x[a]):z(u(void 0,!0))})});var N=this[d],$;if(N)$=new Promise(h(N,this));else{var G=this[l].read();if(G!==null)return Promise.resolve(u(G,!1));$=new Promise(this[f])}return this[d]=$,$}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var x=this;return new Promise(function(Q,N){x[l].destroy(null,function($){if($){N($);return}Q(u(void 0,!0))})})}),t),y),B=function(x){var Q,N=Object.create(v,(Q={},e(Q,l,{value:x,writable:!0}),e(Q,i,{value:null,writable:!0}),e(Q,s,{value:null,writable:!0}),e(Q,a,{value:null,writable:!0}),e(Q,c,{value:x._readableState.endEmitted,writable:!0}),e(Q,f,{value:function(G,z){var Y=N[l].read();Y?(N[d]=null,N[i]=null,N[s]=null,G(u(Y,!1))):(N[i]=G,N[s]=z)},writable:!0}),Q));return N[d]=null,o(x,function($){if($&&$.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=N[s];G!==null&&(N[d]=null,N[i]=null,N[s]=null,G($)),N[a]=$;return}var z=N[i];z!==null&&(N[d]=null,N[i]=null,N[s]=null,z(u(void 0,!0))),N[c]=!0}),x.on("readable",A.bind(null,N)),N};return U3=B,U3}var R3,A9;function Xbe(){return A9||(A9=1,R3=function(){throw new Error("Readable.from is not available in the browser")}),R3}var N3,g9;function I_(){if(g9)return N3;g9=1,N3=z;var t;z.ReadableState=G,sA.EventEmitter;var e=function(M,E){return M.listeners(E).length},r=NG,n=qe.Buffer,o=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function i(j){return n.from(j)}function s(j){return n.isBuffer(j)||j instanceof o}var a=d_,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var d=Rbe(),f=eq,l=rq,u=l.getHighWaterMark,p=bA.codes,A=p.ERR_INVALID_ARG_TYPE,h=p.ERR_STREAM_PUSH_AFTER_EOF,y=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,S,x;Tt(z,r);var Q=f.errorOrDestroy,N=["error","close","destroy","pause","resume"];function $(j,M,E){if(typeof j.prependListener=="function")return j.prependListener(M,E);!j._events||!j._events[M]?j.on(M,E):Array.isArray(j._events[M])?j._events[M].unshift(E):j._events[M]=[E,j._events[M]]}function G(j,M,E){t=t||Yh(),j=j||{},typeof E!="boolean"&&(E=M instanceof t),this.objectMode=!!j.objectMode,E&&(this.objectMode=this.objectMode||!!j.readableObjectMode),this.highWaterMark=u(this,j,"readableHighWaterMark",E),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=j.emitClose!==!1,this.autoDestroy=!!j.autoDestroy,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(B||(B=dI.StringDecoder),this.decoder=new B(j.encoding),this.encoding=j.encoding)}function z(j){if(t=t||Yh(),!(this instanceof z))return new z(j);var M=this instanceof t;this._readableState=new G(j,this,M),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),z.prototype.destroy=f.destroy,z.prototype._undestroy=f.undestroy,z.prototype._destroy=function(j,M){M(j)},z.prototype.push=function(j,M){var E=this._readableState,b;return E.objectMode?b=!0:typeof j=="string"&&(M=M||E.defaultEncoding,M!==E.encoding&&(j=n.from(j,M),M=""),b=!0),Y(this,j,M,!1,b)},z.prototype.unshift=function(j){return Y(this,j,null,!0,!1)};function Y(j,M,E,b,k){c("readableAddChunk",M);var U=j._readableState;if(M===null)U.reading=!1,F(j,U);else{var _;if(k||(_=C(U,M)),_)Q(j,_);else if(U.objectMode||M&&M.length>0)if(typeof M!="string"&&!U.objectMode&&Object.getPrototypeOf(M)!==n.prototype&&(M=i(M)),b)U.endEmitted?Q(j,new v):R(j,U,M,!0);else if(U.ended)Q(j,new h);else{if(U.destroyed)return!1;U.reading=!1,U.decoder&&!E?(M=U.decoder.write(M),U.objectMode||M.length!==0?R(j,U,M,!1):D(j,U)):R(j,U,M,!1)}else b||(U.reading=!1,D(j,U))}return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function R(j,M,E,b){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,j.emit("data",E)):(M.length+=M.objectMode?1:E.length,b?M.buffer.unshift(E):M.buffer.push(E),M.needReadable&&H(j)),D(j,M)}function C(j,M){var E;return!s(M)&&typeof M!="string"&&M!==void 0&&!j.objectMode&&(E=new A("chunk",["string","Buffer","Uint8Array"],M)),E}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(j){B||(B=dI.StringDecoder);var M=new B(j);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var E=this._readableState.buffer.head,b="";E!==null;)b+=M.write(E.data),E=E.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var m=1073741824;function g(j){return j>=m?j=m:(j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++),j}function w(j,M){return j<=0||M.length===0&&M.ended?0:M.objectMode?1:j!==j?M.flowing&&M.length?M.buffer.head.data.length:M.length:(j>M.highWaterMark&&(M.highWaterMark=g(j)),j<=M.length?j:M.ended?M.length:(M.needReadable=!0,0))}z.prototype.read=function(j){c("read",j),j=parseInt(j,10);var M=this._readableState,E=j;if(j!==0&&(M.emittedReadable=!1),j===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return c("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?X(this):H(this),null;if(j=w(j,M),j===0&&M.ended)return M.length===0&&X(this),null;var b=M.needReadable;c("need readable",b),(M.length===0||M.length-j<M.highWaterMark)&&(b=!0,c("length less than watermark",b)),M.ended||M.reading?(b=!1,c("reading or ended",b)):b&&(c("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(j=w(E,M)));var k;return j>0?k=ne(j,M):k=null,k===null?(M.needReadable=M.length<=M.highWaterMark,j=0):(M.length-=j,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),E!==j&&M.ended&&X(this)),k!==null&&this.emit("data",k),k};function F(j,M){if(c("onEofChunk"),!M.ended){if(M.decoder){var E=M.decoder.end();E&&E.length&&(M.buffer.push(E),M.length+=M.objectMode?1:E.length)}M.ended=!0,M.sync?H(j):(M.needReadable=!1,M.emittedReadable||(M.emittedReadable=!0,K(j)))}}function H(j){var M=j._readableState;c("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(c("emitReadable",M.flowing),M.emittedReadable=!0,Et.nextTick(K,j))}function K(j){var M=j._readableState;c("emitReadable_",M.destroyed,M.length,M.ended),!M.destroyed&&(M.length||M.ended)&&(j.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,Z(j)}function D(j,M){M.readingMore||(M.readingMore=!0,Et.nextTick(I,j,M))}function I(j,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var E=M.length;if(c("maybeReadMore read 0"),j.read(0),E===M.length)break}M.readingMore=!1}z.prototype._read=function(j){Q(this,new y("_read()"))},z.prototype.pipe=function(j,M){var E=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=j;break;case 1:b.pipes=[b.pipes,j];break;default:b.pipes.push(j);break}b.pipesCount+=1,c("pipe count=%d opts=%j",b.pipesCount,M);var k=(!M||M.end!==!1)&&j!==Et.stdout&&j!==Et.stderr,U=k?L:ae;b.endEmitted?Et.nextTick(U):E.once("end",U),j.on("unpipe",_);function _(le,ge){c("onunpipe"),le===E&&ge&&ge.hasUnpiped===!1&&(ge.hasUnpiped=!0,oe())}function L(){c("onend"),j.end()}var J=P(E);j.on("drain",J);var te=!1;function oe(){c("cleanup"),j.removeListener("close",Ae),j.removeListener("finish",ie),j.removeListener("drain",J),j.removeListener("error",ue),j.removeListener("unpipe",_),E.removeListener("end",L),E.removeListener("end",ae),E.removeListener("data",fe),te=!0,b.awaitDrain&&(!j._writableState||j._writableState.needDrain)&&J()}E.on("data",fe);function fe(le){c("ondata");var ge=j.write(le);c("dest.write",ge),ge===!1&&((b.pipesCount===1&&b.pipes===j||b.pipesCount>1&&W(b.pipes,j)!==-1)&&!te&&(c("false write response, pause",b.awaitDrain),b.awaitDrain++),E.pause())}function ue(le){c("onerror",le),ae(),j.removeListener("error",ue),e(j,"error")===0&&Q(j,le)}$(j,"error",ue);function Ae(){j.removeListener("finish",ie),ae()}j.once("close",Ae);function ie(){c("onfinish"),j.removeListener("close",Ae),ae()}j.once("finish",ie);function ae(){c("unpipe"),E.unpipe(j)}return j.emit("pipe",E),b.flowing||(c("pipe resume"),E.resume()),j};function P(j){return function(){var E=j._readableState;c("pipeOnDrain",E.awaitDrain),E.awaitDrain&&E.awaitDrain--,E.awaitDrain===0&&e(j,"data")&&(E.flowing=!0,Z(j))}}z.prototype.unpipe=function(j){var M=this._readableState,E={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return j&&j!==M.pipes?this:(j||(j=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,j&&j.emit("unpipe",this,E),this);if(!j){var b=M.pipes,k=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var U=0;U<k;U++)b[U].emit("unpipe",this,{hasUnpiped:!1});return this}var _=W(M.pipes,j);return _===-1?this:(M.pipes.splice(_,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),j.emit("unpipe",this,E),this)},z.prototype.on=function(j,M){var E=r.prototype.on.call(this,j,M),b=this._readableState;return j==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):j==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,c("on readable",b.length,b.reading),b.length?H(this):b.reading||Et.nextTick(V,this)),E},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(j,M){var E=r.prototype.removeListener.call(this,j,M);return j==="readable"&&Et.nextTick(T,this),E},z.prototype.removeAllListeners=function(j){var M=r.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&Et.nextTick(T,this),M};function T(j){var M=j._readableState;M.readableListening=j.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:j.listenerCount("data")>0&&j.resume()}function V(j){c("readable nexttick read 0"),j.read(0)}z.prototype.resume=function(){var j=this._readableState;return j.flowing||(c("resume"),j.flowing=!j.readableListening,ee(this,j)),j.paused=!1,this};function ee(j,M){M.resumeScheduled||(M.resumeScheduled=!0,Et.nextTick(se,j,M))}function se(j,M){c("resume",M.reading),M.reading||j.read(0),M.resumeScheduled=!1,j.emit("resume"),Z(j),M.flowing&&!M.reading&&j.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(j){var M=j._readableState;for(c("flow",M.flowing);M.flowing&&j.read()!==null;);}z.prototype.wrap=function(j){var M=this,E=this._readableState,b=!1;j.on("end",function(){if(c("wrapped end"),E.decoder&&!E.ended){var _=E.decoder.end();_&&_.length&&M.push(_)}M.push(null)}),j.on("data",function(_){if(c("wrapped data"),E.decoder&&(_=E.decoder.write(_)),!(E.objectMode&&_==null)&&!(!E.objectMode&&(!_||!_.length))){var L=M.push(_);L||(b=!0,j.pause())}});for(var k in j)this[k]===void 0&&typeof j[k]=="function"&&(this[k]=function(L){return function(){return j[L].apply(j,arguments)}}(k));for(var U=0;U<N.length;U++)j.on(N[U],this.emit.bind(this,N[U]));return this._read=function(_){c("wrapped _read",_),b&&(b=!1,j.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=Zbe()),S(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),z._fromList=ne,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(j,M){if(M.length===0)return null;var E;return M.objectMode?E=M.buffer.shift():!j||j>=M.length?(M.decoder?E=M.buffer.join(""):M.buffer.length===1?E=M.buffer.first():E=M.buffer.concat(M.length),M.buffer.clear()):E=M.buffer.consume(j,M.decoder),E}function X(j){var M=j._readableState;c("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,Et.nextTick(re,M,j))}function re(j,M){if(c("endReadableNT",j.endEmitted,j.length),!j.endEmitted&&j.length===0&&(j.endEmitted=!0,M.readable=!1,M.emit("end"),j.autoDestroy)){var E=M._writableState;(!E||E.autoDestroy&&E.finished)&&M.destroy()}}typeof Symbol=="function"&&(z.from=function(j,M){return x===void 0&&(x=Xbe()),x(z,j,M)});function W(j,M){for(var E=0,b=j.length;E<b;E++)if(j[E]===M)return E;return-1}return N3}var m_=Sd,zB=bA.codes,eEe=zB.ERR_METHOD_NOT_IMPLEMENTED,tEe=zB.ERR_MULTIPLE_CALLBACK,rEe=zB.ERR_TRANSFORM_ALREADY_TRANSFORMING,nEe=zB.ERR_TRANSFORM_WITH_LENGTH_0,YB=Yh();Tt(Sd,YB);function iEe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new tEe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function Sd(t){if(!(this instanceof Sd))return new Sd(t);YB.call(this,t),this._transformState={afterTransform:iEe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",oEe)}function oEe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){p9(t,e,r)}):p9(this,null,null)}Sd.prototype.push=function(t,e){return this._transformState.needTransform=!1,YB.prototype.push.call(this,t,e)};Sd.prototype._transform=function(t,e,r){r(new eEe("_transform()"))};Sd.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}};Sd.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Sd.prototype._destroy=function(t,e){YB.prototype._destroy.call(this,t,function(r){e(r)})};function p9(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new nEe;if(t._transformState.transforming)throw new rEe;return t.push(null)}var iq=TI,oq=m_;Tt(TI,oq);function TI(t){if(!(this instanceof TI))return new TI(t);oq.call(this,t)}TI.prototype._transform=function(t,e,r){r(null,t)};var P3;function sEe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var sq=bA.codes,aEe=sq.ERR_MISSING_ARGS,cEe=sq.ERR_STREAM_DESTROYED;function y9(t){if(t)throw t}function fEe(t){return t.setHeader&&typeof t.abort=="function"}function dEe(t,e,r,n){n=sEe(n);var o=!1;t.on("close",function(){o=!0}),P3===void 0&&(P3=jB),P3(t,{readable:e,writable:r},function(s){if(s)return n(s);o=!0,n()});var i=!1;return function(s){if(!o&&!i){if(i=!0,fEe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new cEe("pipe"))}}}function I9(t){t()}function lEe(t,e){return t.pipe(e)}function uEe(t){return!t.length||typeof t[t.length-1]!="function"?y9:t.pop()}function hEe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=uEe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new aEe("streams");var o,i=e.map(function(s,a){var c=a<e.length-1,d=a>0;return dEe(s,c,d,function(f){o||(o=f),f&&i.forEach(I9),!c&&(i.forEach(I9),n(o))})});return e.reduce(lEe)}var aq=hEe;(function(t,e){e=t.exports=I_(),e.Stream=e,e.Readable=e,e.Writable=y_(),e.Duplex=Yh(),e.Transform=m_,e.PassThrough=iq,e.finished=jB,e.pipeline=aq})(Sx,Sx.exports);var w_=Sx.exports,HE=Mt.Buffer,cq=w_.Transform,AEe=Tt;function gEe(t,e){if(!HE.isBuffer(t)&&typeof t!="string")throw new TypeError(e+" must be a string or a buffer")}function mu(t){cq.call(this),this._block=HE.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}AEe(mu,cq);mu.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(o){n=o}r(n)};mu.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};mu.prototype.update=function(t,e){if(gEe(t,"Data"),this._finalized)throw new Error("Digest already called");HE.isBuffer(t)||(t=HE.from(t,e));for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var i=0,s=t.length*8;s>0;++i)this._length[i]+=s,s=this._length[i]/4294967296|0,s>0&&(this._length[i]-=4294967296*s);return this};mu.prototype._update=function(){throw new Error("_update is not implemented")};mu.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};mu.prototype._digest=function(){throw new Error("_digest is not implemented")};var fq=mu,pEe=Tt,dq=fq,yEe=Mt.Buffer,IEe=new Array(16);function JB(){dq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}pEe(JB,dq);JB.prototype._update=function(){for(var t=IEe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,o=this._c,i=this._d;r=Gi(r,n,o,i,t[0],3614090360,7),i=Gi(i,r,n,o,t[1],3905402710,12),o=Gi(o,i,r,n,t[2],606105819,17),n=Gi(n,o,i,r,t[3],3250441966,22),r=Gi(r,n,o,i,t[4],4118548399,7),i=Gi(i,r,n,o,t[5],1200080426,12),o=Gi(o,i,r,n,t[6],2821735955,17),n=Gi(n,o,i,r,t[7],4249261313,22),r=Gi(r,n,o,i,t[8],1770035416,7),i=Gi(i,r,n,o,t[9],2336552879,12),o=Gi(o,i,r,n,t[10],4294925233,17),n=Gi(n,o,i,r,t[11],2304563134,22),r=Gi(r,n,o,i,t[12],1804603682,7),i=Gi(i,r,n,o,t[13],4254626195,12),o=Gi(o,i,r,n,t[14],2792965006,17),n=Gi(n,o,i,r,t[15],1236535329,22),r=qi(r,n,o,i,t[1],4129170786,5),i=qi(i,r,n,o,t[6],3225465664,9),o=qi(o,i,r,n,t[11],643717713,14),n=qi(n,o,i,r,t[0],3921069994,20),r=qi(r,n,o,i,t[5],3593408605,5),i=qi(i,r,n,o,t[10],38016083,9),o=qi(o,i,r,n,t[15],3634488961,14),n=qi(n,o,i,r,t[4],3889429448,20),r=qi(r,n,o,i,t[9],568446438,5),i=qi(i,r,n,o,t[14],3275163606,9),o=qi(o,i,r,n,t[3],4107603335,14),n=qi(n,o,i,r,t[8],1163531501,20),r=qi(r,n,o,i,t[13],2850285829,5),i=qi(i,r,n,o,t[2],4243563512,9),o=qi(o,i,r,n,t[7],1735328473,14),n=qi(n,o,i,r,t[12],2368359562,20),r=$i(r,n,o,i,t[5],4294588738,4),i=$i(i,r,n,o,t[8],2272392833,11),o=$i(o,i,r,n,t[11],1839030562,16),n=$i(n,o,i,r,t[14],4259657740,23),r=$i(r,n,o,i,t[1],2763975236,4),i=$i(i,r,n,o,t[4],1272893353,11),o=$i(o,i,r,n,t[7],4139469664,16),n=$i(n,o,i,r,t[10],3200236656,23),r=$i(r,n,o,i,t[13],681279174,4),i=$i(i,r,n,o,t[0],3936430074,11),o=$i(o,i,r,n,t[3],3572445317,16),n=$i(n,o,i,r,t[6],76029189,23),r=$i(r,n,o,i,t[9],3654602809,4),i=$i(i,r,n,o,t[12],3873151461,11),o=$i(o,i,r,n,t[15],530742520,16),n=$i(n,o,i,r,t[2],3299628645,23),r=ji(r,n,o,i,t[0],4096336452,6),i=ji(i,r,n,o,t[7],1126891415,10),o=ji(o,i,r,n,t[14],2878612391,15),n=ji(n,o,i,r,t[5],4237533241,21),r=ji(r,n,o,i,t[12],1700485571,6),i=ji(i,r,n,o,t[3],2399980690,10),o=ji(o,i,r,n,t[10],4293915773,15),n=ji(n,o,i,r,t[1],2240044497,21),r=ji(r,n,o,i,t[8],1873313359,6),i=ji(i,r,n,o,t[15],4264355552,10),o=ji(o,i,r,n,t[6],2734768916,15),n=ji(n,o,i,r,t[13],1309151649,21),r=ji(r,n,o,i,t[4],4149444226,6),i=ji(i,r,n,o,t[11],3174756917,10),o=ji(o,i,r,n,t[2],718787259,15),n=ji(n,o,i,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+o|0,this._d=this._d+i|0};JB.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=yEe.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function VB(t,e){return t<<e|t>>>32-e}function Gi(t,e,r,n,o,i,s){return VB(t+(e&r|~e&n)+o+i|0,s)+e|0}function qi(t,e,r,n,o,i,s){return VB(t+(e&n|r&~n)+o+i|0,s)+e|0}function $i(t,e,r,n,o,i,s){return VB(t+(e^r^n)+o+i|0,s)+e|0}function ji(t,e,r,n,o,i,s){return VB(t+(r^(e|~n))+o+i|0,s)+e|0}var b_=JB,O3=qe.Buffer,mEe=Tt,lq=fq,wEe=new Array(16),Zp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Xp=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ey=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ty=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ry=[0,1518500249,1859775393,2400959708,2840853838],ny=[1352829926,1548603684,1836072691,2053994217,0];function WB(){lq.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}mEe(WB,lq);WB.prototype._update=function(){for(var t=wEe,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=this._a|0,c=this._b|0,d=this._c|0,f=this._d|0,l=this._e|0,u=0;u<80;u+=1){var p,A;u<16?(p=m9(r,n,o,i,s,t[Zp[u]],ry[0],ey[u]),A=v9(a,c,d,f,l,t[Xp[u]],ny[0],ty[u])):u<32?(p=w9(r,n,o,i,s,t[Zp[u]],ry[1],ey[u]),A=E9(a,c,d,f,l,t[Xp[u]],ny[1],ty[u])):u<48?(p=b9(r,n,o,i,s,t[Zp[u]],ry[2],ey[u]),A=b9(a,c,d,f,l,t[Xp[u]],ny[2],ty[u])):u<64?(p=E9(r,n,o,i,s,t[Zp[u]],ry[3],ey[u]),A=w9(a,c,d,f,l,t[Xp[u]],ny[3],ty[u])):(p=v9(r,n,o,i,s,t[Zp[u]],ry[4],ey[u]),A=m9(a,c,d,f,l,t[Xp[u]],ny[4],ty[u])),r=s,s=i,i=Jh(o,10),o=n,n=p,a=l,l=f,f=Jh(d,10),d=c,c=A}var h=this._b+o+f|0;this._b=this._c+i+l|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+d|0,this._a=h};WB.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=O3.alloc?O3.alloc(20):new O3(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function Jh(t,e){return t<<e|t>>>32-e}function m9(t,e,r,n,o,i,s,a){return Jh(t+(e^r^n)+i+s|0,a)+o|0}function w9(t,e,r,n,o,i,s,a){return Jh(t+(e&r|~e&n)+i+s|0,a)+o|0}function b9(t,e,r,n,o,i,s,a){return Jh(t+((e|~r)^n)+i+s|0,a)+o|0}function E9(t,e,r,n,o,i,s,a){return Jh(t+(e&n|r&~n)+i+s|0,a)+o|0}function v9(t,e,r,n,o,i,s,a){return Jh(t+(e^(r|~n))+i+s|0,a)+o|0}var E_=WB,uq={exports:{}},hq=Mt.Buffer;function ZB(t,e){this._block=hq.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}ZB.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=hq.from(t,e));for(var r=this._block,n=this._blockSize,o=t.length,i=this._len,s=0;s<o;){for(var a=i%n,c=Math.min(o-s,n-a),d=0;d<c;d++)r[a+d]=t[s+d];i+=c,s+=c,i%n===0&&this._update(r)}return this._len+=o,this};ZB.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,o=(r-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i};ZB.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var dp=ZB,bEe=Tt,Aq=dp,EEe=Mt.Buffer,vEe=[1518500249,1859775393,-1894007588,-899497514],BEe=new Array(80);function km(){this.init(),this._w=BEe,Aq.call(this,64,56)}bEe(km,Aq);km.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function CEe(t){return t<<5|t>>>27}function QEe(t){return t<<30|t>>>2}function xEe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}km.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var d=~~(c/20),f=CEe(r)+xEe(d,n,o,i)+s+e[c]+vEe[d]|0;s=i,i=o,o=QEe(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0};km.prototype._hash=function(){var t=EEe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var SEe=km,_Ee=Tt,gq=dp,DEe=Mt.Buffer,kEe=[1518500249,1859775393,-1894007588,-899497514],TEe=new Array(80);function Tm(){this.init(),this._w=TEe,gq.call(this,64,56)}_Ee(Tm,gq);Tm.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function FEe(t){return t<<1|t>>>31}function MEe(t){return t<<5|t>>>27}function UEe(t){return t<<30|t>>>2}function REe(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Tm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=FEe(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var d=~~(c/20),f=MEe(r)+REe(d,n,o,i)+s+e[c]+kEe[d]|0;s=i,i=o,o=UEe(n),n=r,r=f}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0};Tm.prototype._hash=function(){var t=DEe.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var NEe=Tm,PEe=Tt,pq=dp,OEe=Mt.Buffer,KEe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],HEe=new Array(64);function Fm(){this.init(),this._w=HEe,pq.call(this,64,56)}PEe(Fm,pq);Fm.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function LEe(t,e,r){return r^t&(e^r)}function GEe(t,e,r){return t&e|r&(t|e)}function qEe(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function $Ee(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function jEe(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function zEe(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Fm.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,o=this._c|0,i=this._d|0,s=this._e|0,a=this._f|0,c=this._g|0,d=this._h|0,f=0;f<16;++f)e[f]=t.readInt32BE(f*4);for(;f<64;++f)e[f]=zEe(e[f-2])+e[f-7]+jEe(e[f-15])+e[f-16]|0;for(var l=0;l<64;++l){var u=d+$Ee(s)+LEe(s,a,c)+KEe[l]+e[l]|0,p=qEe(r)+GEe(r,n,o)|0;d=c,c=a,a=s,s=i+u|0,i=o,o=n,n=r,r=u+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=i+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=d+this._h|0};Fm.prototype._hash=function(){var t=OEe.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var yq=Fm,YEe=Tt,JEe=yq,VEe=dp,WEe=Mt.Buffer,ZEe=new Array(64);function XB(){this.init(),this._w=ZEe,VEe.call(this,64,56)}YEe(XB,JEe);XB.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};XB.prototype._hash=function(){var t=WEe.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var XEe=XB,eve=Tt,Iq=dp,tve=Mt.Buffer,B9=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],rve=new Array(160);function Mm(){this.init(),this._w=rve,Iq.call(this,128,112)}eve(Mm,Iq);Mm.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function C9(t,e,r){return r^t&(e^r)}function Q9(t,e,r){return t&e|r&(t|e)}function x9(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function S9(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function nve(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function ive(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function ove(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function sve(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function $n(t,e){return t>>>0<e>>>0?1:0}Mm.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,o=this._ch|0,i=this._dh|0,s=this._eh|0,a=this._fh|0,c=this._gh|0,d=this._hh|0,f=this._al|0,l=this._bl|0,u=this._cl|0,p=this._dl|0,A=this._el|0,h=this._fl|0,y=this._gl|0,v=this._hl|0,B=0;B<32;B+=2)e[B]=t.readInt32BE(B*4),e[B+1]=t.readInt32BE(B*4+4);for(;B<160;B+=2){var S=e[B-30],x=e[B-15*2+1],Q=nve(S,x),N=ive(x,S);S=e[B-2*2],x=e[B-2*2+1];var $=ove(S,x),G=sve(x,S),z=e[B-7*2],Y=e[B-7*2+1],R=e[B-16*2],C=e[B-16*2+1],m=N+Y|0,g=Q+z+$n(m,N)|0;m=m+G|0,g=g+$+$n(m,G)|0,m=m+C|0,g=g+R+$n(m,C)|0,e[B]=g,e[B+1]=m}for(var w=0;w<160;w+=2){g=e[w],m=e[w+1];var F=Q9(r,n,o),H=Q9(f,l,u),K=x9(r,f),D=x9(f,r),I=S9(s,A),P=S9(A,s),T=B9[w],V=B9[w+1],ee=C9(s,a,c),se=C9(A,h,y),Z=v+P|0,ne=d+I+$n(Z,v)|0;Z=Z+se|0,ne=ne+ee+$n(Z,se)|0,Z=Z+V|0,ne=ne+T+$n(Z,V)|0,Z=Z+m|0,ne=ne+g+$n(Z,m)|0;var X=D+H|0,re=K+F+$n(X,D)|0;d=c,v=y,c=a,y=h,a=s,h=A,A=p+Z|0,s=i+ne+$n(A,p)|0,i=o,p=u,o=n,u=l,n=r,l=f,f=Z+X|0,r=ne+re+$n(f,Z)|0}this._al=this._al+f|0,this._bl=this._bl+l|0,this._cl=this._cl+u|0,this._dl=this._dl+p|0,this._el=this._el+A|0,this._fl=this._fl+h|0,this._gl=this._gl+y|0,this._hl=this._hl+v|0,this._ah=this._ah+r+$n(this._al,f)|0,this._bh=this._bh+n+$n(this._bl,l)|0,this._ch=this._ch+o+$n(this._cl,u)|0,this._dh=this._dh+i+$n(this._dl,p)|0,this._eh=this._eh+s+$n(this._el,A)|0,this._fh=this._fh+a+$n(this._fl,h)|0,this._gh=this._gh+c+$n(this._gl,y)|0,this._hh=this._hh+d+$n(this._hl,v)|0};Mm.prototype._hash=function(){var t=tve.allocUnsafe(64);function e(r,n,o){t.writeInt32BE(r,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var mq=Mm,ave=Tt,cve=mq,fve=dp,dve=Mt.Buffer,lve=new Array(160);function eC(){this.init(),this._w=lve,fve.call(this,128,112)}ave(eC,cve);eC.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};eC.prototype._hash=function(){var t=dve.allocUnsafe(48);function e(r,n,o){t.writeInt32BE(r,o),t.writeInt32BE(n,o+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var uve=eC,Nd=uq.exports=function(e){e=e.toLowerCase();var r=Nd[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Nd.sha=SEe;Nd.sha1=NEe;Nd.sha224=XEe;Nd.sha256=yq;Nd.sha384=uve;Nd.sha512=mq;var v_=uq.exports,hve=ua,B_=sA.EventEmitter,Ave=Tt;Ave(ua,B_);ua.Readable=I_();ua.Writable=y_();ua.Duplex=Yh();ua.Transform=m_;ua.PassThrough=iq;ua.finished=jB;ua.pipeline=aq;ua.Stream=ua;function ua(){B_.call(this)}ua.prototype.pipe=function(t,e){var r=this;function n(f){t.writable&&t.write(f)===!1&&r.pause&&r.pause()}r.on("data",n);function o(){r.readable&&r.resume&&r.resume()}t.on("drain",o),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));var i=!1;function s(){i||(i=!0,t.end())}function a(){i||(i=!0,typeof t.destroy=="function"&&t.destroy())}function c(f){if(d(),B_.listenerCount(this,"error")===0)throw f}r.on("error",c),t.on("error",c);function d(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",d),r.removeListener("close",d),t.removeListener("close",d)}return r.on("end",d),r.on("close",d),t.on("close",d),t.emit("pipe",r),t};var wq=Mt.Buffer,bq=hve.Transform,gve=dI.StringDecoder,pve=Tt;function nc(t){bq.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}pve(nc,bq);nc.prototype.update=function(t,e,r){typeof t=="string"&&(t=wq.from(t,e));var n=this._update(t);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)};nc.prototype.setAutoPadding=function(){};nc.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};nc.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};nc.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};nc.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(o){n=o}finally{r(n)}};nc.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};nc.prototype._finalOrDigest=function(t){var e=this.__final()||wq.alloc(0);return t&&(e=this._toString(e,t,!0)),e};nc.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new gve(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var wu=nc,yve=Tt,Ive=b_,mve=E_,wve=v_,Eq=wu;function tC(t){Eq.call(this,"digest"),this._hash=t}yve(tC,Eq);tC.prototype._update=function(t){this._hash.update(t)};tC.prototype._final=function(){return this._hash.digest()};var Um=function(e){return e=e.toLowerCase(),e==="md5"?new Ive:e==="rmd160"||e==="ripemd160"?new mve:new tC(wve(e))},bve=Tt,yh=Mt.Buffer,vq=wu,Eve=yh.alloc(128),qA=64;function rC(t,e){vq.call(this,"digest"),typeof e=="string"&&(e=yh.from(e)),this._alg=t,this._key=e,e.length>qA?e=t(e):e.length<qA&&(e=yh.concat([e,Eve],qA));for(var r=this._ipad=yh.allocUnsafe(qA),n=this._opad=yh.allocUnsafe(qA),o=0;o<qA;o++)r[o]=e[o]^54,n[o]=e[o]^92;this._hash=[r]}bve(rC,vq);rC.prototype._update=function(t){this._hash.push(t)};rC.prototype._final=function(){var t=this._alg(yh.concat(this._hash));return this._alg(yh.concat([this._opad,t]))};var vve=rC,Bve=b_,Bq=function(t){return new Bve().update(t).digest()},Cve=Tt,Qve=vve,Cq=wu,my=Mt.Buffer,xve=Bq,Nx=E_,Px=v_,Sve=my.alloc(128);function FI(t,e){Cq.call(this,"digest"),typeof e=="string"&&(e=my.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new Nx:Px(t);e=n.update(e).digest()}else e.length<r&&(e=my.concat([e,Sve],r));for(var o=this._ipad=my.allocUnsafe(r),i=this._opad=my.allocUnsafe(r),s=0;s<r;s++)o[s]=e[s]^54,i[s]=e[s]^92;this._hash=t==="rmd160"?new Nx:Px(t),this._hash.update(o)}Cve(FI,Cq);FI.prototype._update=function(t){this._hash.update(t)};FI.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new Nx:Px(this._alg);return e.update(this._opad).update(t).digest()};var Qq=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new FI("rmd160",r):e==="md5"?new Qve(xve,r):new FI(e,r)};const _ve={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Dve={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},kve={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},Tve={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},Fve={sign:"ecdsa",hash:"sha256",id:""},Mve={sign:"ecdsa",hash:"sha224",id:""},Uve={sign:"ecdsa",hash:"sha384",id:""},Rve={sign:"ecdsa",hash:"sha512",id:""},Nve={sign:"dsa",hash:"sha1",id:""},Pve={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},Ove={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},xq={sha224WithRSAEncryption:_ve,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Dve,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:kve,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:Tve,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:Fve,sha224:Mve,sha384:Uve,sha512:Rve,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:Nve,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:Pve,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:Ove,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var Kve=xq,nC={},Hve=Math.pow(2,30)-1,Sq=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>Hve||e!==e)throw new TypeError("Bad key length")},sb;if(globalThis.process&&globalThis.process.browser)sb="utf-8";else if(globalThis.process&&globalThis.process.version){var Lve=parseInt(Et.version.split(".")[0].slice(1),10);sb=Lve>=6?"utf-8":"binary"}else sb="utf-8";var _q=sb,K3=Mt.Buffer,Dq=function(t,e,r){if(K3.isBuffer(t))return t;if(typeof t=="string")return K3.from(t,e);if(ArrayBuffer.isView(t))return K3.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},Gve=Bq,qve=E_,$ve=v_,Ih=Mt.Buffer,jve=Sq,_9=_q,D9=Dq,zve=Ih.alloc(128),ab={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function kq(t,e,r){var n=Yve(t),o=t==="sha512"||t==="sha384"?128:64;e.length>o?e=n(e):e.length<o&&(e=Ih.concat([e,zve],o));for(var i=Ih.allocUnsafe(o+ab[t]),s=Ih.allocUnsafe(o+ab[t]),a=0;a<o;a++)i[a]=e[a]^54,s[a]=e[a]^92;var c=Ih.allocUnsafe(o+r+4);i.copy(c,0,0,o),this.ipad1=c,this.ipad2=i,this.opad=s,this.alg=t,this.blocksize=o,this.hash=n,this.size=ab[t]}kq.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Yve(t){function e(n){return $ve(t).update(n).digest()}function r(n){return new qve().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?Gve:e}function Jve(t,e,r,n,o){jve(r,n),t=D9(t,_9,"Password"),e=D9(e,_9,"Salt"),o=o||"sha1";var i=new kq(o,t,e.length),s=Ih.allocUnsafe(n),a=Ih.allocUnsafe(e.length+4);e.copy(a,0,0,e.length);for(var c=0,d=ab[o],f=Math.ceil(n/d),l=1;l<=f;l++){a.writeUInt32BE(l,e.length);for(var u=i.run(a,i.ipad1),p=u,A=1;A<r;A++){p=i.run(p,i.ipad2);for(var h=0;h<d;h++)u[h]^=p[h]}u.copy(s,c),c+=d}return s}var Tq=Jve,Fq=Mt.Buffer,Vve=Sq,k9=_q,T9=Tq,F9=Dq,f1,Hy=globalThis.crypto&&globalThis.crypto.subtle,Wve={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},H3=[];function Zve(t){if(globalThis.process&&!globalThis.process.browser||!Hy||!Hy.importKey||!Hy.deriveBits)return Promise.resolve(!1);if(H3[t]!==void 0)return H3[t];f1=f1||Fq.alloc(8);var e=Mq(f1,f1,10,128,t).then(function(){return!0}).catch(function(){return!1});return H3[t]=e,e}var Hu;function Ox(){return Hu||(globalThis.process&&globalThis.process.nextTick?Hu=globalThis.process.nextTick:globalThis.queueMicrotask?Hu=globalThis.queueMicrotask:globalThis.setImmediate?Hu=globalThis.setImmediate:Hu=globalThis.setTimeout,Hu)}function Mq(t,e,r,n,o){return Hy.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i){return Hy.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:o}},i,n<<3)}).then(function(i){return Fq.from(i)})}function Xve(t,e){t.then(function(r){Ox()(function(){e(null,r)})},function(r){Ox()(function(){e(r)})})}var eBe=function(t,e,r,n,o,i){typeof o=="function"&&(i=o,o=void 0),o=o||"sha1";var s=Wve[o.toLowerCase()];if(!s||typeof globalThis.Promise!="function"){Ox()(function(){var a;try{a=T9(t,e,r,n,o)}catch(c){return i(c)}i(null,a)});return}if(Vve(r,n),t=F9(t,k9,"Password"),e=F9(e,k9,"Salt"),typeof i!="function")throw new Error("No callback provided to pbkdf2");Xve(Zve(s).then(function(a){return a?Mq(t,e,r,n,s):T9(t,e,r,n,o)}),i)};nC.pbkdf2=eBe;nC.pbkdf2Sync=Tq;var ec={},lp={},Ts={};Ts.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Ts.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Ts.ip=function(e,r,n,o){for(var i=0,s=0,a=6;a>=0;a-=2){for(var c=0;c<=24;c+=8)i<<=1,i|=r>>>c+a&1;for(var c=0;c<=24;c+=8)i<<=1,i|=e>>>c+a&1}for(var a=6;a>=0;a-=2){for(var c=1;c<=25;c+=8)s<<=1,s|=r>>>c+a&1;for(var c=1;c<=25;c+=8)s<<=1,s|=e>>>c+a&1}n[o+0]=i>>>0,n[o+1]=s>>>0};Ts.rip=function(e,r,n,o){for(var i=0,s=0,a=0;a<4;a++)for(var c=24;c>=0;c-=8)i<<=1,i|=r>>>c+a&1,i<<=1,i|=e>>>c+a&1;for(var a=4;a<8;a++)for(var c=24;c>=0;c-=8)s<<=1,s|=r>>>c+a&1,s<<=1,s|=e>>>c+a&1;n[o+0]=i>>>0,n[o+1]=s>>>0};Ts.pc1=function(e,r,n,o){for(var i=0,s=0,a=7;a>=5;a--){for(var c=0;c<=24;c+=8)i<<=1,i|=r>>c+a&1;for(var c=0;c<=24;c+=8)i<<=1,i|=e>>c+a&1}for(var c=0;c<=24;c+=8)i<<=1,i|=r>>c+a&1;for(var a=1;a<=3;a++){for(var c=0;c<=24;c+=8)s<<=1,s|=r>>c+a&1;for(var c=0;c<=24;c+=8)s<<=1,s|=e>>c+a&1}for(var c=0;c<=24;c+=8)s<<=1,s|=e>>c+a&1;n[o+0]=i>>>0,n[o+1]=s>>>0};Ts.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var d1=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Ts.pc2=function(e,r,n,o){for(var i=0,s=0,a=d1.length>>>1,c=0;c<a;c++)i<<=1,i|=e>>>d1[c]&1;for(var c=a;c<d1.length;c++)s<<=1,s|=r>>>d1[c]&1;n[o+0]=i>>>0,n[o+1]=s>>>0};Ts.expand=function(e,r,n){var o=0,i=0;o=(e&1)<<5|e>>>27;for(var s=23;s>=15;s-=4)o<<=6,o|=e>>>s&63;for(var s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(e&31)<<1|e>>>31,r[n+0]=o>>>0,r[n+1]=i>>>0};var M9=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Ts.substitute=function(e,r){for(var n=0,o=0;o<4;o++){var i=e>>>18-o*6&63,s=M9[o*64+i];n<<=4,n|=s}for(var o=0;o<4;o++){var i=r>>>18-o*6&63,s=M9[4*64+o*64+i];n<<=4,n|=s}return n>>>0};var U9=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Ts.permute=function(e){for(var r=0,n=0;n<U9.length;n++)r<<=1,r|=e>>>U9[n]&1;return r>>>0};Ts.padSplit=function(e,r,n){for(var o=e.toString(2);o.length<r;)o="0"+o;for(var i=[],s=0;s<r;s+=n)i.push(o.slice(s,s+n));return i.join(" ")};var Ia=Uq;function Uq(t,e){if(!t)throw new Error(e||"Assertion failed")}Uq.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var tBe=Ia;function ma(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}var C_=ma;ma.prototype._init=function(){};ma.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};ma.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),o=0;o<n;o++)this.buffer[this.bufferOff+o]=e[r+o];return this.bufferOff+=n,n};ma.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};ma.prototype._updateEncrypt=function(e){var r=0,n=0,o=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(o*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var s=e.length-(e.length-r)%this.blockSize;r<s;r+=this.blockSize)this._update(e,r,i,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return i};ma.prototype._updateDecrypt=function(e){for(var r=0,n=0,o=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(o*this.blockSize);o>0;o--)r+=this._buffer(e,r),n+=this._flushBuffer(i,n);return r+=this._buffer(e,r),i};ma.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};ma.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};ma.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};ma.prototype._unpad=function(e){return e};ma.prototype._finalDecrypt=function(){tBe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var Rq=Ia,rBe=Tt,Pn=Ts,Nq=C_;function nBe(){this.tmp=new Array(2),this.keys=null}function sf(t){Nq.call(this,t);var e=new nBe;this._desState=e,this.deriveKeys(e,t.key)}rBe(sf,Nq);var Pq=sf;sf.create=function(e){return new sf(e)};var iBe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];sf.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),Rq.equal(r.length,this.blockSize,"Invalid key length");var n=Pn.readUInt32BE(r,0),o=Pn.readUInt32BE(r,4);Pn.pc1(n,o,e.tmp,0),n=e.tmp[0],o=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var s=iBe[i>>>1];n=Pn.r28shl(n,s),o=Pn.r28shl(o,s),Pn.pc2(n,o,e.keys,i)}};sf.prototype._update=function(e,r,n,o){var i=this._desState,s=Pn.readUInt32BE(e,r),a=Pn.readUInt32BE(e,r+4);Pn.ip(s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],this.type==="encrypt"?this._encrypt(i,s,a,i.tmp,0):this._decrypt(i,s,a,i.tmp,0),s=i.tmp[0],a=i.tmp[1],Pn.writeUInt32BE(n,s,o),Pn.writeUInt32BE(n,a,o+4)};sf.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,o=r;o<e.length;o++)e[o]=n;return!0};sf.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)Rq.equal(e[n],r);return e.slice(0,e.length-r)};sf.prototype._encrypt=function(e,r,n,o,i){for(var s=r,a=n,c=0;c<e.keys.length;c+=2){var d=e.keys[c],f=e.keys[c+1];Pn.expand(a,e.tmp,0),d^=e.tmp[0],f^=e.tmp[1];var l=Pn.substitute(d,f),u=Pn.permute(l),p=a;a=(s^u)>>>0,s=p}Pn.rip(a,s,o,i)};sf.prototype._decrypt=function(e,r,n,o,i){for(var s=n,a=r,c=e.keys.length-2;c>=0;c-=2){var d=e.keys[c],f=e.keys[c+1];Pn.expand(s,e.tmp,0),d^=e.tmp[0],f^=e.tmp[1];var l=Pn.substitute(d,f),u=Pn.permute(l),p=s;s=(a^u)>>>0,a=p}Pn.rip(s,a,o,i)};var Oq={},oBe=Ia,sBe=Tt,LE={};function aBe(t){oBe.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function cBe(t){function e(i){t.call(this,i),this._cbcInit()}sBe(e,t);for(var r=Object.keys(LE),n=0;n<r.length;n++){var o=r[n];e.prototype[o]=LE[o]}return e.create=function(s){return new e(s)},e}Oq.instantiate=cBe;LE._cbcInit=function(){var e=new aBe(this.options.iv);this._cbcState=e};LE._update=function(e,r,n,o){var i=this._cbcState,s=this.constructor.super_.prototype,a=i.iv;if(this.type==="encrypt"){for(var c=0;c<this.blockSize;c++)a[c]^=e[r+c];s._update.call(this,a,0,n,o);for(var c=0;c<this.blockSize;c++)a[c]=n[o+c]}else{s._update.call(this,e,r,n,o);for(var c=0;c<this.blockSize;c++)n[o+c]^=a[c];for(var c=0;c<this.blockSize;c++)a[c]=e[r+c]}};var fBe=Ia,dBe=Tt,Kq=C_,wl=Pq;function lBe(t,e){fBe.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),o=e.slice(16,24);t==="encrypt"?this.ciphers=[wl.create({type:"encrypt",key:r}),wl.create({type:"decrypt",key:n}),wl.create({type:"encrypt",key:o})]:this.ciphers=[wl.create({type:"decrypt",key:o}),wl.create({type:"encrypt",key:n}),wl.create({type:"decrypt",key:r})]}function Vh(t){Kq.call(this,t);var e=new lBe(this.type,this.options.key);this._edeState=e}dBe(Vh,Kq);var uBe=Vh;Vh.create=function(e){return new Vh(e)};Vh.prototype._update=function(e,r,n,o){var i=this._edeState;i.ciphers[0]._update(e,r,n,o),i.ciphers[1]._update(n,o,n,o),i.ciphers[2]._update(n,o,n,o)};Vh.prototype._pad=wl.prototype._pad;Vh.prototype._unpad=wl.prototype._unpad;lp.utils=Ts;lp.Cipher=C_;lp.DES=Pq;lp.CBC=Oq;lp.EDE=uBe;var Hq=wu,Sf=lp,hBe=Tt,sh=Mt.Buffer,MI={"des-ede3-cbc":Sf.CBC.instantiate(Sf.EDE),"des-ede3":Sf.EDE,"des-ede-cbc":Sf.CBC.instantiate(Sf.EDE),"des-ede":Sf.EDE,"des-cbc":Sf.CBC.instantiate(Sf.DES),"des-ecb":Sf.DES};MI.des=MI["des-cbc"];MI.des3=MI["des-ede3-cbc"];var ABe=iC;hBe(iC,Hq);function iC(t){Hq.call(this);var e=t.mode.toLowerCase(),r=MI[e],n;t.decrypt?n="decrypt":n="encrypt";var o=t.key;sh.isBuffer(o)||(o=sh.from(o)),(e==="des-ede"||e==="des-ede-cbc")&&(o=sh.concat([o,o.slice(0,8)]));var i=t.iv;sh.isBuffer(i)||(i=sh.from(i)),this._des=r.create({key:o,iv:i,type:n})}iC.prototype._update=function(t){return sh.from(this._des.update(t))};iC.prototype._final=function(){return sh.from(this._des.final())};var Ds={},Q_={},x_={};x_.encrypt=function(t,e){return t._cipher.encryptBlock(e)};x_.decrypt=function(t,e){return t._cipher.decryptBlock(e)};var S_={},Rm=function(e,r){for(var n=Math.min(e.length,r.length),o=new qe.Buffer(n),i=0;i<n;++i)o[i]=e[i]^r[i];return o},Lq=Rm;S_.encrypt=function(t,e){var r=Lq(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};S_.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return Lq(n,r)};var Gq={},wy=Mt.Buffer,gBe=Rm;function R9(t,e,r){var n=e.length,o=gBe(e,t._cache);return t._cache=t._cache.slice(n),t._prev=wy.concat([t._prev,r?e:o]),o}Gq.encrypt=function(t,e,r){for(var n=wy.allocUnsafe(0),o;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=wy.allocUnsafe(0)),t._cache.length<=e.length)o=t._cache.length,n=wy.concat([n,R9(t,e.slice(0,o),r)]),e=e.slice(o);else{n=wy.concat([n,R9(t,e,r)]);break}return n};var qq={},Kx=Mt.Buffer;function pBe(t,e,r){var n=t._cipher.encryptBlock(t._prev),o=n[0]^e;return t._prev=Kx.concat([t._prev.slice(1),Kx.from([r?e:o])]),o}qq.encrypt=function(t,e,r){for(var n=e.length,o=Kx.allocUnsafe(n),i=-1;++i<n;)o[i]=pBe(t,e[i],r);return o};var $q={},cb=Mt.Buffer;function yBe(t,e,r){for(var n,o=-1,i=8,s=0,a,c;++o<i;)n=t._cipher.encryptBlock(t._prev),a=e&1<<7-o?128:0,c=n[0]^a,s+=(c&128)>>o%8,t._prev=IBe(t._prev,r?a:c);return s}function IBe(t,e){var r=t.length,n=-1,o=cb.allocUnsafe(t.length);for(t=cb.concat([t,cb.from([e])]);++n<r;)o[n]=t[n]<<1|t[n+1]>>7;return o}$q.encrypt=function(t,e,r){for(var n=e.length,o=cb.allocUnsafe(n),i=-1;++i<n;)o[i]=yBe(t,e[i],r);return o};var jq={},mBe=Rm;function wBe(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}jq.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=qe.Buffer.concat([t._cache,wBe(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),mBe(e,r)};var Hx={};function bBe(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}var zq=bBe,EBe=Rm,N9=Mt.Buffer,vBe=zq;function BBe(t){var e=t._cipher.encryptBlockRaw(t._prev);return vBe(t._prev),e}var L3=16;Hx.encrypt=function(t,e){var r=Math.ceil(e.length/L3),n=t._cache.length;t._cache=N9.concat([t._cache,N9.allocUnsafe(r*L3)]);for(var o=0;o<r;o++){var i=BBe(t),s=n+o*L3;t._cache.writeUInt32BE(i[0],s+0),t._cache.writeUInt32BE(i[1],s+4),t._cache.writeUInt32BE(i[2],s+8),t._cache.writeUInt32BE(i[3],s+12)}var a=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),EBe(e,a)};const CBe={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},QBe={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},xBe={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},Yq={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:CBe,aes192:QBe,aes256:xBe,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var SBe={ECB:x_,CBC:S_,CFB:Gq,CFB8:qq,CFB1:$q,OFB:jq,CTR:Hx,GCM:Hx},fb=Yq;for(var P9 in fb)fb[P9].module=SBe[fb[P9].mode];var __=fb,Nm={},GE=Mt.Buffer;function D_(t){GE.isBuffer(t)||(t=GE.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function G3(t){for(var e=0;e<t.length;t++)t[e]=0}function Jq(t,e,r,n,o){for(var i=r[0],s=r[1],a=r[2],c=r[3],d=t[0]^e[0],f=t[1]^e[1],l=t[2]^e[2],u=t[3]^e[3],p,A,h,y,v=4,B=1;B<o;B++)p=i[d>>>24]^s[f>>>16&255]^a[l>>>8&255]^c[u&255]^e[v++],A=i[f>>>24]^s[l>>>16&255]^a[u>>>8&255]^c[d&255]^e[v++],h=i[l>>>24]^s[u>>>16&255]^a[d>>>8&255]^c[f&255]^e[v++],y=i[u>>>24]^s[d>>>16&255]^a[f>>>8&255]^c[l&255]^e[v++],d=p,f=A,l=h,u=y;return p=(n[d>>>24]<<24|n[f>>>16&255]<<16|n[l>>>8&255]<<8|n[u&255])^e[v++],A=(n[f>>>24]<<24|n[l>>>16&255]<<16|n[u>>>8&255]<<8|n[d&255])^e[v++],h=(n[l>>>24]<<24|n[u>>>16&255]<<16|n[d>>>8&255]<<8|n[f&255])^e[v++],y=(n[u>>>24]<<24|n[d>>>16&255]<<16|n[f>>>8&255]<<8|n[l&255])^e[v++],p=p>>>0,A=A>>>0,h=h>>>0,y=y>>>0,[p,A,h,y]}var _Be=[0,1,2,4,8,16,32,64,128,27,54],Qn=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],o=[[],[],[],[]],i=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var d=a^a<<1^a<<2^a<<3^a<<4;d=d>>>8^d&255^99,r[s]=d,n[d]=s;var f=t[s],l=t[f],u=t[l],p=t[d]*257^d*16843008;o[0][s]=p<<24|p>>>8,o[1][s]=p<<16|p>>>16,o[2][s]=p<<8|p>>>24,o[3][s]=p,p=u*16843009^l*65537^f*257^s*16843008,i[0][d]=p<<24|p>>>8,i[1][d]=p<<16|p>>>16,i[2][d]=p<<8|p>>>24,i[3][d]=p,s===0?s=a=1:(s=f^t[t[t[u^f]]],a^=t[t[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:i}}();function ha(t){this._key=D_(t),this._reset()}ha.blockSize=4*4;ha.keySize=256/8;ha.prototype.blockSize=ha.blockSize;ha.prototype.keySize=ha.keySize;ha.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,o=[],i=0;i<e;i++)o[i]=t[i];for(i=e;i<n;i++){var s=o[i-1];i%e===0?(s=s<<8|s>>>24,s=Qn.SBOX[s>>>24]<<24|Qn.SBOX[s>>>16&255]<<16|Qn.SBOX[s>>>8&255]<<8|Qn.SBOX[s&255],s^=_Be[i/e|0]<<24):e>6&&i%e===4&&(s=Qn.SBOX[s>>>24]<<24|Qn.SBOX[s>>>16&255]<<16|Qn.SBOX[s>>>8&255]<<8|Qn.SBOX[s&255]),o[i]=o[i-e]^s}for(var a=[],c=0;c<n;c++){var d=n-c,f=o[d-(c%4?0:4)];c<4||d<=4?a[c]=f:a[c]=Qn.INV_SUB_MIX[0][Qn.SBOX[f>>>24]]^Qn.INV_SUB_MIX[1][Qn.SBOX[f>>>16&255]]^Qn.INV_SUB_MIX[2][Qn.SBOX[f>>>8&255]]^Qn.INV_SUB_MIX[3][Qn.SBOX[f&255]]}this._nRounds=r,this._keySchedule=o,this._invKeySchedule=a};ha.prototype.encryptBlockRaw=function(t){return t=D_(t),Jq(t,this._keySchedule,Qn.SUB_MIX,Qn.SBOX,this._nRounds)};ha.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=GE.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};ha.prototype.decryptBlock=function(t){t=D_(t);var e=t[1];t[1]=t[3],t[3]=e;var r=Jq(t,this._invKeySchedule,Qn.INV_SUB_MIX,Qn.INV_SBOX,this._nRounds),n=GE.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ha.prototype.scrub=function(){G3(this._keySchedule),G3(this._invKeySchedule),G3(this._key)};Nm.AES=ha;var b0=Mt.Buffer,DBe=b0.alloc(16,0);function kBe(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function Vq(t){var e=b0.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Pm(t){this.h=t,this.state=b0.alloc(16,0),this.cache=b0.allocUnsafe(0)}Pm.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Pm.prototype._multiply=function(){for(var t=kBe(this.h),e=[0,0,0,0],r,n,o,i=-1;++i<128;){for(n=(this.state[~~(i/8)]&1<<7-i%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),o=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,o&&(t[0]=t[0]^225<<24)}this.state=Vq(e)};Pm.prototype.update=function(t){this.cache=b0.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Pm.prototype.final=function(t,e){return this.cache.length&&this.ghash(b0.concat([this.cache,DBe],16)),this.ghash(Vq([0,t,0,e])),this.state};var TBe=Pm,FBe=Nm,No=Mt.Buffer,Wq=wu,MBe=Tt,Zq=TBe,UBe=Rm,RBe=zq;function NBe(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),o=0;o<n;++o)r+=t[o]^e[o];return r}function PBe(t,e,r){if(e.length===12)return t._finID=No.concat([e,No.from([0,0,0,1])]),No.concat([e,No.from([0,0,0,2])]);var n=new Zq(r),o=e.length,i=o%16;n.update(e),i&&(i=16-i,n.update(No.alloc(i,0))),n.update(No.alloc(8,0));var s=o*8,a=No.alloc(8);a.writeUIntBE(s,0,8),n.update(a),t._finID=n.state;var c=No.from(t._finID);return RBe(c),c}function EA(t,e,r,n){Wq.call(this);var o=No.alloc(4,0);this._cipher=new FBe.AES(e);var i=this._cipher.encryptBlock(o);this._ghash=new Zq(i),r=PBe(this,r,i),this._prev=No.from(r),this._cache=No.allocUnsafe(0),this._secCache=No.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}MBe(EA,Wq);EA.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=No.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};EA.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=UBe(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&NBe(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};EA.prototype.getAuthTag=function(){if(this._decrypt||!No.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};EA.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};EA.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var Xq=EA,OBe=Nm,q3=Mt.Buffer,e$=wu,KBe=Tt;function oC(t,e,r,n){e$.call(this),this._cipher=new OBe.AES(e),this._prev=q3.from(r),this._cache=q3.allocUnsafe(0),this._secCache=q3.allocUnsafe(0),this._decrypt=n,this._mode=t}KBe(oC,e$);oC.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};oC.prototype._final=function(){this._cipher.scrub()};var t$=oC,Lu=Mt.Buffer,HBe=b_;function LBe(t,e,r,n){if(Lu.isBuffer(t)||(t=Lu.from(t,"binary")),e&&(Lu.isBuffer(e)||(e=Lu.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var o=r/8,i=Lu.alloc(o),s=Lu.alloc(n||0),a=Lu.alloc(0);o>0||n>0;){var c=new HBe;c.update(a),c.update(t),e&&c.update(e),a=c.digest();var d=0;if(o>0){var f=i.length-o;d=Math.min(o,a.length),a.copy(i,f,0,d),o-=d}if(d<a.length&&n>0){var l=s.length-n,u=Math.min(n,a.length-d);a.copy(s,l,d,d+u),n-=u}}return a.fill(0),{key:i,iv:s}}var sC=LBe,r$=__,GBe=Xq,_d=Mt.Buffer,qBe=t$,n$=wu,$Be=Nm,jBe=sC,zBe=Tt;function Om(t,e,r){n$.call(this),this._cache=new aC,this._cipher=new $Be.AES(e),this._prev=_d.from(r),this._mode=t,this._autopadding=!0}zBe(Om,n$);Om.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return _d.concat(n)};var YBe=_d.alloc(16,16);Om.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(YBe))throw this._cipher.scrub(),new Error("data not multiple of block length")};Om.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function aC(){this.cache=_d.allocUnsafe(0)}aC.prototype.add=function(t){this.cache=_d.concat([this.cache,t])};aC.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};aC.prototype.flush=function(){for(var t=16-this.cache.length,e=_d.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return _d.concat([this.cache,e])};function i$(t,e,r){var n=r$[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=_d.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=_d.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new qBe(n.module,e,r):n.type==="auth"?new GBe(n.module,e,r):new Om(n.module,e,r)}function JBe(t,e){var r=r$[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=jBe(e,!1,r.key,r.iv);return i$(t,n.key,n.iv)}Q_.createCipheriv=i$;Q_.createCipher=JBe;var k_={},VBe=Xq,E0=Mt.Buffer,o$=__,WBe=t$,s$=wu,ZBe=Nm,XBe=sC,eCe=Tt;function Km(t,e,r){s$.call(this),this._cache=new cC,this._last=void 0,this._cipher=new ZBe.AES(e),this._prev=E0.from(r),this._mode=t,this._autopadding=!0}eCe(Km,s$);Km.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return E0.concat(n)};Km.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return tCe(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Km.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function cC(){this.cache=E0.allocUnsafe(0)}cC.prototype.add=function(t){this.cache=E0.concat([this.cache,t])};cC.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};cC.prototype.flush=function(){if(this.cache.length)return this.cache};function tCe(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function a$(t,e,r){var n=o$[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=E0.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=E0.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new WBe(n.module,e,r,!0):n.type==="auth"?new VBe(n.module,e,r,!0):new Km(n.module,e,r)}function rCe(t,e){var r=o$[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=XBe(e,!1,r.key,r.iv);return a$(t,n.key,n.iv)}k_.createDecipher=rCe;k_.createDecipheriv=a$;var c$=Q_,f$=k_,nCe=Yq;function iCe(){return Object.keys(nCe)}Ds.createCipher=Ds.Cipher=c$.createCipher;Ds.createCipheriv=Ds.Cipheriv=c$.createCipheriv;Ds.createDecipher=Ds.Decipher=f$.createDecipher;Ds.createDecipheriv=Ds.Decipheriv=f$.createDecipheriv;Ds.listCiphers=Ds.getCiphers=iCe;var d$={};(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(d$);var l$=ABe,T_=Ds,Gl=__,pd=d$,u$=sC;function oCe(t,e){t=t.toLowerCase();var r,n;if(Gl[t])r=Gl[t].key,n=Gl[t].iv;else if(pd[t])r=pd[t].key*8,n=pd[t].iv;else throw new TypeError("invalid suite type");var o=u$(e,!1,r,n);return h$(t,o.key,o.iv)}function sCe(t,e){t=t.toLowerCase();var r,n;if(Gl[t])r=Gl[t].key,n=Gl[t].iv;else if(pd[t])r=pd[t].key*8,n=pd[t].iv;else throw new TypeError("invalid suite type");var o=u$(e,!1,r,n);return A$(t,o.key,o.iv)}function h$(t,e,r){if(t=t.toLowerCase(),Gl[t])return T_.createCipheriv(t,e,r);if(pd[t])return new l$({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function A$(t,e,r){if(t=t.toLowerCase(),Gl[t])return T_.createDecipheriv(t,e,r);if(pd[t])return new l$({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function aCe(){return Object.keys(pd).concat(T_.getCiphers())}ec.createCipher=ec.Cipher=oCe;ec.createCipheriv=ec.Cipheriv=h$;ec.createDecipher=ec.Decipher=sCe;ec.createDecipheriv=ec.Decipheriv=A$;ec.listCiphers=ec.getCiphers=aCe;var Gu={},F_={exports:{}};F_.exports;(function(t){(function(e,r){function n(R,C){if(!R)throw new Error(C||"Assertion failed")}function o(R,C){R.super_=C;var m=function(){};m.prototype=C.prototype,R.prototype=new m,R.prototype.constructor=R}function i(R,C,m){if(i.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&((C==="le"||C==="be")&&(m=C,C=10),this._init(R||0,C||10,m||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=qe.Buffer}catch{}i.isBN=function(C){return C instanceof i?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===i.wordSize&&Array.isArray(C.words)},i.max=function(C,m){return C.cmp(m)>0?C:m},i.min=function(C,m){return C.cmp(m)<0?C:m},i.prototype._init=function(C,m,g){if(typeof C=="number")return this._initNumber(C,m,g);if(typeof C=="object")return this._initArray(C,m,g);m==="hex"&&(m=16),n(m===(m|0)&&m>=2&&m<=36),C=C.toString().replace(/\s+/g,"");var w=0;C[0]==="-"&&(w++,this.negative=1),w<C.length&&(m===16?this._parseHex(C,w,g):(this._parseBase(C,m,w),g==="le"&&this._initArray(this.toArray(),m,g)))},i.prototype._initNumber=function(C,m,g){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(n(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),m,g)},i.prototype._initArray=function(C,m,g){if(n(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var F,H,K=0;if(g==="be")for(w=C.length-1,F=0;w>=0;w-=3)H=C[w]|C[w-1]<<8|C[w-2]<<16,this.words[F]|=H<<K&67108863,this.words[F+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,F++);else if(g==="le")for(w=0,F=0;w<C.length;w+=3)H=C[w]|C[w+1]<<8|C[w+2]<<16,this.words[F]|=H<<K&67108863,this.words[F+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,F++);return this.strip()};function a(R,C){var m=R.charCodeAt(C);return m>=65&&m<=70?m-55:m>=97&&m<=102?m-87:m-48&15}function c(R,C,m){var g=a(R,m);return m-1>=C&&(g|=a(R,m-1)<<4),g}i.prototype._parseHex=function(C,m,g){this.length=Math.ceil((C.length-m)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var F=0,H=0,K;if(g==="be")for(w=C.length-1;w>=m;w-=2)K=c(C,m,w)<<F,this.words[H]|=K&67108863,F>=18?(F-=18,H+=1,this.words[H]|=K>>>26):F+=8;else{var D=C.length-m;for(w=D%2===0?m+1:m;w<C.length;w+=2)K=c(C,m,w)<<F,this.words[H]|=K&67108863,F>=18?(F-=18,H+=1,this.words[H]|=K>>>26):F+=8}this.strip()};function d(R,C,m,g){for(var w=0,F=Math.min(R.length,m),H=C;H<F;H++){var K=R.charCodeAt(H)-48;w*=g,K>=49?w+=K-49+10:K>=17?w+=K-17+10:w+=K}return w}i.prototype._parseBase=function(C,m,g){this.words=[0],this.length=1;for(var w=0,F=1;F<=67108863;F*=m)w++;w--,F=F/m|0;for(var H=C.length-g,K=H%w,D=Math.min(H,H-K)+g,I=0,P=g;P<D;P+=w)I=d(C,P,P+w,m),this.imuln(F),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(K!==0){var T=1;for(I=d(C,P,C.length,m),P=0;P<K;P++)T*=m;this.imuln(T),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},i.prototype.copy=function(C){C.words=new Array(this.length);for(var m=0;m<this.length;m++)C.words[m]=this.words[m];C.length=this.length,C.negative=this.negative,C.red=this.red},i.prototype.clone=function(){var C=new i(null);return this.copy(C),C},i.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],u=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(C,m){C=C||10,m=m|0||1;var g;if(C===16||C==="hex"){g="";for(var w=0,F=0,H=0;H<this.length;H++){var K=this.words[H],D=((K<<w|F)&16777215).toString(16);F=K>>>24-w&16777215,F!==0||H!==this.length-1?g=f[6-D.length]+D+g:g=D+g,w+=2,w>=26&&(w-=26,H--)}for(F!==0&&(g=F.toString(16)+g);g.length%m!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(C===(C|0)&&C>=2&&C<=36){var I=l[C],P=u[C];g="";var T=this.clone();for(T.negative=0;!T.isZero();){var V=T.modn(P).toString(C);T=T.idivn(P),T.isZero()?g=V+g:g=f[I-V.length]+V+g}for(this.isZero()&&(g="0"+g);g.length%m!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(C,m){return n(typeof s<"u"),this.toArrayLike(s,C,m)},i.prototype.toArray=function(C,m){return this.toArrayLike(Array,C,m)},i.prototype.toArrayLike=function(C,m,g){var w=this.byteLength(),F=g||Math.max(1,w);n(w<=F,"byte array longer than desired length"),n(F>0,"Requested array length <= 0"),this.strip();var H=m==="le",K=new C(F),D,I,P=this.clone();if(H){for(I=0;!P.isZero();I++)D=P.andln(255),P.iushrn(8),K[I]=D;for(;I<F;I++)K[I]=0}else{for(I=0;I<F-w;I++)K[I]=0;for(I=0;!P.isZero();I++)D=P.andln(255),P.iushrn(8),K[F-I-1]=D}return K},Math.clz32?i.prototype._countBits=function(C){return 32-Math.clz32(C)}:i.prototype._countBits=function(C){var m=C,g=0;return m>=4096&&(g+=13,m>>>=13),m>=64&&(g+=7,m>>>=7),m>=8&&(g+=4,m>>>=4),m>=2&&(g+=2,m>>>=2),g+m},i.prototype._zeroBits=function(C){if(C===0)return 26;var m=C,g=0;return m&8191||(g+=13,m>>>=13),m&127||(g+=7,m>>>=7),m&15||(g+=4,m>>>=4),m&3||(g+=2,m>>>=2),m&1||g++,g},i.prototype.bitLength=function(){var C=this.words[this.length-1],m=this._countBits(C);return(this.length-1)*26+m};function p(R){for(var C=new Array(R.bitLength()),m=0;m<C.length;m++){var g=m/26|0,w=m%26;C[m]=(R.words[g]&1<<w)>>>w}return C}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,m=0;m<this.length;m++){var g=this._zeroBits(this.words[m]);if(C+=g,g!==26)break}return C},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},i.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var m=0;m<C.length;m++)this.words[m]=this.words[m]|C.words[m];return this.strip()},i.prototype.ior=function(C){return n((this.negative|C.negative)===0),this.iuor(C)},i.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},i.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},i.prototype.iuand=function(C){var m;this.length>C.length?m=C:m=this;for(var g=0;g<m.length;g++)this.words[g]=this.words[g]&C.words[g];return this.length=m.length,this.strip()},i.prototype.iand=function(C){return n((this.negative|C.negative)===0),this.iuand(C)},i.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},i.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},i.prototype.iuxor=function(C){var m,g;this.length>C.length?(m=this,g=C):(m=C,g=this);for(var w=0;w<g.length;w++)this.words[w]=m.words[w]^g.words[w];if(this!==m)for(;w<m.length;w++)this.words[w]=m.words[w];return this.length=m.length,this.strip()},i.prototype.ixor=function(C){return n((this.negative|C.negative)===0),this.iuxor(C)},i.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},i.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},i.prototype.inotn=function(C){n(typeof C=="number"&&C>=0);var m=Math.ceil(C/26)|0,g=C%26;this._expand(m),g>0&&m--;for(var w=0;w<m;w++)this.words[w]=~this.words[w]&67108863;return g>0&&(this.words[w]=~this.words[w]&67108863>>26-g),this.strip()},i.prototype.notn=function(C){return this.clone().inotn(C)},i.prototype.setn=function(C,m){n(typeof C=="number"&&C>=0);var g=C/26|0,w=C%26;return this._expand(g+1),m?this.words[g]=this.words[g]|1<<w:this.words[g]=this.words[g]&~(1<<w),this.strip()},i.prototype.iadd=function(C){var m;if(this.negative!==0&&C.negative===0)return this.negative=0,m=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,m=this.isub(C),C.negative=1,m._normSign();var g,w;this.length>C.length?(g=this,w=C):(g=C,w=this);for(var F=0,H=0;H<w.length;H++)m=(g.words[H]|0)+(w.words[H]|0)+F,this.words[H]=m&67108863,F=m>>>26;for(;F!==0&&H<g.length;H++)m=(g.words[H]|0)+F,this.words[H]=m&67108863,F=m>>>26;if(this.length=g.length,F!==0)this.words[this.length]=F,this.length++;else if(g!==this)for(;H<g.length;H++)this.words[H]=g.words[H];return this},i.prototype.add=function(C){var m;return C.negative!==0&&this.negative===0?(C.negative=0,m=this.sub(C),C.negative^=1,m):C.negative===0&&this.negative!==0?(this.negative=0,m=C.sub(this),this.negative=1,m):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},i.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var m=this.iadd(C);return C.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var g=this.cmp(C);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,F;g>0?(w=this,F=C):(w=C,F=this);for(var H=0,K=0;K<F.length;K++)m=(w.words[K]|0)-(F.words[K]|0)+H,H=m>>26,this.words[K]=m&67108863;for(;H!==0&&K<w.length;K++)m=(w.words[K]|0)+H,H=m>>26,this.words[K]=m&67108863;if(H===0&&K<w.length&&w!==this)for(;K<w.length;K++)this.words[K]=w.words[K];return this.length=Math.max(this.length,K),w!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(C){return this.clone().isub(C)};function A(R,C,m){m.negative=C.negative^R.negative;var g=R.length+C.length|0;m.length=g,g=g-1|0;var w=R.words[0]|0,F=C.words[0]|0,H=w*F,K=H&67108863,D=H/67108864|0;m.words[0]=K;for(var I=1;I<g;I++){for(var P=D>>>26,T=D&67108863,V=Math.min(I,C.length-1),ee=Math.max(0,I-R.length+1);ee<=V;ee++){var se=I-ee|0;w=R.words[se]|0,F=C.words[ee]|0,H=w*F+T,P+=H/67108864|0,T=H&67108863}m.words[I]=T|0,D=P|0}return D!==0?m.words[I]=D|0:m.length--,m.strip()}var h=function(C,m,g){var w=C.words,F=m.words,H=g.words,K=0,D,I,P,T=w[0]|0,V=T&8191,ee=T>>>13,se=w[1]|0,Z=se&8191,ne=se>>>13,X=w[2]|0,re=X&8191,W=X>>>13,j=w[3]|0,M=j&8191,E=j>>>13,b=w[4]|0,k=b&8191,U=b>>>13,_=w[5]|0,L=_&8191,J=_>>>13,te=w[6]|0,oe=te&8191,fe=te>>>13,ue=w[7]|0,Ae=ue&8191,ie=ue>>>13,ae=w[8]|0,le=ae&8191,ge=ae>>>13,me=w[9]|0,ve=me&8191,Ue=me>>>13,ut=F[0]|0,_e=ut&8191,Qt=ut>>>13,We=F[1]|0,Fe=We&8191,Le=We>>>13,ar=F[2]|0,ht=ar&8191,cr=ar>>>13,rr=F[3]|0,et=rr&8191,$t=rr>>>13,nr=F[4]|0,vt=nr&8191,_r=nr>>>13,Lr=F[5]|0,yt=Lr&8191,Dr=Lr>>>13,Gr=F[6]|0,mt=Gr&8191,qr=Gr>>>13,kr=F[7]|0,de=kr&8191,ce=kr>>>13,he=F[8]|0,pe=he&8191,Ie=he>>>13,Se=F[9]|0,Ce=Se&8191,Ye=Se>>>13;g.negative=C.negative^m.negative,g.length=19,D=Math.imul(V,_e),I=Math.imul(V,Qt),I=I+Math.imul(ee,_e)|0,P=Math.imul(ee,Qt);var nt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(nt>>>26)|0,nt&=67108863,D=Math.imul(Z,_e),I=Math.imul(Z,Qt),I=I+Math.imul(ne,_e)|0,P=Math.imul(ne,Qt),D=D+Math.imul(V,Fe)|0,I=I+Math.imul(V,Le)|0,I=I+Math.imul(ee,Fe)|0,P=P+Math.imul(ee,Le)|0;var pt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(pt>>>26)|0,pt&=67108863,D=Math.imul(re,_e),I=Math.imul(re,Qt),I=I+Math.imul(W,_e)|0,P=Math.imul(W,Qt),D=D+Math.imul(Z,Fe)|0,I=I+Math.imul(Z,Le)|0,I=I+Math.imul(ne,Fe)|0,P=P+Math.imul(ne,Le)|0,D=D+Math.imul(V,ht)|0,I=I+Math.imul(V,cr)|0,I=I+Math.imul(ee,ht)|0,P=P+Math.imul(ee,cr)|0;var wt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(wt>>>26)|0,wt&=67108863,D=Math.imul(M,_e),I=Math.imul(M,Qt),I=I+Math.imul(E,_e)|0,P=Math.imul(E,Qt),D=D+Math.imul(re,Fe)|0,I=I+Math.imul(re,Le)|0,I=I+Math.imul(W,Fe)|0,P=P+Math.imul(W,Le)|0,D=D+Math.imul(Z,ht)|0,I=I+Math.imul(Z,cr)|0,I=I+Math.imul(ne,ht)|0,P=P+Math.imul(ne,cr)|0,D=D+Math.imul(V,et)|0,I=I+Math.imul(V,$t)|0,I=I+Math.imul(ee,et)|0,P=P+Math.imul(ee,$t)|0;var Yt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,D=Math.imul(k,_e),I=Math.imul(k,Qt),I=I+Math.imul(U,_e)|0,P=Math.imul(U,Qt),D=D+Math.imul(M,Fe)|0,I=I+Math.imul(M,Le)|0,I=I+Math.imul(E,Fe)|0,P=P+Math.imul(E,Le)|0,D=D+Math.imul(re,ht)|0,I=I+Math.imul(re,cr)|0,I=I+Math.imul(W,ht)|0,P=P+Math.imul(W,cr)|0,D=D+Math.imul(Z,et)|0,I=I+Math.imul(Z,$t)|0,I=I+Math.imul(ne,et)|0,P=P+Math.imul(ne,$t)|0,D=D+Math.imul(V,vt)|0,I=I+Math.imul(V,_r)|0,I=I+Math.imul(ee,vt)|0,P=P+Math.imul(ee,_r)|0;var fr=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(fr>>>26)|0,fr&=67108863,D=Math.imul(L,_e),I=Math.imul(L,Qt),I=I+Math.imul(J,_e)|0,P=Math.imul(J,Qt),D=D+Math.imul(k,Fe)|0,I=I+Math.imul(k,Le)|0,I=I+Math.imul(U,Fe)|0,P=P+Math.imul(U,Le)|0,D=D+Math.imul(M,ht)|0,I=I+Math.imul(M,cr)|0,I=I+Math.imul(E,ht)|0,P=P+Math.imul(E,cr)|0,D=D+Math.imul(re,et)|0,I=I+Math.imul(re,$t)|0,I=I+Math.imul(W,et)|0,P=P+Math.imul(W,$t)|0,D=D+Math.imul(Z,vt)|0,I=I+Math.imul(Z,_r)|0,I=I+Math.imul(ne,vt)|0,P=P+Math.imul(ne,_r)|0,D=D+Math.imul(V,yt)|0,I=I+Math.imul(V,Dr)|0,I=I+Math.imul(ee,yt)|0,P=P+Math.imul(ee,Dr)|0;var Xe=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,D=Math.imul(oe,_e),I=Math.imul(oe,Qt),I=I+Math.imul(fe,_e)|0,P=Math.imul(fe,Qt),D=D+Math.imul(L,Fe)|0,I=I+Math.imul(L,Le)|0,I=I+Math.imul(J,Fe)|0,P=P+Math.imul(J,Le)|0,D=D+Math.imul(k,ht)|0,I=I+Math.imul(k,cr)|0,I=I+Math.imul(U,ht)|0,P=P+Math.imul(U,cr)|0,D=D+Math.imul(M,et)|0,I=I+Math.imul(M,$t)|0,I=I+Math.imul(E,et)|0,P=P+Math.imul(E,$t)|0,D=D+Math.imul(re,vt)|0,I=I+Math.imul(re,_r)|0,I=I+Math.imul(W,vt)|0,P=P+Math.imul(W,_r)|0,D=D+Math.imul(Z,yt)|0,I=I+Math.imul(Z,Dr)|0,I=I+Math.imul(ne,yt)|0,P=P+Math.imul(ne,Dr)|0,D=D+Math.imul(V,mt)|0,I=I+Math.imul(V,qr)|0,I=I+Math.imul(ee,mt)|0,P=P+Math.imul(ee,qr)|0;var Wt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,D=Math.imul(Ae,_e),I=Math.imul(Ae,Qt),I=I+Math.imul(ie,_e)|0,P=Math.imul(ie,Qt),D=D+Math.imul(oe,Fe)|0,I=I+Math.imul(oe,Le)|0,I=I+Math.imul(fe,Fe)|0,P=P+Math.imul(fe,Le)|0,D=D+Math.imul(L,ht)|0,I=I+Math.imul(L,cr)|0,I=I+Math.imul(J,ht)|0,P=P+Math.imul(J,cr)|0,D=D+Math.imul(k,et)|0,I=I+Math.imul(k,$t)|0,I=I+Math.imul(U,et)|0,P=P+Math.imul(U,$t)|0,D=D+Math.imul(M,vt)|0,I=I+Math.imul(M,_r)|0,I=I+Math.imul(E,vt)|0,P=P+Math.imul(E,_r)|0,D=D+Math.imul(re,yt)|0,I=I+Math.imul(re,Dr)|0,I=I+Math.imul(W,yt)|0,P=P+Math.imul(W,Dr)|0,D=D+Math.imul(Z,mt)|0,I=I+Math.imul(Z,qr)|0,I=I+Math.imul(ne,mt)|0,P=P+Math.imul(ne,qr)|0,D=D+Math.imul(V,de)|0,I=I+Math.imul(V,ce)|0,I=I+Math.imul(ee,de)|0,P=P+Math.imul(ee,ce)|0;var Ar=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,D=Math.imul(le,_e),I=Math.imul(le,Qt),I=I+Math.imul(ge,_e)|0,P=Math.imul(ge,Qt),D=D+Math.imul(Ae,Fe)|0,I=I+Math.imul(Ae,Le)|0,I=I+Math.imul(ie,Fe)|0,P=P+Math.imul(ie,Le)|0,D=D+Math.imul(oe,ht)|0,I=I+Math.imul(oe,cr)|0,I=I+Math.imul(fe,ht)|0,P=P+Math.imul(fe,cr)|0,D=D+Math.imul(L,et)|0,I=I+Math.imul(L,$t)|0,I=I+Math.imul(J,et)|0,P=P+Math.imul(J,$t)|0,D=D+Math.imul(k,vt)|0,I=I+Math.imul(k,_r)|0,I=I+Math.imul(U,vt)|0,P=P+Math.imul(U,_r)|0,D=D+Math.imul(M,yt)|0,I=I+Math.imul(M,Dr)|0,I=I+Math.imul(E,yt)|0,P=P+Math.imul(E,Dr)|0,D=D+Math.imul(re,mt)|0,I=I+Math.imul(re,qr)|0,I=I+Math.imul(W,mt)|0,P=P+Math.imul(W,qr)|0,D=D+Math.imul(Z,de)|0,I=I+Math.imul(Z,ce)|0,I=I+Math.imul(ne,de)|0,P=P+Math.imul(ne,ce)|0,D=D+Math.imul(V,pe)|0,I=I+Math.imul(V,Ie)|0,I=I+Math.imul(ee,pe)|0,P=P+Math.imul(ee,Ie)|0;var Zt=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,D=Math.imul(ve,_e),I=Math.imul(ve,Qt),I=I+Math.imul(Ue,_e)|0,P=Math.imul(Ue,Qt),D=D+Math.imul(le,Fe)|0,I=I+Math.imul(le,Le)|0,I=I+Math.imul(ge,Fe)|0,P=P+Math.imul(ge,Le)|0,D=D+Math.imul(Ae,ht)|0,I=I+Math.imul(Ae,cr)|0,I=I+Math.imul(ie,ht)|0,P=P+Math.imul(ie,cr)|0,D=D+Math.imul(oe,et)|0,I=I+Math.imul(oe,$t)|0,I=I+Math.imul(fe,et)|0,P=P+Math.imul(fe,$t)|0,D=D+Math.imul(L,vt)|0,I=I+Math.imul(L,_r)|0,I=I+Math.imul(J,vt)|0,P=P+Math.imul(J,_r)|0,D=D+Math.imul(k,yt)|0,I=I+Math.imul(k,Dr)|0,I=I+Math.imul(U,yt)|0,P=P+Math.imul(U,Dr)|0,D=D+Math.imul(M,mt)|0,I=I+Math.imul(M,qr)|0,I=I+Math.imul(E,mt)|0,P=P+Math.imul(E,qr)|0,D=D+Math.imul(re,de)|0,I=I+Math.imul(re,ce)|0,I=I+Math.imul(W,de)|0,P=P+Math.imul(W,ce)|0,D=D+Math.imul(Z,pe)|0,I=I+Math.imul(Z,Ie)|0,I=I+Math.imul(ne,pe)|0,P=P+Math.imul(ne,Ie)|0,D=D+Math.imul(V,Ce)|0,I=I+Math.imul(V,Ye)|0,I=I+Math.imul(ee,Ce)|0,P=P+Math.imul(ee,Ye)|0;var Hi=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,D=Math.imul(ve,Fe),I=Math.imul(ve,Le),I=I+Math.imul(Ue,Fe)|0,P=Math.imul(Ue,Le),D=D+Math.imul(le,ht)|0,I=I+Math.imul(le,cr)|0,I=I+Math.imul(ge,ht)|0,P=P+Math.imul(ge,cr)|0,D=D+Math.imul(Ae,et)|0,I=I+Math.imul(Ae,$t)|0,I=I+Math.imul(ie,et)|0,P=P+Math.imul(ie,$t)|0,D=D+Math.imul(oe,vt)|0,I=I+Math.imul(oe,_r)|0,I=I+Math.imul(fe,vt)|0,P=P+Math.imul(fe,_r)|0,D=D+Math.imul(L,yt)|0,I=I+Math.imul(L,Dr)|0,I=I+Math.imul(J,yt)|0,P=P+Math.imul(J,Dr)|0,D=D+Math.imul(k,mt)|0,I=I+Math.imul(k,qr)|0,I=I+Math.imul(U,mt)|0,P=P+Math.imul(U,qr)|0,D=D+Math.imul(M,de)|0,I=I+Math.imul(M,ce)|0,I=I+Math.imul(E,de)|0,P=P+Math.imul(E,ce)|0,D=D+Math.imul(re,pe)|0,I=I+Math.imul(re,Ie)|0,I=I+Math.imul(W,pe)|0,P=P+Math.imul(W,Ie)|0,D=D+Math.imul(Z,Ce)|0,I=I+Math.imul(Z,Ye)|0,I=I+Math.imul(ne,Ce)|0,P=P+Math.imul(ne,Ye)|0;var Ln=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,D=Math.imul(ve,ht),I=Math.imul(ve,cr),I=I+Math.imul(Ue,ht)|0,P=Math.imul(Ue,cr),D=D+Math.imul(le,et)|0,I=I+Math.imul(le,$t)|0,I=I+Math.imul(ge,et)|0,P=P+Math.imul(ge,$t)|0,D=D+Math.imul(Ae,vt)|0,I=I+Math.imul(Ae,_r)|0,I=I+Math.imul(ie,vt)|0,P=P+Math.imul(ie,_r)|0,D=D+Math.imul(oe,yt)|0,I=I+Math.imul(oe,Dr)|0,I=I+Math.imul(fe,yt)|0,P=P+Math.imul(fe,Dr)|0,D=D+Math.imul(L,mt)|0,I=I+Math.imul(L,qr)|0,I=I+Math.imul(J,mt)|0,P=P+Math.imul(J,qr)|0,D=D+Math.imul(k,de)|0,I=I+Math.imul(k,ce)|0,I=I+Math.imul(U,de)|0,P=P+Math.imul(U,ce)|0,D=D+Math.imul(M,pe)|0,I=I+Math.imul(M,Ie)|0,I=I+Math.imul(E,pe)|0,P=P+Math.imul(E,Ie)|0,D=D+Math.imul(re,Ce)|0,I=I+Math.imul(re,Ye)|0,I=I+Math.imul(W,Ce)|0,P=P+Math.imul(W,Ye)|0;var Gn=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,D=Math.imul(ve,et),I=Math.imul(ve,$t),I=I+Math.imul(Ue,et)|0,P=Math.imul(Ue,$t),D=D+Math.imul(le,vt)|0,I=I+Math.imul(le,_r)|0,I=I+Math.imul(ge,vt)|0,P=P+Math.imul(ge,_r)|0,D=D+Math.imul(Ae,yt)|0,I=I+Math.imul(Ae,Dr)|0,I=I+Math.imul(ie,yt)|0,P=P+Math.imul(ie,Dr)|0,D=D+Math.imul(oe,mt)|0,I=I+Math.imul(oe,qr)|0,I=I+Math.imul(fe,mt)|0,P=P+Math.imul(fe,qr)|0,D=D+Math.imul(L,de)|0,I=I+Math.imul(L,ce)|0,I=I+Math.imul(J,de)|0,P=P+Math.imul(J,ce)|0,D=D+Math.imul(k,pe)|0,I=I+Math.imul(k,Ie)|0,I=I+Math.imul(U,pe)|0,P=P+Math.imul(U,Ie)|0,D=D+Math.imul(M,Ce)|0,I=I+Math.imul(M,Ye)|0,I=I+Math.imul(E,Ce)|0,P=P+Math.imul(E,Ye)|0;var So=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(So>>>26)|0,So&=67108863,D=Math.imul(ve,vt),I=Math.imul(ve,_r),I=I+Math.imul(Ue,vt)|0,P=Math.imul(Ue,_r),D=D+Math.imul(le,yt)|0,I=I+Math.imul(le,Dr)|0,I=I+Math.imul(ge,yt)|0,P=P+Math.imul(ge,Dr)|0,D=D+Math.imul(Ae,mt)|0,I=I+Math.imul(Ae,qr)|0,I=I+Math.imul(ie,mt)|0,P=P+Math.imul(ie,qr)|0,D=D+Math.imul(oe,de)|0,I=I+Math.imul(oe,ce)|0,I=I+Math.imul(fe,de)|0,P=P+Math.imul(fe,ce)|0,D=D+Math.imul(L,pe)|0,I=I+Math.imul(L,Ie)|0,I=I+Math.imul(J,pe)|0,P=P+Math.imul(J,Ie)|0,D=D+Math.imul(k,Ce)|0,I=I+Math.imul(k,Ye)|0,I=I+Math.imul(U,Ce)|0,P=P+Math.imul(U,Ye)|0;var co=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(co>>>26)|0,co&=67108863,D=Math.imul(ve,yt),I=Math.imul(ve,Dr),I=I+Math.imul(Ue,yt)|0,P=Math.imul(Ue,Dr),D=D+Math.imul(le,mt)|0,I=I+Math.imul(le,qr)|0,I=I+Math.imul(ge,mt)|0,P=P+Math.imul(ge,qr)|0,D=D+Math.imul(Ae,de)|0,I=I+Math.imul(Ae,ce)|0,I=I+Math.imul(ie,de)|0,P=P+Math.imul(ie,ce)|0,D=D+Math.imul(oe,pe)|0,I=I+Math.imul(oe,Ie)|0,I=I+Math.imul(fe,pe)|0,P=P+Math.imul(fe,Ie)|0,D=D+Math.imul(L,Ce)|0,I=I+Math.imul(L,Ye)|0,I=I+Math.imul(J,Ce)|0,P=P+Math.imul(J,Ye)|0;var Bn=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,D=Math.imul(ve,mt),I=Math.imul(ve,qr),I=I+Math.imul(Ue,mt)|0,P=Math.imul(Ue,qr),D=D+Math.imul(le,de)|0,I=I+Math.imul(le,ce)|0,I=I+Math.imul(ge,de)|0,P=P+Math.imul(ge,ce)|0,D=D+Math.imul(Ae,pe)|0,I=I+Math.imul(Ae,Ie)|0,I=I+Math.imul(ie,pe)|0,P=P+Math.imul(ie,Ie)|0,D=D+Math.imul(oe,Ce)|0,I=I+Math.imul(oe,Ye)|0,I=I+Math.imul(fe,Ce)|0,P=P+Math.imul(fe,Ye)|0;var qn=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(qn>>>26)|0,qn&=67108863,D=Math.imul(ve,de),I=Math.imul(ve,ce),I=I+Math.imul(Ue,de)|0,P=Math.imul(Ue,ce),D=D+Math.imul(le,pe)|0,I=I+Math.imul(le,Ie)|0,I=I+Math.imul(ge,pe)|0,P=P+Math.imul(ge,Ie)|0,D=D+Math.imul(Ae,Ce)|0,I=I+Math.imul(Ae,Ye)|0,I=I+Math.imul(ie,Ce)|0,P=P+Math.imul(ie,Ye)|0;var fo=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(fo>>>26)|0,fo&=67108863,D=Math.imul(ve,pe),I=Math.imul(ve,Ie),I=I+Math.imul(Ue,pe)|0,P=Math.imul(Ue,Ie),D=D+Math.imul(le,Ce)|0,I=I+Math.imul(le,Ye)|0,I=I+Math.imul(ge,Ce)|0,P=P+Math.imul(ge,Ye)|0;var hi=(K+D|0)+((I&8191)<<13)|0;K=(P+(I>>>13)|0)+(hi>>>26)|0,hi&=67108863,D=Math.imul(ve,Ce),I=Math.imul(ve,Ye),I=I+Math.imul(Ue,Ce)|0,P=Math.imul(Ue,Ye);var jo=(K+D|0)+((I&8191)<<13)|0;return K=(P+(I>>>13)|0)+(jo>>>26)|0,jo&=67108863,H[0]=nt,H[1]=pt,H[2]=wt,H[3]=Yt,H[4]=fr,H[5]=Xe,H[6]=Wt,H[7]=Ar,H[8]=Zt,H[9]=Hi,H[10]=Ln,H[11]=Gn,H[12]=So,H[13]=co,H[14]=Bn,H[15]=qn,H[16]=fo,H[17]=hi,H[18]=jo,K!==0&&(H[19]=K,g.length++),g};Math.imul||(h=A);function y(R,C,m){m.negative=C.negative^R.negative,m.length=R.length+C.length;for(var g=0,w=0,F=0;F<m.length-1;F++){var H=w;w=0;for(var K=g&67108863,D=Math.min(F,C.length-1),I=Math.max(0,F-R.length+1);I<=D;I++){var P=F-I,T=R.words[P]|0,V=C.words[I]|0,ee=T*V,se=ee&67108863;H=H+(ee/67108864|0)|0,se=se+K|0,K=se&67108863,H=H+(se>>>26)|0,w+=H>>>26,H&=67108863}m.words[F]=K,g=H,H=w}return g!==0?m.words[F]=g:m.length--,m.strip()}function v(R,C,m){var g=new B;return g.mulp(R,C,m)}i.prototype.mulTo=function(C,m){var g,w=this.length+C.length;return this.length===10&&C.length===10?g=h(this,C,m):w<63?g=A(this,C,m):w<1024?g=y(this,C,m):g=v(this,C,m),g};function B(R,C){this.x=R,this.y=C}B.prototype.makeRBT=function(C){for(var m=new Array(C),g=i.prototype._countBits(C)-1,w=0;w<C;w++)m[w]=this.revBin(w,g,C);return m},B.prototype.revBin=function(C,m,g){if(C===0||C===g-1)return C;for(var w=0,F=0;F<m;F++)w|=(C&1)<<m-F-1,C>>=1;return w},B.prototype.permute=function(C,m,g,w,F,H){for(var K=0;K<H;K++)w[K]=m[C[K]],F[K]=g[C[K]]},B.prototype.transform=function(C,m,g,w,F,H){this.permute(H,C,m,g,w,F);for(var K=1;K<F;K<<=1)for(var D=K<<1,I=Math.cos(2*Math.PI/D),P=Math.sin(2*Math.PI/D),T=0;T<F;T+=D)for(var V=I,ee=P,se=0;se<K;se++){var Z=g[T+se],ne=w[T+se],X=g[T+se+K],re=w[T+se+K],W=V*X-ee*re;re=V*re+ee*X,X=W,g[T+se]=Z+X,w[T+se]=ne+re,g[T+se+K]=Z-X,w[T+se+K]=ne-re,se!==D&&(W=I*V-P*ee,ee=I*ee+P*V,V=W)}},B.prototype.guessLen13b=function(C,m){var g=Math.max(m,C)|1,w=g&1,F=0;for(g=g/2|0;g;g=g>>>1)F++;return 1<<F+1+w},B.prototype.conjugate=function(C,m,g){if(!(g<=1))for(var w=0;w<g/2;w++){var F=C[w];C[w]=C[g-w-1],C[g-w-1]=F,F=m[w],m[w]=-m[g-w-1],m[g-w-1]=-F}},B.prototype.normalize13b=function(C,m){for(var g=0,w=0;w<m/2;w++){var F=Math.round(C[2*w+1]/m)*8192+Math.round(C[2*w]/m)+g;C[w]=F&67108863,F<67108864?g=0:g=F/67108864|0}return C},B.prototype.convert13b=function(C,m,g,w){for(var F=0,H=0;H<m;H++)F=F+(C[H]|0),g[2*H]=F&8191,F=F>>>13,g[2*H+1]=F&8191,F=F>>>13;for(H=2*m;H<w;++H)g[H]=0;n(F===0),n((F&-8192)===0)},B.prototype.stub=function(C){for(var m=new Array(C),g=0;g<C;g++)m[g]=0;return m},B.prototype.mulp=function(C,m,g){var w=2*this.guessLen13b(C.length,m.length),F=this.makeRBT(w),H=this.stub(w),K=new Array(w),D=new Array(w),I=new Array(w),P=new Array(w),T=new Array(w),V=new Array(w),ee=g.words;ee.length=w,this.convert13b(C.words,C.length,K,w),this.convert13b(m.words,m.length,P,w),this.transform(K,H,D,I,w,F),this.transform(P,H,T,V,w,F);for(var se=0;se<w;se++){var Z=D[se]*T[se]-I[se]*V[se];I[se]=D[se]*V[se]+I[se]*T[se],D[se]=Z}return this.conjugate(D,I,w),this.transform(D,I,ee,H,w,F),this.conjugate(ee,H,w),this.normalize13b(ee,w),g.negative=C.negative^m.negative,g.length=C.length+m.length,g.strip()},i.prototype.mul=function(C){var m=new i(null);return m.words=new Array(this.length+C.length),this.mulTo(C,m)},i.prototype.mulf=function(C){var m=new i(null);return m.words=new Array(this.length+C.length),v(this,C,m)},i.prototype.imul=function(C){return this.clone().mulTo(C,this)},i.prototype.imuln=function(C){n(typeof C=="number"),n(C<67108864);for(var m=0,g=0;g<this.length;g++){var w=(this.words[g]|0)*C,F=(w&67108863)+(m&67108863);m>>=26,m+=w/67108864|0,m+=F>>>26,this.words[g]=F&67108863}return m!==0&&(this.words[g]=m,this.length++),this},i.prototype.muln=function(C){return this.clone().imuln(C)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(C){var m=p(C);if(m.length===0)return new i(1);for(var g=this,w=0;w<m.length&&m[w]===0;w++,g=g.sqr());if(++w<m.length)for(var F=g.sqr();w<m.length;w++,F=F.sqr())m[w]!==0&&(g=g.mul(F));return g},i.prototype.iushln=function(C){n(typeof C=="number"&&C>=0);var m=C%26,g=(C-m)/26,w=67108863>>>26-m<<26-m,F;if(m!==0){var H=0;for(F=0;F<this.length;F++){var K=this.words[F]&w,D=(this.words[F]|0)-K<<m;this.words[F]=D|H,H=K>>>26-m}H&&(this.words[F]=H,this.length++)}if(g!==0){for(F=this.length-1;F>=0;F--)this.words[F+g]=this.words[F];for(F=0;F<g;F++)this.words[F]=0;this.length+=g}return this.strip()},i.prototype.ishln=function(C){return n(this.negative===0),this.iushln(C)},i.prototype.iushrn=function(C,m,g){n(typeof C=="number"&&C>=0);var w;m?w=(m-m%26)/26:w=0;var F=C%26,H=Math.min((C-F)/26,this.length),K=67108863^67108863>>>F<<F,D=g;if(w-=H,w=Math.max(0,w),D){for(var I=0;I<H;I++)D.words[I]=this.words[I];D.length=H}if(H!==0)if(this.length>H)for(this.length-=H,I=0;I<this.length;I++)this.words[I]=this.words[I+H];else this.words[0]=0,this.length=1;var P=0;for(I=this.length-1;I>=0&&(P!==0||I>=w);I--){var T=this.words[I]|0;this.words[I]=P<<26-F|T>>>F,P=T&K}return D&&P!==0&&(D.words[D.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(C,m,g){return n(this.negative===0),this.iushrn(C,m,g)},i.prototype.shln=function(C){return this.clone().ishln(C)},i.prototype.ushln=function(C){return this.clone().iushln(C)},i.prototype.shrn=function(C){return this.clone().ishrn(C)},i.prototype.ushrn=function(C){return this.clone().iushrn(C)},i.prototype.testn=function(C){n(typeof C=="number"&&C>=0);var m=C%26,g=(C-m)/26,w=1<<m;if(this.length<=g)return!1;var F=this.words[g];return!!(F&w)},i.prototype.imaskn=function(C){n(typeof C=="number"&&C>=0);var m=C%26,g=(C-m)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(m!==0&&g++,this.length=Math.min(g,this.length),m!==0){var w=67108863^67108863>>>m<<m;this.words[this.length-1]&=w}return this.strip()},i.prototype.maskn=function(C){return this.clone().imaskn(C)},i.prototype.iaddn=function(C){return n(typeof C=="number"),n(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},i.prototype._iaddn=function(C){this.words[0]+=C;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},i.prototype.isubn=function(C){if(n(typeof C=="number"),n(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},i.prototype.addn=function(C){return this.clone().iaddn(C)},i.prototype.subn=function(C){return this.clone().isubn(C)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(C,m,g){var w=C.length+g,F;this._expand(w);var H,K=0;for(F=0;F<C.length;F++){H=(this.words[F+g]|0)+K;var D=(C.words[F]|0)*m;H-=D&67108863,K=(H>>26)-(D/67108864|0),this.words[F+g]=H&67108863}for(;F<this.length-g;F++)H=(this.words[F+g]|0)+K,K=H>>26,this.words[F+g]=H&67108863;if(K===0)return this.strip();for(n(K===-1),K=0,F=0;F<this.length;F++)H=-(this.words[F]|0)+K,K=H>>26,this.words[F]=H&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(C,m){var g=this.length-C.length,w=this.clone(),F=C,H=F.words[F.length-1]|0,K=this._countBits(H);g=26-K,g!==0&&(F=F.ushln(g),w.iushln(g),H=F.words[F.length-1]|0);var D=w.length-F.length,I;if(m!=="mod"){I=new i(null),I.length=D+1,I.words=new Array(I.length);for(var P=0;P<I.length;P++)I.words[P]=0}var T=w.clone()._ishlnsubmul(F,1,D);T.negative===0&&(w=T,I&&(I.words[D]=1));for(var V=D-1;V>=0;V--){var ee=(w.words[F.length+V]|0)*67108864+(w.words[F.length+V-1]|0);for(ee=Math.min(ee/H|0,67108863),w._ishlnsubmul(F,ee,V);w.negative!==0;)ee--,w.negative=0,w._ishlnsubmul(F,1,V),w.isZero()||(w.negative^=1);I&&(I.words[V]=ee)}return I&&I.strip(),w.strip(),m!=="div"&&g!==0&&w.iushrn(g),{div:I||null,mod:w}},i.prototype.divmod=function(C,m,g){if(n(!C.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,F,H;return this.negative!==0&&C.negative===0?(H=this.neg().divmod(C,m),m!=="mod"&&(w=H.div.neg()),m!=="div"&&(F=H.mod.neg(),g&&F.negative!==0&&F.iadd(C)),{div:w,mod:F}):this.negative===0&&C.negative!==0?(H=this.divmod(C.neg(),m),m!=="mod"&&(w=H.div.neg()),{div:w,mod:H.mod}):this.negative&C.negative?(H=this.neg().divmod(C.neg(),m),m!=="div"&&(F=H.mod.neg(),g&&F.negative!==0&&F.isub(C)),{div:H.div,mod:F}):C.length>this.length||this.cmp(C)<0?{div:new i(0),mod:this}:C.length===1?m==="div"?{div:this.divn(C.words[0]),mod:null}:m==="mod"?{div:null,mod:new i(this.modn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new i(this.modn(C.words[0]))}:this._wordDiv(C,m)},i.prototype.div=function(C){return this.divmod(C,"div",!1).div},i.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},i.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},i.prototype.divRound=function(C){var m=this.divmod(C);if(m.mod.isZero())return m.div;var g=m.div.negative!==0?m.mod.isub(C):m.mod,w=C.ushrn(1),F=C.andln(1),H=g.cmp(w);return H<0||F===1&&H===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},i.prototype.modn=function(C){n(C<=67108863);for(var m=(1<<26)%C,g=0,w=this.length-1;w>=0;w--)g=(m*g+(this.words[w]|0))%C;return g},i.prototype.idivn=function(C){n(C<=67108863);for(var m=0,g=this.length-1;g>=0;g--){var w=(this.words[g]|0)+m*67108864;this.words[g]=w/C|0,m=w%C}return this.strip()},i.prototype.divn=function(C){return this.clone().idivn(C)},i.prototype.egcd=function(C){n(C.negative===0),n(!C.isZero());var m=this,g=C.clone();m.negative!==0?m=m.umod(C):m=m.clone();for(var w=new i(1),F=new i(0),H=new i(0),K=new i(1),D=0;m.isEven()&&g.isEven();)m.iushrn(1),g.iushrn(1),++D;for(var I=g.clone(),P=m.clone();!m.isZero();){for(var T=0,V=1;!(m.words[0]&V)&&T<26;++T,V<<=1);if(T>0)for(m.iushrn(T);T-- >0;)(w.isOdd()||F.isOdd())&&(w.iadd(I),F.isub(P)),w.iushrn(1),F.iushrn(1);for(var ee=0,se=1;!(g.words[0]&se)&&ee<26;++ee,se<<=1);if(ee>0)for(g.iushrn(ee);ee-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(I),K.isub(P)),H.iushrn(1),K.iushrn(1);m.cmp(g)>=0?(m.isub(g),w.isub(H),F.isub(K)):(g.isub(m),H.isub(w),K.isub(F))}return{a:H,b:K,gcd:g.iushln(D)}},i.prototype._invmp=function(C){n(C.negative===0),n(!C.isZero());var m=this,g=C.clone();m.negative!==0?m=m.umod(C):m=m.clone();for(var w=new i(1),F=new i(0),H=g.clone();m.cmpn(1)>0&&g.cmpn(1)>0;){for(var K=0,D=1;!(m.words[0]&D)&&K<26;++K,D<<=1);if(K>0)for(m.iushrn(K);K-- >0;)w.isOdd()&&w.iadd(H),w.iushrn(1);for(var I=0,P=1;!(g.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(g.iushrn(I);I-- >0;)F.isOdd()&&F.iadd(H),F.iushrn(1);m.cmp(g)>=0?(m.isub(g),w.isub(F)):(g.isub(m),F.isub(w))}var T;return m.cmpn(1)===0?T=w:T=F,T.cmpn(0)<0&&T.iadd(C),T},i.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var m=this.clone(),g=C.clone();m.negative=0,g.negative=0;for(var w=0;m.isEven()&&g.isEven();w++)m.iushrn(1),g.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;g.isEven();)g.iushrn(1);var F=m.cmp(g);if(F<0){var H=m;m=g,g=H}else if(F===0||g.cmpn(1)===0)break;m.isub(g)}while(!0);return g.iushln(w)},i.prototype.invm=function(C){return this.egcd(C).a.umod(C)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(C){return this.words[0]&C},i.prototype.bincn=function(C){n(typeof C=="number");var m=C%26,g=(C-m)/26,w=1<<m;if(this.length<=g)return this._expand(g+1),this.words[g]|=w,this;for(var F=w,H=g;F!==0&&H<this.length;H++){var K=this.words[H]|0;K+=F,F=K>>>26,K&=67108863,this.words[H]=K}return F!==0&&(this.words[H]=F,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(C){var m=C<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this.strip();var g;if(this.length>1)g=1;else{m&&(C=-C),n(C<=67108863,"Number is too big");var w=this.words[0]|0;g=w===C?0:w<C?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var m=this.ucmp(C);return this.negative!==0?-m|0:m},i.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var m=0,g=this.length-1;g>=0;g--){var w=this.words[g]|0,F=C.words[g]|0;if(w!==F){w<F?m=-1:w>F&&(m=1);break}}return m},i.prototype.gtn=function(C){return this.cmpn(C)===1},i.prototype.gt=function(C){return this.cmp(C)===1},i.prototype.gten=function(C){return this.cmpn(C)>=0},i.prototype.gte=function(C){return this.cmp(C)>=0},i.prototype.ltn=function(C){return this.cmpn(C)===-1},i.prototype.lt=function(C){return this.cmp(C)===-1},i.prototype.lten=function(C){return this.cmpn(C)<=0},i.prototype.lte=function(C){return this.cmp(C)<=0},i.prototype.eqn=function(C){return this.cmpn(C)===0},i.prototype.eq=function(C){return this.cmp(C)===0},i.red=function(C){return new z(C)},i.prototype.toRed=function(C){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(C){return this.red=C,this},i.prototype.forceRed=function(C){return n(!this.red,"Already a number in reduction context"),this._forceRed(C)},i.prototype.redAdd=function(C){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},i.prototype.redIAdd=function(C){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},i.prototype.redSub=function(C){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},i.prototype.redISub=function(C){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},i.prototype.redShl=function(C){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},i.prototype.redMul=function(C){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},i.prototype.redIMul=function(C){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(C){return n(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var S={k256:null,p224:null,p192:null,p25519:null};function x(R,C){this.name=R,this.p=new i(C,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}x.prototype._tmp=function(){var C=new i(null);return C.words=new Array(Math.ceil(this.n/13)),C},x.prototype.ireduce=function(C){var m=C,g;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),g=m.bitLength();while(g>this.n);var w=g<this.n?-1:m.ucmp(this.p);return w===0?(m.words[0]=0,m.length=1):w>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},x.prototype.split=function(C,m){C.iushrn(this.n,0,m)},x.prototype.imulK=function(C){return C.imul(this.k)};function Q(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Q,x),Q.prototype.split=function(C,m){for(var g=4194303,w=Math.min(C.length,9),F=0;F<w;F++)m.words[F]=C.words[F];if(m.length=w,C.length<=9){C.words[0]=0,C.length=1;return}var H=C.words[9];for(m.words[m.length++]=H&g,F=10;F<C.length;F++){var K=C.words[F]|0;C.words[F-10]=(K&g)<<4|H>>>22,H=K}H>>>=22,C.words[F-10]=H,H===0&&C.length>10?C.length-=10:C.length-=9},Q.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var m=0,g=0;g<C.length;g++){var w=C.words[g]|0;m+=w*977,C.words[g]=m&67108863,m=w*64+(m/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function N(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(N,x);function $(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o($,x);function G(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(G,x),G.prototype.imulK=function(C){for(var m=0,g=0;g<C.length;g++){var w=(C.words[g]|0)*19+m,F=w&67108863;w>>>=26,C.words[g]=F,m=w}return m!==0&&(C.words[C.length++]=m),C},i._prime=function(C){if(S[C])return S[C];var m;if(C==="k256")m=new Q;else if(C==="p224")m=new N;else if(C==="p192")m=new $;else if(C==="p25519")m=new G;else throw new Error("Unknown prime "+C);return S[C]=m,m};function z(R){if(typeof R=="string"){var C=i._prime(R);this.m=C.p,this.prime=C}else n(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}z.prototype._verify1=function(C){n(C.negative===0,"red works only with positives"),n(C.red,"red works only with red numbers")},z.prototype._verify2=function(C,m){n((C.negative|m.negative)===0,"red works only with positives"),n(C.red&&C.red===m.red,"red works only with red numbers")},z.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):C.umod(this.m)._forceRed(this)},z.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},z.prototype.add=function(C,m){this._verify2(C,m);var g=C.add(m);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},z.prototype.iadd=function(C,m){this._verify2(C,m);var g=C.iadd(m);return g.cmp(this.m)>=0&&g.isub(this.m),g},z.prototype.sub=function(C,m){this._verify2(C,m);var g=C.sub(m);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},z.prototype.isub=function(C,m){this._verify2(C,m);var g=C.isub(m);return g.cmpn(0)<0&&g.iadd(this.m),g},z.prototype.shl=function(C,m){return this._verify1(C),this.imod(C.ushln(m))},z.prototype.imul=function(C,m){return this._verify2(C,m),this.imod(C.imul(m))},z.prototype.mul=function(C,m){return this._verify2(C,m),this.imod(C.mul(m))},z.prototype.isqr=function(C){return this.imul(C,C.clone())},z.prototype.sqr=function(C){return this.mul(C,C)},z.prototype.sqrt=function(C){if(C.isZero())return C.clone();var m=this.m.andln(3);if(n(m%2===1),m===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(C,g)}for(var w=this.m.subn(1),F=0;!w.isZero()&&w.andln(1)===0;)F++,w.iushrn(1);n(!w.isZero());var H=new i(1).toRed(this),K=H.redNeg(),D=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new i(2*I*I).toRed(this);this.pow(I,D).cmp(K)!==0;)I.redIAdd(K);for(var P=this.pow(I,w),T=this.pow(C,w.addn(1).iushrn(1)),V=this.pow(C,w),ee=F;V.cmp(H)!==0;){for(var se=V,Z=0;se.cmp(H)!==0;Z++)se=se.redSqr();n(Z<ee);var ne=this.pow(P,new i(1).iushln(ee-Z-1));T=T.redMul(ne),P=ne.redSqr(),V=V.redMul(P),ee=Z}return T},z.prototype.invm=function(C){var m=C._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},z.prototype.pow=function(C,m){if(m.isZero())return new i(1).toRed(this);if(m.cmpn(1)===0)return C.clone();var g=4,w=new Array(1<<g);w[0]=new i(1).toRed(this),w[1]=C;for(var F=2;F<w.length;F++)w[F]=this.mul(w[F-1],C);var H=w[0],K=0,D=0,I=m.bitLength()%26;for(I===0&&(I=26),F=m.length-1;F>=0;F--){for(var P=m.words[F],T=I-1;T>=0;T--){var V=P>>T&1;if(H!==w[0]&&(H=this.sqr(H)),V===0&&K===0){D=0;continue}K<<=1,K|=V,D++,!(D!==g&&(F!==0||T!==0))&&(H=this.mul(H,w[K]),D=0,K=0)}I=26}return H},z.prototype.convertTo=function(C){var m=C.umod(this.m);return m===C?m.clone():m},z.prototype.convertFrom=function(C){var m=C.clone();return m.red=null,m},i.mont=function(C){return new Y(C)};function Y(R){z.call(this,R),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Y,z),Y.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},Y.prototype.convertFrom=function(C){var m=this.imod(C.mul(this.rinv));return m.red=null,m},Y.prototype.imul=function(C,m){if(C.isZero()||m.isZero())return C.words[0]=0,C.length=1,C;var g=C.imul(m),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=g.isub(w).iushrn(this.shift),H=F;return F.cmp(this.m)>=0?H=F.isub(this.m):F.cmpn(0)<0&&(H=F.iadd(this.m)),H._forceRed(this)},Y.prototype.mul=function(C,m){if(C.isZero()||m.isZero())return new i(0)._forceRed(this);var g=C.mul(m),w=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),F=g.isub(w).iushrn(this.shift),H=F;return F.cmp(this.m)>=0?H=F.isub(this.m):F.cmpn(0)<0&&(H=F.iadd(this.m)),H._forceRed(this)},Y.prototype.invm=function(C){var m=this.imod(C._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(t,ea)})(F_);var li=F_.exports,l1={exports:{}},O9;function M_(){if(O9)return l1.exports;O9=1;var t;l1.exports=function(o){return t||(t=new e(null)),t.generate(o)};function e(n){this.rand=n}if(l1.exports.Rand=e,e.prototype.generate=function(o){return this._rand(o)},e.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var i=new Uint8Array(o),s=0;s<i.length;s++)i[s]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(o){var i=new Uint8Array(o);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(o){var i=new Uint8Array(o);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=tD();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(o){return r.randomBytes(o)}}catch{}return l1.exports}var $3,K9;function g$(){if(K9)return $3;K9=1;var t=li,e=M_();function r(n){this.rand=n||new e.Rand}return $3=r,r.create=function(o){return new r(o)},r.prototype._randbelow=function(o){var i=o.bitLength(),s=Math.ceil(i/8);do var a=new t(this.rand.generate(s));while(a.cmp(o)>=0);return a},r.prototype._randrange=function(o,i){var s=i.sub(o);return o.add(this._randbelow(s))},r.prototype.test=function(o,i,s){var a=o.bitLength(),c=t.mont(o),d=new t(1).toRed(c);i||(i=Math.max(1,a/48|0));for(var f=o.subn(1),l=0;!f.testn(l);l++);for(var u=o.shrn(l),p=f.toRed(c),A=!0;i>0;i--){var h=this._randrange(new t(2),f);s&&s(h);var y=h.toRed(c).redPow(u);if(!(y.cmp(d)===0||y.cmp(p)===0)){for(var v=1;v<l;v++){if(y=y.redSqr(),y.cmp(d)===0)return!1;if(y.cmp(p)===0)break}if(v===l)return!1}}return A},r.prototype.getDivisor=function(o,i){var s=o.bitLength(),a=t.mont(o),c=new t(1).toRed(a);i||(i=Math.max(1,s/48|0));for(var d=o.subn(1),f=0;!d.testn(f);f++);for(var l=o.shrn(f),u=d.toRed(a);i>0;i--){var p=this._randrange(new t(2),d),A=o.gcd(p);if(A.cmpn(1)!==0)return A;var h=p.toRed(a).redPow(l);if(!(h.cmp(c)===0||h.cmp(u)===0)){for(var y=1;y<f;y++){if(h=h.redSqr(),h.cmp(c)===0)return h.fromRed().subn(1).gcd(o);if(h.cmp(u)===0)break}if(y===f)return h=h.redSqr(),h.fromRed().subn(1).gcd(o)}}return!1},$3}var j3,H9;function p$(){if(H9)return j3;H9=1;var t=cp;j3=y,y.simpleSieve=A,y.fermatTest=h;var e=li,r=new e(24),n=g$(),o=new n,i=new e(1),s=new e(2),a=new e(5);new e(16),new e(8);var c=new e(10),d=new e(3);new e(7);var f=new e(11),l=new e(4);new e(12);var u=null;function p(){if(u!==null)return u;var v=1048576,B=[];B[0]=2;for(var S=1,x=3;x<v;x+=2){for(var Q=Math.ceil(Math.sqrt(x)),N=0;N<S&&B[N]<=Q&&x%B[N]!==0;N++);S!==N&&B[N]<=Q||(B[S++]=x)}return u=B,B}function A(v){for(var B=p(),S=0;S<B.length;S++)if(v.modn(B[S])===0)return v.cmpn(B[S])===0;return!0}function h(v){var B=e.mont(v);return s.toRed(B).redPow(v.subn(1)).fromRed().cmpn(1)===0}function y(v,B){if(v<16)return B===2||B===5?new e([140,123]):new e([140,39]);B=new e(B);for(var S,x;;){for(S=new e(t(Math.ceil(v/8)));S.bitLength()>v;)S.ishrn(1);if(S.isEven()&&S.iadd(i),S.testn(1)||S.iadd(s),B.cmp(s)){if(!B.cmp(a))for(;S.mod(c).cmp(d);)S.iadd(l)}else for(;S.mod(r).cmp(f);)S.iadd(l);if(x=S.shrn(1),A(x)&&A(S)&&h(x)&&h(S)&&o.test(x)&&o.test(S))return S}}return j3}const cCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},fCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},dCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},lCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},uCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},hCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},ACe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},gCe={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},pCe={modp1:cCe,modp2:fCe,modp5:dCe,modp14:lCe,modp15:uCe,modp16:hCe,modp17:ACe,modp18:gCe};var z3,L9;function yCe(){if(L9)return z3;L9=1;var t=li,e=g$(),r=new e,n=new t(24),o=new t(11),i=new t(10),s=new t(3),a=new t(7),c=p$(),d=cp;z3=A;function f(y,v){return v=v||"utf8",qe.Buffer.isBuffer(y)||(y=new qe.Buffer(y,v)),this._pub=new t(y),this}function l(y,v){return v=v||"utf8",qe.Buffer.isBuffer(y)||(y=new qe.Buffer(y,v)),this._priv=new t(y),this}var u={};function p(y,v){var B=v.toString("hex"),S=[B,y.toString(16)].join("_");if(S in u)return u[S];var x=0;if(y.isEven()||!c.simpleSieve||!c.fermatTest(y)||!r.test(y))return x+=1,B==="02"||B==="05"?x+=8:x+=4,u[S]=x,x;r.test(y.shrn(1))||(x+=2);var Q;switch(B){case"02":y.mod(n).cmp(o)&&(x+=8);break;case"05":Q=y.mod(i),Q.cmp(s)&&Q.cmp(a)&&(x+=8);break;default:x+=4}return u[S]=x,x}function A(y,v,B){this.setGenerator(v),this.__prime=new t(y),this._prime=t.mont(this.__prime),this._primeLen=y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=f,this.setPrivateKey=l):this._primeCode=8}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=p(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new t(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(y){y=new t(y),y=y.toRed(this._prime);var v=y.redPow(this._priv).fromRed(),B=new qe.Buffer(v.toArray()),S=this.getPrime();if(B.length<S.length){var x=new qe.Buffer(S.length-B.length);x.fill(0),B=qe.Buffer.concat([x,B])}return B},A.prototype.getPublicKey=function(v){return h(this._pub,v)},A.prototype.getPrivateKey=function(v){return h(this._priv,v)},A.prototype.getPrime=function(y){return h(this.__prime,y)},A.prototype.getGenerator=function(y){return h(this._gen,y)},A.prototype.setGenerator=function(y,v){return v=v||"utf8",qe.Buffer.isBuffer(y)||(y=new qe.Buffer(y,v)),this.__gen=y,this._gen=new t(y),this};function h(y,v){var B=new qe.Buffer(y.toArray());return v?B.toString(v):B}return z3}var G9;function ICe(){if(G9)return Gu;G9=1;var t=p$(),e=pCe,r=yCe();function n(s){var a=new qe.Buffer(e[s].prime,"hex"),c=new qe.Buffer(e[s].gen,"hex");return new r(a,c)}var o={binary:!0,hex:!0,base64:!0};function i(s,a,c,d){return qe.Buffer.isBuffer(a)||o[a]===void 0?i(s,"binary",a,c):(a=a||"binary",d=d||"binary",c=c||new qe.Buffer([2]),qe.Buffer.isBuffer(c)||(c=new qe.Buffer(c,d)),typeof s=="number"?new r(t(s,c),c,!0):(qe.Buffer.isBuffer(s)||(s=new qe.Buffer(s,a)),new r(s,c,!0)))}return Gu.DiffieHellmanGroup=Gu.createDiffieHellmanGroup=Gu.getDiffieHellman=n,Gu.createDiffieHellman=Gu.DiffieHellman=i,Gu}var iy={exports:{}},U_={exports:{}};U_.exports;(function(t){(function(e,r){function n(m,g){if(!m)throw new Error(g||"Assertion failed")}function o(m,g){m.super_=g;var w=function(){};w.prototype=g.prototype,m.prototype=new w,m.prototype.constructor=m}function i(m,g,w){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((g==="le"||g==="be")&&(w=g,g=10),this._init(m||0,g||10,w||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=qe.Buffer}catch{}i.isBN=function(g){return g instanceof i?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===i.wordSize&&Array.isArray(g.words)},i.max=function(g,w){return g.cmp(w)>0?g:w},i.min=function(g,w){return g.cmp(w)<0?g:w},i.prototype._init=function(g,w,F){if(typeof g=="number")return this._initNumber(g,w,F);if(typeof g=="object")return this._initArray(g,w,F);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),g=g.toString().replace(/\s+/g,"");var H=0;g[0]==="-"&&(H++,this.negative=1),H<g.length&&(w===16?this._parseHex(g,H,F):(this._parseBase(g,w,H),F==="le"&&this._initArray(this.toArray(),w,F)))},i.prototype._initNumber=function(g,w,F){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(n(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),F==="le"&&this._initArray(this.toArray(),w,F)},i.prototype._initArray=function(g,w,F){if(n(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K,D,I=0;if(F==="be")for(H=g.length-1,K=0;H>=0;H-=3)D=g[H]|g[H-1]<<8|g[H-2]<<16,this.words[K]|=D<<I&67108863,this.words[K+1]=D>>>26-I&67108863,I+=24,I>=26&&(I-=26,K++);else if(F==="le")for(H=0,K=0;H<g.length;H+=3)D=g[H]|g[H+1]<<8|g[H+2]<<16,this.words[K]|=D<<I&67108863,this.words[K+1]=D>>>26-I&67108863,I+=24,I>=26&&(I-=26,K++);return this._strip()};function a(m,g){var w=m.charCodeAt(g);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;n(!1,"Invalid character in "+m)}function c(m,g,w){var F=a(m,w);return w-1>=g&&(F|=a(m,w-1)<<4),F}i.prototype._parseHex=function(g,w,F){this.length=Math.ceil((g.length-w)/6),this.words=new Array(this.length);for(var H=0;H<this.length;H++)this.words[H]=0;var K=0,D=0,I;if(F==="be")for(H=g.length-1;H>=w;H-=2)I=c(g,w,H)<<K,this.words[D]|=I&67108863,K>=18?(K-=18,D+=1,this.words[D]|=I>>>26):K+=8;else{var P=g.length-w;for(H=P%2===0?w+1:w;H<g.length;H+=2)I=c(g,w,H)<<K,this.words[D]|=I&67108863,K>=18?(K-=18,D+=1,this.words[D]|=I>>>26):K+=8}this._strip()};function d(m,g,w,F){for(var H=0,K=0,D=Math.min(m.length,w),I=g;I<D;I++){var P=m.charCodeAt(I)-48;H*=F,P>=49?K=P-49+10:P>=17?K=P-17+10:K=P,n(P>=0&&K<F,"Invalid character"),H+=K}return H}i.prototype._parseBase=function(g,w,F){this.words=[0],this.length=1;for(var H=0,K=1;K<=67108863;K*=w)H++;H--,K=K/w|0;for(var D=g.length-F,I=D%H,P=Math.min(D,D-I)+F,T=0,V=F;V<P;V+=H)T=d(g,V,V+H,w),this.imuln(K),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if(I!==0){var ee=1;for(T=d(g,V,g.length,w),V=0;V<I;V++)ee*=w;this.imuln(ee),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}this._strip()},i.prototype.copy=function(g){g.words=new Array(this.length);for(var w=0;w<this.length;w++)g.words[w]=this.words[w];g.length=this.length,g.negative=this.negative,g.red=this.red};function f(m,g){m.words=g.words,m.length=g.length,m.negative=g.negative,m.red=g.red}if(i.prototype._move=function(g){f(g,this)},i.prototype.clone=function(){var g=new i(null);return this.copy(g),g},i.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch{i.prototype.inspect=l}else i.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],A=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(g,w){g=g||10,w=w|0||1;var F;if(g===16||g==="hex"){F="";for(var H=0,K=0,D=0;D<this.length;D++){var I=this.words[D],P=((I<<H|K)&16777215).toString(16);K=I>>>24-H&16777215,H+=2,H>=26&&(H-=26,D--),K!==0||D!==this.length-1?F=u[6-P.length]+P+F:F=P+F}for(K!==0&&(F=K.toString(16)+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}if(g===(g|0)&&g>=2&&g<=36){var T=p[g],V=A[g];F="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var se=ee.modrn(V).toString(g);ee=ee.idivn(V),ee.isZero()?F=se+F:F=u[T-se.length]+se+F}for(this.isZero()&&(F="0"+F);F.length%w!==0;)F="0"+F;return this.negative!==0&&(F="-"+F),F}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(g,w){return this.toArrayLike(s,g,w)}),i.prototype.toArray=function(g,w){return this.toArrayLike(Array,g,w)};var h=function(g,w){return g.allocUnsafe?g.allocUnsafe(w):new g(w)};i.prototype.toArrayLike=function(g,w,F){this._strip();var H=this.byteLength(),K=F||Math.max(1,H);n(H<=K,"byte array longer than desired length"),n(K>0,"Requested array length <= 0");var D=h(g,K),I=w==="le"?"LE":"BE";return this["_toArrayLike"+I](D,H),D},i.prototype._toArrayLikeLE=function(g,w){for(var F=0,H=0,K=0,D=0;K<this.length;K++){var I=this.words[K]<<D|H;g[F++]=I&255,F<g.length&&(g[F++]=I>>8&255),F<g.length&&(g[F++]=I>>16&255),D===6?(F<g.length&&(g[F++]=I>>24&255),H=0,D=0):(H=I>>>24,D+=2)}if(F<g.length)for(g[F++]=H;F<g.length;)g[F++]=0},i.prototype._toArrayLikeBE=function(g,w){for(var F=g.length-1,H=0,K=0,D=0;K<this.length;K++){var I=this.words[K]<<D|H;g[F--]=I&255,F>=0&&(g[F--]=I>>8&255),F>=0&&(g[F--]=I>>16&255),D===6?(F>=0&&(g[F--]=I>>24&255),H=0,D=0):(H=I>>>24,D+=2)}if(F>=0)for(g[F--]=H;F>=0;)g[F--]=0},Math.clz32?i.prototype._countBits=function(g){return 32-Math.clz32(g)}:i.prototype._countBits=function(g){var w=g,F=0;return w>=4096&&(F+=13,w>>>=13),w>=64&&(F+=7,w>>>=7),w>=8&&(F+=4,w>>>=4),w>=2&&(F+=2,w>>>=2),F+w},i.prototype._zeroBits=function(g){if(g===0)return 26;var w=g,F=0;return w&8191||(F+=13,w>>>=13),w&127||(F+=7,w>>>=7),w&15||(F+=4,w>>>=4),w&3||(F+=2,w>>>=2),w&1||F++,F},i.prototype.bitLength=function(){var g=this.words[this.length-1],w=this._countBits(g);return(this.length-1)*26+w};function y(m){for(var g=new Array(m.bitLength()),w=0;w<g.length;w++){var F=w/26|0,H=w%26;g[w]=m.words[F]>>>H&1}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,w=0;w<this.length;w++){var F=this._zeroBits(this.words[w]);if(g+=F,F!==26)break}return g},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},i.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var w=0;w<g.length;w++)this.words[w]=this.words[w]|g.words[w];return this._strip()},i.prototype.ior=function(g){return n((this.negative|g.negative)===0),this.iuor(g)},i.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},i.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},i.prototype.iuand=function(g){var w;this.length>g.length?w=g:w=this;for(var F=0;F<w.length;F++)this.words[F]=this.words[F]&g.words[F];return this.length=w.length,this._strip()},i.prototype.iand=function(g){return n((this.negative|g.negative)===0),this.iuand(g)},i.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},i.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},i.prototype.iuxor=function(g){var w,F;this.length>g.length?(w=this,F=g):(w=g,F=this);for(var H=0;H<F.length;H++)this.words[H]=w.words[H]^F.words[H];if(this!==w)for(;H<w.length;H++)this.words[H]=w.words[H];return this.length=w.length,this._strip()},i.prototype.ixor=function(g){return n((this.negative|g.negative)===0),this.iuxor(g)},i.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},i.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},i.prototype.inotn=function(g){n(typeof g=="number"&&g>=0);var w=Math.ceil(g/26)|0,F=g%26;this._expand(w),F>0&&w--;for(var H=0;H<w;H++)this.words[H]=~this.words[H]&67108863;return F>0&&(this.words[H]=~this.words[H]&67108863>>26-F),this._strip()},i.prototype.notn=function(g){return this.clone().inotn(g)},i.prototype.setn=function(g,w){n(typeof g=="number"&&g>=0);var F=g/26|0,H=g%26;return this._expand(F+1),w?this.words[F]=this.words[F]|1<<H:this.words[F]=this.words[F]&~(1<<H),this._strip()},i.prototype.iadd=function(g){var w;if(this.negative!==0&&g.negative===0)return this.negative=0,w=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,w=this.isub(g),g.negative=1,w._normSign();var F,H;this.length>g.length?(F=this,H=g):(F=g,H=this);for(var K=0,D=0;D<H.length;D++)w=(F.words[D]|0)+(H.words[D]|0)+K,this.words[D]=w&67108863,K=w>>>26;for(;K!==0&&D<F.length;D++)w=(F.words[D]|0)+K,this.words[D]=w&67108863,K=w>>>26;if(this.length=F.length,K!==0)this.words[this.length]=K,this.length++;else if(F!==this)for(;D<F.length;D++)this.words[D]=F.words[D];return this},i.prototype.add=function(g){var w;return g.negative!==0&&this.negative===0?(g.negative=0,w=this.sub(g),g.negative^=1,w):g.negative===0&&this.negative!==0?(this.negative=0,w=g.sub(this),this.negative=1,w):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},i.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var w=this.iadd(g);return g.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var F=this.cmp(g);if(F===0)return this.negative=0,this.length=1,this.words[0]=0,this;var H,K;F>0?(H=this,K=g):(H=g,K=this);for(var D=0,I=0;I<K.length;I++)w=(H.words[I]|0)-(K.words[I]|0)+D,D=w>>26,this.words[I]=w&67108863;for(;D!==0&&I<H.length;I++)w=(H.words[I]|0)+D,D=w>>26,this.words[I]=w&67108863;if(D===0&&I<H.length&&H!==this)for(;I<H.length;I++)this.words[I]=H.words[I];return this.length=Math.max(this.length,I),H!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(g){return this.clone().isub(g)};function v(m,g,w){w.negative=g.negative^m.negative;var F=m.length+g.length|0;w.length=F,F=F-1|0;var H=m.words[0]|0,K=g.words[0]|0,D=H*K,I=D&67108863,P=D/67108864|0;w.words[0]=I;for(var T=1;T<F;T++){for(var V=P>>>26,ee=P&67108863,se=Math.min(T,g.length-1),Z=Math.max(0,T-m.length+1);Z<=se;Z++){var ne=T-Z|0;H=m.words[ne]|0,K=g.words[Z]|0,D=H*K+ee,V+=D/67108864|0,ee=D&67108863}w.words[T]=ee|0,P=V|0}return P!==0?w.words[T]=P|0:w.length--,w._strip()}var B=function(g,w,F){var H=g.words,K=w.words,D=F.words,I=0,P,T,V,ee=H[0]|0,se=ee&8191,Z=ee>>>13,ne=H[1]|0,X=ne&8191,re=ne>>>13,W=H[2]|0,j=W&8191,M=W>>>13,E=H[3]|0,b=E&8191,k=E>>>13,U=H[4]|0,_=U&8191,L=U>>>13,J=H[5]|0,te=J&8191,oe=J>>>13,fe=H[6]|0,ue=fe&8191,Ae=fe>>>13,ie=H[7]|0,ae=ie&8191,le=ie>>>13,ge=H[8]|0,me=ge&8191,ve=ge>>>13,Ue=H[9]|0,ut=Ue&8191,_e=Ue>>>13,Qt=K[0]|0,We=Qt&8191,Fe=Qt>>>13,Le=K[1]|0,ar=Le&8191,ht=Le>>>13,cr=K[2]|0,rr=cr&8191,et=cr>>>13,$t=K[3]|0,nr=$t&8191,vt=$t>>>13,_r=K[4]|0,Lr=_r&8191,yt=_r>>>13,Dr=K[5]|0,Gr=Dr&8191,mt=Dr>>>13,qr=K[6]|0,kr=qr&8191,de=qr>>>13,ce=K[7]|0,he=ce&8191,pe=ce>>>13,Ie=K[8]|0,Se=Ie&8191,Ce=Ie>>>13,Ye=K[9]|0,nt=Ye&8191,pt=Ye>>>13;F.negative=g.negative^w.negative,F.length=19,P=Math.imul(se,We),T=Math.imul(se,Fe),T=T+Math.imul(Z,We)|0,V=Math.imul(Z,Fe);var wt=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(wt>>>26)|0,wt&=67108863,P=Math.imul(X,We),T=Math.imul(X,Fe),T=T+Math.imul(re,We)|0,V=Math.imul(re,Fe),P=P+Math.imul(se,ar)|0,T=T+Math.imul(se,ht)|0,T=T+Math.imul(Z,ar)|0,V=V+Math.imul(Z,ht)|0;var Yt=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,P=Math.imul(j,We),T=Math.imul(j,Fe),T=T+Math.imul(M,We)|0,V=Math.imul(M,Fe),P=P+Math.imul(X,ar)|0,T=T+Math.imul(X,ht)|0,T=T+Math.imul(re,ar)|0,V=V+Math.imul(re,ht)|0,P=P+Math.imul(se,rr)|0,T=T+Math.imul(se,et)|0,T=T+Math.imul(Z,rr)|0,V=V+Math.imul(Z,et)|0;var fr=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(fr>>>26)|0,fr&=67108863,P=Math.imul(b,We),T=Math.imul(b,Fe),T=T+Math.imul(k,We)|0,V=Math.imul(k,Fe),P=P+Math.imul(j,ar)|0,T=T+Math.imul(j,ht)|0,T=T+Math.imul(M,ar)|0,V=V+Math.imul(M,ht)|0,P=P+Math.imul(X,rr)|0,T=T+Math.imul(X,et)|0,T=T+Math.imul(re,rr)|0,V=V+Math.imul(re,et)|0,P=P+Math.imul(se,nr)|0,T=T+Math.imul(se,vt)|0,T=T+Math.imul(Z,nr)|0,V=V+Math.imul(Z,vt)|0;var Xe=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,P=Math.imul(_,We),T=Math.imul(_,Fe),T=T+Math.imul(L,We)|0,V=Math.imul(L,Fe),P=P+Math.imul(b,ar)|0,T=T+Math.imul(b,ht)|0,T=T+Math.imul(k,ar)|0,V=V+Math.imul(k,ht)|0,P=P+Math.imul(j,rr)|0,T=T+Math.imul(j,et)|0,T=T+Math.imul(M,rr)|0,V=V+Math.imul(M,et)|0,P=P+Math.imul(X,nr)|0,T=T+Math.imul(X,vt)|0,T=T+Math.imul(re,nr)|0,V=V+Math.imul(re,vt)|0,P=P+Math.imul(se,Lr)|0,T=T+Math.imul(se,yt)|0,T=T+Math.imul(Z,Lr)|0,V=V+Math.imul(Z,yt)|0;var Wt=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,P=Math.imul(te,We),T=Math.imul(te,Fe),T=T+Math.imul(oe,We)|0,V=Math.imul(oe,Fe),P=P+Math.imul(_,ar)|0,T=T+Math.imul(_,ht)|0,T=T+Math.imul(L,ar)|0,V=V+Math.imul(L,ht)|0,P=P+Math.imul(b,rr)|0,T=T+Math.imul(b,et)|0,T=T+Math.imul(k,rr)|0,V=V+Math.imul(k,et)|0,P=P+Math.imul(j,nr)|0,T=T+Math.imul(j,vt)|0,T=T+Math.imul(M,nr)|0,V=V+Math.imul(M,vt)|0,P=P+Math.imul(X,Lr)|0,T=T+Math.imul(X,yt)|0,T=T+Math.imul(re,Lr)|0,V=V+Math.imul(re,yt)|0,P=P+Math.imul(se,Gr)|0,T=T+Math.imul(se,mt)|0,T=T+Math.imul(Z,Gr)|0,V=V+Math.imul(Z,mt)|0;var Ar=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,P=Math.imul(ue,We),T=Math.imul(ue,Fe),T=T+Math.imul(Ae,We)|0,V=Math.imul(Ae,Fe),P=P+Math.imul(te,ar)|0,T=T+Math.imul(te,ht)|0,T=T+Math.imul(oe,ar)|0,V=V+Math.imul(oe,ht)|0,P=P+Math.imul(_,rr)|0,T=T+Math.imul(_,et)|0,T=T+Math.imul(L,rr)|0,V=V+Math.imul(L,et)|0,P=P+Math.imul(b,nr)|0,T=T+Math.imul(b,vt)|0,T=T+Math.imul(k,nr)|0,V=V+Math.imul(k,vt)|0,P=P+Math.imul(j,Lr)|0,T=T+Math.imul(j,yt)|0,T=T+Math.imul(M,Lr)|0,V=V+Math.imul(M,yt)|0,P=P+Math.imul(X,Gr)|0,T=T+Math.imul(X,mt)|0,T=T+Math.imul(re,Gr)|0,V=V+Math.imul(re,mt)|0,P=P+Math.imul(se,kr)|0,T=T+Math.imul(se,de)|0,T=T+Math.imul(Z,kr)|0,V=V+Math.imul(Z,de)|0;var Zt=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,P=Math.imul(ae,We),T=Math.imul(ae,Fe),T=T+Math.imul(le,We)|0,V=Math.imul(le,Fe),P=P+Math.imul(ue,ar)|0,T=T+Math.imul(ue,ht)|0,T=T+Math.imul(Ae,ar)|0,V=V+Math.imul(Ae,ht)|0,P=P+Math.imul(te,rr)|0,T=T+Math.imul(te,et)|0,T=T+Math.imul(oe,rr)|0,V=V+Math.imul(oe,et)|0,P=P+Math.imul(_,nr)|0,T=T+Math.imul(_,vt)|0,T=T+Math.imul(L,nr)|0,V=V+Math.imul(L,vt)|0,P=P+Math.imul(b,Lr)|0,T=T+Math.imul(b,yt)|0,T=T+Math.imul(k,Lr)|0,V=V+Math.imul(k,yt)|0,P=P+Math.imul(j,Gr)|0,T=T+Math.imul(j,mt)|0,T=T+Math.imul(M,Gr)|0,V=V+Math.imul(M,mt)|0,P=P+Math.imul(X,kr)|0,T=T+Math.imul(X,de)|0,T=T+Math.imul(re,kr)|0,V=V+Math.imul(re,de)|0,P=P+Math.imul(se,he)|0,T=T+Math.imul(se,pe)|0,T=T+Math.imul(Z,he)|0,V=V+Math.imul(Z,pe)|0;var Hi=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Hi>>>26)|0,Hi&=67108863,P=Math.imul(me,We),T=Math.imul(me,Fe),T=T+Math.imul(ve,We)|0,V=Math.imul(ve,Fe),P=P+Math.imul(ae,ar)|0,T=T+Math.imul(ae,ht)|0,T=T+Math.imul(le,ar)|0,V=V+Math.imul(le,ht)|0,P=P+Math.imul(ue,rr)|0,T=T+Math.imul(ue,et)|0,T=T+Math.imul(Ae,rr)|0,V=V+Math.imul(Ae,et)|0,P=P+Math.imul(te,nr)|0,T=T+Math.imul(te,vt)|0,T=T+Math.imul(oe,nr)|0,V=V+Math.imul(oe,vt)|0,P=P+Math.imul(_,Lr)|0,T=T+Math.imul(_,yt)|0,T=T+Math.imul(L,Lr)|0,V=V+Math.imul(L,yt)|0,P=P+Math.imul(b,Gr)|0,T=T+Math.imul(b,mt)|0,T=T+Math.imul(k,Gr)|0,V=V+Math.imul(k,mt)|0,P=P+Math.imul(j,kr)|0,T=T+Math.imul(j,de)|0,T=T+Math.imul(M,kr)|0,V=V+Math.imul(M,de)|0,P=P+Math.imul(X,he)|0,T=T+Math.imul(X,pe)|0,T=T+Math.imul(re,he)|0,V=V+Math.imul(re,pe)|0,P=P+Math.imul(se,Se)|0,T=T+Math.imul(se,Ce)|0,T=T+Math.imul(Z,Se)|0,V=V+Math.imul(Z,Ce)|0;var Ln=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,P=Math.imul(ut,We),T=Math.imul(ut,Fe),T=T+Math.imul(_e,We)|0,V=Math.imul(_e,Fe),P=P+Math.imul(me,ar)|0,T=T+Math.imul(me,ht)|0,T=T+Math.imul(ve,ar)|0,V=V+Math.imul(ve,ht)|0,P=P+Math.imul(ae,rr)|0,T=T+Math.imul(ae,et)|0,T=T+Math.imul(le,rr)|0,V=V+Math.imul(le,et)|0,P=P+Math.imul(ue,nr)|0,T=T+Math.imul(ue,vt)|0,T=T+Math.imul(Ae,nr)|0,V=V+Math.imul(Ae,vt)|0,P=P+Math.imul(te,Lr)|0,T=T+Math.imul(te,yt)|0,T=T+Math.imul(oe,Lr)|0,V=V+Math.imul(oe,yt)|0,P=P+Math.imul(_,Gr)|0,T=T+Math.imul(_,mt)|0,T=T+Math.imul(L,Gr)|0,V=V+Math.imul(L,mt)|0,P=P+Math.imul(b,kr)|0,T=T+Math.imul(b,de)|0,T=T+Math.imul(k,kr)|0,V=V+Math.imul(k,de)|0,P=P+Math.imul(j,he)|0,T=T+Math.imul(j,pe)|0,T=T+Math.imul(M,he)|0,V=V+Math.imul(M,pe)|0,P=P+Math.imul(X,Se)|0,T=T+Math.imul(X,Ce)|0,T=T+Math.imul(re,Se)|0,V=V+Math.imul(re,Ce)|0,P=P+Math.imul(se,nt)|0,T=T+Math.imul(se,pt)|0,T=T+Math.imul(Z,nt)|0,V=V+Math.imul(Z,pt)|0;var Gn=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,P=Math.imul(ut,ar),T=Math.imul(ut,ht),T=T+Math.imul(_e,ar)|0,V=Math.imul(_e,ht),P=P+Math.imul(me,rr)|0,T=T+Math.imul(me,et)|0,T=T+Math.imul(ve,rr)|0,V=V+Math.imul(ve,et)|0,P=P+Math.imul(ae,nr)|0,T=T+Math.imul(ae,vt)|0,T=T+Math.imul(le,nr)|0,V=V+Math.imul(le,vt)|0,P=P+Math.imul(ue,Lr)|0,T=T+Math.imul(ue,yt)|0,T=T+Math.imul(Ae,Lr)|0,V=V+Math.imul(Ae,yt)|0,P=P+Math.imul(te,Gr)|0,T=T+Math.imul(te,mt)|0,T=T+Math.imul(oe,Gr)|0,V=V+Math.imul(oe,mt)|0,P=P+Math.imul(_,kr)|0,T=T+Math.imul(_,de)|0,T=T+Math.imul(L,kr)|0,V=V+Math.imul(L,de)|0,P=P+Math.imul(b,he)|0,T=T+Math.imul(b,pe)|0,T=T+Math.imul(k,he)|0,V=V+Math.imul(k,pe)|0,P=P+Math.imul(j,Se)|0,T=T+Math.imul(j,Ce)|0,T=T+Math.imul(M,Se)|0,V=V+Math.imul(M,Ce)|0,P=P+Math.imul(X,nt)|0,T=T+Math.imul(X,pt)|0,T=T+Math.imul(re,nt)|0,V=V+Math.imul(re,pt)|0;var So=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(So>>>26)|0,So&=67108863,P=Math.imul(ut,rr),T=Math.imul(ut,et),T=T+Math.imul(_e,rr)|0,V=Math.imul(_e,et),P=P+Math.imul(me,nr)|0,T=T+Math.imul(me,vt)|0,T=T+Math.imul(ve,nr)|0,V=V+Math.imul(ve,vt)|0,P=P+Math.imul(ae,Lr)|0,T=T+Math.imul(ae,yt)|0,T=T+Math.imul(le,Lr)|0,V=V+Math.imul(le,yt)|0,P=P+Math.imul(ue,Gr)|0,T=T+Math.imul(ue,mt)|0,T=T+Math.imul(Ae,Gr)|0,V=V+Math.imul(Ae,mt)|0,P=P+Math.imul(te,kr)|0,T=T+Math.imul(te,de)|0,T=T+Math.imul(oe,kr)|0,V=V+Math.imul(oe,de)|0,P=P+Math.imul(_,he)|0,T=T+Math.imul(_,pe)|0,T=T+Math.imul(L,he)|0,V=V+Math.imul(L,pe)|0,P=P+Math.imul(b,Se)|0,T=T+Math.imul(b,Ce)|0,T=T+Math.imul(k,Se)|0,V=V+Math.imul(k,Ce)|0,P=P+Math.imul(j,nt)|0,T=T+Math.imul(j,pt)|0,T=T+Math.imul(M,nt)|0,V=V+Math.imul(M,pt)|0;var co=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(co>>>26)|0,co&=67108863,P=Math.imul(ut,nr),T=Math.imul(ut,vt),T=T+Math.imul(_e,nr)|0,V=Math.imul(_e,vt),P=P+Math.imul(me,Lr)|0,T=T+Math.imul(me,yt)|0,T=T+Math.imul(ve,Lr)|0,V=V+Math.imul(ve,yt)|0,P=P+Math.imul(ae,Gr)|0,T=T+Math.imul(ae,mt)|0,T=T+Math.imul(le,Gr)|0,V=V+Math.imul(le,mt)|0,P=P+Math.imul(ue,kr)|0,T=T+Math.imul(ue,de)|0,T=T+Math.imul(Ae,kr)|0,V=V+Math.imul(Ae,de)|0,P=P+Math.imul(te,he)|0,T=T+Math.imul(te,pe)|0,T=T+Math.imul(oe,he)|0,V=V+Math.imul(oe,pe)|0,P=P+Math.imul(_,Se)|0,T=T+Math.imul(_,Ce)|0,T=T+Math.imul(L,Se)|0,V=V+Math.imul(L,Ce)|0,P=P+Math.imul(b,nt)|0,T=T+Math.imul(b,pt)|0,T=T+Math.imul(k,nt)|0,V=V+Math.imul(k,pt)|0;var Bn=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,P=Math.imul(ut,Lr),T=Math.imul(ut,yt),T=T+Math.imul(_e,Lr)|0,V=Math.imul(_e,yt),P=P+Math.imul(me,Gr)|0,T=T+Math.imul(me,mt)|0,T=T+Math.imul(ve,Gr)|0,V=V+Math.imul(ve,mt)|0,P=P+Math.imul(ae,kr)|0,T=T+Math.imul(ae,de)|0,T=T+Math.imul(le,kr)|0,V=V+Math.imul(le,de)|0,P=P+Math.imul(ue,he)|0,T=T+Math.imul(ue,pe)|0,T=T+Math.imul(Ae,he)|0,V=V+Math.imul(Ae,pe)|0,P=P+Math.imul(te,Se)|0,T=T+Math.imul(te,Ce)|0,T=T+Math.imul(oe,Se)|0,V=V+Math.imul(oe,Ce)|0,P=P+Math.imul(_,nt)|0,T=T+Math.imul(_,pt)|0,T=T+Math.imul(L,nt)|0,V=V+Math.imul(L,pt)|0;var qn=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(qn>>>26)|0,qn&=67108863,P=Math.imul(ut,Gr),T=Math.imul(ut,mt),T=T+Math.imul(_e,Gr)|0,V=Math.imul(_e,mt),P=P+Math.imul(me,kr)|0,T=T+Math.imul(me,de)|0,T=T+Math.imul(ve,kr)|0,V=V+Math.imul(ve,de)|0,P=P+Math.imul(ae,he)|0,T=T+Math.imul(ae,pe)|0,T=T+Math.imul(le,he)|0,V=V+Math.imul(le,pe)|0,P=P+Math.imul(ue,Se)|0,T=T+Math.imul(ue,Ce)|0,T=T+Math.imul(Ae,Se)|0,V=V+Math.imul(Ae,Ce)|0,P=P+Math.imul(te,nt)|0,T=T+Math.imul(te,pt)|0,T=T+Math.imul(oe,nt)|0,V=V+Math.imul(oe,pt)|0;var fo=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(fo>>>26)|0,fo&=67108863,P=Math.imul(ut,kr),T=Math.imul(ut,de),T=T+Math.imul(_e,kr)|0,V=Math.imul(_e,de),P=P+Math.imul(me,he)|0,T=T+Math.imul(me,pe)|0,T=T+Math.imul(ve,he)|0,V=V+Math.imul(ve,pe)|0,P=P+Math.imul(ae,Se)|0,T=T+Math.imul(ae,Ce)|0,T=T+Math.imul(le,Se)|0,V=V+Math.imul(le,Ce)|0,P=P+Math.imul(ue,nt)|0,T=T+Math.imul(ue,pt)|0,T=T+Math.imul(Ae,nt)|0,V=V+Math.imul(Ae,pt)|0;var hi=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(hi>>>26)|0,hi&=67108863,P=Math.imul(ut,he),T=Math.imul(ut,pe),T=T+Math.imul(_e,he)|0,V=Math.imul(_e,pe),P=P+Math.imul(me,Se)|0,T=T+Math.imul(me,Ce)|0,T=T+Math.imul(ve,Se)|0,V=V+Math.imul(ve,Ce)|0,P=P+Math.imul(ae,nt)|0,T=T+Math.imul(ae,pt)|0,T=T+Math.imul(le,nt)|0,V=V+Math.imul(le,pt)|0;var jo=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(jo>>>26)|0,jo&=67108863,P=Math.imul(ut,Se),T=Math.imul(ut,Ce),T=T+Math.imul(_e,Se)|0,V=Math.imul(_e,Ce),P=P+Math.imul(me,nt)|0,T=T+Math.imul(me,pt)|0,T=T+Math.imul(ve,nt)|0,V=V+Math.imul(ve,pt)|0;var BA=(I+P|0)+((T&8191)<<13)|0;I=(V+(T>>>13)|0)+(BA>>>26)|0,BA&=67108863,P=Math.imul(ut,nt),T=Math.imul(ut,pt),T=T+Math.imul(_e,nt)|0,V=Math.imul(_e,pt);var CA=(I+P|0)+((T&8191)<<13)|0;return I=(V+(T>>>13)|0)+(CA>>>26)|0,CA&=67108863,D[0]=wt,D[1]=Yt,D[2]=fr,D[3]=Xe,D[4]=Wt,D[5]=Ar,D[6]=Zt,D[7]=Hi,D[8]=Ln,D[9]=Gn,D[10]=So,D[11]=co,D[12]=Bn,D[13]=qn,D[14]=fo,D[15]=hi,D[16]=jo,D[17]=BA,D[18]=CA,I!==0&&(D[19]=I,F.length++),F};Math.imul||(B=v);function S(m,g,w){w.negative=g.negative^m.negative,w.length=m.length+g.length;for(var F=0,H=0,K=0;K<w.length-1;K++){var D=H;H=0;for(var I=F&67108863,P=Math.min(K,g.length-1),T=Math.max(0,K-m.length+1);T<=P;T++){var V=K-T,ee=m.words[V]|0,se=g.words[T]|0,Z=ee*se,ne=Z&67108863;D=D+(Z/67108864|0)|0,ne=ne+I|0,I=ne&67108863,D=D+(ne>>>26)|0,H+=D>>>26,D&=67108863}w.words[K]=I,F=D,D=H}return F!==0?w.words[K]=F:w.length--,w._strip()}function x(m,g,w){return S(m,g,w)}i.prototype.mulTo=function(g,w){var F,H=this.length+g.length;return this.length===10&&g.length===10?F=B(this,g,w):H<63?F=v(this,g,w):H<1024?F=S(this,g,w):F=x(this,g,w),F},i.prototype.mul=function(g){var w=new i(null);return w.words=new Array(this.length+g.length),this.mulTo(g,w)},i.prototype.mulf=function(g){var w=new i(null);return w.words=new Array(this.length+g.length),x(this,g,w)},i.prototype.imul=function(g){return this.clone().mulTo(g,this)},i.prototype.imuln=function(g){var w=g<0;w&&(g=-g),n(typeof g=="number"),n(g<67108864);for(var F=0,H=0;H<this.length;H++){var K=(this.words[H]|0)*g,D=(K&67108863)+(F&67108863);F>>=26,F+=K/67108864|0,F+=D>>>26,this.words[H]=D&67108863}return F!==0&&(this.words[H]=F,this.length++),w?this.ineg():this},i.prototype.muln=function(g){return this.clone().imuln(g)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(g){var w=y(g);if(w.length===0)return new i(1);for(var F=this,H=0;H<w.length&&w[H]===0;H++,F=F.sqr());if(++H<w.length)for(var K=F.sqr();H<w.length;H++,K=K.sqr())w[H]!==0&&(F=F.mul(K));return F},i.prototype.iushln=function(g){n(typeof g=="number"&&g>=0);var w=g%26,F=(g-w)/26,H=67108863>>>26-w<<26-w,K;if(w!==0){var D=0;for(K=0;K<this.length;K++){var I=this.words[K]&H,P=(this.words[K]|0)-I<<w;this.words[K]=P|D,D=I>>>26-w}D&&(this.words[K]=D,this.length++)}if(F!==0){for(K=this.length-1;K>=0;K--)this.words[K+F]=this.words[K];for(K=0;K<F;K++)this.words[K]=0;this.length+=F}return this._strip()},i.prototype.ishln=function(g){return n(this.negative===0),this.iushln(g)},i.prototype.iushrn=function(g,w,F){n(typeof g=="number"&&g>=0);var H;w?H=(w-w%26)/26:H=0;var K=g%26,D=Math.min((g-K)/26,this.length),I=67108863^67108863>>>K<<K,P=F;if(H-=D,H=Math.max(0,H),P){for(var T=0;T<D;T++)P.words[T]=this.words[T];P.length=D}if(D!==0)if(this.length>D)for(this.length-=D,T=0;T<this.length;T++)this.words[T]=this.words[T+D];else this.words[0]=0,this.length=1;var V=0;for(T=this.length-1;T>=0&&(V!==0||T>=H);T--){var ee=this.words[T]|0;this.words[T]=V<<26-K|ee>>>K,V=ee&I}return P&&V!==0&&(P.words[P.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(g,w,F){return n(this.negative===0),this.iushrn(g,w,F)},i.prototype.shln=function(g){return this.clone().ishln(g)},i.prototype.ushln=function(g){return this.clone().iushln(g)},i.prototype.shrn=function(g){return this.clone().ishrn(g)},i.prototype.ushrn=function(g){return this.clone().iushrn(g)},i.prototype.testn=function(g){n(typeof g=="number"&&g>=0);var w=g%26,F=(g-w)/26,H=1<<w;if(this.length<=F)return!1;var K=this.words[F];return!!(K&H)},i.prototype.imaskn=function(g){n(typeof g=="number"&&g>=0);var w=g%26,F=(g-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=F)return this;if(w!==0&&F++,this.length=Math.min(F,this.length),w!==0){var H=67108863^67108863>>>w<<w;this.words[this.length-1]&=H}return this._strip()},i.prototype.maskn=function(g){return this.clone().imaskn(g)},i.prototype.iaddn=function(g){return n(typeof g=="number"),n(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<=g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},i.prototype._iaddn=function(g){this.words[0]+=g;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},i.prototype.isubn=function(g){if(n(typeof g=="number"),n(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},i.prototype.addn=function(g){return this.clone().iaddn(g)},i.prototype.subn=function(g){return this.clone().isubn(g)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(g,w,F){var H=g.length+F,K;this._expand(H);var D,I=0;for(K=0;K<g.length;K++){D=(this.words[K+F]|0)+I;var P=(g.words[K]|0)*w;D-=P&67108863,I=(D>>26)-(P/67108864|0),this.words[K+F]=D&67108863}for(;K<this.length-F;K++)D=(this.words[K+F]|0)+I,I=D>>26,this.words[K+F]=D&67108863;if(I===0)return this._strip();for(n(I===-1),I=0,K=0;K<this.length;K++)D=-(this.words[K]|0)+I,I=D>>26,this.words[K]=D&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(g,w){var F=this.length-g.length,H=this.clone(),K=g,D=K.words[K.length-1]|0,I=this._countBits(D);F=26-I,F!==0&&(K=K.ushln(F),H.iushln(F),D=K.words[K.length-1]|0);var P=H.length-K.length,T;if(w!=="mod"){T=new i(null),T.length=P+1,T.words=new Array(T.length);for(var V=0;V<T.length;V++)T.words[V]=0}var ee=H.clone()._ishlnsubmul(K,1,P);ee.negative===0&&(H=ee,T&&(T.words[P]=1));for(var se=P-1;se>=0;se--){var Z=(H.words[K.length+se]|0)*67108864+(H.words[K.length+se-1]|0);for(Z=Math.min(Z/D|0,67108863),H._ishlnsubmul(K,Z,se);H.negative!==0;)Z--,H.negative=0,H._ishlnsubmul(K,1,se),H.isZero()||(H.negative^=1);T&&(T.words[se]=Z)}return T&&T._strip(),H._strip(),w!=="div"&&F!==0&&H.iushrn(F),{div:T||null,mod:H}},i.prototype.divmod=function(g,w,F){if(n(!g.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var H,K,D;return this.negative!==0&&g.negative===0?(D=this.neg().divmod(g,w),w!=="mod"&&(H=D.div.neg()),w!=="div"&&(K=D.mod.neg(),F&&K.negative!==0&&K.iadd(g)),{div:H,mod:K}):this.negative===0&&g.negative!==0?(D=this.divmod(g.neg(),w),w!=="mod"&&(H=D.div.neg()),{div:H,mod:D.mod}):this.negative&g.negative?(D=this.neg().divmod(g.neg(),w),w!=="div"&&(K=D.mod.neg(),F&&K.negative!==0&&K.isub(g)),{div:D.div,mod:K}):g.length>this.length||this.cmp(g)<0?{div:new i(0),mod:this}:g.length===1?w==="div"?{div:this.divn(g.words[0]),mod:null}:w==="mod"?{div:null,mod:new i(this.modrn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new i(this.modrn(g.words[0]))}:this._wordDiv(g,w)},i.prototype.div=function(g){return this.divmod(g,"div",!1).div},i.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},i.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},i.prototype.divRound=function(g){var w=this.divmod(g);if(w.mod.isZero())return w.div;var F=w.div.negative!==0?w.mod.isub(g):w.mod,H=g.ushrn(1),K=g.andln(1),D=F.cmp(H);return D<0||K===1&&D===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},i.prototype.modrn=function(g){var w=g<0;w&&(g=-g),n(g<=67108863);for(var F=(1<<26)%g,H=0,K=this.length-1;K>=0;K--)H=(F*H+(this.words[K]|0))%g;return w?-H:H},i.prototype.modn=function(g){return this.modrn(g)},i.prototype.idivn=function(g){var w=g<0;w&&(g=-g),n(g<=67108863);for(var F=0,H=this.length-1;H>=0;H--){var K=(this.words[H]|0)+F*67108864;this.words[H]=K/g|0,F=K%g}return this._strip(),w?this.ineg():this},i.prototype.divn=function(g){return this.clone().idivn(g)},i.prototype.egcd=function(g){n(g.negative===0),n(!g.isZero());var w=this,F=g.clone();w.negative!==0?w=w.umod(g):w=w.clone();for(var H=new i(1),K=new i(0),D=new i(0),I=new i(1),P=0;w.isEven()&&F.isEven();)w.iushrn(1),F.iushrn(1),++P;for(var T=F.clone(),V=w.clone();!w.isZero();){for(var ee=0,se=1;!(w.words[0]&se)&&ee<26;++ee,se<<=1);if(ee>0)for(w.iushrn(ee);ee-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(T),K.isub(V)),H.iushrn(1),K.iushrn(1);for(var Z=0,ne=1;!(F.words[0]&ne)&&Z<26;++Z,ne<<=1);if(Z>0)for(F.iushrn(Z);Z-- >0;)(D.isOdd()||I.isOdd())&&(D.iadd(T),I.isub(V)),D.iushrn(1),I.iushrn(1);w.cmp(F)>=0?(w.isub(F),H.isub(D),K.isub(I)):(F.isub(w),D.isub(H),I.isub(K))}return{a:D,b:I,gcd:F.iushln(P)}},i.prototype._invmp=function(g){n(g.negative===0),n(!g.isZero());var w=this,F=g.clone();w.negative!==0?w=w.umod(g):w=w.clone();for(var H=new i(1),K=new i(0),D=F.clone();w.cmpn(1)>0&&F.cmpn(1)>0;){for(var I=0,P=1;!(w.words[0]&P)&&I<26;++I,P<<=1);if(I>0)for(w.iushrn(I);I-- >0;)H.isOdd()&&H.iadd(D),H.iushrn(1);for(var T=0,V=1;!(F.words[0]&V)&&T<26;++T,V<<=1);if(T>0)for(F.iushrn(T);T-- >0;)K.isOdd()&&K.iadd(D),K.iushrn(1);w.cmp(F)>=0?(w.isub(F),H.isub(K)):(F.isub(w),K.isub(H))}var ee;return w.cmpn(1)===0?ee=H:ee=K,ee.cmpn(0)<0&&ee.iadd(g),ee},i.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var w=this.clone(),F=g.clone();w.negative=0,F.negative=0;for(var H=0;w.isEven()&&F.isEven();H++)w.iushrn(1),F.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;F.isEven();)F.iushrn(1);var K=w.cmp(F);if(K<0){var D=w;w=F,F=D}else if(K===0||F.cmpn(1)===0)break;w.isub(F)}while(!0);return F.iushln(H)},i.prototype.invm=function(g){return this.egcd(g).a.umod(g)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(g){return this.words[0]&g},i.prototype.bincn=function(g){n(typeof g=="number");var w=g%26,F=(g-w)/26,H=1<<w;if(this.length<=F)return this._expand(F+1),this.words[F]|=H,this;for(var K=H,D=F;K!==0&&D<this.length;D++){var I=this.words[D]|0;I+=K,K=I>>>26,I&=67108863,this.words[D]=I}return K!==0&&(this.words[D]=K,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(g){var w=g<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var F;if(this.length>1)F=1;else{w&&(g=-g),n(g<=67108863,"Number is too big");var H=this.words[0]|0;F=H===g?0:H<g?-1:1}return this.negative!==0?-F|0:F},i.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var w=this.ucmp(g);return this.negative!==0?-w|0:w},i.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var w=0,F=this.length-1;F>=0;F--){var H=this.words[F]|0,K=g.words[F]|0;if(H!==K){H<K?w=-1:H>K&&(w=1);break}}return w},i.prototype.gtn=function(g){return this.cmpn(g)===1},i.prototype.gt=function(g){return this.cmp(g)===1},i.prototype.gten=function(g){return this.cmpn(g)>=0},i.prototype.gte=function(g){return this.cmp(g)>=0},i.prototype.ltn=function(g){return this.cmpn(g)===-1},i.prototype.lt=function(g){return this.cmp(g)===-1},i.prototype.lten=function(g){return this.cmpn(g)<=0},i.prototype.lte=function(g){return this.cmp(g)<=0},i.prototype.eqn=function(g){return this.cmpn(g)===0},i.prototype.eq=function(g){return this.cmp(g)===0},i.red=function(g){return new R(g)},i.prototype.toRed=function(g){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(g){return this.red=g,this},i.prototype.forceRed=function(g){return n(!this.red,"Already a number in reduction context"),this._forceRed(g)},i.prototype.redAdd=function(g){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},i.prototype.redIAdd=function(g){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},i.prototype.redSub=function(g){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},i.prototype.redISub=function(g){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},i.prototype.redShl=function(g){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},i.prototype.redMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},i.prototype.redIMul=function(g){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(g){return n(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var Q={k256:null,p224:null,p192:null,p25519:null};function N(m,g){this.name=m,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var g=new i(null);return g.words=new Array(Math.ceil(this.n/13)),g},N.prototype.ireduce=function(g){var w=g,F;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),F=w.bitLength();while(F>this.n);var H=F<this.n?-1:w.ucmp(this.p);return H===0?(w.words[0]=0,w.length=1):H>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},N.prototype.split=function(g,w){g.iushrn(this.n,0,w)},N.prototype.imulK=function(g){return g.imul(this.k)};function $(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o($,N),$.prototype.split=function(g,w){for(var F=4194303,H=Math.min(g.length,9),K=0;K<H;K++)w.words[K]=g.words[K];if(w.length=H,g.length<=9){g.words[0]=0,g.length=1;return}var D=g.words[9];for(w.words[w.length++]=D&F,K=10;K<g.length;K++){var I=g.words[K]|0;g.words[K-10]=(I&F)<<4|D>>>22,D=I}D>>>=22,g.words[K-10]=D,D===0&&g.length>10?g.length-=10:g.length-=9},$.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var w=0,F=0;F<g.length;F++){var H=g.words[F]|0;w+=H*977,g.words[F]=w&67108863,w=H*64+(w/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function G(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(G,N);function z(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(z,N);function Y(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Y,N),Y.prototype.imulK=function(g){for(var w=0,F=0;F<g.length;F++){var H=(g.words[F]|0)*19+w,K=H&67108863;H>>>=26,g.words[F]=K,w=H}return w!==0&&(g.words[g.length++]=w),g},i._prime=function(g){if(Q[g])return Q[g];var w;if(g==="k256")w=new $;else if(g==="p224")w=new G;else if(g==="p192")w=new z;else if(g==="p25519")w=new Y;else throw new Error("Unknown prime "+g);return Q[g]=w,w};function R(m){if(typeof m=="string"){var g=i._prime(m);this.m=g.p,this.prime=g}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}R.prototype._verify1=function(g){n(g.negative===0,"red works only with positives"),n(g.red,"red works only with red numbers")},R.prototype._verify2=function(g,w){n((g.negative|w.negative)===0,"red works only with positives"),n(g.red&&g.red===w.red,"red works only with red numbers")},R.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):(f(g,g.umod(this.m)._forceRed(this)),g)},R.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},R.prototype.add=function(g,w){this._verify2(g,w);var F=g.add(w);return F.cmp(this.m)>=0&&F.isub(this.m),F._forceRed(this)},R.prototype.iadd=function(g,w){this._verify2(g,w);var F=g.iadd(w);return F.cmp(this.m)>=0&&F.isub(this.m),F},R.prototype.sub=function(g,w){this._verify2(g,w);var F=g.sub(w);return F.cmpn(0)<0&&F.iadd(this.m),F._forceRed(this)},R.prototype.isub=function(g,w){this._verify2(g,w);var F=g.isub(w);return F.cmpn(0)<0&&F.iadd(this.m),F},R.prototype.shl=function(g,w){return this._verify1(g),this.imod(g.ushln(w))},R.prototype.imul=function(g,w){return this._verify2(g,w),this.imod(g.imul(w))},R.prototype.mul=function(g,w){return this._verify2(g,w),this.imod(g.mul(w))},R.prototype.isqr=function(g){return this.imul(g,g.clone())},R.prototype.sqr=function(g){return this.mul(g,g)},R.prototype.sqrt=function(g){if(g.isZero())return g.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var F=this.m.add(new i(1)).iushrn(2);return this.pow(g,F)}for(var H=this.m.subn(1),K=0;!H.isZero()&&H.andln(1)===0;)K++,H.iushrn(1);n(!H.isZero());var D=new i(1).toRed(this),I=D.redNeg(),P=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,P).cmp(I)!==0;)T.redIAdd(I);for(var V=this.pow(T,H),ee=this.pow(g,H.addn(1).iushrn(1)),se=this.pow(g,H),Z=K;se.cmp(D)!==0;){for(var ne=se,X=0;ne.cmp(D)!==0;X++)ne=ne.redSqr();n(X<Z);var re=this.pow(V,new i(1).iushln(Z-X-1));ee=ee.redMul(re),V=re.redSqr(),se=se.redMul(V),Z=X}return ee},R.prototype.invm=function(g){var w=g._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},R.prototype.pow=function(g,w){if(w.isZero())return new i(1).toRed(this);if(w.cmpn(1)===0)return g.clone();var F=4,H=new Array(1<<F);H[0]=new i(1).toRed(this),H[1]=g;for(var K=2;K<H.length;K++)H[K]=this.mul(H[K-1],g);var D=H[0],I=0,P=0,T=w.bitLength()%26;for(T===0&&(T=26),K=w.length-1;K>=0;K--){for(var V=w.words[K],ee=T-1;ee>=0;ee--){var se=V>>ee&1;if(D!==H[0]&&(D=this.sqr(D)),se===0&&I===0){P=0;continue}I<<=1,I|=se,P++,!(P!==F&&(K!==0||ee!==0))&&(D=this.mul(D,H[I]),P=0,I=0)}T=26}return D},R.prototype.convertTo=function(g){var w=g.umod(this.m);return w===g?w.clone():w},R.prototype.convertFrom=function(g){var w=g.clone();return w.red=null,w},i.mont=function(g){return new C(g)};function C(m){R.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(C,R),C.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},C.prototype.convertFrom=function(g){var w=this.imod(g.mul(this.rinv));return w.red=null,w},C.prototype.imul=function(g,w){if(g.isZero()||w.isZero())return g.words[0]=0,g.length=1,g;var F=g.imul(w),H=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=F.isub(H).iushrn(this.shift),D=K;return K.cmp(this.m)>=0?D=K.isub(this.m):K.cmpn(0)<0&&(D=K.iadd(this.m)),D._forceRed(this)},C.prototype.mul=function(g,w){if(g.isZero()||w.isZero())return new i(0)._forceRed(this);var F=g.mul(w),H=F.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),K=F.isub(H).iushrn(this.shift),D=K;return K.cmp(this.m)>=0?D=K.isub(this.m):K.cmpn(0)<0&&(D=K.iadd(this.m)),D._forceRed(this)},C.prototype.invm=function(g){var w=this.imod(g._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,ea)})(U_);var R_=U_.exports,Ng=R_,mCe=cp;function wCe(t){var e=y$(t),r=e.toRed(Ng.mont(t.modulus)).redPow(new Ng(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function y$(t){var e=t.modulus.byteLength(),r;do r=new Ng(mCe(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function I$(t,e){var r=wCe(e),n=e.modulus.byteLength(),o=new Ng(t).mul(r.blinder).umod(e.modulus),i=o.toRed(Ng.mont(e.prime1)),s=o.toRed(Ng.mont(e.prime2)),a=e.coefficient,c=e.prime1,d=e.prime2,f=i.redPow(e.exponent1).fromRed(),l=s.redPow(e.exponent2).fromRed(),u=f.isub(l).imul(a).umod(c).imul(d);return l.iadd(u).imul(r.unblinder).umod(e.modulus).toArrayLike(qe.Buffer,"be",n)}I$.getr=y$;var N_=I$,Y3={};const bCe="elliptic",ECe="6.5.4",vCe="EC cryptography",BCe="lib/elliptic.js",CCe=["lib"],QCe={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},xCe={type:"git",url:"git@github.com:indutny/elliptic"},SCe=["EC","Elliptic","curve","Cryptography"],_Ce="Fedor Indutny <fedor@indutny.com>",DCe="MIT",kCe={url:"https://github.com/indutny/elliptic/issues"},TCe="https://github.com/indutny/elliptic",FCe={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},MCe={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},UCe={name:bCe,version:ECe,description:vCe,main:BCe,files:CCe,scripts:QCe,repository:xCe,keywords:SCe,author:_Ce,license:DCe,bugs:kCe,homepage:TCe,devDependencies:FCe,dependencies:MCe};var Fs={},P_={};(function(t){var e=t;function r(i,s){if(Array.isArray(i))return i.slice();if(!i)return[];var a=[];if(typeof i!="string"){for(var c=0;c<i.length;c++)a[c]=i[c]|0;return a}if(s==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var c=0;c<i.length;c+=2)a.push(parseInt(i[c]+i[c+1],16))}else for(var c=0;c<i.length;c++){var d=i.charCodeAt(c),f=d>>8,l=d&255;f?a.push(f,l):a.push(l)}return a}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function o(i){for(var s="",a=0;a<i.length;a++)s+=n(i[a].toString(16));return s}e.toHex=o,e.encode=function(s,a){return a==="hex"?o(s):s}})(P_);(function(t){var e=t,r=li,n=Ia,o=P_;e.assert=n,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function i(f,l,u){var p=new Array(Math.max(f.bitLength(),u)+1);p.fill(0);for(var A=1<<l+1,h=f.clone(),y=0;y<p.length;y++){var v,B=h.andln(A-1);h.isOdd()?(B>(A>>1)-1?v=(A>>1)-B:v=B,h.isubn(v)):v=0,p[y]=v,h.iushrn(1)}return p}e.getNAF=i;function s(f,l){var u=[[],[]];f=f.clone(),l=l.clone();for(var p=0,A=0,h;f.cmpn(-p)>0||l.cmpn(-A)>0;){var y=f.andln(3)+p&3,v=l.andln(3)+A&3;y===3&&(y=-1),v===3&&(v=-1);var B;y&1?(h=f.andln(7)+p&7,(h===3||h===5)&&v===2?B=-y:B=y):B=0,u[0].push(B);var S;v&1?(h=l.andln(7)+A&7,(h===3||h===5)&&y===2?S=-v:S=v):S=0,u[1].push(S),2*p===B+1&&(p=1-p),2*A===S+1&&(A=1-A),f.iushrn(1),l.iushrn(1)}return u}e.getJSF=s;function a(f,l,u){var p="_"+l;f.prototype[l]=function(){return this[p]!==void 0?this[p]:this[p]=u.call(this)}}e.cachedProperty=a;function c(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=c;function d(f){return new r(f,"hex","le")}e.intFromLE=d})(Fs);var O_={},qu=li,Hm=Fs,qE=Hm.getNAF,RCe=Hm.getJSF,$E=Hm.assert;function bu(t,e){this.type=t,this.p=new qu(e.p,16),this.red=e.prime?qu.red(e.prime):qu.mont(this.p),this.zero=new qu(0).toRed(this.red),this.one=new qu(1).toRed(this.red),this.two=new qu(2).toRed(this.red),this.n=e.n&&new qu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fC=bu;bu.prototype.point=function(){throw new Error("Not implemented")};bu.prototype.validate=function(){throw new Error("Not implemented")};bu.prototype._fixedNafMul=function(e,r){$E(e.precomputed);var n=e._getDoubles(),o=qE(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,c;for(a=0;a<o.length;a+=n.step){c=0;for(var d=a+n.step-1;d>=a;d--)c=(c<<1)+o[d];s.push(c)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),u=i;u>0;u--){for(a=0;a<s.length;a++)c=s[a],c===u?l=l.mixedAdd(n.points[a]):c===-u&&(l=l.mixedAdd(n.points[a].neg()));f=f.add(l)}return f.toP()};bu.prototype._wnafMul=function(e,r){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=qE(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var d=0;c>=0&&s[c]===0;c--)d++;if(c>=0&&d++,a=a.dblp(d),c<0)break;var f=s[c];$E(f!==0),e.type==="affine"?f>0?a=a.mixedAdd(i[f-1>>1]):a=a.mixedAdd(i[-f-1>>1].neg()):f>0?a=a.add(i[f-1>>1]):a=a.add(i[-f-1>>1].neg())}return e.type==="affine"?a.toP():a};bu.prototype._wnafMulAdd=function(e,r,n,o,i){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,d=0,f,l,u;for(f=0;f<o;f++){u=r[f];var p=u._getNAFPoints(e);s[f]=p.wnd,a[f]=p.points}for(f=o-1;f>=1;f-=2){var A=f-1,h=f;if(s[A]!==1||s[h]!==1){c[A]=qE(n[A],s[A],this._bitLength),c[h]=qE(n[h],s[h],this._bitLength),d=Math.max(c[A].length,d),d=Math.max(c[h].length,d);continue}var y=[r[A],null,null,r[h]];r[A].y.cmp(r[h].y)===0?(y[1]=r[A].add(r[h]),y[2]=r[A].toJ().mixedAdd(r[h].neg())):r[A].y.cmp(r[h].y.redNeg())===0?(y[1]=r[A].toJ().mixedAdd(r[h]),y[2]=r[A].add(r[h].neg())):(y[1]=r[A].toJ().mixedAdd(r[h]),y[2]=r[A].toJ().mixedAdd(r[h].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],B=RCe(n[A],n[h]);for(d=Math.max(B[0].length,d),c[A]=new Array(d),c[h]=new Array(d),l=0;l<d;l++){var S=B[0][l]|0,x=B[1][l]|0;c[A][l]=v[(S+1)*3+(x+1)],c[h][l]=0,a[A]=y}}var Q=this.jpoint(null,null,null),N=this._wnafT4;for(f=d;f>=0;f--){for(var $=0;f>=0;){var G=!0;for(l=0;l<o;l++)N[l]=c[l][f]|0,N[l]!==0&&(G=!1);if(!G)break;$++,f--}if(f>=0&&$++,Q=Q.dblp($),f<0)break;for(l=0;l<o;l++){var z=N[l];z!==0&&(z>0?u=a[l][z-1>>1]:z<0&&(u=a[l][-z-1>>1].neg()),u.type==="affine"?Q=Q.mixedAdd(u):Q=Q.add(u))}}for(f=0;f<o;f++)a[f]=null;return i?Q:Q.toP()};function wa(t,e){this.curve=t,this.type=e,this.precomputed=null}bu.BasePoint=wa;wa.prototype.eq=function(){throw new Error("Not implemented")};wa.prototype.validate=function(){return this.curve.validate(this)};bu.prototype.decodePoint=function(e,r){e=Hm.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$E(e[e.length-1]%2===0):e[0]===7&&$E(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};wa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wa.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};wa.prototype.encode=function(e,r){return Hm.encode(this._encode(r),e)};wa.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wa.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<r;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};wa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(o);return{wnd:e,points:r}};wa.prototype._getBeta=function(){return null};wa.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var NCe=Fs,dn=li,K_=Tt,up=fC,PCe=NCe.assert;function ba(t){up.call(this,"short",t),this.a=new dn(t.a,16).toRed(this.red),this.b=new dn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}K_(ba,up);var OCe=ba;ba.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dn(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(e.lambda)n=new dn(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],PCe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new dn(a.a,16),b:new dn(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};ba.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:dn.mont(e),n=new dn(2).toRed(r).redInvm(),o=n.redNeg(),i=new dn(3).toRed(r).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};ba.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new dn(1),s=new dn(0),a=new dn(0),c=new dn(1),d,f,l,u,p,A,h,y=0,v,B;n.cmpn(0)!==0;){var S=o.div(n);v=o.sub(S.mul(n)),B=a.sub(S.mul(i));var x=c.sub(S.mul(s));if(!l&&v.cmp(r)<0)d=h.neg(),f=i,l=v.neg(),u=B;else if(l&&++y===2)break;h=v,o=n,n=v,a=i,i=B,c=s,s=x}p=v.neg(),A=B;var Q=l.sqr().add(u.sqr()),N=p.sqr().add(A.sqr());return N.cmp(Q)>=0&&(p=d,A=f),l.negative&&(l=l.neg(),u=u.neg()),p.negative&&(p=p.neg(),A=A.neg()),[{a:l,b:u},{a:p,b:A}]};ba.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],o=r[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),c=s.mul(o.a),d=i.mul(n.b),f=s.mul(o.b),l=e.sub(a).sub(c),u=d.add(f).neg();return{k1:l,k2:u}};ba.prototype.pointFromX=function(e,r){e=new dn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(r&&!i||!r&&i)&&(o=o.redNeg()),this.point(e,o)};ba.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,o=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};ba.prototype._endoWnafMulAdd=function(e,r,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),c=e[s],d=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),o[s*2]=c,o[s*2+1]=d,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var f=this._wnafMulAdd(1,o,i,s*2,n),l=0;l<s*2;l++)o[l]=null,i[l]=null;return f};function ui(t,e,r,n){up.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dn(e,16),this.y=new dn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}K_(ui,up.BasePoint);ba.prototype.point=function(e,r,n){return new ui(this,e,r,n)};ba.prototype.pointFromJSON=function(e,r){return ui.fromJSON(this,e,r)};ui.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return r}};ui.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ui.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=e.point(r[0],r[1],n);if(!r[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=r[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};ui.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.inf};ui.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};ui.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};ui.prototype.getX=function(){return this.x.fromRed()};ui.prototype.getY=function(){return this.y.fromRed()};ui.prototype.mul=function(e){return e=new dn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ui.prototype.mulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};ui.prototype.jmulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};ui.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ui.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};ui.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Ki(t,e,r,n){up.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dn(0)):(this.x=new dn(e,16),this.y=new dn(r,16),this.z=new dn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}K_(Ki,up.BasePoint);ba.prototype.jpoint=function(e,r,n){return new Ki(this,e,r,n)};Ki.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(e);return this.curve.point(n,o)};Ki.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Ki.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),i=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),d=s.redSub(a);if(c.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),l=f.redMul(c),u=o.redMul(f),p=d.redSqr().redIAdd(l).redISub(u).redISub(u),A=d.redMul(u.redISub(p)).redISub(s.redMul(l)),h=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(p,A,h)};Ki.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=e.x.redMul(r),i=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(o),c=i.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),f=d.redMul(a),l=n.redMul(d),u=c.redSqr().redIAdd(f).redISub(l).redISub(l),p=c.redMul(l.redISub(u)).redISub(i.redMul(f)),A=this.z.redMul(a);return this.curve.jpoint(u,p,A)};Ki.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,c=this.z,d=c.redSqr().redSqr(),f=a.redAdd(a);for(r=0;r<e;r++){var l=s.redSqr(),u=f.redSqr(),p=u.redSqr(),A=l.redAdd(l).redIAdd(l).redIAdd(o.redMul(d)),h=s.redMul(u),y=A.redSqr().redISub(h.redAdd(h)),v=h.redISub(y),B=A.redMul(v);B=B.redIAdd(B).redISub(p);var S=f.redMul(c);r+1<e&&(d=d.redMul(p)),s=y,c=S,f=B}return this.curve.jpoint(s,f.redMul(i),c)};Ki.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Ki.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o),d=c.redSqr().redISub(a).redISub(a),f=s.redIAdd(s);f=f.redIAdd(f),f=f.redIAdd(f),e=d,r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),u=this.y.redSqr(),p=u.redSqr(),A=this.x.redAdd(u).redSqr().redISub(l).redISub(p);A=A.redIAdd(A);var h=l.redAdd(l).redIAdd(l),y=h.redSqr(),v=p.redIAdd(p);v=v.redIAdd(v),v=v.redIAdd(v),e=y.redISub(A).redISub(A),r=h.redMul(A.redISub(e)).redISub(v),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Ki.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),d=c.redSqr().redISub(a).redISub(a);e=d;var f=s.redIAdd(s);f=f.redIAdd(f),f=f.redIAdd(f),r=c.redMul(a.redISub(d)).redISub(f),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),u=this.y.redSqr(),p=this.x.redMul(u),A=this.x.redSub(l).redMul(this.x.redAdd(l));A=A.redAdd(A).redIAdd(A);var h=p.redIAdd(p);h=h.redIAdd(h);var y=h.redAdd(h);e=A.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(u).redISub(l);var v=u.redSqr();v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v),r=A.redMul(h.redISub(e)).redISub(v)}return this.curve.jpoint(e,r,n)};Ki.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),d=r.redAdd(r);d=d.redIAdd(d);var f=d.redMul(a),l=c.redSqr().redISub(f.redAdd(f)),u=f.redISub(l),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var A=c.redMul(u).redISub(p),h=n.redAdd(n).redMul(o);return this.curve.jpoint(l,A,h)};Ki.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);var f=i.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(d),l=r.redMul(f);l=l.redIAdd(l),l=l.redIAdd(l);var u=this.x.redMul(c).redISub(l);u=u.redIAdd(u),u=u.redIAdd(u);var p=this.y.redMul(f.redMul(d.redISub(f)).redISub(a.redMul(c)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var A=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(u,p,A)};Ki.prototype.mul=function(e,r){return e=new dn(e,r),this.curve._wnafMul(this,e)};Ki.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Ki.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Ki.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Ki.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var lg=li,m$=Tt,dC=fC,KCe=Fs;function hp(t){dC.call(this,"mont",t),this.a=new lg(t.a,16).toRed(this.red),this.b=new lg(t.b,16).toRed(this.red),this.i4=new lg(4).toRed(this.red).redInvm(),this.two=new lg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}m$(hp,dC);var HCe=hp;hp.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),o=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=o.redSqrt();return i.redSqr().cmp(o)===0};function di(t,e,r){dC.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new lg(e,16),this.z=new lg(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}m$(di,dC.BasePoint);hp.prototype.decodePoint=function(e,r){return this.point(KCe.toArray(e,r),1)};hp.prototype.point=function(e,r){return new di(this,e,r)};hp.prototype.pointFromJSON=function(e){return di.fromJSON(this,e)};di.prototype.precompute=function(){};di.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};di.fromJSON=function(e,r){return new di(e,r[0],r[1]||e.one)};di.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};di.prototype.isInfinity=function(){return this.z.cmpn(0)===0};di.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),o=n.redSqr(),i=r.redSub(o),s=r.redMul(o),a=i.redMul(o.redAdd(this.curve.a24.redMul(i)));return this.curve.point(s,a)};di.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),o=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z),a=s.redMul(n),c=i.redMul(o),d=r.z.redMul(a.redAdd(c).redSqr()),f=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(d,f)};di.prototype.mul=function(e){for(var r=e.clone(),n=this,o=this.curve.point(null,null),i=this,s=[];r.cmpn(0)!==0;r.iushrn(1))s.push(r.andln(1));for(var a=s.length-1;a>=0;a--)s[a]===0?(n=n.diffAdd(o,i),o=o.dbl()):(o=n.diffAdd(o,i),n=n.dbl());return o};di.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};di.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};di.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};di.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var LCe=Fs,nd=li,w$=Tt,lC=fC,GCe=LCe.assert;function mf(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,lC.call(this,"edwards",t),this.a=new nd(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new nd(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new nd(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),GCe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}w$(mf,lC);var qCe=mf;mf.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};mf.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};mf.prototype.jpoint=function(e,r,n,o){return this.point(e,r,n,o)};mf.prototype.pointFromX=function(e,r){e=new nd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),s=o.redMul(i.redInvm()),a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};mf.prototype.pointFromY=function(e,r){e=new nd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),o=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),s=o.redMul(i.redInvm());if(s.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(a.redSqr().redSub(s).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};mf.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),o=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return o.cmp(i)===0};function Hr(t,e,r,n,o){lC.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new nd(e,16),this.y=new nd(r,16),this.z=n?new nd(n,16):this.curve.one,this.t=o&&new nd(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}w$(Hr,lC.BasePoint);mf.prototype.pointFromJSON=function(e){return Hr.fromJSON(this,e)};mf.prototype.point=function(e,r,n,o){return new Hr(this,e,r,n,o)};Hr.fromJSON=function(e,r){return new Hr(e,r[0],r[1],r[2])};Hr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Hr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Hr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var o=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),s=o.redAdd(r),a=s.redSub(n),c=o.redSub(r),d=i.redMul(a),f=s.redMul(c),l=i.redMul(c),u=a.redMul(s);return this.curve.point(d,f,u,l)};Hr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),o,i,s,a,c,d;if(this.curve.twisted){a=this.curve._mulA(r);var f=a.redAdd(n);this.zOne?(o=e.redSub(r).redSub(n).redMul(f.redSub(this.curve.two)),i=f.redMul(a.redSub(n)),s=f.redSqr().redSub(f).redSub(f)):(c=this.z.redSqr(),d=f.redSub(c).redISub(c),o=e.redSub(r).redISub(n).redMul(d),i=f.redMul(a.redSub(n)),s=f.redMul(d))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),d=a.redSub(c).redSub(c),o=this.curve._mulC(e.redISub(a)).redMul(d),i=this.curve._mulC(a).redMul(r.redISub(n)),s=a.redMul(d);return this.curve.point(o,i,s)};Hr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Hr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),o=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=n.redSub(r),a=i.redSub(o),c=i.redAdd(o),d=n.redAdd(r),f=s.redMul(a),l=c.redMul(d),u=s.redMul(d),p=a.redMul(c);return this.curve.point(f,l,p,u)};Hr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),i=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(i),a=n.redSub(s),c=n.redAdd(s),d=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(i),f=r.redMul(a).redMul(d),l,u;return this.curve.twisted?(l=r.redMul(c).redMul(i.redSub(this.curve._mulA(o))),u=a.redMul(c)):(l=r.redMul(c).redMul(i.redSub(o)),u=this.curve._mulC(a).redMul(c)),this.curve.point(f,l,u)};Hr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Hr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Hr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Hr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Hr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Hr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Hr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Hr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Hr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Hr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),o=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(o),this.x.cmp(r)===0)return!0}};Hr.prototype.toP=Hr.prototype.normalize;Hr.prototype.mixedAdd=Hr.prototype.add;(function(t){var e=t;e.base=fC,e.short=OCe,e.mont=HCe,e.edwards=qCe})(O_);var uC={},hC={},qt={},$Ce=Ia,jCe=Tt;qt.inherits=jCe;function zCe(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function YCe(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),o=0;o<t.length;o+=2)r.push(parseInt(t[o]+t[o+1],16))}else for(var n=0,o=0;o<t.length;o++){var i=t.charCodeAt(o);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):zCe(t,o)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++o)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(o=0;o<t.length;o++)r[o]=t[o]|0;return r}qt.toArray=YCe;function JCe(t){for(var e="",r=0;r<t.length;r++)e+=E$(t[r].toString(16));return e}qt.toHex=JCe;function b$(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}qt.htonl=b$;function VCe(t,e){for(var r="",n=0;n<t.length;n++){var o=t[n];e==="little"&&(o=b$(o)),r+=v$(o.toString(16))}return r}qt.toHex32=VCe;function E$(t){return t.length===1?"0"+t:t}qt.zero2=E$;function v$(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}qt.zero8=v$;function WCe(t,e,r,n){var o=r-e;$Ce(o%4===0);for(var i=new Array(o/4),s=0,a=e;s<i.length;s++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],i[s]=c>>>0}return i}qt.join32=WCe;function ZCe(t,e){for(var r=new Array(t.length*4),n=0,o=0;n<t.length;n++,o+=4){var i=t[n];e==="big"?(r[o]=i>>>24,r[o+1]=i>>>16&255,r[o+2]=i>>>8&255,r[o+3]=i&255):(r[o+3]=i>>>24,r[o+2]=i>>>16&255,r[o+1]=i>>>8&255,r[o]=i&255)}return r}qt.split32=ZCe;function XCe(t,e){return t>>>e|t<<32-e}qt.rotr32=XCe;function e2e(t,e){return t<<e|t>>>32-e}qt.rotl32=e2e;function t2e(t,e){return t+e>>>0}qt.sum32=t2e;function r2e(t,e,r){return t+e+r>>>0}qt.sum32_3=r2e;function n2e(t,e,r,n){return t+e+r+n>>>0}qt.sum32_4=n2e;function i2e(t,e,r,n,o){return t+e+r+n+o>>>0}qt.sum32_5=i2e;function o2e(t,e,r,n){var o=t[e],i=t[e+1],s=n+i>>>0,a=(s<n?1:0)+r+o;t[e]=a>>>0,t[e+1]=s}qt.sum64=o2e;function s2e(t,e,r,n){var o=e+n>>>0,i=(o<e?1:0)+t+r;return i>>>0}qt.sum64_hi=s2e;function a2e(t,e,r,n){var o=e+n;return o>>>0}qt.sum64_lo=a2e;function c2e(t,e,r,n,o,i,s,a){var c=0,d=e;d=d+n>>>0,c+=d<e?1:0,d=d+i>>>0,c+=d<i?1:0,d=d+a>>>0,c+=d<a?1:0;var f=t+r+o+s+c;return f>>>0}qt.sum64_4_hi=c2e;function f2e(t,e,r,n,o,i,s,a){var c=e+n+i+a;return c>>>0}qt.sum64_4_lo=f2e;function d2e(t,e,r,n,o,i,s,a,c,d){var f=0,l=e;l=l+n>>>0,f+=l<e?1:0,l=l+i>>>0,f+=l<i?1:0,l=l+a>>>0,f+=l<a?1:0,l=l+d>>>0,f+=l<d?1:0;var u=t+r+o+s+c+f;return u>>>0}qt.sum64_5_hi=d2e;function l2e(t,e,r,n,o,i,s,a,c,d){var f=e+n+i+a+d;return f>>>0}qt.sum64_5_lo=l2e;function u2e(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}qt.rotr64_hi=u2e;function h2e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}qt.rotr64_lo=h2e;function A2e(t,e,r){return t>>>r}qt.shr64_hi=A2e;function g2e(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}qt.shr64_lo=g2e;var Ap={},q9=qt,p2e=Ia;function AC(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ap.BlockHash=AC;AC.prototype.update=function(e,r){if(e=q9.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=q9.join32(e,0,e.length-n,this.endian);for(var o=0;o<e.length;o+=this._delta32)this._update(e,o,o+this._delta32)}return this};AC.prototype.digest=function(e){return this.update(this._pad()),p2e(this.pending===null),this._digest(e)};AC.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,o=new Array(n+this.padLength);o[0]=128;for(var i=1;i<n;i++)o[i]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[i++]=0;o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=e>>>24&255,o[i++]=e>>>16&255,o[i++]=e>>>8&255,o[i++]=e&255}else for(o[i++]=e&255,o[i++]=e>>>8&255,o[i++]=e>>>16&255,o[i++]=e>>>24&255,o[i++]=0,o[i++]=0,o[i++]=0,o[i++]=0,s=8;s<this.padLength;s++)o[i++]=0;return o};var gp={},wf={},y2e=qt,Jc=y2e.rotr32;function I2e(t,e,r,n){if(t===0)return B$(e,r,n);if(t===1||t===3)return Q$(e,r,n);if(t===2)return C$(e,r,n)}wf.ft_1=I2e;function B$(t,e,r){return t&e^~t&r}wf.ch32=B$;function C$(t,e,r){return t&e^t&r^e&r}wf.maj32=C$;function Q$(t,e,r){return t^e^r}wf.p32=Q$;function m2e(t){return Jc(t,2)^Jc(t,13)^Jc(t,22)}wf.s0_256=m2e;function w2e(t){return Jc(t,6)^Jc(t,11)^Jc(t,25)}wf.s1_256=w2e;function b2e(t){return Jc(t,7)^Jc(t,18)^t>>>3}wf.g0_256=b2e;function E2e(t){return Jc(t,17)^Jc(t,19)^t>>>10}wf.g1_256=E2e;var v0=qt,v2e=Ap,B2e=wf,J3=v0.rotl32,oy=v0.sum32,C2e=v0.sum32_5,Q2e=B2e.ft_1,x$=v2e.BlockHash,x2e=[1518500249,1859775393,2400959708,3395469782];function af(){if(!(this instanceof af))return new af;x$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}v0.inherits(af,x$);var S2e=af;af.blockSize=512;af.outSize=160;af.hmacStrength=80;af.padLength=64;af.prototype._update=function(e,r){for(var n=this.W,o=0;o<16;o++)n[o]=e[r+o];for(;o<n.length;o++)n[o]=J3(n[o-3]^n[o-8]^n[o-14]^n[o-16],1);var i=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],d=this.h[4];for(o=0;o<n.length;o++){var f=~~(o/20),l=C2e(J3(i,5),Q2e(f,s,a,c),d,n[o],x2e[f]);d=c,c=a,a=J3(s,30),s=i,i=l}this.h[0]=oy(this.h[0],i),this.h[1]=oy(this.h[1],s),this.h[2]=oy(this.h[2],a),this.h[3]=oy(this.h[3],c),this.h[4]=oy(this.h[4],d)};af.prototype._digest=function(e){return e==="hex"?v0.toHex32(this.h,"big"):v0.split32(this.h,"big")};var B0=qt,_2e=Ap,pp=wf,D2e=Ia,Qa=B0.sum32,k2e=B0.sum32_4,T2e=B0.sum32_5,F2e=pp.ch32,M2e=pp.maj32,U2e=pp.s0_256,R2e=pp.s1_256,N2e=pp.g0_256,P2e=pp.g1_256,S$=_2e.BlockHash,O2e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function cf(){if(!(this instanceof cf))return new cf;S$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=O2e,this.W=new Array(64)}B0.inherits(cf,S$);var _$=cf;cf.blockSize=512;cf.outSize=256;cf.hmacStrength=192;cf.padLength=64;cf.prototype._update=function(e,r){for(var n=this.W,o=0;o<16;o++)n[o]=e[r+o];for(;o<n.length;o++)n[o]=k2e(P2e(n[o-2]),n[o-7],N2e(n[o-15]),n[o-16]);var i=this.h[0],s=this.h[1],a=this.h[2],c=this.h[3],d=this.h[4],f=this.h[5],l=this.h[6],u=this.h[7];for(D2e(this.k.length===n.length),o=0;o<n.length;o++){var p=T2e(u,R2e(d),F2e(d,f,l),this.k[o],n[o]),A=Qa(U2e(i),M2e(i,s,a));u=l,l=f,f=d,d=Qa(c,p),c=a,a=s,s=i,i=Qa(p,A)}this.h[0]=Qa(this.h[0],i),this.h[1]=Qa(this.h[1],s),this.h[2]=Qa(this.h[2],a),this.h[3]=Qa(this.h[3],c),this.h[4]=Qa(this.h[4],d),this.h[5]=Qa(this.h[5],f),this.h[6]=Qa(this.h[6],l),this.h[7]=Qa(this.h[7],u)};cf.prototype._digest=function(e){return e==="hex"?B0.toHex32(this.h,"big"):B0.split32(this.h,"big")};var Lx=qt,D$=_$;function Dd(){if(!(this instanceof Dd))return new Dd;D$.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Lx.inherits(Dd,D$);var K2e=Dd;Dd.blockSize=512;Dd.outSize=224;Dd.hmacStrength=192;Dd.padLength=64;Dd.prototype._digest=function(e){return e==="hex"?Lx.toHex32(this.h.slice(0,7),"big"):Lx.split32(this.h.slice(0,7),"big")};var Lo=qt,H2e=Ap,L2e=Ia,Vc=Lo.rotr64_hi,Wc=Lo.rotr64_lo,k$=Lo.shr64_hi,T$=Lo.shr64_lo,il=Lo.sum64,V3=Lo.sum64_hi,W3=Lo.sum64_lo,G2e=Lo.sum64_4_hi,q2e=Lo.sum64_4_lo,$2e=Lo.sum64_5_hi,j2e=Lo.sum64_5_lo,F$=H2e.BlockHash,z2e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function tc(){if(!(this instanceof tc))return new tc;F$.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=z2e,this.W=new Array(160)}Lo.inherits(tc,F$);var M$=tc;tc.blockSize=1024;tc.outSize=512;tc.hmacStrength=192;tc.padLength=128;tc.prototype._prepareBlock=function(e,r){for(var n=this.W,o=0;o<32;o++)n[o]=e[r+o];for(;o<n.length;o+=2){var i=i3e(n[o-4],n[o-3]),s=o3e(n[o-4],n[o-3]),a=n[o-14],c=n[o-13],d=r3e(n[o-30],n[o-29]),f=n3e(n[o-30],n[o-29]),l=n[o-32],u=n[o-31];n[o]=G2e(i,s,a,c,d,f,l,u),n[o+1]=q2e(i,s,a,c,d,f,l,u)}};tc.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],d=this.h[5],f=this.h[6],l=this.h[7],u=this.h[8],p=this.h[9],A=this.h[10],h=this.h[11],y=this.h[12],v=this.h[13],B=this.h[14],S=this.h[15];L2e(this.k.length===n.length);for(var x=0;x<n.length;x+=2){var Q=B,N=S,$=e3e(u,p),G=t3e(u,p),z=Y2e(u,p,A,h,y),Y=J2e(u,p,A,h,y,v),R=this.k[x],C=this.k[x+1],m=n[x],g=n[x+1],w=$2e(Q,N,$,G,z,Y,R,C,m,g),F=j2e(Q,N,$,G,z,Y,R,C,m,g);Q=Z2e(o,i),N=X2e(o,i),$=V2e(o,i,s,a,c),G=W2e(o,i,s,a,c,d);var H=V3(Q,N,$,G),K=W3(Q,N,$,G);B=y,S=v,y=A,v=h,A=u,h=p,u=V3(f,l,w,F),p=W3(l,l,w,F),f=c,l=d,c=s,d=a,s=o,a=i,o=V3(w,F,H,K),i=W3(w,F,H,K)}il(this.h,0,o,i),il(this.h,2,s,a),il(this.h,4,c,d),il(this.h,6,f,l),il(this.h,8,u,p),il(this.h,10,A,h),il(this.h,12,y,v),il(this.h,14,B,S)};tc.prototype._digest=function(e){return e==="hex"?Lo.toHex32(this.h,"big"):Lo.split32(this.h,"big")};function Y2e(t,e,r,n,o){var i=t&r^~t&o;return i<0&&(i+=4294967296),i}function J2e(t,e,r,n,o,i){var s=e&n^~e&i;return s<0&&(s+=4294967296),s}function V2e(t,e,r,n,o){var i=t&r^t&o^r&o;return i<0&&(i+=4294967296),i}function W2e(t,e,r,n,o,i){var s=e&n^e&i^n&i;return s<0&&(s+=4294967296),s}function Z2e(t,e){var r=Vc(t,e,28),n=Vc(e,t,2),o=Vc(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function X2e(t,e){var r=Wc(t,e,28),n=Wc(e,t,2),o=Wc(e,t,7),i=r^n^o;return i<0&&(i+=4294967296),i}function e3e(t,e){var r=Vc(t,e,14),n=Vc(t,e,18),o=Vc(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function t3e(t,e){var r=Wc(t,e,14),n=Wc(t,e,18),o=Wc(e,t,9),i=r^n^o;return i<0&&(i+=4294967296),i}function r3e(t,e){var r=Vc(t,e,1),n=Vc(t,e,8),o=k$(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function n3e(t,e){var r=Wc(t,e,1),n=Wc(t,e,8),o=T$(t,e,7),i=r^n^o;return i<0&&(i+=4294967296),i}function i3e(t,e){var r=Vc(t,e,19),n=Vc(e,t,29),o=k$(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}function o3e(t,e){var r=Wc(t,e,19),n=Wc(e,t,29),o=T$(t,e,6),i=r^n^o;return i<0&&(i+=4294967296),i}var Gx=qt,U$=M$;function kd(){if(!(this instanceof kd))return new kd;U$.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Gx.inherits(kd,U$);var s3e=kd;kd.blockSize=1024;kd.outSize=384;kd.hmacStrength=192;kd.padLength=128;kd.prototype._digest=function(e){return e==="hex"?Gx.toHex32(this.h.slice(0,12),"big"):Gx.split32(this.h.slice(0,12),"big")};gp.sha1=S2e;gp.sha224=K2e;gp.sha256=_$;gp.sha384=s3e;gp.sha512=M$;var R$={},Wh=qt,a3e=Ap,u1=Wh.rotl32,$9=Wh.sum32,sy=Wh.sum32_3,j9=Wh.sum32_4,N$=a3e.BlockHash;function ff(){if(!(this instanceof ff))return new ff;N$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Wh.inherits(ff,N$);R$.ripemd160=ff;ff.blockSize=512;ff.outSize=160;ff.hmacStrength=192;ff.padLength=64;ff.prototype._update=function(e,r){for(var n=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],c=n,d=o,f=i,l=s,u=a,p=0;p<80;p++){var A=$9(u1(j9(n,z9(p,o,i,s),e[d3e[p]+r],c3e(p)),u3e[p]),a);n=a,a=s,s=u1(i,10),i=o,o=A,A=$9(u1(j9(c,z9(79-p,d,f,l),e[l3e[p]+r],f3e(p)),h3e[p]),u),c=u,u=l,l=u1(f,10),f=d,d=A}A=sy(this.h[1],i,l),this.h[1]=sy(this.h[2],s,u),this.h[2]=sy(this.h[3],a,c),this.h[3]=sy(this.h[4],n,d),this.h[4]=sy(this.h[0],o,f),this.h[0]=A};ff.prototype._digest=function(e){return e==="hex"?Wh.toHex32(this.h,"little"):Wh.split32(this.h,"little")};function z9(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function c3e(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function f3e(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var d3e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l3e=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u3e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h3e=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],A3e=qt,g3e=Ia;function C0(t,e,r){if(!(this instanceof C0))return new C0(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(A3e.toArray(e,r))}var p3e=C0;C0.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),g3e(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};C0.prototype.update=function(e,r){return this.inner.update(e,r),this};C0.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=qt,e.common=Ap,e.sha=gp,e.ripemd=R$,e.hmac=p3e,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hC);var Z3,Y9;function y3e(){return Y9||(Y9=1,Z3={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Z3}(function(t){var e=t,r=hC,n=O_,o=Fs,i=o.assert;function s(d){d.type==="short"?this.curve=new n.short(d):d.type==="edwards"?this.curve=new n.edwards(d):this.curve=new n.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function a(d,f){Object.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){var l=new s(f);return Object.defineProperty(e,d,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=y3e()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(uC);var I3e=hC,Fh=P_,P$=Ia;function uu(t){if(!(this instanceof uu))return new uu(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Fh.toArray(t.entropy,t.entropyEnc||"hex"),r=Fh.toArray(t.nonce,t.nonceEnc||"hex"),n=Fh.toArray(t.pers,t.persEnc||"hex");P$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var m3e=uu;uu.prototype._init=function(e,r,n){var o=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};uu.prototype._hmac=function(){return new I3e.hmac(this.hash,this.K)};uu.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};uu.prototype.reseed=function(e,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),e=Fh.toArray(e,r),n=Fh.toArray(n,o),P$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};uu.prototype.generate=function(e,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=Fh.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,Fh.encode(s,r)};var w3e=li,b3e=Fs,qx=b3e.assert;function ao(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var E3e=ao;ao.fromPublic=function(e,r,n){return r instanceof ao?r:new ao(e,{pub:r,pubEnc:n})};ao.fromPrivate=function(e,r,n){return r instanceof ao?r:new ao(e,{priv:r,privEnc:n})};ao.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ao.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ao.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ao.prototype._importPrivate=function(e,r){this.priv=new w3e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ao.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?qx(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&qx(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ao.prototype.derive=function(e){return e.validate()||qx(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ao.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ao.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ao.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var jE=li,H_=Fs,v3e=H_.assert;function gC(t,e){if(t instanceof gC)return t;this._importDER(t,e)||(v3e(t.r&&t.s,"Signature without r or s"),this.r=new jE(t.r,16),this.s=new jE(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var B3e=gC;function C3e(){this.place=0}function X3(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=t[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function J9(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}gC.prototype._importDER=function(e,r){e=H_.toArray(e,r);var n=new C3e;if(e[n.place++]!==48)return!1;var o=X3(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=X3(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=X3(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new jE(s),this.s=new jE(c),this.recoveryParam=null,!0};function eQ(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}gC.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=J9(r),n=J9(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];eQ(o,r.length),o=o.concat(r),o.push(2),eQ(o,n.length);var i=o.concat(n),s=[48];return eQ(s,i.length),s=s.concat(i),H_.encode(s,e)};var tQ,V9;function Q3e(){if(V9)return tQ;V9=1;var t=li,e=m3e,r=Fs,n=uC,o=M_(),i=r.assert,s=E3e,a=B3e;function c(d){if(!(this instanceof c))return new c(d);typeof d=="string"&&(i(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}return tQ=c,c.prototype.keyPair=function(f){return new s(this,f)},c.prototype.keyFromPrivate=function(f,l){return s.fromPrivate(this,f,l)},c.prototype.keyFromPublic=function(f,l){return s.fromPublic(this,f,l)},c.prototype.genKeyPair=function(f){f||(f={});for(var l=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||o(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),u=this.n.byteLength(),p=this.n.sub(new t(2));;){var A=new t(l.generate(u));if(!(A.cmp(p)>0))return A.iaddn(1),this.keyFromPrivate(A)}},c.prototype._truncateToN=function(f,l){var u=f.byteLength()*8-this.n.bitLength();return u>0&&(f=f.ushrn(u)),!l&&f.cmp(this.n)>=0?f.sub(this.n):f},c.prototype.sign=function(f,l,u,p){typeof u=="object"&&(p=u,u=null),p||(p={}),l=this.keyFromPrivate(l,u),f=this._truncateToN(new t(f,16));for(var A=this.n.byteLength(),h=l.getPrivate().toArray("be",A),y=f.toArray("be",A),v=new e({hash:this.hash,entropy:h,nonce:y,pers:p.pers,persEnc:p.persEnc||"utf8"}),B=this.n.sub(new t(1)),S=0;;S++){var x=p.k?p.k(S):new t(v.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(B)>=0)){var Q=this.g.mul(x);if(!Q.isInfinity()){var N=Q.getX(),$=N.umod(this.n);if($.cmpn(0)!==0){var G=x.invm(this.n).mul($.mul(l.getPrivate()).iadd(f));if(G=G.umod(this.n),G.cmpn(0)!==0){var z=(Q.getY().isOdd()?1:0)|(N.cmp($)!==0?2:0);return p.canonical&&G.cmp(this.nh)>0&&(G=this.n.sub(G),z^=1),new a({r:$,s:G,recoveryParam:z})}}}}}},c.prototype.verify=function(f,l,u,p){f=this._truncateToN(new t(f,16)),u=this.keyFromPublic(u,p),l=new a(l,"hex");var A=l.r,h=l.s;if(A.cmpn(1)<0||A.cmp(this.n)>=0||h.cmpn(1)<0||h.cmp(this.n)>=0)return!1;var y=h.invm(this.n),v=y.mul(f).umod(this.n),B=y.mul(A).umod(this.n),S;return this.curve._maxwellTrick?(S=this.g.jmulAdd(v,u.getPublic(),B),S.isInfinity()?!1:S.eqXToP(A)):(S=this.g.mulAdd(v,u.getPublic(),B),S.isInfinity()?!1:S.getX().umod(this.n).cmp(A)===0)},c.prototype.recoverPubKey=function(d,f,l,u){i((3&l)===l,"The recovery param is more than two bits"),f=new a(f,u);var p=this.n,A=new t(d),h=f.r,y=f.s,v=l&1,B=l>>1;if(h.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");B?h=this.curve.pointFromX(h.add(this.curve.n),v):h=this.curve.pointFromX(h,v);var S=f.r.invm(p),x=p.sub(A).mul(S).umod(p),Q=y.mul(S).umod(p);return this.g.mulAdd(x,h,Q)},c.prototype.getKeyRecoveryParam=function(d,f,l,u){if(f=new a(f,u),f.recoveryParam!==null)return f.recoveryParam;for(var p=0;p<4;p++){var A;try{A=this.recoverPubKey(d,f,p)}catch{continue}if(A.eq(l))return p}throw new Error("Unable to find valid recovery factor")},tQ}var Lm=Fs,O$=Lm.assert,W9=Lm.parseBytes,yp=Lm.cachedProperty;function ai(t,e){this.eddsa=t,this._secret=W9(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=W9(e.pub)}ai.fromPublic=function(e,r){return r instanceof ai?r:new ai(e,{pub:r})};ai.fromSecret=function(e,r){return r instanceof ai?r:new ai(e,{secret:r})};ai.prototype.secret=function(){return this._secret};yp(ai,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});yp(ai,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});yp(ai,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,o=r.slice(0,e.encodingLength);return o[0]&=248,o[n]&=127,o[n]|=64,o});yp(ai,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});yp(ai,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});yp(ai,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});ai.prototype.sign=function(e){return O$(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};ai.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};ai.prototype.getSecret=function(e){return O$(this._secret,"KeyPair is public only"),Lm.encode(this.secret(),e)};ai.prototype.getPublic=function(e){return Lm.encode(this.pubBytes(),e)};var x3e=ai,S3e=li,pC=Fs,_3e=pC.assert,yC=pC.cachedProperty,D3e=pC.parseBytes;function vA(t,e){this.eddsa=t,typeof e!="object"&&(e=D3e(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),_3e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof S3e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}yC(vA,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});yC(vA,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});yC(vA,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});yC(vA,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});vA.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};vA.prototype.toHex=function(){return pC.encode(this.toBytes(),"hex").toUpperCase()};var k3e=vA,T3e=hC,F3e=uC,Q0=Fs,M3e=Q0.assert,K$=Q0.parseBytes,H$=x3e,Z9=k3e;function Go(t){if(M3e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Go))return new Go(t);t=F3e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=T3e.sha512}var U3e=Go;Go.prototype.sign=function(e,r){e=K$(e);var n=this.keyFromSecret(r),o=this.hashInt(n.messagePrefix(),e),i=this.g.mul(o),s=this.encodePoint(i),a=this.hashInt(s,n.pubBytes(),e).mul(n.priv()),c=o.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})};Go.prototype.verify=function(e,r,n){e=K$(e),r=this.makeSignature(r);var o=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),o.pubBytes(),e),s=this.g.mul(r.S()),a=r.R().add(o.pub().mul(i));return a.eq(s)};Go.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Q0.intFromLE(e.digest()).umod(this.curve.n)};Go.prototype.keyFromPublic=function(e){return H$.fromPublic(this,e)};Go.prototype.keyFromSecret=function(e){return H$.fromSecret(this,e)};Go.prototype.makeSignature=function(e){return e instanceof Z9?e:new Z9(this,e)};Go.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Go.prototype.decodePoint=function(e){e=Q0.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),o=(e[r]&128)!==0,i=Q0.intFromLE(n);return this.curve.pointFromY(i,o)};Go.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Go.prototype.decodeInt=function(e){return Q0.intFromLE(e)};Go.prototype.isPoint=function(e){return e instanceof this.pointClass};var X9;function L_(){return X9||(X9=1,function(t){var e=t;e.version=UCe.version,e.utils=Fs,e.rand=M_(),e.curve=O_,e.curves=uC,e.ec=Q3e(),e.eddsa=U3e}(Y3)),Y3}var ic={},G_={},L$={},q_={},db=qe,Pg=db.Buffer,Ws={},Zs;for(Zs in db)db.hasOwnProperty(Zs)&&(Zs==="SlowBuffer"||Zs==="Buffer"||(Ws[Zs]=db[Zs]));var Og=Ws.Buffer={};for(Zs in Pg)Pg.hasOwnProperty(Zs)&&(Zs==="allocUnsafe"||Zs==="allocUnsafeSlow"||(Og[Zs]=Pg[Zs]));Ws.Buffer.prototype=Pg.prototype;(!Og.from||Og.from===Uint8Array.from)&&(Og.from=function(t,e,r){if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&typeof t.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return Pg(t,e,r)});Og.alloc||(Og.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||t>=2*(1<<30))throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=Pg(t);return!e||e.length===0?n.fill(0):typeof r=="string"?n.fill(e,r):n.fill(e),n});if(!Ws.kStringMaxLength)try{Ws.kStringMaxLength=Et.binding("buffer").kStringMaxLength}catch{}Ws.constants||(Ws.constants={MAX_LENGTH:Ws.kMaxLength},Ws.kStringMaxLength&&(Ws.constants.MAX_STRING_LENGTH=Ws.kStringMaxLength));var $_=Ws,IC={};const R3e=Tt;function Ea(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}IC.Reporter=Ea;Ea.prototype.isError=function(e){return e instanceof x0};Ea.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Ea.prototype.restore=function(e){const r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};Ea.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Ea.prototype.exitKey=function(e){const r=this._reporterState;r.path=r.path.slice(0,e-1)};Ea.prototype.leaveKey=function(e,r,n){const o=this._reporterState;this.exitKey(e),o.obj!==null&&(o.obj[r]=n)};Ea.prototype.path=function(){return this._reporterState.path.join("/")};Ea.prototype.enterObject=function(){const e=this._reporterState,r=e.obj;return e.obj={},r};Ea.prototype.leaveObject=function(e){const r=this._reporterState,n=r.obj;return r.obj=e,n};Ea.prototype.error=function(e){let r;const n=this._reporterState,o=e instanceof x0;if(o?r=e:r=new x0(n.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return o||n.errors.push(r),r};Ea.prototype.wrapResult=function(e){const r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function x0(t,e){this.path=t,this.rethrow(e)}R3e(x0,Error);x0.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,x0),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var Zh={};const N3e=Tt,mC=IC.Reporter,S0=$_.Buffer;function Aa(t,e){if(mC.call(this,e),!S0.isBuffer(t)){this.error("Input not Buffer");return}this.base=t,this.offset=0,this.length=t.length}N3e(Aa,mC);Zh.DecoderBuffer=Aa;Aa.isDecoderBuffer=function(e){return e instanceof Aa?!0:typeof e=="object"&&S0.isBuffer(e.base)&&e.constructor.name==="DecoderBuffer"&&typeof e.offset=="number"&&typeof e.length=="number"&&typeof e.save=="function"&&typeof e.restore=="function"&&typeof e.isEmpty=="function"&&typeof e.readUInt8=="function"&&typeof e.skip=="function"&&typeof e.raw=="function"};Aa.prototype.save=function(){return{offset:this.offset,reporter:mC.prototype.save.call(this)}};Aa.prototype.restore=function(e){const r=new Aa(this.base);return r.offset=e.offset,r.length=this.offset,this.offset=e.offset,mC.prototype.restore.call(this,e.reporter),r};Aa.prototype.isEmpty=function(){return this.offset===this.length};Aa.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")};Aa.prototype.skip=function(e,r){if(!(this.offset+e<=this.length))return this.error(r||"DecoderBuffer overrun");const n=new Aa(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n};Aa.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)};function _0(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return _0.isEncoderBuffer(r)||(r=new _0(r,e)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=S0.byteLength(t);else if(S0.isBuffer(t))this.value=t,this.length=t.length;else return e.error("Unsupported type: "+typeof t)}Zh.EncoderBuffer=_0;_0.isEncoderBuffer=function(e){return e instanceof _0?!0:typeof e=="object"&&e.constructor.name==="EncoderBuffer"&&typeof e.length=="number"&&typeof e.join=="function"};_0.prototype.join=function(e,r){return e||(e=S0.alloc(this.length)),r||(r=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(n){n.join(e,r),r+=n.length}):(typeof this.value=="number"?e[r]=this.value:typeof this.value=="string"?e.write(this.value,r):S0.isBuffer(this.value)&&this.value.copy(e,r),r+=this.length)),e};const P3e=IC.Reporter,O3e=Zh.EncoderBuffer,K3e=Zh.DecoderBuffer,Co=Ia,G$=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],H3e=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(G$),L3e=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function vr(t,e,r){const n={};this._baseState=n,n.name=r,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var j_=vr;const G3e=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];vr.prototype.clone=function(){const e=this._baseState,r={};G3e.forEach(function(o){r[o]=e[o]});const n=new this.constructor(r.parent);return n._baseState=r,n};vr.prototype._wrap=function(){const e=this._baseState;H3e.forEach(function(r){this[r]=function(){const o=new this.constructor(this);return e.children.push(o),o[r].apply(o,arguments)}},this)};vr.prototype._init=function(e){const r=this._baseState;Co(r.parent===null),e.call(this),r.children=r.children.filter(function(n){return n._baseState.parent===this},this),Co.equal(r.children.length,1,"Root node can have only one child")};vr.prototype._useArgs=function(e){const r=this._baseState,n=e.filter(function(o){return o instanceof this.constructor},this);e=e.filter(function(o){return!(o instanceof this.constructor)},this),n.length!==0&&(Co(r.children===null),r.children=n,n.forEach(function(o){o._baseState.parent=this},this)),e.length!==0&&(Co(r.args===null),r.args=e,r.reverseArgs=e.map(function(o){if(typeof o!="object"||o.constructor!==Object)return o;const i={};return Object.keys(o).forEach(function(s){s==(s|0)&&(s|=0);const a=o[s];i[a]=s}),i}))};L3e.forEach(function(t){vr.prototype[t]=function(){const r=this._baseState;throw new Error(t+" not implemented for encoding: "+r.enc)}});G$.forEach(function(t){vr.prototype[t]=function(){const r=this._baseState,n=Array.prototype.slice.call(arguments);return Co(r.tag===null),r.tag=t,this._useArgs(n),this}});vr.prototype.use=function(e){Co(e);const r=this._baseState;return Co(r.use===null),r.use=e,this};vr.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this};vr.prototype.def=function(e){const r=this._baseState;return Co(r.default===null),r.default=e,r.optional=!0,this};vr.prototype.explicit=function(e){const r=this._baseState;return Co(r.explicit===null&&r.implicit===null),r.explicit=e,this};vr.prototype.implicit=function(e){const r=this._baseState;return Co(r.explicit===null&&r.implicit===null),r.implicit=e,this};vr.prototype.obj=function(){const e=this._baseState,r=Array.prototype.slice.call(arguments);return e.obj=!0,r.length!==0&&this._useArgs(r),this};vr.prototype.key=function(e){const r=this._baseState;return Co(r.key===null),r.key=e,this};vr.prototype.any=function(){const e=this._baseState;return e.any=!0,this};vr.prototype.choice=function(e){const r=this._baseState;return Co(r.choice===null),r.choice=e,this._useArgs(Object.keys(e).map(function(n){return e[n]})),this};vr.prototype.contains=function(e){const r=this._baseState;return Co(r.use===null),r.contains=e,this};vr.prototype._decode=function(e,r){const n=this._baseState;if(n.parent===null)return e.wrapResult(n.children[0]._decode(e,r));let o=n.default,i=!0,s=null;if(n.key!==null&&(s=e.enterKey(n.key)),n.optional){let c=null;if(n.explicit!==null?c=n.explicit:n.implicit!==null?c=n.implicit:n.tag!==null&&(c=n.tag),c===null&&!n.any){const d=e.save();try{n.choice===null?this._decodeGeneric(n.tag,e,r):this._decodeChoice(e,r),i=!0}catch{i=!1}e.restore(d)}else if(i=this._peekTag(e,c,n.any),e.isError(i))return i}let a;if(n.obj&&i&&(a=e.enterObject()),i){if(n.explicit!==null){const d=this._decodeTag(e,n.explicit);if(e.isError(d))return d;e=d}const c=e.offset;if(n.use===null&&n.choice===null){let d;n.any&&(d=e.save());const f=this._decodeTag(e,n.implicit!==null?n.implicit:n.tag,n.any);if(e.isError(f))return f;n.any?o=e.raw(d):e=f}if(r&&r.track&&n.tag!==null&&r.track(e.path(),c,e.length,"tagged"),r&&r.track&&n.tag!==null&&r.track(e.path(),e.offset,e.length,"content"),n.any||(n.choice===null?o=this._decodeGeneric(n.tag,e,r):o=this._decodeChoice(e,r)),e.isError(o))return o;if(!n.any&&n.choice===null&&n.children!==null&&n.children.forEach(function(f){f._decode(e,r)}),n.contains&&(n.tag==="octstr"||n.tag==="bitstr")){const d=new K3e(o);o=this._getUse(n.contains,e._reporterState.obj)._decode(d,r)}}return n.obj&&i&&(o=e.leaveObject(a)),n.key!==null&&(o!==null||i===!0)?e.leaveKey(s,n.key,o):s!==null&&e.exitKey(s),o};vr.prototype._decodeGeneric=function(e,r,n){const o=this._baseState;return e==="seq"||e==="set"?null:e==="seqof"||e==="setof"?this._decodeList(r,e,o.args[0],n):/str$/.test(e)?this._decodeStr(r,e,n):e==="objid"&&o.args?this._decodeObjid(r,o.args[0],o.args[1],n):e==="objid"?this._decodeObjid(r,null,null,n):e==="gentime"||e==="utctime"?this._decodeTime(r,e,n):e==="null_"?this._decodeNull(r,n):e==="bool"?this._decodeBool(r,n):e==="objDesc"?this._decodeStr(r,e,n):e==="int"||e==="enum"?this._decodeInt(r,o.args&&o.args[0],n):o.use!==null?this._getUse(o.use,r._reporterState.obj)._decode(r,n):r.error("unknown tag: "+e)};vr.prototype._getUse=function(e,r){const n=this._baseState;return n.useDecoder=this._use(e,r),Co(n.useDecoder._baseState.parent===null),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder};vr.prototype._decodeChoice=function(e,r){const n=this._baseState;let o=null,i=!1;return Object.keys(n.choice).some(function(s){const a=e.save(),c=n.choice[s];try{const d=c._decode(e,r);if(e.isError(d))return!1;o={type:s,value:d},i=!0}catch{return e.restore(a),!1}return!0},this),i?o:e.error("Choice not matched")};vr.prototype._createEncoderBuffer=function(e){return new O3e(e,this.reporter)};vr.prototype._encode=function(e,r,n){const o=this._baseState;if(o.default!==null&&o.default===e)return;const i=this._encodeValue(e,r,n);if(i!==void 0&&!this._skipDefault(i,r,n))return i};vr.prototype._encodeValue=function(e,r,n){const o=this._baseState;if(o.parent===null)return o.children[0]._encode(e,r||new P3e);let i=null;if(this.reporter=r,o.optional&&e===void 0)if(o.default!==null)e=o.default;else return;let s=null,a=!1;if(o.any)i=this._createEncoderBuffer(e);else if(o.choice)i=this._encodeChoice(e,r);else if(o.contains)s=this._getUse(o.contains,n)._encode(e,r),a=!0;else if(o.children)s=o.children.map(function(c){if(c._baseState.tag==="null_")return c._encode(null,r,e);if(c._baseState.key===null)return r.error("Child should have a key");const d=r.enterKey(c._baseState.key);if(typeof e!="object")return r.error("Child expected, but input is not object");const f=c._encode(e[c._baseState.key],r,e);return r.leaveKey(d),f},this).filter(function(c){return c}),s=this._createEncoderBuffer(s);else if(o.tag==="seqof"||o.tag==="setof"){if(!(o.args&&o.args.length===1))return r.error("Too many args for : "+o.tag);if(!Array.isArray(e))return r.error("seqof/setof, but data is not Array");const c=this.clone();c._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(d){const f=this._baseState;return this._getUse(f.args[0],e)._encode(d,r)},c))}else o.use!==null?i=this._getUse(o.use,n)._encode(e,r):(s=this._encodePrimitive(o.tag,e),a=!0);if(!o.any&&o.choice===null){const c=o.implicit!==null?o.implicit:o.tag,d=o.implicit===null?"universal":"context";c===null?o.use===null&&r.error("Tag could be omitted only for .use()"):o.use===null&&(i=this._encodeComposite(c,a,d,s))}return o.explicit!==null&&(i=this._encodeComposite(o.explicit,!1,"context",i)),i};vr.prototype._encodeChoice=function(e,r){const n=this._baseState,o=n.choice[e.type];return o||Co(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),o._encode(e.value,r)};vr.prototype._encodePrimitive=function(e,r){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(r,e);if(e==="objid"&&n.args)return this._encodeObjid(r,n.reverseArgs[0],n.args[1]);if(e==="objid")return this._encodeObjid(r,null,null);if(e==="gentime"||e==="utctime")return this._encodeTime(r,e);if(e==="null_")return this._encodeNull();if(e==="int"||e==="enum")return this._encodeInt(r,n.args&&n.reverseArgs[0]);if(e==="bool")return this._encodeBool(r);if(e==="objDesc")return this._encodeStr(r,e);throw new Error("Unsupported tag: "+e)};vr.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)};vr.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)};var wC={};(function(t){function e(r){const n={};return Object.keys(r).forEach(function(o){(o|0)==o&&(o=o|0);const i=r[o];n[i]=o}),n}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e(t.tag)})(wC);const q3e=Tt,Wf=$_.Buffer,q$=j_,rQ=wC;function $$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new oc,this.tree._init(t.body)}var j$=$$;$$.prototype.encode=function(e,r){return this.tree._encode(e,r).join()};function oc(t){q$.call(this,"der",t)}q3e(oc,q$);oc.prototype._encodeComposite=function(e,r,n,o){const i=$3e(e,r,n,this.reporter);if(o.length<128){const c=Wf.alloc(2);return c[0]=i,c[1]=o.length,this._createEncoderBuffer([c,o])}let s=1;for(let c=o.length;c>=256;c>>=8)s++;const a=Wf.alloc(1+1+s);a[0]=i,a[1]=128|s;for(let c=1+s,d=o.length;d>0;c--,d>>=8)a[c]=d&255;return this._createEncoderBuffer([a,o])};oc.prototype._encodeStr=function(e,r){if(r==="bitstr")return this._createEncoderBuffer([e.unused|0,e.data]);if(r==="bmpstr"){const n=Wf.alloc(e.length*2);for(let o=0;o<e.length;o++)n.writeUInt16BE(e.charCodeAt(o),o*2);return this._createEncoderBuffer(n)}else return r==="numstr"?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):r==="printstr"?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):r==="objDesc"?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")};oc.prototype._encodeObjid=function(e,r,n){if(typeof e=="string"){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s.]+/g);for(let a=0;a<e.length;a++)e[a]|=0}else if(Array.isArray(e)){e=e.slice();for(let a=0;a<e.length;a++)e[a]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,e[0]*40+e[1])}let o=0;for(let a=0;a<e.length;a++){let c=e[a];for(o++;c>=128;c>>=7)o++}const i=Wf.alloc(o);let s=i.length-1;for(let a=e.length-1;a>=0;a--){let c=e[a];for(i[s--]=c&127;(c>>=7)>0;)i[s--]=128|c&127}return this._createEncoderBuffer(i)};function Os(t){return t<10?"0"+t:t}oc.prototype._encodeTime=function(e,r){let n;const o=new Date(e);return r==="gentime"?n=[Os(o.getUTCFullYear()),Os(o.getUTCMonth()+1),Os(o.getUTCDate()),Os(o.getUTCHours()),Os(o.getUTCMinutes()),Os(o.getUTCSeconds()),"Z"].join(""):r==="utctime"?n=[Os(o.getUTCFullYear()%100),Os(o.getUTCMonth()+1),Os(o.getUTCDate()),Os(o.getUTCHours()),Os(o.getUTCMinutes()),Os(o.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(n,"octstr")};oc.prototype._encodeNull=function(){return this._createEncoderBuffer("")};oc.prototype._encodeInt=function(e,r){if(typeof e=="string"){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if(typeof e!="number"&&!Wf.isBuffer(e)){const i=e.toArray();!e.sign&&i[0]&128&&i.unshift(0),e=Wf.from(i)}if(Wf.isBuffer(e)){let i=e.length;e.length===0&&i++;const s=Wf.alloc(i);return e.copy(s),e.length===0&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let i=e;i>=256;i>>=8)n++;const o=new Array(n);for(let i=o.length-1;i>=0;i--)o[i]=e&255,e>>=8;return o[0]&128&&o.unshift(0),this._createEncoderBuffer(Wf.from(o))};oc.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)};oc.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getEncoder("der").tree};oc.prototype._skipDefault=function(e,r,n){const o=this._baseState;let i;if(o.default===null)return!1;const s=e.join();if(o.defaultBuffer===void 0&&(o.defaultBuffer=this._encodeValue(o.default,r,n).join()),s.length!==o.defaultBuffer.length)return!1;for(i=0;i<s.length;i++)if(s[i]!==o.defaultBuffer[i])return!1;return!0};function $3e(t,e,r,n){let o;if(t==="seqof"?t="seq":t==="setof"&&(t="set"),rQ.tagByName.hasOwnProperty(t))o=rQ.tagByName[t];else if(typeof t=="number"&&(t|0)===t)o=t;else return n.error("Unknown tag: "+t);return o>=31?n.error("Multi-octet tag encoding unsupported"):(e||(o|=32),o|=rQ.tagClassByName[r||"universal"]<<6,o)}const j3e=Tt,z_=j$;function Y_(t){z_.call(this,t),this.enc="pem"}j3e(Y_,z_);var z3e=Y_;Y_.prototype.encode=function(e,r){const o=z_.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+r.label+"-----"];for(let s=0;s<o.length;s+=64)i.push(o.slice(s,s+64));return i.push("-----END "+r.label+"-----"),i.join(`
`)};(function(t){const e=t;e.der=j$,e.pem=z3e})(q_);var J_={};const Y3e=Tt,J3e=li,eU=Zh.DecoderBuffer,z$=j_,tU=wC;function Y$(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new Ms,this.tree._init(t.body)}var J$=Y$;Y$.prototype.decode=function(e,r){return eU.isDecoderBuffer(e)||(e=new eU(e,r)),this.tree._decode(e,r)};function Ms(t){z$.call(this,"der",t)}Y3e(Ms,z$);Ms.prototype._peekTag=function(e,r,n){if(e.isEmpty())return!1;const o=e.save(),i=V_(e,'Failed to peek tag: "'+r+'"');return e.isError(i)?i:(e.restore(o),i.tag===r||i.tagStr===r||i.tagStr+"of"===r||n)};Ms.prototype._decodeTag=function(e,r,n){const o=V_(e,'Failed to decode tag of "'+r+'"');if(e.isError(o))return o;let i=V$(e,o.primitive,'Failed to get length of "'+r+'"');if(e.isError(i))return i;if(!n&&o.tag!==r&&o.tagStr!==r&&o.tagStr+"of"!==r)return e.error('Failed to match tag: "'+r+'"');if(o.primitive||i!==null)return e.skip(i,'Failed to match body of: "'+r+'"');const s=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+r+'"'))};Ms.prototype._skipUntilEnd=function(e,r){for(;;){const n=V_(e,r);if(e.isError(n))return n;const o=V$(e,n.primitive,r);if(e.isError(o))return o;let i;if(n.primitive||o!==null?i=e.skip(o):i=this._skipUntilEnd(e,r),e.isError(i))return i;if(n.tagStr==="end")break}};Ms.prototype._decodeList=function(e,r,n,o){const i=[];for(;!e.isEmpty();){const s=this._peekTag(e,"end");if(e.isError(s))return s;const a=n.decode(e,"der",o);if(e.isError(a)&&s)break;i.push(a)}return i};Ms.prototype._decodeStr=function(e,r){if(r==="bitstr"){const n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}else if(r==="bmpstr"){const n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");let o="";for(let i=0;i<n.length/2;i++)o+=String.fromCharCode(n.readUInt16BE(i*2));return o}else if(r==="numstr"){const n=e.raw().toString("ascii");return this._isNumstr(n)?n:e.error("Decoding of string type: numstr unsupported characters")}else{if(r==="octstr")return e.raw();if(r==="objDesc")return e.raw();if(r==="printstr"){const n=e.raw().toString("ascii");return this._isPrintstr(n)?n:e.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(r)?e.raw().toString():e.error("Decoding of string type: "+r+" unsupported")}};Ms.prototype._decodeObjid=function(e,r,n){let o;const i=[];let s=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),s<<=7,s|=a&127,a&128||(i.push(s),s=0);a&128&&i.push(s);const c=i[0]/40|0,d=i[0]%40;if(n?o=i:o=[c,d].concat(i.slice(1)),r){let f=r[o.join(" ")];f===void 0&&(f=r[o.join(".")]),f!==void 0&&(o=f)}return o};Ms.prototype._decodeTime=function(e,r){const n=e.raw().toString();let o,i,s,a,c,d;if(r==="gentime")o=n.slice(0,4)|0,i=n.slice(4,6)|0,s=n.slice(6,8)|0,a=n.slice(8,10)|0,c=n.slice(10,12)|0,d=n.slice(12,14)|0;else if(r==="utctime")o=n.slice(0,2)|0,i=n.slice(2,4)|0,s=n.slice(4,6)|0,a=n.slice(6,8)|0,c=n.slice(8,10)|0,d=n.slice(10,12)|0,o<70?o=2e3+o:o=1900+o;else return e.error("Decoding "+r+" time is not supported yet");return Date.UTC(o,i-1,s,a,c,d,0)};Ms.prototype._decodeNull=function(){return null};Ms.prototype._decodeBool=function(e){const r=e.readUInt8();return e.isError(r)?r:r!==0};Ms.prototype._decodeInt=function(e,r){const n=e.raw();let o=new J3e(n);return r&&(o=r[o.toString(10)]||o),o};Ms.prototype._use=function(e,r){return typeof e=="function"&&(e=e(r)),e._getDecoder("der").tree};function V_(t,e){let r=t.readUInt8(e);if(t.isError(r))return r;const n=tU.tagClass[r>>6],o=(r&32)===0;if((r&31)===31){let s=r;for(r=0;(s&128)===128;){if(s=t.readUInt8(e),t.isError(s))return s;r<<=7,r|=s&127}}else r&=31;const i=tU.tag[r];return{cls:n,primitive:o,tag:r,tagStr:i}}function V$(t,e,r){let n=t.readUInt8(r);if(t.isError(n))return n;if(!e&&n===128)return null;if(!(n&128))return n;const o=n&127;if(o>4)return t.error("length octect is too long");n=0;for(let i=0;i<o;i++){n<<=8;const s=t.readUInt8(r);if(t.isError(s))return s;n|=s}return n}const V3e=Tt,W3e=$_.Buffer,W_=J$;function Z_(t){W_.call(this,t),this.enc="pem"}V3e(Z_,W_);var Z3e=Z_;Z_.prototype.decode=function(e,r){const n=e.toString().split(/[\r\n]+/g),o=r.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,a=-1;for(let f=0;f<n.length;f++){const l=n[f].match(i);if(l!==null&&l[2]===o)if(s===-1){if(l[1]!=="BEGIN")break;s=f}else{if(l[1]!=="END")break;a=f;break}}if(s===-1||a===-1)throw new Error("PEM section not found for: "+o);const c=n.slice(s+1,a).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const d=W3e.from(c,"base64");return W_.prototype.decode.call(this,d,r)};(function(t){const e=t;e.der=J$,e.pem=Z3e})(J_);(function(t){const e=q_,r=J_,n=Tt,o=t;o.define=function(a,c){return new i(a,c)};function i(s,a){this.name=s,this.body=a,this.decoders={},this.encoders={}}i.prototype._createNamed=function(a){const c=this.name;function d(f){this._initNamed(f,c)}return n(d,a),d.prototype._initNamed=function(l,u){a.call(this,l,u)},new d(this)},i.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(r[a])),this.decoders[a]},i.prototype.decode=function(a,c,d){return this._getDecoder(c).decode(a,d)},i.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(e[a])),this.encoders[a]},i.prototype.encode=function(a,c,d){return this._getEncoder(c).encode(a,d)}})(L$);var W$={};(function(t){const e=t;e.Reporter=IC.Reporter,e.DecoderBuffer=Zh.DecoderBuffer,e.EncoderBuffer=Zh.EncoderBuffer,e.Node=j_})(W$);var Z$={};(function(t){const e=t;e._reverse=function(n){const o={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const s=n[i];o[s]=i}),o},e.der=wC})(Z$);(function(t){const e=t;e.bignum=li,e.define=L$.define,e.base=W$,e.constants=Z$,e.decoders=J_,e.encoders=q_})(G_);var sc=G_,rU=sc.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),X3e=sc.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),X_=sc.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),eQe=sc.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(X_),this.key("subjectPublicKey").bitstr())}),tQe=sc.define("RelativeDistinguishedName",function(){this.setof(X3e)}),rQe=sc.define("RDNSequence",function(){this.seqof(tQe)}),nU=sc.define("Name",function(){this.choice({rdnSequence:this.use(rQe)})}),nQe=sc.define("Validity",function(){this.seq().obj(this.key("notBefore").use(rU),this.key("notAfter").use(rU))}),iQe=sc.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),oQe=sc.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(X_),this.key("issuer").use(nU),this.key("validity").use(nQe),this.key("subject").use(nU),this.key("subjectPublicKeyInfo").use(eQe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(iQe).optional())}),sQe=sc.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(oQe),this.key("signatureAlgorithm").use(X_),this.key("signatureValue").bitstr())}),aQe=sQe,ac=G_;ic.certificate=aQe;var cQe=ac.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});ic.RSAPrivateKey=cQe;var fQe=ac.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});ic.RSAPublicKey=fQe;var dQe=ac.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(X$),this.key("subjectPublicKey").bitstr())});ic.PublicKey=dQe;var X$=ac.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),lQe=ac.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(X$),this.key("subjectPrivateKey").octstr())});ic.PrivateKey=lQe;var uQe=ac.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});ic.EncryptedPrivateKey=uQe;var hQe=ac.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});ic.DSAPrivateKey=hQe;ic.DSAparam=ac.define("DSAparam",function(){this.int()});var AQe=ac.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(gQe),this.key("publicKey").optional().explicit(1).bitstr())});ic.ECPrivateKey=AQe;var gQe=ac.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});ic.signature=ac.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const pQe={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var yQe=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,IQe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,mQe=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,wQe=sC,bQe=Ds,h1=Mt.Buffer,EQe=function(t,e){var r=t.toString(),n=r.match(yQe),o;if(n){var s="aes"+n[1],a=h1.from(n[2],"hex"),c=h1.from(n[3].replace(/[\r\n]/g,""),"base64"),d=wQe(e,a.slice(0,8),parseInt(n[1],10)).key,f=[],l=bQe.createDecipheriv(s,d,a);f.push(l.update(c)),f.push(l.final()),o=h1.concat(f)}else{var i=r.match(mQe);o=h1.from(i[2].replace(/[\r\n]/g,""),"base64")}var u=r.match(IQe)[1];return{tag:u,data:o}},To=ic,vQe=pQe,BQe=EQe,CQe=Ds,QQe=nC,$x=Mt.Buffer,bC=ej;function ej(t){var e;typeof t=="object"&&!$x.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=$x.from(t));var r=BQe(t,e),n=r.tag,o=r.data,i,s;switch(n){case"CERTIFICATE":s=To.certificate.decode(o,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=To.PublicKey.decode(o,"der")),i=s.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return To.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=To.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":o=To.EncryptedPrivateKey.decode(o,"der"),o=xQe(o,e);case"PRIVATE KEY":switch(s=To.PrivateKey.decode(o,"der"),i=s.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return To.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:To.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=To.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return To.RSAPublicKey.decode(o,"der");case"RSA PRIVATE KEY":return To.RSAPrivateKey.decode(o,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:To.DSAPrivateKey.decode(o,"der")};case"EC PRIVATE KEY":return o=To.ECPrivateKey.decode(o,"der"),{curve:o.parameters.value,privateKey:o.privateKey};default:throw new Error("unknown key type "+n)}}ej.signature=To.signature;function xQe(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=vQe[t.algorithm.decrypt.cipher.algo.join(".")],i=t.algorithm.decrypt.cipher.iv,s=t.subjectPrivateKey,a=parseInt(o.split("-")[1],10)/8,c=QQe.pbkdf2Sync(e,r,n,a,"sha1"),d=CQe.createDecipheriv(o,c,i),f=[];return f.push(d.update(s)),f.push(d.final()),$x.concat(f)}const tj={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var iU;function SQe(){if(iU)return iy.exports;iU=1;var t=Mt.Buffer,e=Qq,r=N_,n=L_().ec,o=R_,i=bC,s=tj,a=1;function c(v,B,S,x,Q){var N=i(B);if(N.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return d(v,N)}else if(N.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return f(v,N,S)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");if(B.padding!==void 0&&B.padding!==a)throw new Error("illegal or unsupported padding mode");v=t.concat([Q,v]);for(var $=N.modulus.byteLength(),G=[0,1];v.length+G.length+1<$;)G.push(255);G.push(0);for(var z=-1;++z<v.length;)G.push(v[z]);var Y=r(G,N);return Y}function d(v,B){var S=s[B.curve.join(".")];if(!S)throw new Error("unknown curve "+B.curve.join("."));var x=new n(S),Q=x.keyFromPrivate(B.privateKey),N=Q.sign(v);return t.from(N.toDER())}function f(v,B,S){for(var x=B.params.priv_key,Q=B.params.p,N=B.params.q,$=B.params.g,G=new o(0),z,Y=p(v,N).mod(N),R=!1,C=u(x,N,v,S);R===!1;)z=h(N,C,S),G=y($,z,Q,N),R=z.invm(N).imul(Y.add(x.mul(G))).mod(N),R.cmpn(0)===0&&(R=!1,G=new o(0));return l(G,R)}function l(v,B){v=v.toArray(),B=B.toArray(),v[0]&128&&(v=[0].concat(v)),B[0]&128&&(B=[0].concat(B));var S=v.length+B.length+4,x=[48,S,2,v.length];return x=x.concat(v,[2,B.length],B),t.from(x)}function u(v,B,S,x){if(v=t.from(v.toArray()),v.length<B.byteLength()){var Q=t.alloc(B.byteLength()-v.length);v=t.concat([Q,v])}var N=S.length,$=A(S,B),G=t.alloc(N);G.fill(1);var z=t.alloc(N);return z=e(x,z).update(G).update(t.from([0])).update(v).update($).digest(),G=e(x,z).update(G).digest(),z=e(x,z).update(G).update(t.from([1])).update(v).update($).digest(),G=e(x,z).update(G).digest(),{k:z,v:G}}function p(v,B){var S=new o(v),x=(v.length<<3)-B.bitLength();return x>0&&S.ishrn(x),S}function A(v,B){v=p(v,B),v=v.mod(B);var S=t.from(v.toArray());if(S.length<B.byteLength()){var x=t.alloc(B.byteLength()-S.length);S=t.concat([x,S])}return S}function h(v,B,S){var x,Q;do{for(x=t.alloc(0);x.length*8<v.bitLength();)B.v=e(S,B.k).update(B.v).digest(),x=t.concat([x,B.v]);Q=p(x,v),B.k=e(S,B.k).update(B.v).update(t.from([0])).digest(),B.v=e(S,B.k).update(B.v).digest()}while(Q.cmp(v)!==-1);return Q}function y(v,B,S,x){return v.toRed(o.mont(S)).redPow(B).fromRed().mod(x)}return iy.exports=c,iy.exports.getKey=u,iy.exports.makeKey=h,iy.exports}var nQ,oU;function _Qe(){if(oU)return nQ;oU=1;var t=Mt.Buffer,e=R_,r=L_().ec,n=bC,o=tj;function i(d,f,l,u,p){var A=n(l);if(A.type==="ec"){if(u!=="ecdsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");return s(d,f,A)}else if(A.type==="dsa"){if(u!=="dsa")throw new Error("wrong public key type");return a(d,f,A)}if(u!=="rsa"&&u!=="ecdsa/rsa")throw new Error("wrong public key type");f=t.concat([p,f]);for(var h=A.modulus.byteLength(),y=[1],v=0;f.length+y.length+2<h;)y.push(255),v+=1;y.push(0);for(var B=-1;++B<f.length;)y.push(f[B]);y=t.from(y);var S=e.mont(A.modulus);d=new e(d).toRed(S),d=d.redPow(new e(A.publicExponent)),d=t.from(d.fromRed().toArray());var x=v<8?1:0;for(h=Math.min(d.length,y.length),d.length!==y.length&&(x=1),B=-1;++B<h;)x|=d[B]^y[B];return x===0}function s(d,f,l){var u=o[l.data.algorithm.curve.join(".")];if(!u)throw new Error("unknown curve "+l.data.algorithm.curve.join("."));var p=new r(u),A=l.data.subjectPrivateKey.data;return p.verify(f,d,A)}function a(d,f,l){var u=l.data.p,p=l.data.q,A=l.data.g,h=l.data.pub_key,y=n.signature.decode(d,"der"),v=y.s,B=y.r;c(v,p),c(B,p);var S=e.mont(u),x=v.invm(p),Q=A.toRed(S).redPow(new e(f).mul(x).mod(p)).fromRed().mul(h.toRed(S).redPow(B.mul(x).mod(p)).fromRed()).mod(u).mod(p);return Q.cmp(B)===0}function c(d,f){if(d.cmpn(0)<=0)throw new Error("invalid sig");if(d.cmp(f)>=0)throw new Error("invalid sig")}return nQ=i,nQ}var iQ,sU;function DQe(){if(sU)return iQ;sU=1;var t=Mt.Buffer,e=Um,r=w_,n=Tt,o=SQe(),i=_Qe(),s=xq;Object.keys(s).forEach(function(l){s[l].id=t.from(s[l].id,"hex"),s[l.toLowerCase()]=s[l]});function a(l){r.Writable.call(this);var u=s[l];if(!u)throw new Error("Unknown message digest");this._hashType=u.hash,this._hash=e(u.hash),this._tag=u.id,this._signType=u.sign}n(a,r.Writable),a.prototype._write=function(u,p,A){this._hash.update(u),A()},a.prototype.update=function(u,p){return this._hash.update(typeof u=="string"?t.from(u,p):u),this},a.prototype.sign=function(u,p){this.end();var A=this._hash.digest(),h=o(A,u,this._hashType,this._signType,this._tag);return p?h.toString(p):h};function c(l){r.Writable.call(this);var u=s[l];if(!u)throw new Error("Unknown message digest");this._hash=e(u.hash),this._tag=u.id,this._signType=u.sign}n(c,r.Writable),c.prototype._write=function(u,p,A){this._hash.update(u),A()},c.prototype.update=function(u,p){return this._hash.update(typeof u=="string"?t.from(u,p):u),this},c.prototype.verify=function(u,p,A){var h=typeof p=="string"?t.from(p,A):p;this.end();var y=this._hash.digest();return i(h,y,u,this._signType,this._tag)};function d(l){return new a(l)}function f(l){return new c(l)}return iQ={Sign:d,Verify:f,createSign:d,createVerify:f},iQ}var oQ,aU;function kQe(){if(aU)return oQ;aU=1;var t=L_(),e=li;oQ=function(s){return new n(s)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,s)},n.prototype.computeSecret=function(i,s,a){s=s||"utf8",qe.Buffer.isBuffer(i)||(i=new qe.Buffer(i,s));var c=this.curve.keyFromPublic(i).getPublic(),d=c.mul(this.keys.getPrivate()).getX();return o(d,a,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,s){var a=this.keys.getPublic(s==="compressed",!0);return s==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),o(a,i)},n.prototype.getPrivateKey=function(i){return o(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,s){return s=s||"utf8",qe.Buffer.isBuffer(i)||(i=new qe.Buffer(i,s)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,s){s=s||"utf8",qe.Buffer.isBuffer(i)||(i=new qe.Buffer(i,s));var a=new e(i);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function o(i,s,a){Array.isArray(i)||(i=i.toArray());var c=new qe.Buffer(i);if(a&&c.length<a){var d=new qe.Buffer(a-c.length);d.fill(0),c=qe.Buffer.concat([d,c])}return s?c.toString(s):c}return oQ}var rj={},TQe=Um,jx=Mt.Buffer,nj=function(t,e){for(var r=jx.alloc(0),n=0,o;r.length<e;)o=FQe(n++),r=jx.concat([r,TQe("sha1").update(t).update(o).digest()]);return r.slice(0,e)};function FQe(t){var e=jx.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var ij=function(e,r){for(var n=e.length,o=-1;++o<n;)e[o]^=r[o];return e},cU=li,MQe=Mt.Buffer;function UQe(t,e){return MQe.from(t.toRed(cU.mont(e.modulus)).redPow(new cU(e.publicExponent)).fromRed().toArray())}var oj=UQe,RQe=bC,zx=cp,NQe=Um,fU=nj,dU=ij,eD=li,PQe=oj,OQe=N_,Ka=Mt.Buffer,KQe=function(e,r,n){var o;e.padding?o=e.padding:n?o=1:o=4;var i=RQe(e),s;if(o===4)s=HQe(i,r);else if(o===1)s=LQe(i,r,n);else if(o===3){if(s=new eD(r),s.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?OQe(s,i):PQe(s,i)};function HQe(t,e){var r=t.modulus.byteLength(),n=e.length,o=NQe("sha1").update(Ka.alloc(0)).digest(),i=o.length,s=2*i;if(n>r-s-2)throw new Error("message too long");var a=Ka.alloc(r-n-s-2),c=r-i-1,d=zx(i),f=dU(Ka.concat([o,a,Ka.alloc(1,1),e],c),fU(d,c)),l=dU(d,fU(f,i));return new eD(Ka.concat([Ka.alloc(1),l,f],r))}function LQe(t,e,r){var n=e.length,o=t.modulus.byteLength();if(n>o-11)throw new Error("message too long");var i;return r?i=Ka.alloc(o-n-3,255):i=GQe(o-n-3),new eD(Ka.concat([Ka.from([0,r?1:2]),i,Ka.alloc(1),e],o))}function GQe(t){for(var e=Ka.allocUnsafe(t),r=0,n=zx(t*2),o=0,i;r<t;)o===n.length&&(n=zx(t*2),o=0),i=n[o++],i&&(e[r++]=i);return e}var qQe=bC,lU=nj,uU=ij,hU=li,$Qe=N_,jQe=Um,zQe=oj,UI=Mt.Buffer,YQe=function(e,r,n){var o;e.padding?o=e.padding:n?o=1:o=4;var i=qQe(e),s=i.modulus.byteLength();if(r.length>s||new hU(r).cmp(i.modulus)>=0)throw new Error("decryption error");var a;n?a=zQe(new hU(r),i):a=$Qe(r,i);var c=UI.alloc(s-a.length);if(a=UI.concat([c,a],s),o===4)return JQe(i,a);if(o===1)return VQe(i,a,n);if(o===3)return a;throw new Error("unknown padding")};function JQe(t,e){var r=t.modulus.byteLength(),n=jQe("sha1").update(UI.alloc(0)).digest(),o=n.length;if(e[0]!==0)throw new Error("decryption error");var i=e.slice(1,o+1),s=e.slice(o+1),a=uU(i,lU(s,o)),c=uU(s,lU(a,r-o-1));if(WQe(n,c.slice(0,o)))throw new Error("decryption error");for(var d=o;c[d]===0;)d++;if(c[d++]!==1)throw new Error("decryption error");return c.slice(d)}function VQe(t,e,r){for(var n=e.slice(0,2),o=2,i=0;e[o++]!==0;)if(o>=e.length){i++;break}var s=e.slice(2,o-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&i++,s.length<8&&i++,i)throw new Error("decryption error");return e.slice(o)}function WQe(t,e){t=UI.from(t),e=UI.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var o=-1;++o<n;)r+=t[o]^e[o];return r}(function(t){t.publicEncrypt=KQe,t.privateDecrypt=YQe,t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}})(rj);var by={};function AU(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var sj=Mt,gU=cp,aj=sj.Buffer,cj=sj.kMaxLength,Yx=globalThis.crypto||globalThis.msCrypto,fj=Math.pow(2,32)-1;function dj(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>fj||t<0)throw new TypeError("offset must be a uint32");if(t>cj||t>e)throw new RangeError("offset out of range")}function lj(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>fj||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>cj)throw new RangeError("buffer too small")}Yx&&Yx.getRandomValues||!Et.browser?(by.randomFill=ZQe,by.randomFillSync=XQe):(by.randomFill=AU,by.randomFillSync=AU);function ZQe(t,e,r,n){if(!aj.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return dj(e,t.length),lj(r,e,t.length),uj(t,e,r,n)}function uj(t,e,r,n){if(Et.browser){var o=t.buffer,i=new Uint8Array(o,e,r);if(Yx.getRandomValues(i),n){Et.nextTick(function(){n(null,t)});return}return t}if(n){gU(r,function(a,c){if(a)return n(a);c.copy(t,e),n(null,t)});return}var s=gU(r);return s.copy(t,e),t}function XQe(t,e,r){if(typeof e>"u"&&(e=0),!aj.isBuffer(t)&&!(t instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return dj(e,t.length),r===void 0&&(r=t.length-e),lj(r,e,t.length),uj(t,e,r)}var pU;function tD(){if(pU)return xt;pU=1,xt.randomBytes=xt.rng=xt.pseudoRandomBytes=xt.prng=cp,xt.createHash=xt.Hash=Um,xt.createHmac=xt.Hmac=Qq;var t=Kve,e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);xt.getHashes=function(){return r};var n=nC;xt.pbkdf2=n.pbkdf2,xt.pbkdf2Sync=n.pbkdf2Sync;var o=ec;xt.Cipher=o.Cipher,xt.createCipher=o.createCipher,xt.Cipheriv=o.Cipheriv,xt.createCipheriv=o.createCipheriv,xt.Decipher=o.Decipher,xt.createDecipher=o.createDecipher,xt.Decipheriv=o.Decipheriv,xt.createDecipheriv=o.createDecipheriv,xt.getCiphers=o.getCiphers,xt.listCiphers=o.listCiphers;var i=ICe();xt.DiffieHellmanGroup=i.DiffieHellmanGroup,xt.createDiffieHellmanGroup=i.createDiffieHellmanGroup,xt.getDiffieHellman=i.getDiffieHellman,xt.createDiffieHellman=i.createDiffieHellman,xt.DiffieHellman=i.DiffieHellman;var s=DQe();xt.createSign=s.createSign,xt.Sign=s.Sign,xt.createVerify=s.createVerify,xt.Verify=s.Verify,xt.createECDH=kQe();var a=rj;xt.publicEncrypt=a.publicEncrypt,xt.privateEncrypt=a.privateEncrypt,xt.publicDecrypt=a.publicDecrypt,xt.privateDecrypt=a.privateDecrypt;var c=by;return xt.randomFill=c.randomFill,xt.randomFillSync=c.randomFillSync,xt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},xt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},xt}var zE=tD();const e8e=Qo(zE),t8e=Jz({__proto__:null,default:e8e},[zE]);var ug={},cc={};(function(t){/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.setBigUint64=t.Hash=t.equalBytes=t.ensureBytes=t.checkOpts=t.concatBytes=t.toBytes=t.bytesToUtf8=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0;const e=Q=>Q instanceof Uint8Array,r=Q=>new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength);t.u8=r;const n=Q=>new Uint16Array(Q.buffer,Q.byteOffset,Math.floor(Q.byteLength/2));t.u16=n;const o=Q=>new Uint32Array(Q.buffer,Q.byteOffset,Math.floor(Q.byteLength/4));t.u32=o;const i=Q=>new DataView(Q.buffer,Q.byteOffset,Q.byteLength);if(t.createView=i,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const s=Array.from({length:256},(Q,N)=>N.toString(16).padStart(2,"0"));function a(Q){if(!e(Q))throw new Error("Uint8Array expected");let N="";for(let $=0;$<Q.length;$++)N+=s[Q[$]];return N}t.bytesToHex=a;function c(Q){if(typeof Q!="string")throw new Error("hex string expected, got "+typeof Q);const N=Q.length;if(N%2)throw new Error("padded hex string expected, got unpadded hex of length "+N);const $=new Uint8Array(N/2);for(let G=0;G<$.length;G++){const z=G*2,Y=Q.slice(z,z+2),R=Number.parseInt(Y,16);if(Number.isNaN(R)||R<0)throw new Error("Invalid byte sequence");$[G]=R}return $}t.hexToBytes=c;const d=async()=>{};t.nextTick=d;async function f(Q,N,$){let G=Date.now();for(let z=0;z<Q;z++){$(z);const Y=Date.now()-G;Y>=0&&Y<N||(await(0,t.nextTick)(),G+=Y)}}t.asyncLoop=f;function l(Q){if(typeof Q!="string")throw new Error(`utf8ToBytes expected string, got ${typeof Q}`);return new Uint8Array(new TextEncoder().encode(Q))}t.utf8ToBytes=l;function u(Q){return new TextDecoder().decode(Q)}t.bytesToUtf8=u;function p(Q){if(typeof Q=="string"&&(Q=l(Q)),!e(Q))throw new Error(`expected Uint8Array, got ${typeof Q}`);return Q}t.toBytes=p;function A(...Q){const N=new Uint8Array(Q.reduce((G,z)=>G+z.length,0));let $=0;return Q.forEach(G=>{if(!e(G))throw new Error("Uint8Array expected");N.set(G,$),$+=G.length}),N}t.concatBytes=A;const h=Q=>Object.prototype.toString.call(Q)==="[object Object]"&&Q.constructor===Object;function y(Q,N){if(N!==void 0&&(typeof N!="object"||!h(N)))throw new Error("options must be object or undefined");return Object.assign(Q,N)}t.checkOpts=y;function v(Q,N){if(!(Q instanceof Uint8Array))throw new Error("Uint8Array expected");if(typeof N=="number"&&Q.length!==N)throw new Error(`Uint8Array length ${N} expected`)}t.ensureBytes=v;function B(Q,N){if(Q.length!==N.length)throw new Error("equalBytes: Different size of Uint8Arrays");let $=!0;for(let G=0;G<Q.length;G++)$&&($=Q[G]===N[G]);return $}t.equalBytes=B;class S{}t.Hash=S;function x(Q,N,$,G){if(typeof Q.setBigUint64=="function")return Q.setBigUint64(N,$,G);const z=BigInt(32),Y=BigInt(4294967295),R=Number($>>z&Y),C=Number($&Y),m=G?4:0,g=G?0:4;Q.setUint32(N+m,R,G),Q.setUint32(N+g,C,G)}t.setBigUint64=x})(cc);var Xh={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.AEAD_TAG_LENGTH=Tn.XCHACHA20_NONCE_LENGTH=Tn.CURVE25519_PUBLIC_KEY_SIZE=Tn.ETH_PUBLIC_KEY_SIZE=Tn.UNCOMPRESSED_PUBLIC_KEY_SIZE=Tn.COMPRESSED_PUBLIC_KEY_SIZE=Tn.SECRET_KEY_LENGTH=void 0;Tn.SECRET_KEY_LENGTH=32;Tn.COMPRESSED_PUBLIC_KEY_SIZE=33;Tn.UNCOMPRESSED_PUBLIC_KEY_SIZE=65;Tn.ETH_PUBLIC_KEY_SIZE=64;Tn.CURVE25519_PUBLIC_KEY_SIZE=32;Tn.XCHACHA20_NONCE_LENGTH=24;Tn.AEAD_TAG_LENGTH=16;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=Tn,r=function(){function d(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}return d}();t.ECIES_CONFIG=new r;var n=function(){return t.ECIES_CONFIG.ellipticCurve};t.ellipticCurve=n;var o=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed};t.isEphemeralKeyCompressed=o;var i=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed};t.isHkdfKeyCompressed=i;var s=function(){return t.ECIES_CONFIG.symmetricAlgorithm};t.symmetricAlgorithm=s;var a=function(){return t.ECIES_CONFIG.symmetricNonceLength};t.symmetricNonceLength=a;var c=function(){var d={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in d)return d[t.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")};t.ephemeralKeySize=c})(Xh);var Jx={},EC={},vC={},eo={},eA={},BC={};Object.defineProperty(BC,"__esModule",{value:!0});BC.crypto=void 0;BC.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;Object.defineProperty(eA,"__esModule",{value:!0});eA.getWebcryptoSubtle=eA.randomBytes=void 0;const mh=BC;function r8e(t=32){if(mh.crypto&&typeof mh.crypto.getRandomValues=="function")return mh.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}eA.randomBytes=r8e;function n8e(){if(mh.crypto&&typeof mh.crypto.subtle=="object"&&mh.crypto.subtle!=null)return mh.crypto.subtle;throw new Error("crypto.subtle must be defined")}eA.getWebcryptoSubtle=n8e;var hj={},Xs={},Gm={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.output=Mi.exists=Mi.hash=Mi.bytes=Mi.bool=Mi.number=void 0;function YE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Mi.number=YE;function Aj(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Mi.bool=Aj;function i8e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function rD(t,...e){if(!i8e(t))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Mi.bytes=rD;function gj(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");YE(t.outputLen),YE(t.blockLen)}Mi.hash=gj;function pj(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Mi.exists=pj;function yj(t,e){rD(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Mi.output=yj;const o8e={number:YE,bool:Aj,bytes:rD,hash:gj,exists:pj,output:yj};Mi.default=o8e;var Pd={},CC={};Object.defineProperty(CC,"__esModule",{value:!0});CC.crypto=void 0;CC.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=CC,r=G=>new Uint8Array(G.buffer,G.byteOffset,G.byteLength);t.u8=r;const n=G=>new Uint32Array(G.buffer,G.byteOffset,Math.floor(G.byteLength/4));t.u32=n;function o(G){return G instanceof Uint8Array||G!=null&&typeof G=="object"&&G.constructor.name==="Uint8Array"}const i=G=>new DataView(G.buffer,G.byteOffset,G.byteLength);t.createView=i;const s=(G,z)=>G<<32-z|G>>>z;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const a=Array.from({length:256},(G,z)=>z.toString(16).padStart(2,"0"));function c(G){if(!o(G))throw new Error("Uint8Array expected");let z="";for(let Y=0;Y<G.length;Y++)z+=a[G[Y]];return z}t.bytesToHex=c;const d={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function f(G){if(G>=d._0&&G<=d._9)return G-d._0;if(G>=d._A&&G<=d._F)return G-(d._A-10);if(G>=d._a&&G<=d._f)return G-(d._a-10)}function l(G){if(typeof G!="string")throw new Error("hex string expected, got "+typeof G);const z=G.length,Y=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const R=new Uint8Array(Y);for(let C=0,m=0;C<Y;C++,m+=2){const g=f(G.charCodeAt(m)),w=f(G.charCodeAt(m+1));if(g===void 0||w===void 0){const F=G[m]+G[m+1];throw new Error('hex string expected, got non-hex character "'+F+'" at index '+m)}R[C]=g*16+w}return R}t.hexToBytes=l;const u=async()=>{};t.nextTick=u;async function p(G,z,Y){let R=Date.now();for(let C=0;C<G;C++){Y(C);const m=Date.now()-R;m>=0&&m<z||(await(0,t.nextTick)(),R+=m)}}t.asyncLoop=p;function A(G){if(typeof G!="string")throw new Error(`utf8ToBytes expected string, got ${typeof G}`);return new Uint8Array(new TextEncoder().encode(G))}t.utf8ToBytes=A;function h(G){if(typeof G=="string"&&(G=A(G)),!o(G))throw new Error(`expected Uint8Array, got ${typeof G}`);return G}t.toBytes=h;function y(...G){let z=0;for(let R=0;R<G.length;R++){const C=G[R];if(!o(C))throw new Error("Uint8Array expected");z+=C.length}const Y=new Uint8Array(z);for(let R=0,C=0;R<G.length;R++){const m=G[R];Y.set(m,C),C+=m.length}return Y}t.concatBytes=y;class v{clone(){return this._cloneInto()}}t.Hash=v;const B={}.toString;function S(G,z){if(z!==void 0&&B.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(G,z)}t.checkOpts=S;function x(G){const z=R=>G().update(h(R)).digest(),Y=G();return z.outputLen=Y.outputLen,z.blockLen=Y.blockLen,z.create=()=>G(),z}t.wrapConstructor=x;function Q(G){const z=(R,C)=>G(C).update(h(R)).digest(),Y=G({});return z.outputLen=Y.outputLen,z.blockLen=Y.blockLen,z.create=R=>G(R),z}t.wrapConstructorWithOpts=Q;function N(G){const z=(R,C)=>G(C).update(h(R)).digest(),Y=G({});return z.outputLen=Y.outputLen,z.blockLen=Y.blockLen,z.create=R=>G(R),z}t.wrapXOFConstructorWithOpts=N;function $(G=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(G));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=$})(Pd);Object.defineProperty(Gm,"__esModule",{value:!0});Gm.SHA2=void 0;const sQ=Mi,ay=Pd;function s8e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,d=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+d,a,n)}class a8e extends ay.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,ay.createView)(this.buffer)}update(e){(0,sQ.exists)(this);const{view:r,buffer:n,blockLen:o}=this;e=(0,ay.toBytes)(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const c=(0,ay.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,sQ.exists)(this),(0,sQ.output)(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:i}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let l=s;l<o;l++)r[l]=0;s8e(n,o-8,BigInt(this.length*8),i),this.process(n,0);const a=(0,ay.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)a.setUint32(4*l,f[l],i)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}}Gm.SHA2=a8e;var At={};Object.defineProperty(At,"__esModule",{value:!0});At.add5L=At.add5H=At.add4H=At.add4L=At.add3H=At.add3L=At.add=At.rotlBL=At.rotlBH=At.rotlSL=At.rotlSH=At.rotr32L=At.rotr32H=At.rotrBL=At.rotrBH=At.rotrSL=At.rotrSH=At.shrSL=At.shrSH=At.toBig=At.split=At.fromBig=void 0;const A1=BigInt(2**32-1),Vx=BigInt(32);function nD(t,e=!1){return e?{h:Number(t&A1),l:Number(t>>Vx&A1)}:{h:Number(t>>Vx&A1)|0,l:Number(t&A1)|0}}At.fromBig=nD;function Ij(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:i,l:s}=nD(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}At.split=Ij;const mj=(t,e)=>BigInt(t>>>0)<<Vx|BigInt(e>>>0);At.toBig=mj;const wj=(t,e,r)=>t>>>r;At.shrSH=wj;const bj=(t,e,r)=>t<<32-r|e>>>r;At.shrSL=bj;const Ej=(t,e,r)=>t>>>r|e<<32-r;At.rotrSH=Ej;const vj=(t,e,r)=>t<<32-r|e>>>r;At.rotrSL=vj;const Bj=(t,e,r)=>t<<64-r|e>>>r-32;At.rotrBH=Bj;const Cj=(t,e,r)=>t>>>r-32|e<<64-r;At.rotrBL=Cj;const Qj=(t,e)=>e;At.rotr32H=Qj;const xj=(t,e)=>t;At.rotr32L=xj;const Sj=(t,e,r)=>t<<r|e>>>32-r;At.rotlSH=Sj;const _j=(t,e,r)=>e<<r|t>>>32-r;At.rotlSL=_j;const Dj=(t,e,r)=>e<<r-32|t>>>64-r;At.rotlBH=Dj;const kj=(t,e,r)=>t<<r-32|e>>>64-r;At.rotlBL=kj;function Tj(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}At.add=Tj;const Fj=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);At.add3L=Fj;const Mj=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;At.add3H=Mj;const Uj=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);At.add4L=Uj;const Rj=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0;At.add4H=Rj;const Nj=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0);At.add5L=Nj;const Pj=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;At.add5H=Pj;const c8e={fromBig:nD,split:Ij,toBig:mj,shrSH:wj,shrSL:bj,rotrSH:Ej,rotrSL:vj,rotrBH:Bj,rotrBL:Cj,rotr32H:Qj,rotr32L:xj,rotlSH:Sj,rotlSL:_j,rotlBH:Dj,rotlBL:kj,add:Tj,add3L:Fj,add3H:Mj,add4L:Uj,add4H:Rj,add5H:Pj,add5L:Nj};At.default=c8e;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.sha384=Xs.sha512_256=Xs.sha512_224=Xs.sha512=Xs.SHA512=void 0;const f8e=Gm,kt=At,QC=Pd,[d8e,l8e]=(()=>kt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),ol=new Uint32Array(80),sl=new Uint32Array(80);class qm extends f8e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:d,El:f,Fh:l,Fl:u,Gh:p,Gl:A,Hh:h,Hl:y}=this;return[e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y]}set(e,r,n,o,i,s,a,c,d,f,l,u,p,A,h,y){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=d|0,this.El=f|0,this.Fh=l|0,this.Fl=u|0,this.Gh=p|0,this.Gl=A|0,this.Hh=h|0,this.Hl=y|0}process(e,r){for(let S=0;S<16;S++,r+=4)ol[S]=e.getUint32(r),sl[S]=e.getUint32(r+=4);for(let S=16;S<80;S++){const x=ol[S-15]|0,Q=sl[S-15]|0,N=kt.default.rotrSH(x,Q,1)^kt.default.rotrSH(x,Q,8)^kt.default.shrSH(x,Q,7),$=kt.default.rotrSL(x,Q,1)^kt.default.rotrSL(x,Q,8)^kt.default.shrSL(x,Q,7),G=ol[S-2]|0,z=sl[S-2]|0,Y=kt.default.rotrSH(G,z,19)^kt.default.rotrBH(G,z,61)^kt.default.shrSH(G,z,6),R=kt.default.rotrSL(G,z,19)^kt.default.rotrBL(G,z,61)^kt.default.shrSL(G,z,6),C=kt.default.add4L($,R,sl[S-7],sl[S-16]),m=kt.default.add4H(C,N,Y,ol[S-7],ol[S-16]);ol[S]=m|0,sl[S]=C|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:d,Dl:f,Eh:l,El:u,Fh:p,Fl:A,Gh:h,Gl:y,Hh:v,Hl:B}=this;for(let S=0;S<80;S++){const x=kt.default.rotrSH(l,u,14)^kt.default.rotrSH(l,u,18)^kt.default.rotrBH(l,u,41),Q=kt.default.rotrSL(l,u,14)^kt.default.rotrSL(l,u,18)^kt.default.rotrBL(l,u,41),N=l&p^~l&h,$=u&A^~u&y,G=kt.default.add5L(B,Q,$,l8e[S],sl[S]),z=kt.default.add5H(G,v,x,N,d8e[S],ol[S]),Y=G|0,R=kt.default.rotrSH(n,o,28)^kt.default.rotrBH(n,o,34)^kt.default.rotrBH(n,o,39),C=kt.default.rotrSL(n,o,28)^kt.default.rotrBL(n,o,34)^kt.default.rotrBL(n,o,39),m=n&i^n&a^i&a,g=o&s^o&c^s&c;v=h|0,B=y|0,h=p|0,y=A|0,p=l|0,A=u|0,{h:l,l:u}=kt.default.add(d|0,f|0,z|0,Y|0),d=a|0,f=c|0,a=i|0,c=s|0,i=n|0,s=o|0;const w=kt.default.add3L(Y,C,g);n=kt.default.add3H(w,z,R,m),o=w|0}({h:n,l:o}=kt.default.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=kt.default.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=kt.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:d,l:f}=kt.default.add(this.Dh|0,this.Dl|0,d|0,f|0),{h:l,l:u}=kt.default.add(this.Eh|0,this.El|0,l|0,u|0),{h:p,l:A}=kt.default.add(this.Fh|0,this.Fl|0,p|0,A|0),{h,l:y}=kt.default.add(this.Gh|0,this.Gl|0,h|0,y|0),{h:v,l:B}=kt.default.add(this.Hh|0,this.Hl|0,v|0,B|0),this.set(n,o,i,s,a,c,d,f,l,u,p,A,h,y,v,B)}roundClean(){ol.fill(0),sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Xs.SHA512=qm;class u8e extends qm{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h8e extends qm{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class A8e extends qm{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Xs.sha512=(0,QC.wrapConstructor)(()=>new qm);Xs.sha512_224=(0,QC.wrapConstructor)(()=>new u8e);Xs.sha512_256=(0,QC.wrapConstructor)(()=>new h8e);Xs.sha384=(0,QC.wrapConstructor)(()=>new A8e);var xC={},dt={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.validateObject=rt.createHmacDrbg=rt.bitMask=rt.bitSet=rt.bitGet=rt.bitLen=rt.utf8ToBytes=rt.equalBytes=rt.concatBytes=rt.ensureBytes=rt.numberToVarBytesBE=rt.numberToBytesLE=rt.numberToBytesBE=rt.bytesToNumberLE=rt.bytesToNumberBE=rt.hexToBytes=rt.hexToNumber=rt.numberToHexUnpadded=rt.bytesToHex=rt.isBytes=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Oj=BigInt(0),SC=BigInt(1),g8e=BigInt(2);function Ip(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}rt.isBytes=Ip;const p8e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iD(t){if(!Ip(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=p8e[t[r]];return e}rt.bytesToHex=iD;function Kj(t){const e=t.toString(16);return e.length&1?`0${e}`:e}rt.numberToHexUnpadded=Kj;function oD(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}rt.hexToNumber=oD;const _f={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function yU(t){if(t>=_f._0&&t<=_f._9)return t-_f._0;if(t>=_f._A&&t<=_f._F)return t-(_f._A-10);if(t>=_f._a&&t<=_f._f)return t-(_f._a-10)}function _C(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){const s=yU(t.charCodeAt(i)),a=yU(t.charCodeAt(i+1));if(s===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}rt.hexToBytes=_C;function y8e(t){return oD(iD(t))}rt.bytesToNumberBE=y8e;function I8e(t){if(!Ip(t))throw new Error("Uint8Array expected");return oD(iD(Uint8Array.from(t).reverse()))}rt.bytesToNumberLE=I8e;function Hj(t,e){return _C(t.toString(16).padStart(e*2,"0"))}rt.numberToBytesBE=Hj;function m8e(t,e){return Hj(t,e).reverse()}rt.numberToBytesLE=m8e;function w8e(t){return _C(Kj(t))}rt.numberToVarBytesBE=w8e;function b8e(t,e,r){let n;if(typeof e=="string")try{n=_C(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ip(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}rt.ensureBytes=b8e;function Lj(...t){let e=0;for(let o=0;o<t.length;o++){const i=t[o];if(!Ip(i))throw new Error("Uint8Array expected");e+=i.length}let r=new Uint8Array(e),n=0;for(let o=0;o<t.length;o++){const i=t[o];r.set(i,n),n+=i.length}return r}rt.concatBytes=Lj;function E8e(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}rt.equalBytes=E8e;function v8e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}rt.utf8ToBytes=v8e;function B8e(t){let e;for(e=0;t>Oj;t>>=SC,e+=1);return e}rt.bitLen=B8e;function C8e(t,e){return t>>BigInt(e)&SC}rt.bitGet=C8e;const Q8e=(t,e,r)=>t|(r?SC:Oj)<<BigInt(e);rt.bitSet=Q8e;const x8e=t=>(g8e<<BigInt(t-1))-SC;rt.bitMask=x8e;const aQ=t=>new Uint8Array(t),IU=t=>Uint8Array.from(t);function S8e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=aQ(t),o=aQ(t),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},a=(...l)=>r(o,n,...l),c=(l=aQ())=>{o=a(IU([0]),l),n=a(),l.length!==0&&(o=a(IU([1]),l),n=a())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const u=[];for(;l<e;){n=a();const p=n.slice();u.push(p),l+=n.length}return Lj(...u)};return(l,u)=>{s(),c(l);let p;for(;!(p=u(d()));)c();return s(),p}}rt.createHmacDrbg=S8e;const _8e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Ip(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function D8e(t,e,r={}){const n=(o,i,s)=>{const a=_8e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=t[o];if(!(s&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${i}`)};for(const[o,i]of Object.entries(e))n(o,i,!1);for(const[o,i]of Object.entries(r))n(o,i,!0);return t}rt.validateObject=D8e;Object.defineProperty(dt,"__esModule",{value:!0});dt.mapHashToField=dt.getMinHashLength=dt.getFieldBytesLength=dt.hashToPrivateScalar=dt.FpSqrtEven=dt.FpSqrtOdd=dt.Field=dt.nLength=dt.FpIsSquare=dt.FpDiv=dt.FpInvertBatch=dt.FpPow=dt.validateField=dt.isNegativeLE=dt.FpSqrt=dt.tonelliShanks=dt.invert=dt.pow2=dt.pow=dt.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bs=rt,ii=BigInt(0),Or=BigInt(1),Cl=BigInt(2),k8e=BigInt(3),Wx=BigInt(4),mU=BigInt(5),wU=BigInt(8);BigInt(9);BigInt(16);function ps(t,e){const r=t%e;return r>=ii?r:e+r}dt.mod=ps;function Gj(t,e,r){if(r<=ii||e<ii)throw new Error("Expected power/modulo > 0");if(r===Or)return ii;let n=Or;for(;e>ii;)e&Or&&(n=n*t%r),t=t*t%r,e>>=Or;return n}dt.pow=Gj;function T8e(t,e,r){let n=t;for(;e-- >ii;)n*=n,n%=r;return n}dt.pow2=T8e;function JE(t,e){if(t===ii||e<=ii)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ps(t,e),n=e,o=ii,i=Or;for(;r!==ii;){const a=n/r,c=n%r,d=o-i*a;n=r,r=c,o=i,i=d}if(n!==Or)throw new Error("invert: does not exist");return ps(o,e)}dt.invert=JE;function qj(t){const e=(t-Or)/Cl;let r,n,o;for(r=t-Or,n=0;r%Cl===ii;r/=Cl,n++);for(o=Cl;o<t&&Gj(o,e,t)!==t-Or;o++);if(n===1){const s=(t+Or)/Wx;return function(c,d){const f=c.pow(d,s);if(!c.eql(c.sqr(f),d))throw new Error("Cannot find square root");return f}}const i=(r+Or)/Cl;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let d=n,f=a.pow(a.mul(a.ONE,o),r),l=a.pow(c,i),u=a.pow(c,r);for(;!a.eql(u,a.ONE);){if(a.eql(u,a.ZERO))return a.ZERO;let p=1;for(let h=a.sqr(u);p<d&&!a.eql(h,a.ONE);p++)h=a.sqr(h);const A=a.pow(f,Or<<BigInt(d-p-1));f=a.sqr(A),l=a.mul(l,A),u=a.mul(u,f),d=p}return l}}dt.tonelliShanks=qj;function $j(t){if(t%Wx===k8e){const e=(t+Or)/Wx;return function(n,o){const i=n.pow(o,e);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(t%wU===mU){const e=(t-mU)/wU;return function(n,o){const i=n.mul(o,Cl),s=n.pow(i,e),a=n.mul(o,s),c=n.mul(n.mul(a,Cl),s),d=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(d),o))throw new Error("Cannot find square root");return d}}return qj(t)}dt.FpSqrt=$j;const F8e=(t,e)=>(ps(t,e)&Or)===Or;dt.isNegativeLE=F8e;const M8e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function U8e(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=M8e.reduce((n,o)=>(n[o]="function",n),e);return(0,bs.validateObject)(t,r)}dt.validateField=U8e;function jj(t,e,r){if(r<ii)throw new Error("Expected power > 0");if(r===ii)return t.ONE;if(r===Or)return e;let n=t.ONE,o=e;for(;r>ii;)r&Or&&(n=t.mul(n,o)),o=t.sqr(o),r>>=Or;return n}dt.FpPow=jj;function zj(t,e){const r=new Array(e.length),n=e.reduce((i,s,a)=>t.is0(s)?i:(r[a]=i,t.mul(i,s)),t.ONE),o=t.inv(n);return e.reduceRight((i,s,a)=>t.is0(s)?i:(r[a]=t.mul(i,r[a]),t.mul(i,s)),o),r}dt.FpInvertBatch=zj;function R8e(t,e,r){return t.mul(e,typeof r=="bigint"?JE(r,t.ORDER):t.inv(r))}dt.FpDiv=R8e;function N8e(t){const e=(t.ORDER-Or)/Cl;return r=>{const n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}dt.FpIsSquare=N8e;function sD(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}dt.nLength=sD;function P8e(t,e,r=!1,n={}){if(t<=ii)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:i}=sD(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=$j(t),a=Object.freeze({ORDER:t,BITS:o,BYTES:i,MASK:(0,bs.bitMask)(o),ZERO:ii,ONE:Or,create:c=>ps(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ii<=c&&c<t},is0:c=>c===ii,isOdd:c=>(c&Or)===Or,neg:c=>ps(-c,t),eql:(c,d)=>c===d,sqr:c=>ps(c*c,t),add:(c,d)=>ps(c+d,t),sub:(c,d)=>ps(c-d,t),mul:(c,d)=>ps(c*d,t),pow:(c,d)=>jj(a,c,d),div:(c,d)=>ps(c*JE(d,t),t),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>JE(c,t),sqrt:n.sqrt||(c=>s(a,c)),invertBatch:c=>zj(a,c),cmov:(c,d,f)=>f?d:c,toBytes:c=>r?(0,bs.numberToBytesLE)(c,i):(0,bs.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return r?(0,bs.bytesToNumberLE)(c):(0,bs.bytesToNumberBE)(c)}});return Object.freeze(a)}dt.Field=P8e;function O8e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}dt.FpSqrtOdd=O8e;function K8e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}dt.FpSqrtEven=K8e;function H8e(t,e,r=!1){t=(0,bs.ensureBytes)("privateHash",t);const n=t.length,o=sD(e).nByteLength+8;if(o<24||n<o||n>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${n}`);const i=r?(0,bs.bytesToNumberLE)(t):(0,bs.bytesToNumberBE)(t);return ps(i,e-Or)+Or}dt.hashToPrivateScalar=H8e;function aD(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}dt.getFieldBytesLength=aD;function Yj(t){const e=aD(t);return e+Math.ceil(e/2)}dt.getMinHashLength=Yj;function L8e(t,e,r=!1){const n=t.length,o=aD(e),i=Yj(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const s=r?(0,bs.bytesToNumberBE)(t):(0,bs.bytesToNumberLE)(t),a=ps(s,e-Or)+Or;return r?(0,bs.numberToBytesLE)(a,o):(0,bs.numberToBytesBE)(a,o)}dt.mapHashToField=L8e;var tA={};Object.defineProperty(tA,"__esModule",{value:!0});tA.validateBasic=tA.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bU=dt,G8e=rt,q8e=BigInt(0),cQ=BigInt(1);function $8e(t,e){const r=(o,i)=>{const s=i.negate();return o?s:i},n=o=>{const i=Math.ceil(e/o)+1,s=2**(o-1);return{windows:i,windowSize:s}};return{constTimeNegate:r,unsafeLadder(o,i){let s=t.ZERO,a=o;for(;i>q8e;)i&cQ&&(s=s.add(a)),a=a.double(),i>>=cQ;return s},precomputeWindow(o,i){const{windows:s,windowSize:a}=n(i),c=[];let d=o,f=d;for(let l=0;l<s;l++){f=d,c.push(f);for(let u=1;u<a;u++)f=f.add(d),c.push(f);d=f.double()}return c},wNAF(o,i,s){const{windows:a,windowSize:c}=n(o);let d=t.ZERO,f=t.BASE;const l=BigInt(2**o-1),u=2**o,p=BigInt(o);for(let A=0;A<a;A++){const h=A*c;let y=Number(s&l);s>>=p,y>c&&(y-=u,s+=cQ);const v=h,B=h+Math.abs(y)-1,S=A%2!==0,x=y<0;y===0?f=f.add(r(S,i[v])):d=d.add(r(x,i[B]))}return{p:d,f}},wNAFCached(o,i,s,a){const c=o._WINDOW_SIZE||1;let d=i.get(o);return d||(d=this.precomputeWindow(o,c),c!==1&&i.set(o,a(d))),this.wNAF(c,d,s)}}}tA.wNAF=$8e;function j8e(t){return(0,bU.validateField)(t.Fp),(0,G8e.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,bU.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}tA.validateBasic=j8e;Object.defineProperty(xC,"__esModule",{value:!0});xC.twistedEdwards=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z8e=dt,Pf=rt,al=rt,Jj=tA,xa=BigInt(0),Vo=BigInt(1),g1=BigInt(2),Y8e=BigInt(8),J8e={zip215:!0};function V8e(t){const e=(0,Jj.validateBasic)(t);return Pf.validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function W8e(t){const e=V8e(t),{Fp:r,n,prehash:o,hash:i,randomBytes:s,nByteLength:a,h:c}=e,d=g1<<BigInt(a*8)-Vo,f=r.create,l=e.uvRatio||((K,D)=>{try{return{isValid:!0,value:r.sqrt(K*r.inv(D))}}catch{return{isValid:!1,value:xa}}}),u=e.adjustScalarBytes||(K=>K),p=e.domain||((K,D,I)=>{if(D.length||I)throw new Error("Contexts/pre-hash are not supported");return K}),A=K=>typeof K=="bigint"&&xa<K,h=(K,D)=>A(K)&&A(D)&&K<D,y=K=>K===xa||h(K,d);function v(K,D){if(h(K,D))return K;throw new Error(`Expected valid scalar < ${D}, got ${typeof K} ${K}`)}function B(K){return K===xa?K:v(K,n)}const S=new Map;function x(K){if(!(K instanceof Q))throw new Error("ExtendedPoint expected")}class Q{constructor(D,I,P,T){if(this.ex=D,this.ey=I,this.ez=P,this.et=T,!y(D))throw new Error("x required");if(!y(I))throw new Error("y required");if(!y(P))throw new Error("z required");if(!y(T))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(D){if(D instanceof Q)throw new Error("extended point not allowed");const{x:I,y:P}=D||{};if(!y(I)||!y(P))throw new Error("invalid affine point");return new Q(I,P,Vo,f(I*P))}static normalizeZ(D){const I=r.invertBatch(D.map(P=>P.ez));return D.map((P,T)=>P.toAffine(I[T])).map(Q.fromAffine)}_setWindowSize(D){this._WINDOW_SIZE=D,S.delete(this)}assertValidity(){const{a:D,d:I}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:P,ey:T,ez:V,et:ee}=this,se=f(P*P),Z=f(T*T),ne=f(V*V),X=f(ne*ne),re=f(se*D),W=f(ne*f(re+Z)),j=f(X+f(I*f(se*Z)));if(W!==j)throw new Error("bad point: equation left != right (1)");const M=f(P*T),E=f(V*ee);if(M!==E)throw new Error("bad point: equation left != right (2)")}equals(D){x(D);const{ex:I,ey:P,ez:T}=this,{ex:V,ey:ee,ez:se}=D,Z=f(I*se),ne=f(V*T),X=f(P*se),re=f(ee*T);return Z===ne&&X===re}is0(){return this.equals(Q.ZERO)}negate(){return new Q(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:D}=e,{ex:I,ey:P,ez:T}=this,V=f(I*I),ee=f(P*P),se=f(g1*f(T*T)),Z=f(D*V),ne=I+P,X=f(f(ne*ne)-V-ee),re=Z+ee,W=re-se,j=Z-ee,M=f(X*W),E=f(re*j),b=f(X*j),k=f(W*re);return new Q(M,E,k,b)}add(D){x(D);const{a:I,d:P}=e,{ex:T,ey:V,ez:ee,et:se}=this,{ex:Z,ey:ne,ez:X,et:re}=D;if(I===BigInt(-1)){const fe=f((V-T)*(ne+Z)),ue=f((V+T)*(ne-Z)),Ae=f(ue-fe);if(Ae===xa)return this.double();const ie=f(ee*g1*re),ae=f(se*g1*X),le=ae+ie,ge=ue+fe,me=ae-ie,ve=f(le*Ae),Ue=f(ge*me),ut=f(le*me),_e=f(Ae*ge);return new Q(ve,Ue,_e,ut)}const W=f(T*Z),j=f(V*ne),M=f(se*P*re),E=f(ee*X),b=f((T+V)*(Z+ne)-W-j),k=E-M,U=E+M,_=f(j-I*W),L=f(b*k),J=f(U*_),te=f(b*_),oe=f(k*U);return new Q(L,J,oe,te)}subtract(D){return this.add(D.negate())}wNAF(D){return G.wNAFCached(this,S,D,Q.normalizeZ)}multiply(D){const{p:I,f:P}=this.wNAF(v(D,n));return Q.normalizeZ([I,P])[0]}multiplyUnsafe(D){let I=B(D);return I===xa?$:this.equals($)||I===Vo?this:this.equals(N)?this.wNAF(I).p:G.unsafeLadder(this,I)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return G.unsafeLadder(this,n).is0()}toAffine(D){const{ex:I,ey:P,ez:T}=this,V=this.is0();D==null&&(D=V?Y8e:r.inv(T));const ee=f(I*D),se=f(P*D),Z=f(T*D);if(V)return{x:xa,y:Vo};if(Z!==Vo)throw new Error("invZ was invalid");return{x:ee,y:se}}clearCofactor(){const{h:D}=e;return D===Vo?this:this.multiplyUnsafe(D)}static fromHex(D,I=!1){const{d:P,a:T}=e,V=r.BYTES;D=(0,al.ensureBytes)("pointHex",D,V);const ee=D.slice(),se=D[V-1];ee[V-1]=se&-129;const Z=Pf.bytesToNumberLE(ee);Z===xa||(I?v(Z,d):v(Z,r.ORDER));const ne=f(Z*Z),X=f(ne-Vo),re=f(P*ne-T);let{isValid:W,value:j}=l(X,re);if(!W)throw new Error("Point.fromHex: invalid y coordinate");const M=(j&Vo)===Vo,E=(se&128)!==0;if(!I&&j===xa&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==M&&(j=f(-j)),Q.fromAffine({x:j,y:Z})}static fromPrivateKey(D){return R(D).point}toRawBytes(){const{x:D,y:I}=this.toAffine(),P=Pf.numberToBytesLE(I,r.BYTES);return P[P.length-1]|=D&Vo?128:0,P}toHex(){return Pf.bytesToHex(this.toRawBytes())}}Q.BASE=new Q(e.Gx,e.Gy,Vo,f(e.Gx*e.Gy)),Q.ZERO=new Q(xa,Vo,Vo,xa);const{BASE:N,ZERO:$}=Q,G=(0,Jj.wNAF)(Q,a*8);function z(K){return(0,z8e.mod)(K,n)}function Y(K){return z(Pf.bytesToNumberLE(K))}function R(K){const D=a;K=(0,al.ensureBytes)("private key",K,D);const I=(0,al.ensureBytes)("hashed private key",i(K),2*D),P=u(I.slice(0,D)),T=I.slice(D,2*D),V=Y(P),ee=N.multiply(V),se=ee.toRawBytes();return{head:P,prefix:T,scalar:V,point:ee,pointBytes:se}}function C(K){return R(K).pointBytes}function m(K=new Uint8Array,...D){const I=Pf.concatBytes(...D);return Y(i(p(I,(0,al.ensureBytes)("context",K),!!o)))}function g(K,D,I={}){K=(0,al.ensureBytes)("message",K),o&&(K=o(K));const{prefix:P,scalar:T,pointBytes:V}=R(D),ee=m(I.context,P,K),se=N.multiply(ee).toRawBytes(),Z=m(I.context,se,V,K),ne=z(ee+Z*T);B(ne);const X=Pf.concatBytes(se,Pf.numberToBytesLE(ne,r.BYTES));return(0,al.ensureBytes)("result",X,a*2)}const w=J8e;function F(K,D,I,P=w){const{context:T,zip215:V}=P,ee=r.BYTES;K=(0,al.ensureBytes)("signature",K,2*ee),D=(0,al.ensureBytes)("message",D),o&&(D=o(D));const se=Pf.bytesToNumberLE(K.slice(ee,2*ee));let Z,ne,X;try{Z=Q.fromHex(I,V),ne=Q.fromHex(K.slice(0,ee),V),X=N.multiplyUnsafe(se)}catch{return!1}if(!V&&Z.isSmallOrder())return!1;const re=m(T,ne.toRawBytes(),Z.toRawBytes(),D);return ne.add(Z.multiplyUnsafe(re)).subtract(X).clearCofactor().equals(Q.ZERO)}return N._setWindowSize(8),{CURVE:e,getPublicKey:C,sign:g,verify:F,ExtendedPoint:Q,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>s(r.BYTES),precompute(K=8,D=Q.BASE){return D._setWindowSize(K),D.multiply(BigInt(3)),D}}}}xC.twistedEdwards=W8e;var DC={};Object.defineProperty(DC,"__esModule",{value:!0});DC.montgomery=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EU=dt,ng=rt,cy=BigInt(0),fQ=BigInt(1);function Z8e(t){return(0,ng.validateObject)(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function X8e(t){const e=Z8e(t),{P:r}=e,n=S=>(0,EU.mod)(S,r),o=e.montgomeryBits,i=Math.ceil(o/8),s=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,EU.pow)(S,r-BigInt(2),r));function d(S,x,Q){const N=n(S*(x-Q));return x=n(x-N),Q=n(Q+N),[x,Q]}function f(S){if(typeof S=="bigint"&&cy<=S&&S<r)return S;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const l=(e.a-BigInt(2))/BigInt(4);function u(S,x){const Q=f(S),N=f(x),$=Q;let G=fQ,z=cy,Y=Q,R=fQ,C=cy,m;for(let w=BigInt(o-1);w>=cy;w--){const F=N>>w&fQ;C^=F,m=d(C,G,Y),G=m[0],Y=m[1],m=d(C,z,R),z=m[0],R=m[1],C=F;const H=G+z,K=n(H*H),D=G-z,I=n(D*D),P=K-I,T=Y+R,V=Y-R,ee=n(V*H),se=n(T*D),Z=ee+se,ne=ee-se;Y=n(Z*Z),R=n($*n(ne*ne)),G=n(K*I),z=n(P*(K+n(l*P)))}m=d(C,G,Y),G=m[0],Y=m[1],m=d(C,z,R),z=m[0],R=m[1];const g=c(z);return n(G*g)}function p(S){return(0,ng.numberToBytesLE)(n(S),i)}function A(S){const x=(0,ng.ensureBytes)("u coordinate",S,i);return s===32&&(x[31]&=127),(0,ng.bytesToNumberLE)(x)}function h(S){const x=(0,ng.ensureBytes)("scalar",S),Q=x.length;if(Q!==i&&Q!==s)throw new Error(`Expected ${i} or ${s} bytes, got ${Q}`);return(0,ng.bytesToNumberLE)(a(x))}function y(S,x){const Q=A(x),N=h(S),$=u(Q,N);if($===cy)throw new Error("Invalid private or public key received");return p($)}const v=p(e.Gu);function B(S){return y(S,v)}return{scalarMult:y,scalarMultBase:B,getSharedSecret:(S,x)=>y(S,x),getPublicKey:S=>B(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:v}}DC.montgomery=X8e;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.createHasher=Es.isogenyMap=Es.hash_to_field=Es.expand_message_xof=Es.expand_message_xmd=void 0;const exe=dt,ys=rt;function txe(t){if((0,ys.isBytes)(t))return t;if(typeof t=="string")return(0,ys.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}const rxe=ys.bytesToNumberBE;function bl(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function nxe(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function RI(t){if(!(0,ys.isBytes)(t))throw new Error("Uint8Array expected")}function cD(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Vj(t,e,r,n){RI(t),RI(e),cD(r),e.length>255&&(e=n((0,ys.concatBytes)((0,ys.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:o,blockLen:i}=n,s=Math.ceil(r/o);if(s>255)throw new Error("Invalid xmd length");const a=(0,ys.concatBytes)(e,bl(e.length,1)),c=bl(0,i),d=bl(r,2),f=new Array(s),l=n((0,ys.concatBytes)(c,t,d,bl(0,1),a));f[0]=n((0,ys.concatBytes)(l,bl(1,1),a));for(let p=1;p<=s;p++){const A=[nxe(l,f[p-1]),bl(p+1,1),a];f[p]=n((0,ys.concatBytes)(...A))}return(0,ys.concatBytes)(...f).slice(0,r)}Es.expand_message_xmd=Vj;function Wj(t,e,r,n,o){if(RI(t),RI(e),cD(r),e.length>255){const i=Math.ceil(2*n/8);e=o.create({dkLen:i}).update((0,ys.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(t).update(bl(r,2)).update(e).update(bl(e.length,1)).digest()}Es.expand_message_xof=Wj;function Zx(t,e,r){(0,ys.validateObject)(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:o,m:i,hash:s,expand:a,DST:c}=r;RI(t),cD(e);const d=txe(c),f=n.toString(2).length,l=Math.ceil((f+o)/8),u=e*i*l;let p;if(a==="xmd")p=Vj(t,d,u,s);else if(a==="xof")p=Wj(t,d,u,o,s);else if(a==="_internal_pass")p=t;else throw new Error('expand must be "xmd" or "xof"');const A=new Array(e);for(let h=0;h<e;h++){const y=new Array(i);for(let v=0;v<i;v++){const B=l*(v+h*i),S=p.subarray(B,B+l);y[v]=(0,exe.mod)(rxe(S),n)}A[h]=y}return A}Es.hash_to_field=Zx;function ixe(t,e){const r=e.map(n=>Array.from(n).reverse());return(n,o)=>{const[i,s,a,c]=r.map(d=>d.reduce((f,l)=>t.add(t.mul(f,n),l)));return n=t.div(i,s),o=t.mul(o,t.div(a,c)),{x:n,y:o}}}Es.isogenyMap=ixe;function oxe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,o){const i=Zx(n,2,{...r,DST:r.DST,...o}),s=t.fromAffine(e(i[0])),a=t.fromAffine(e(i[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,o){const i=Zx(n,1,{...r,DST:r.encodeDST,...o}),s=t.fromAffine(e(i[0])).clearCofactor();return s.assertValidity(),s}}}Es.createHasher=oxe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomeryPriv=t.edwardsToMontgomery=t.edwardsToMontgomeryPub=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Xs,r=Pd,n=xC,o=DC,i=dt,s=rt,a=Es,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),d=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),f=BigInt(0),l=BigInt(1),u=BigInt(2),p=BigInt(5),A=BigInt(10),h=BigInt(20),y=BigInt(40),v=BigInt(80);function B(j){const M=c,b=j*j%M*j%M,k=(0,i.pow2)(b,u,M)*b%M,U=(0,i.pow2)(k,l,M)*j%M,_=(0,i.pow2)(U,p,M)*U%M,L=(0,i.pow2)(_,A,M)*_%M,J=(0,i.pow2)(L,h,M)*L%M,te=(0,i.pow2)(J,y,M)*J%M,oe=(0,i.pow2)(te,v,M)*te%M,fe=(0,i.pow2)(oe,v,M)*te%M,ue=(0,i.pow2)(fe,A,M)*_%M;return{pow_p_5_8:(0,i.pow2)(ue,u,M)*j%M,b2:b}}function S(j){return j[0]&=248,j[31]&=127,j[31]|=64,j}function x(j,M){const E=c,b=(0,i.mod)(M*M*M,E),k=(0,i.mod)(b*b*M,E),U=B(j*k).pow_p_5_8;let _=(0,i.mod)(j*b*U,E);const L=(0,i.mod)(M*_*_,E),J=_,te=(0,i.mod)(_*d,E),oe=L===j,fe=L===(0,i.mod)(-j,E),ue=L===(0,i.mod)(-j*d,E);return oe&&(_=J),(fe||ue)&&(_=te),(0,i.isNegativeLE)(_,E)&&(_=(0,i.mod)(-_,E)),{isValid:oe||fe,value:_}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const Q=(0,i.Field)(c,void 0,!0),N={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Q,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:r.randomBytes,adjustScalarBytes:S,uvRatio:x};t.ed25519=(0,n.twistedEdwards)(N);function $(j,M,E){if(M.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([E?1:0,M.length]),M,j)}t.ed25519ctx=(0,n.twistedEdwards)({...N,domain:$}),t.ed25519ph=(0,n.twistedEdwards)({...N,domain:$,prehash:e.sha512}),t.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:j=>{const M=c,{pow_p_5_8:E,b2:b}=B(j);return(0,i.mod)((0,i.pow2)(E,BigInt(3),M)*b,M)},adjustScalarBytes:S,randomBytes:r.randomBytes}))();function G(j){const{y:M}=t.ed25519.ExtendedPoint.fromHex(j),E=BigInt(1);return Q.toBytes(Q.create((E+M)*Q.inv(E-M)))}t.edwardsToMontgomeryPub=G,t.edwardsToMontgomery=G;function z(j){const M=N.hash(j.subarray(0,32));return N.adjustScalarBytes(M).subarray(0,32)}t.edwardsToMontgomeryPriv=z;const Y=(Q.ORDER+BigInt(3))/BigInt(8),R=Q.pow(u,Y),C=Q.sqrt(Q.neg(Q.ONE)),m=(Q.ORDER-BigInt(5))/BigInt(8),g=BigInt(486662);function w(j){let M=Q.sqr(j);M=Q.mul(M,u);let E=Q.add(M,Q.ONE),b=Q.neg(g),k=Q.sqr(E),U=Q.mul(k,E),_=Q.mul(M,g);_=Q.mul(_,b),_=Q.add(_,k),_=Q.mul(_,b);let L=Q.sqr(U);k=Q.sqr(L),L=Q.mul(L,U),L=Q.mul(L,_),k=Q.mul(k,L);let J=Q.pow(k,m);J=Q.mul(J,L);let te=Q.mul(J,C);k=Q.sqr(J),k=Q.mul(k,U);let oe=Q.eql(k,_),fe=Q.cmov(te,J,oe),ue=Q.mul(b,M),Ae=Q.mul(J,j);Ae=Q.mul(Ae,R);let ie=Q.mul(Ae,C),ae=Q.mul(_,M);k=Q.sqr(Ae),k=Q.mul(k,U);let le=Q.eql(k,ae),ge=Q.cmov(ie,Ae,le);k=Q.sqr(fe),k=Q.mul(k,U);let me=Q.eql(k,_),ve=Q.cmov(ue,b,me),Ue=Q.cmov(ge,fe,me),ut=Q.isOdd(Ue);return Ue=Q.cmov(Ue,Q.neg(Ue),me!==ut),{xMn:ve,xMd:E,yMn:Ue,yMd:l}}const F=(0,i.FpSqrtEven)(Q,Q.neg(BigInt(486664)));function H(j){const{xMn:M,xMd:E,yMn:b,yMd:k}=w(j);let U=Q.mul(M,k);U=Q.mul(U,F);let _=Q.mul(E,b),L=Q.sub(M,E),J=Q.add(M,E),te=Q.mul(_,J),oe=Q.eql(te,Q.ZERO);U=Q.cmov(U,Q.ZERO,oe),_=Q.cmov(_,Q.ONE,oe),L=Q.cmov(L,Q.ONE,oe),J=Q.cmov(J,Q.ONE,oe);const fe=Q.invertBatch([_,J]);return{x:Q.mul(U,fe[0]),y:Q.mul(L,fe[1])}}const K=(()=>(0,a.createHasher)(t.ed25519.ExtendedPoint,j=>H(j[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:Q.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();t.hashToCurve=(()=>K.hashToCurve)(),t.encodeToCurve=(()=>K.encodeToCurve)();function D(j){if(!(j instanceof re))throw new Error("RistrettoPoint expected")}const I=d,P=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),T=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),V=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ee=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),se=j=>x(l,j),Z=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ne=j=>t.ed25519.CURVE.Fp.create((0,s.bytesToNumberLE)(j)&Z);function X(j){const{d:M}=t.ed25519.CURVE,E=t.ed25519.CURVE.Fp.ORDER,b=t.ed25519.CURVE.Fp.create,k=b(I*j*j),U=b((k+l)*V);let _=BigInt(-1);const L=b((_-M*k)*b(k+M));let{isValid:J,value:te}=x(U,L),oe=b(te*j);(0,i.isNegativeLE)(oe,E)||(oe=b(-oe)),J||(te=oe),J||(_=k);const fe=b(_*(k-l)*ee-L),ue=te*te,Ae=b((te+te)*L),ie=b(fe*P),ae=b(l-ue),le=b(l+ue);return new t.ed25519.ExtendedPoint(b(Ae*le),b(ae*ie),b(ie*le),b(Ae*ae))}class re{constructor(M){this.ep=M}static fromAffine(M){return new re(t.ed25519.ExtendedPoint.fromAffine(M))}static hashToCurve(M){M=(0,s.ensureBytes)("ristrettoHash",M,64);const E=ne(M.slice(0,32)),b=X(E),k=ne(M.slice(32,64)),U=X(k);return new re(b.add(U))}static fromHex(M){M=(0,s.ensureBytes)("ristrettoHex",M,32);const{a:E,d:b}=t.ed25519.CURVE,k=t.ed25519.CURVE.Fp.ORDER,U=t.ed25519.CURVE.Fp.create,_="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",L=ne(M);if(!(0,s.equalBytes)((0,s.numberToBytesLE)(L,32),M)||(0,i.isNegativeLE)(L,k))throw new Error(_);const J=U(L*L),te=U(l+E*J),oe=U(l-E*J),fe=U(te*te),ue=U(oe*oe),Ae=U(E*b*fe-ue),{isValid:ie,value:ae}=se(U(Ae*ue)),le=U(ae*oe),ge=U(ae*le*Ae);let me=U((L+L)*le);(0,i.isNegativeLE)(me,k)&&(me=U(-me));const ve=U(te*ge),Ue=U(me*ve);if(!ie||(0,i.isNegativeLE)(Ue,k)||ve===f)throw new Error(_);return new re(new t.ed25519.ExtendedPoint(me,ve,l,Ue))}toRawBytes(){let{ex:M,ey:E,ez:b,et:k}=this.ep;const U=t.ed25519.CURVE.Fp.ORDER,_=t.ed25519.CURVE.Fp.create,L=_(_(b+E)*_(b-E)),J=_(M*E),te=_(J*J),{value:oe}=se(_(L*te)),fe=_(oe*L),ue=_(oe*J),Ae=_(fe*ue*k);let ie;if((0,i.isNegativeLE)(k*Ae,U)){let le=_(E*I),ge=_(M*I);M=le,E=ge,ie=_(fe*T)}else ie=ue;(0,i.isNegativeLE)(M*Ae,U)&&(E=_(-E));let ae=_((b-E)*ie);return(0,i.isNegativeLE)(ae,U)&&(ae=_(-ae)),(0,s.numberToBytesLE)(ae,32)}toHex(){return(0,s.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(M){D(M);const{ex:E,ey:b}=this.ep,{ex:k,ey:U}=M.ep,_=t.ed25519.CURVE.Fp.create,L=_(E*U)===_(b*k),J=_(b*U)===_(E*k);return L||J}add(M){return D(M),new re(this.ep.add(M.ep))}subtract(M){return D(M),new re(this.ep.subtract(M.ep))}multiply(M){return new re(this.ep.multiply(M))}multiplyUnsafe(M){return new re(this.ep.multiplyUnsafe(M))}double(){return new re(this.ep.double())}negate(){return new re(this.ep.negate())}}t.RistrettoPoint=(()=>(re.BASE||(re.BASE=new re(t.ed25519.ExtendedPoint.BASE)),re.ZERO||(re.ZERO=new re(t.ed25519.ExtendedPoint.ZERO)),re))();const W=(j,M)=>{const E=M.DST,b=typeof E=="string"?(0,r.utf8ToBytes)(E):E,k=(0,a.expand_message_xmd)(j,b,64,e.sha512);return re.hashToCurve(k)};t.hashToRistretto255=W,t.hash_to_ristretto255=t.hashToRistretto255})(hj);var Zj={},rA={};Object.defineProperty(rA,"__esModule",{value:!0});rA.sha224=rA.sha256=void 0;const sxe=Gm,Gs=Pd,axe=(t,e,r)=>t&e^~t&r,cxe=(t,e,r)=>t&e^t&r^e&r,fxe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fl=new Uint32Array(64);class Xj extends sxe.SHA2{constructor(){super(64,32,8,!1),this.A=cl[0]|0,this.B=cl[1]|0,this.C=cl[2]|0,this.D=cl[3]|0,this.E=cl[4]|0,this.F=cl[5]|0,this.G=cl[6]|0,this.H=cl[7]|0}get(){const{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let l=0;l<16;l++,r+=4)fl[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){const u=fl[l-15],p=fl[l-2],A=(0,Gs.rotr)(u,7)^(0,Gs.rotr)(u,18)^u>>>3,h=(0,Gs.rotr)(p,17)^(0,Gs.rotr)(p,19)^p>>>10;fl[l]=h+fl[l-7]+A+fl[l-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:d,H:f}=this;for(let l=0;l<64;l++){const u=(0,Gs.rotr)(a,6)^(0,Gs.rotr)(a,11)^(0,Gs.rotr)(a,25),p=f+u+axe(a,c,d)+fxe[l]+fl[l]|0,h=((0,Gs.rotr)(n,2)^(0,Gs.rotr)(n,13)^(0,Gs.rotr)(n,22))+cxe(n,o,i)|0;f=d,d=c,c=a,a=s+p|0,s=i,i=o,o=n,n=p+h|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,f=f+this.H|0,this.set(n,o,i,s,a,c,d,f)}roundClean(){fl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class dxe extends Xj{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}rA.sha256=(0,Gs.wrapConstructor)(()=>new Xj);rA.sha224=(0,Gs.wrapConstructor)(()=>new dxe);var fD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=dt,r=rt,n=rt,o=tA;function i(B){const S=(0,o.validateBasic)(B);r.validateObject(S,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:x,Fp:Q,a:N}=S;if(x){if(!Q.eql(N,Q.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof x!="object"||typeof x.beta!="bigint"||typeof x.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...S})}const{bytesToNumberBE:s,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(S=""){super(S)}},_parseInt(B){const{Err:S}=t.DER;if(B.length<2||B[0]!==2)throw new S("Invalid signature integer tag");const x=B[1],Q=B.subarray(2,x+2);if(!x||Q.length!==x)throw new S("Invalid signature integer: wrong length");if(Q[0]&128)throw new S("Invalid signature integer: negative");if(Q[0]===0&&!(Q[1]&128))throw new S("Invalid signature integer: unnecessary leading zero");return{d:s(Q),l:B.subarray(x+2)}},toSig(B){const{Err:S}=t.DER,x=typeof B=="string"?a(B):B;if(!r.isBytes(x))throw new Error("ui8a expected");let Q=x.length;if(Q<2||x[0]!=48)throw new S("Invalid signature tag");if(x[1]!==Q-2)throw new S("Invalid signature: incorrect length");const{d:N,l:$}=t.DER._parseInt(x.subarray(2)),{d:G,l:z}=t.DER._parseInt($);if(z.length)throw new S("Invalid signature: left bytes after parsing");return{r:N,s:G}},hexFromSig(B){const S=R=>Number.parseInt(R[0],16)&8?"00"+R:R,x=R=>{const C=R.toString(16);return C.length&1?`0${C}`:C},Q=S(x(B.s)),N=S(x(B.r)),$=Q.length/2,G=N.length/2,z=x($),Y=x(G);return`30${x(G+$+4)}02${Y}${N}02${z}${Q}`}};const c=BigInt(0),d=BigInt(1),f=BigInt(2),l=BigInt(3),u=BigInt(4);function p(B){const S=i(B),{Fp:x}=S,Q=S.toBytes||((F,H,K)=>{const D=H.toAffine();return r.concatBytes(Uint8Array.from([4]),x.toBytes(D.x),x.toBytes(D.y))}),N=S.fromBytes||(F=>{const H=F.subarray(1),K=x.fromBytes(H.subarray(0,x.BYTES)),D=x.fromBytes(H.subarray(x.BYTES,2*x.BYTES));return{x:K,y:D}});function $(F){const{a:H,b:K}=S,D=x.sqr(F),I=x.mul(D,F);return x.add(x.add(I,x.mul(F,H)),K)}if(!x.eql(x.sqr(S.Gy),$(S.Gx)))throw new Error("bad generator point: equation left != right");function G(F){return typeof F=="bigint"&&c<F&&F<S.n}function z(F){if(!G(F))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Y(F){const{allowedPrivateKeyLengths:H,nByteLength:K,wrapPrivateKey:D,n:I}=S;if(H&&typeof F!="bigint"){if(r.isBytes(F)&&(F=r.bytesToHex(F)),typeof F!="string"||!H.includes(F.length))throw new Error("Invalid key");F=F.padStart(K*2,"0")}let P;try{P=typeof F=="bigint"?F:r.bytesToNumberBE((0,n.ensureBytes)("private key",F,K))}catch{throw new Error(`private key must be ${K} bytes, hex or bigint, not ${typeof F}`)}return D&&(P=e.mod(P,I)),z(P),P}const R=new Map;function C(F){if(!(F instanceof m))throw new Error("ProjectivePoint expected")}class m{constructor(H,K,D){if(this.px=H,this.py=K,this.pz=D,H==null||!x.isValid(H))throw new Error("x required");if(K==null||!x.isValid(K))throw new Error("y required");if(D==null||!x.isValid(D))throw new Error("z required")}static fromAffine(H){const{x:K,y:D}=H||{};if(!H||!x.isValid(K)||!x.isValid(D))throw new Error("invalid affine point");if(H instanceof m)throw new Error("projective point not allowed");const I=P=>x.eql(P,x.ZERO);return I(K)&&I(D)?m.ZERO:new m(K,D,x.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(H){const K=x.invertBatch(H.map(D=>D.pz));return H.map((D,I)=>D.toAffine(K[I])).map(m.fromAffine)}static fromHex(H){const K=m.fromAffine(N((0,n.ensureBytes)("pointHex",H)));return K.assertValidity(),K}static fromPrivateKey(H){return m.BASE.multiply(Y(H))}_setWindowSize(H){this._WINDOW_SIZE=H,R.delete(this)}assertValidity(){if(this.is0()){if(S.allowInfinityPoint&&!x.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:H,y:K}=this.toAffine();if(!x.isValid(H)||!x.isValid(K))throw new Error("bad point: x or y not FE");const D=x.sqr(K),I=$(H);if(!x.eql(D,I))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:H}=this.toAffine();if(x.isOdd)return!x.isOdd(H);throw new Error("Field doesn't support isOdd")}equals(H){C(H);const{px:K,py:D,pz:I}=this,{px:P,py:T,pz:V}=H,ee=x.eql(x.mul(K,V),x.mul(P,I)),se=x.eql(x.mul(D,V),x.mul(T,I));return ee&&se}negate(){return new m(this.px,x.neg(this.py),this.pz)}double(){const{a:H,b:K}=S,D=x.mul(K,l),{px:I,py:P,pz:T}=this;let V=x.ZERO,ee=x.ZERO,se=x.ZERO,Z=x.mul(I,I),ne=x.mul(P,P),X=x.mul(T,T),re=x.mul(I,P);return re=x.add(re,re),se=x.mul(I,T),se=x.add(se,se),V=x.mul(H,se),ee=x.mul(D,X),ee=x.add(V,ee),V=x.sub(ne,ee),ee=x.add(ne,ee),ee=x.mul(V,ee),V=x.mul(re,V),se=x.mul(D,se),X=x.mul(H,X),re=x.sub(Z,X),re=x.mul(H,re),re=x.add(re,se),se=x.add(Z,Z),Z=x.add(se,Z),Z=x.add(Z,X),Z=x.mul(Z,re),ee=x.add(ee,Z),X=x.mul(P,T),X=x.add(X,X),Z=x.mul(X,re),V=x.sub(V,Z),se=x.mul(X,ne),se=x.add(se,se),se=x.add(se,se),new m(V,ee,se)}add(H){C(H);const{px:K,py:D,pz:I}=this,{px:P,py:T,pz:V}=H;let ee=x.ZERO,se=x.ZERO,Z=x.ZERO;const ne=S.a,X=x.mul(S.b,l);let re=x.mul(K,P),W=x.mul(D,T),j=x.mul(I,V),M=x.add(K,D),E=x.add(P,T);M=x.mul(M,E),E=x.add(re,W),M=x.sub(M,E),E=x.add(K,I);let b=x.add(P,V);return E=x.mul(E,b),b=x.add(re,j),E=x.sub(E,b),b=x.add(D,I),ee=x.add(T,V),b=x.mul(b,ee),ee=x.add(W,j),b=x.sub(b,ee),Z=x.mul(ne,E),ee=x.mul(X,j),Z=x.add(ee,Z),ee=x.sub(W,Z),Z=x.add(W,Z),se=x.mul(ee,Z),W=x.add(re,re),W=x.add(W,re),j=x.mul(ne,j),E=x.mul(X,E),W=x.add(W,j),j=x.sub(re,j),j=x.mul(ne,j),E=x.add(E,j),re=x.mul(W,E),se=x.add(se,re),re=x.mul(b,E),ee=x.mul(M,ee),ee=x.sub(ee,re),re=x.mul(M,W),Z=x.mul(b,Z),Z=x.add(Z,re),new m(ee,se,Z)}subtract(H){return this.add(H.negate())}is0(){return this.equals(m.ZERO)}wNAF(H){return w.wNAFCached(this,R,H,K=>{const D=x.invertBatch(K.map(I=>I.pz));return K.map((I,P)=>I.toAffine(D[P])).map(m.fromAffine)})}multiplyUnsafe(H){const K=m.ZERO;if(H===c)return K;if(z(H),H===d)return this;const{endo:D}=S;if(!D)return w.unsafeLadder(this,H);let{k1neg:I,k1:P,k2neg:T,k2:V}=D.splitScalar(H),ee=K,se=K,Z=this;for(;P>c||V>c;)P&d&&(ee=ee.add(Z)),V&d&&(se=se.add(Z)),Z=Z.double(),P>>=d,V>>=d;return I&&(ee=ee.negate()),T&&(se=se.negate()),se=new m(x.mul(se.px,D.beta),se.py,se.pz),ee.add(se)}multiply(H){z(H);let K=H,D,I;const{endo:P}=S;if(P){const{k1neg:T,k1:V,k2neg:ee,k2:se}=P.splitScalar(K);let{p:Z,f:ne}=this.wNAF(V),{p:X,f:re}=this.wNAF(se);Z=w.constTimeNegate(T,Z),X=w.constTimeNegate(ee,X),X=new m(x.mul(X.px,P.beta),X.py,X.pz),D=Z.add(X),I=ne.add(re)}else{const{p:T,f:V}=this.wNAF(K);D=T,I=V}return m.normalizeZ([D,I])[0]}multiplyAndAddUnsafe(H,K,D){const I=m.BASE,P=(V,ee)=>ee===c||ee===d||!V.equals(I)?V.multiplyUnsafe(ee):V.multiply(ee),T=P(this,K).add(P(H,D));return T.is0()?void 0:T}toAffine(H){const{px:K,py:D,pz:I}=this,P=this.is0();H==null&&(H=P?x.ONE:x.inv(I));const T=x.mul(K,H),V=x.mul(D,H),ee=x.mul(I,H);if(P)return{x:x.ZERO,y:x.ZERO};if(!x.eql(ee,x.ONE))throw new Error("invZ was invalid");return{x:T,y:V}}isTorsionFree(){const{h:H,isTorsionFree:K}=S;if(H===d)return!0;if(K)return K(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:H,clearCofactor:K}=S;return H===d?this:K?K(m,this):this.multiplyUnsafe(S.h)}toRawBytes(H=!0){return this.assertValidity(),Q(m,this,H)}toHex(H=!0){return r.bytesToHex(this.toRawBytes(H))}}m.BASE=new m(S.Gx,S.Gy,x.ONE),m.ZERO=new m(x.ZERO,x.ONE,x.ZERO);const g=S.nBitLength,w=(0,o.wNAF)(m,S.endo?Math.ceil(g/2):g);return{CURVE:S,ProjectivePoint:m,normPrivateKeyToScalar:Y,weierstrassEquation:$,isWithinCurveOrder:G}}t.weierstrassPoints=p;function A(B){const S=(0,o.validateBasic)(B);return r.validateObject(S,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...S})}function h(B){const S=A(B),{Fp:x,n:Q}=S,N=x.BYTES+1,$=2*x.BYTES+1;function G(E){return c<E&&E<x.ORDER}function z(E){return e.mod(E,Q)}function Y(E){return e.invert(E,Q)}const{ProjectivePoint:R,normPrivateKeyToScalar:C,weierstrassEquation:m,isWithinCurveOrder:g}=p({...S,toBytes(E,b,k){const U=b.toAffine(),_=x.toBytes(U.x),L=r.concatBytes;return k?L(Uint8Array.from([b.hasEvenY()?2:3]),_):L(Uint8Array.from([4]),_,x.toBytes(U.y))},fromBytes(E){const b=E.length,k=E[0],U=E.subarray(1);if(b===N&&(k===2||k===3)){const _=r.bytesToNumberBE(U);if(!G(_))throw new Error("Point is not on curve");const L=m(_);let J=x.sqrt(L);const te=(J&d)===d;return(k&1)===1!==te&&(J=x.neg(J)),{x:_,y:J}}else if(b===$&&k===4){const _=x.fromBytes(U.subarray(0,x.BYTES)),L=x.fromBytes(U.subarray(x.BYTES,2*x.BYTES));return{x:_,y:L}}else throw new Error(`Point of length ${b} was invalid. Expected ${N} compressed bytes or ${$} uncompressed bytes`)}}),w=E=>r.bytesToHex(r.numberToBytesBE(E,S.nByteLength));function F(E){const b=Q>>d;return E>b}function H(E){return F(E)?z(-E):E}const K=(E,b,k)=>r.bytesToNumberBE(E.slice(b,k));class D{constructor(b,k,U){this.r=b,this.s=k,this.recovery=U,this.assertValidity()}static fromCompact(b){const k=S.nByteLength;return b=(0,n.ensureBytes)("compactSignature",b,k*2),new D(K(b,0,k),K(b,k,2*k))}static fromDER(b){const{r:k,s:U}=t.DER.toSig((0,n.ensureBytes)("DER",b));return new D(k,U)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(b){return new D(this.r,this.s,b)}recoverPublicKey(b){const{r:k,s:U,recovery:_}=this,L=se((0,n.ensureBytes)("msgHash",b));if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");const J=_===2||_===3?k+S.n:k;if(J>=x.ORDER)throw new Error("recovery id 2 or 3 invalid");const te=_&1?"03":"02",oe=R.fromHex(te+w(J)),fe=Y(J),ue=z(-L*fe),Ae=z(U*fe),ie=R.BASE.multiplyAndAddUnsafe(oe,ue,Ae);if(!ie)throw new Error("point at infinify");return ie.assertValidity(),ie}hasHighS(){return F(this.s)}normalizeS(){return this.hasHighS()?new D(this.r,z(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const I={isValidPrivateKey(E){try{return C(E),!0}catch{return!1}},normPrivateKeyToScalar:C,randomPrivateKey:()=>{const E=e.getMinHashLength(S.n);return e.mapHashToField(S.randomBytes(E),S.n)},precompute(E=8,b=R.BASE){return b._setWindowSize(E),b.multiply(BigInt(3)),b}};function P(E,b=!0){return R.fromPrivateKey(E).toRawBytes(b)}function T(E){const b=r.isBytes(E),k=typeof E=="string",U=(b||k)&&E.length;return b?U===N||U===$:k?U===2*N||U===2*$:E instanceof R}function V(E,b,k=!0){if(T(E))throw new Error("first arg must be private key");if(!T(b))throw new Error("second arg must be public key");return R.fromHex(b).multiply(C(E)).toRawBytes(k)}const ee=S.bits2int||function(E){const b=r.bytesToNumberBE(E),k=E.length*8-S.nBitLength;return k>0?b>>BigInt(k):b},se=S.bits2int_modN||function(E){return z(ee(E))},Z=r.bitMask(S.nBitLength);function ne(E){if(typeof E!="bigint")throw new Error("bigint expected");if(!(c<=E&&E<Z))throw new Error(`bigint expected < 2^${S.nBitLength}`);return r.numberToBytesBE(E,S.nByteLength)}function X(E,b,k=re){if(["recovered","canonical"].some(le=>le in k))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:_}=S;let{lowS:L,prehash:J,extraEntropy:te}=k;L==null&&(L=!0),E=(0,n.ensureBytes)("msgHash",E),J&&(E=(0,n.ensureBytes)("prehashed msgHash",U(E)));const oe=se(E),fe=C(b),ue=[ne(fe),ne(oe)];if(te!=null){const le=te===!0?_(x.BYTES):te;ue.push((0,n.ensureBytes)("extraEntropy",le))}const Ae=r.concatBytes(...ue),ie=oe;function ae(le){const ge=ee(le);if(!g(ge))return;const me=Y(ge),ve=R.BASE.multiply(ge).toAffine(),Ue=z(ve.x);if(Ue===c)return;const ut=z(me*z(ie+Ue*fe));if(ut===c)return;let _e=(ve.x===Ue?0:2)|Number(ve.y&d),Qt=ut;return L&&F(ut)&&(Qt=H(ut),_e^=1),new D(Ue,Qt,_e)}return{seed:Ae,k2sig:ae}}const re={lowS:S.lowS,prehash:!1},W={lowS:S.lowS,prehash:!1};function j(E,b,k=re){const{seed:U,k2sig:_}=X(E,b,k),L=S;return r.createHmacDrbg(L.hash.outputLen,L.nByteLength,L.hmac)(U,_)}R.BASE._setWindowSize(8);function M(E,b,k,U=W){const _=E;if(b=(0,n.ensureBytes)("msgHash",b),k=(0,n.ensureBytes)("publicKey",k),"strict"in U)throw new Error("options.strict was renamed to lowS");const{lowS:L,prehash:J}=U;let te,oe;try{if(typeof _=="string"||r.isBytes(_))try{te=D.fromDER(_)}catch(ve){if(!(ve instanceof t.DER.Err))throw ve;te=D.fromCompact(_)}else if(typeof _=="object"&&typeof _.r=="bigint"&&typeof _.s=="bigint"){const{r:ve,s:Ue}=_;te=new D(ve,Ue)}else throw new Error("PARSE");oe=R.fromHex(k)}catch(ve){if(ve.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(L&&te.hasHighS())return!1;J&&(b=S.hash(b));const{r:fe,s:ue}=te,Ae=se(b),ie=Y(ue),ae=z(Ae*ie),le=z(fe*ie),ge=R.BASE.multiplyAndAddUnsafe(oe,ae,le)?.toAffine();return ge?z(ge.x)===fe:!1}return{CURVE:S,getPublicKey:P,getSharedSecret:V,sign:j,verify:M,ProjectivePoint:R,Signature:D,utils:I}}t.weierstrass=h;function y(B,S){const x=B.ORDER;let Q=c;for(let F=x-d;F%f===c;F/=f)Q+=d;const N=Q,$=f<<N-d-d,G=$*f,z=(x-d)/G,Y=(z-d)/f,R=G-d,C=$,m=B.pow(S,z),g=B.pow(S,(z+d)/f);let w=(F,H)=>{let K=m,D=B.pow(H,R),I=B.sqr(D);I=B.mul(I,H);let P=B.mul(F,I);P=B.pow(P,Y),P=B.mul(P,D),D=B.mul(P,H),I=B.mul(P,F);let T=B.mul(I,D);P=B.pow(T,C);let V=B.eql(P,B.ONE);D=B.mul(I,g),P=B.mul(T,K),I=B.cmov(D,I,V),T=B.cmov(P,T,V);for(let ee=N;ee>d;ee--){let se=ee-f;se=f<<se-d;let Z=B.pow(T,se);const ne=B.eql(Z,B.ONE);D=B.mul(I,K),K=B.mul(K,K),Z=B.mul(T,K),I=B.cmov(D,I,ne),T=B.cmov(Z,T,ne)}return{isValid:V,value:I}};if(B.ORDER%u===l){const F=(B.ORDER-l)/u,H=B.sqrt(B.neg(S));w=(K,D)=>{let I=B.sqr(D);const P=B.mul(K,D);I=B.mul(I,P);let T=B.pow(I,F);T=B.mul(T,P);const V=B.mul(T,H),ee=B.mul(B.sqr(T),D),se=B.eql(ee,K);let Z=B.cmov(V,T,se);return{isValid:se,value:Z}}}return w}t.SWUFpSqrtRatio=y;function v(B,S){if(e.validateField(B),!B.isValid(S.A)||!B.isValid(S.B)||!B.isValid(S.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const x=y(B,S.Z);if(!B.isOdd)throw new Error("Fp.isOdd is not implemented!");return Q=>{let N,$,G,z,Y,R,C,m;N=B.sqr(Q),N=B.mul(N,S.Z),$=B.sqr(N),$=B.add($,N),G=B.add($,B.ONE),G=B.mul(G,S.B),z=B.cmov(S.Z,B.neg($),!B.eql($,B.ZERO)),z=B.mul(z,S.A),$=B.sqr(G),R=B.sqr(z),Y=B.mul(R,S.A),$=B.add($,Y),$=B.mul($,G),R=B.mul(R,z),Y=B.mul(R,S.B),$=B.add($,Y),C=B.mul(N,G);const{isValid:g,value:w}=x($,R);m=B.mul(N,Q),m=B.mul(m,w),C=B.cmov(C,G,g),m=B.cmov(m,w,g);const F=B.isOdd(Q)===B.isOdd(m);return m=B.cmov(B.neg(m),m,F),C=B.div(C,z),{x:C,y:m}}}t.mapToCurveSimpleSWU=v})(fD);var D0={},dD={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=Mi,r=Pd;class n extends r.Hash{constructor(s,a){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(s);const c=(0,r.toBytes)(a);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const d=this.blockLen,f=new Uint8Array(d);f.set(c.length>d?s.create().update(c).digest():c);for(let l=0;l<f.length;l++)f[l]^=54;this.iHash.update(f),this.oHash=s.create();for(let l=0;l<f.length;l++)f[l]^=106;this.oHash.update(f),f.fill(0)}update(s){return(0,e.exists)(this),this.iHash.update(s),this}digestInto(s){(0,e.exists)(this),(0,e.bytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:d,destroyed:f,blockLen:l,outputLen:u}=this;return s=s,s.finished=d,s.destroyed=f,s.blockLen=l,s.outputLen=u,s.oHash=a._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=n;const o=(i,s,a)=>new n(i,s).update(a).digest();t.hmac=o,t.hmac.create=(i,s)=>new n(i,s)})(dD);Object.defineProperty(D0,"__esModule",{value:!0});D0.createCurve=D0.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lxe=dD,vU=Pd,uxe=fD;function ez(t){return{hash:t,hmac:(e,...r)=>(0,lxe.hmac)(t,e,(0,vU.concatBytes)(...r)),randomBytes:vU.randomBytes}}D0.getHash=ez;function hxe(t,e){const r=n=>(0,uxe.weierstrass)({...t,...ez(n)});return Object.freeze({...r(e),create:r})}D0.createCurve=hxe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=rA,r=Pd,n=dt,o=fD,i=rt,s=Es,a=D0,c=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),l=BigInt(2),u=(D,I)=>(D+I/l)/I;function p(D){const I=c,P=BigInt(3),T=BigInt(6),V=BigInt(11),ee=BigInt(22),se=BigInt(23),Z=BigInt(44),ne=BigInt(88),X=D*D*D%I,re=X*X*D%I,W=(0,n.pow2)(re,P,I)*re%I,j=(0,n.pow2)(W,P,I)*re%I,M=(0,n.pow2)(j,l,I)*X%I,E=(0,n.pow2)(M,V,I)*M%I,b=(0,n.pow2)(E,ee,I)*E%I,k=(0,n.pow2)(b,Z,I)*b%I,U=(0,n.pow2)(k,ne,I)*k%I,_=(0,n.pow2)(U,Z,I)*b%I,L=(0,n.pow2)(_,P,I)*re%I,J=(0,n.pow2)(L,se,I)*E%I,te=(0,n.pow2)(J,T,I)*X%I,oe=(0,n.pow2)(te,l,I);if(!A.eql(A.sqr(oe),D))throw new Error("Cannot find square root");return oe}const A=(0,n.Field)(c,void 0,void 0,{sqrt:p});t.secp256k1=(0,a.createCurve)({a:BigInt(0),b:BigInt(7),Fp:A,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:D=>{const I=d,P=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),T=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),V=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ee=P,se=BigInt("0x100000000000000000000000000000000"),Z=u(ee*D,I),ne=u(-T*D,I);let X=(0,n.mod)(D-Z*P-ne*V,I),re=(0,n.mod)(-Z*T-ne*ee,I);const W=X>se,j=re>se;if(W&&(X=I-X),j&&(re=I-re),X>se||re>se)throw new Error("splitScalar: Endomorphism failed, k="+D);return{k1neg:W,k1:X,k2neg:j,k2:re}}}},e.sha256);const h=BigInt(0),y=D=>typeof D=="bigint"&&h<D&&D<c,v=D=>typeof D=="bigint"&&h<D&&D<d,B={};function S(D,...I){let P=B[D];if(P===void 0){const T=(0,e.sha256)(Uint8Array.from(D,V=>V.charCodeAt(0)));P=(0,i.concatBytes)(T,T),B[D]=P}return(0,e.sha256)((0,i.concatBytes)(P,...I))}const x=D=>D.toRawBytes(!0).slice(1),Q=D=>(0,i.numberToBytesBE)(D,32),N=D=>(0,n.mod)(D,c),$=D=>(0,n.mod)(D,d),G=t.secp256k1.ProjectivePoint,z=(D,I,P)=>G.BASE.multiplyAndAddUnsafe(D,I,P);function Y(D){let I=t.secp256k1.utils.normPrivateKeyToScalar(D),P=G.fromPrivateKey(I);return{scalar:P.hasEvenY()?I:$(-I),bytes:x(P)}}function R(D){if(!y(D))throw new Error("bad x: need 0 < x < p");const I=N(D*D),P=N(I*D+BigInt(7));let T=p(P);T%l!==h&&(T=N(-T));const V=new G(D,T,f);return V.assertValidity(),V}function C(...D){return $((0,i.bytesToNumberBE)(S("BIP0340/challenge",...D)))}function m(D){return Y(D).bytes}function g(D,I,P=(0,r.randomBytes)(32)){const T=(0,i.ensureBytes)("message",D),{bytes:V,scalar:ee}=Y(I),se=(0,i.ensureBytes)("auxRand",P,32),Z=Q(ee^(0,i.bytesToNumberBE)(S("BIP0340/aux",se))),ne=S("BIP0340/nonce",Z,V,T),X=$((0,i.bytesToNumberBE)(ne));if(X===h)throw new Error("sign failed: k is zero");const{bytes:re,scalar:W}=Y(X),j=C(re,V,T),M=new Uint8Array(64);if(M.set(re,0),M.set(Q($(W+j*ee)),32),!w(M,T,V))throw new Error("sign: Invalid signature produced");return M}function w(D,I,P){const T=(0,i.ensureBytes)("signature",D,64),V=(0,i.ensureBytes)("message",I),ee=(0,i.ensureBytes)("publicKey",P,32);try{const se=R((0,i.bytesToNumberBE)(ee)),Z=(0,i.bytesToNumberBE)(T.subarray(0,32));if(!y(Z))return!1;const ne=(0,i.bytesToNumberBE)(T.subarray(32,64));if(!v(ne))return!1;const X=C(Q(Z),x(se),V),re=z(se,ne,$(-X));return!(!re||!re.hasEvenY()||re.toAffine().x!==Z)}catch{return!1}}t.schnorr=(()=>({getPublicKey:m,sign:g,verify:w,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:R,pointToBytes:x,numberToBytesBE:i.numberToBytesBE,bytesToNumberBE:i.bytesToNumberBE,taggedHash:S,mod:n.mod}}))();const F=(()=>(0,s.isogenyMap)(A,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(D=>D.map(I=>BigInt(I)))))(),H=(()=>(0,o.mapToCurveSimpleSWU)(A,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:A.create(BigInt("-11"))}))(),K=(()=>(0,s.createHasher)(t.secp256k1.ProjectivePoint,D=>{const{x:I,y:P}=H(A.create(D[0]));return F(I,P)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:A.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}))();t.hashToCurve=(()=>K.hashToCurve)(),t.encodeToCurve=(()=>K.encodeToCurve)()})(Zj);var nA={};Object.defineProperty(nA,"__esModule",{value:!0});nA.decodeHex=nA.remove0x=void 0;var Axe=cc;function tz(t){return t.startsWith("0x")||t.startsWith("0X")?t.slice(2):t}nA.remove0x=tz;function gxe(t){return(0,Axe.hexToBytes)(tz(t))}nA.decodeHex=gxe;var yd={},rz={},k0={},to={};Object.defineProperty(to,"__esModule",{value:!0});to.output=to.exists=to.hash=to.bytes=to.bool=to.number=void 0;function VE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}to.number=VE;function nz(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}to.bool=nz;function lD(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}to.bytes=lD;function iz(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");VE(t.outputLen),VE(t.blockLen)}to.hash=iz;function oz(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}to.exists=oz;function sz(t,e){lD(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}to.output=sz;const pxe={number:VE,bool:nz,bytes:lD,hash:iz,exists:oz,output:sz};to.default=pxe;Object.defineProperty(k0,"__esModule",{value:!0});k0.poly1305=k0.wrapConstructorWithKey=void 0;const lb=cc,dQ=to,pi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class yxe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,lb.toBytes)(e),(0,lb.ensureBytes)(e,32);const r=pi(e,0),n=pi(e,2),o=pi(e,4),i=pi(e,6),s=pi(e,8),a=pi(e,10),c=pi(e,12),d=pi(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|o<<6)&7939,this.r[3]=(o>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|d<<8)&8191,this.r[9]=d>>>5&127;for(let f=0;f<8;f++)this.pad[f]=pi(e,16+2*f)}process(e,r,n=!1){const o=n?0:2048,{h:i,r:s}=this,a=s[0],c=s[1],d=s[2],f=s[3],l=s[4],u=s[5],p=s[6],A=s[7],h=s[8],y=s[9],v=pi(e,r+0),B=pi(e,r+2),S=pi(e,r+4),x=pi(e,r+6),Q=pi(e,r+8),N=pi(e,r+10),$=pi(e,r+12),G=pi(e,r+14);let z=i[0]+(v&8191),Y=i[1]+((v>>>13|B<<3)&8191),R=i[2]+((B>>>10|S<<6)&8191),C=i[3]+((S>>>7|x<<9)&8191),m=i[4]+((x>>>4|Q<<12)&8191),g=i[5]+(Q>>>1&8191),w=i[6]+((Q>>>14|N<<2)&8191),F=i[7]+((N>>>11|$<<5)&8191),H=i[8]+(($>>>8|G<<8)&8191),K=i[9]+(G>>>5|o),D=0,I=D+z*a+Y*(5*y)+R*(5*h)+C*(5*A)+m*(5*p);D=I>>>13,I&=8191,I+=g*(5*u)+w*(5*l)+F*(5*f)+H*(5*d)+K*(5*c),D+=I>>>13,I&=8191;let P=D+z*c+Y*a+R*(5*y)+C*(5*h)+m*(5*A);D=P>>>13,P&=8191,P+=g*(5*p)+w*(5*u)+F*(5*l)+H*(5*f)+K*(5*d),D+=P>>>13,P&=8191;let T=D+z*d+Y*c+R*a+C*(5*y)+m*(5*h);D=T>>>13,T&=8191,T+=g*(5*A)+w*(5*p)+F*(5*u)+H*(5*l)+K*(5*f),D+=T>>>13,T&=8191;let V=D+z*f+Y*d+R*c+C*a+m*(5*y);D=V>>>13,V&=8191,V+=g*(5*h)+w*(5*A)+F*(5*p)+H*(5*u)+K*(5*l),D+=V>>>13,V&=8191;let ee=D+z*l+Y*f+R*d+C*c+m*a;D=ee>>>13,ee&=8191,ee+=g*(5*y)+w*(5*h)+F*(5*A)+H*(5*p)+K*(5*u),D+=ee>>>13,ee&=8191;let se=D+z*u+Y*l+R*f+C*d+m*c;D=se>>>13,se&=8191,se+=g*a+w*(5*y)+F*(5*h)+H*(5*A)+K*(5*p),D+=se>>>13,se&=8191;let Z=D+z*p+Y*u+R*l+C*f+m*d;D=Z>>>13,Z&=8191,Z+=g*c+w*a+F*(5*y)+H*(5*h)+K*(5*A),D+=Z>>>13,Z&=8191;let ne=D+z*A+Y*p+R*u+C*l+m*f;D=ne>>>13,ne&=8191,ne+=g*d+w*c+F*a+H*(5*y)+K*(5*h),D+=ne>>>13,ne&=8191;let X=D+z*h+Y*A+R*p+C*u+m*l;D=X>>>13,X&=8191,X+=g*f+w*d+F*c+H*a+K*(5*y),D+=X>>>13,X&=8191;let re=D+z*y+Y*h+R*A+C*p+m*u;D=re>>>13,re&=8191,re+=g*l+w*f+F*d+H*c+K*a,D+=re>>>13,re&=8191,D=(D<<2)+D|0,D=D+I|0,I=D&8191,D=D>>>13,P+=D,i[0]=I,i[1]=P,i[2]=T,i[3]=V,i[4]=ee,i[5]=se,i[6]=Z,i[7]=ne,i[8]=X,i[9]=re}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=o,o=e[a]>>>13,e[a]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,n[0]=e[0]+5,o=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+o,o=n[a]>>>13,n[a]&=8191;n[9]-=8192;let i=(o^1)-1;for(let a=0;a<10;a++)n[a]&=i;i=~i;for(let a=0;a<10;a++)e[a]=e[a]&i|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+r[0];e[0]=s&65535;for(let a=1;a<8;a++)s=(e[a]+r[a]|0)+(s>>>16)|0,e[a]=s&65535}update(e){dQ.default.exists(this);const{buffer:r,blockLen:n}=this;e=(0,lb.toBytes)(e);const o=e.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);if(s===n){for(;n<=o-i;i+=n)this.process(e,i);continue}r.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){dQ.default.exists(this),dQ.default.output(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:o}=this;if(o){for(r[o++]=1;o<16;o++)r[o]=0;this.process(r,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function az(t){const e=(n,o)=>t(o).update((0,lb.toBytes)(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}k0.wrapConstructorWithKey=az;k0.poly1305=az(t=>new yxe(t));var kC={};Object.defineProperty(kC,"__esModule",{value:!0});kC.salsaBasic=void 0;const gc=to,Dc=cc,Ixe=(0,Dc.utf8ToBytes)("expand 16-byte k"),mxe=(0,Dc.utf8ToBytes)("expand 32-byte k"),wxe=(0,Dc.u32)(Ixe),bxe=(0,Dc.u32)(mxe),p1=t=>!(t.byteOffset%4),Exe=t=>{const{core:e,rounds:r,counterRight:n,counterLen:o,allow128bitKeys:i,extendNonceFn:s,blockLen:a}=(0,Dc.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},t);gc.default.number(o),gc.default.number(r),gc.default.number(a),gc.default.bool(n),gc.default.bool(i);const c=a/4;if(a%4!==0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(d,f,l,u,p=0)=>{if(gc.default.bytes(d),gc.default.bytes(f),gc.default.bytes(l),u||(u=new Uint8Array(l.length)),gc.default.bytes(u),gc.default.number(p),p<0||p>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(u.length<l.length)throw new Error(`Salsa/ChaCha: output (${u.length}) is shorter than data (${l.length})`);const A=[];let h,y;if(d.length===32)p1(d)?h=d:(h=d.slice(),A.push(h)),y=bxe;else if(d.length===16&&i)h=new Uint8Array(32),h.set(d),h.set(d,16),y=wxe,A.push(h);else throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${d.length}`);if(p1(f)||(f=f.slice(),A.push(f)),s){if(f.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");h=s(y,h,f.subarray(0,16),new Uint8Array(32)),A.push(h),f=f.subarray(16)}const v=16-o;if(f.length!==v)throw new Error(`Salsa/ChaCha: nonce must be ${v} or 16 bytes`);if(v!==12){const z=new Uint8Array(12);z.set(f,n?0:12-f.length),A.push(f=z)}const B=new Uint8Array(a),S=(0,Dc.u32)(B),x=(0,Dc.u32)(h),Q=(0,Dc.u32)(f),N=p1(l)&&(0,Dc.u32)(l),$=p1(u)&&(0,Dc.u32)(u);A.push(S);const G=l.length;for(let z=0,Y=p;z<G;Y++){if(e(y,x,Q,S,Y,r),Y>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const R=Math.min(a,G-z);if(R===a&&$&&N){const C=z/4;if(z%4!==0)throw new Error("Salsa/ChaCha: invalid block position");for(let m=0;m<c;m++)$[C+m]=N[C+m]^S[m];z+=a;continue}for(let C=0;C<R;C++)u[z+C]=l[z+C]^B[C];z+=R}for(let z=0;z<A.length;z++)A[z].fill(0);return u}};kC.salsaBasic=Exe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=t.hchacha=void 0;const e=cc,r=k0,n=kC,o=(l,u)=>l<<u|l>>>32-u;function i(l,u,p,A,h,y=20){let v=l[0],B=l[1],S=l[2],x=l[3],Q=u[0],N=u[1],$=u[2],G=u[3],z=u[4],Y=u[5],R=u[6],C=u[7],m=h,g=p[0],w=p[1],F=p[2],H=v,K=B,D=S,I=x,P=Q,T=N,V=$,ee=G,se=z,Z=Y,ne=R,X=C,re=m,W=g,j=w,M=F;for(let b=0;b<y;b+=2)H=H+P|0,re=o(re^H,16),se=se+re|0,P=o(P^se,12),H=H+P|0,re=o(re^H,8),se=se+re|0,P=o(P^se,7),K=K+T|0,W=o(W^K,16),Z=Z+W|0,T=o(T^Z,12),K=K+T|0,W=o(W^K,8),Z=Z+W|0,T=o(T^Z,7),D=D+V|0,j=o(j^D,16),ne=ne+j|0,V=o(V^ne,12),D=D+V|0,j=o(j^D,8),ne=ne+j|0,V=o(V^ne,7),I=I+ee|0,M=o(M^I,16),X=X+M|0,ee=o(ee^X,12),I=I+ee|0,M=o(M^I,8),X=X+M|0,ee=o(ee^X,7),H=H+T|0,M=o(M^H,16),ne=ne+M|0,T=o(T^ne,12),H=H+T|0,M=o(M^H,8),ne=ne+M|0,T=o(T^ne,7),K=K+V|0,re=o(re^K,16),X=X+re|0,V=o(V^X,12),K=K+V|0,re=o(re^K,8),X=X+re|0,V=o(V^X,7),D=D+ee|0,W=o(W^D,16),se=se+W|0,ee=o(ee^se,12),D=D+ee|0,W=o(W^D,8),se=se+W|0,ee=o(ee^se,7),I=I+P|0,j=o(j^I,16),Z=Z+j|0,P=o(P^Z,12),I=I+P|0,j=o(j^I,8),Z=Z+j|0,P=o(P^Z,7);let E=0;A[E++]=v+H|0,A[E++]=B+K|0,A[E++]=S+D|0,A[E++]=x+I|0,A[E++]=Q+P|0,A[E++]=N+T|0,A[E++]=$+V|0,A[E++]=G+ee|0,A[E++]=z+se|0,A[E++]=Y+Z|0,A[E++]=R+ne|0,A[E++]=C+X|0,A[E++]=m+re|0,A[E++]=g+W|0,A[E++]=w+j|0,A[E++]=F+M|0}function s(l,u,p,A){const h=(0,e.u32)(u),y=(0,e.u32)(p),v=(0,e.u32)(A);let B=l[0],S=l[1],x=l[2],Q=l[3],N=h[0],$=h[1],G=h[2],z=h[3],Y=h[4],R=h[5],C=h[6],m=h[7],g=y[0],w=y[1],F=y[2],H=y[3];for(let K=0;K<20;K+=2)B=B+N|0,g=o(g^B,16),Y=Y+g|0,N=o(N^Y,12),B=B+N|0,g=o(g^B,8),Y=Y+g|0,N=o(N^Y,7),S=S+$|0,w=o(w^S,16),R=R+w|0,$=o($^R,12),S=S+$|0,w=o(w^S,8),R=R+w|0,$=o($^R,7),x=x+G|0,F=o(F^x,16),C=C+F|0,G=o(G^C,12),x=x+G|0,F=o(F^x,8),C=C+F|0,G=o(G^C,7),Q=Q+z|0,H=o(H^Q,16),m=m+H|0,z=o(z^m,12),Q=Q+z|0,H=o(H^Q,8),m=m+H|0,z=o(z^m,7),B=B+$|0,H=o(H^B,16),C=C+H|0,$=o($^C,12),B=B+$|0,H=o(H^B,8),C=C+H|0,$=o($^C,7),S=S+G|0,g=o(g^S,16),m=m+g|0,G=o(G^m,12),S=S+G|0,g=o(g^S,8),m=m+g|0,G=o(G^m,7),x=x+z|0,w=o(w^x,16),Y=Y+w|0,z=o(z^Y,12),x=x+z|0,w=o(w^x,8),Y=Y+w|0,z=o(z^Y,7),Q=Q+N|0,F=o(F^Q,16),R=R+F|0,N=o(N^R,12),Q=Q+N|0,F=o(F^Q,8),R=R+F|0,N=o(N^R,7);return v[0]=B,v[1]=S,v[2]=x,v[3]=Q,v[4]=g,v[5]=w,v[6]=F,v[7]=H,A}t.hchacha=s,t.chacha20orig=(0,n.salsaBasic)({core:i,counterRight:!1,counterLen:8}),t.chacha20=(0,n.salsaBasic)({core:i,counterRight:!1,counterLen:4,allow128bitKeys:!1}),t.xchacha20=(0,n.salsaBasic)({core:i,counterRight:!1,counterLen:8,extendNonceFn:s,allow128bitKeys:!1}),t.chacha8=(0,n.salsaBasic)({core:i,counterRight:!1,counterLen:4,rounds:8}),t.chacha12=(0,n.salsaBasic)({core:i,counterRight:!1,counterLen:4,rounds:12});const a=new Uint8Array(16),c=(l,u)=>{l.update(u);const p=u.length%16;p&&l.update(a.subarray(p))},d=(l,u,p,A,h)=>{const y=l(u,p,new Uint8Array(32)),v=r.poly1305.create(y);h&&c(v,h),c(v,A);const B=new Uint8Array(16),S=(0,e.createView)(B);(0,e.setBigUint64)(S,0,BigInt(h?h.length:0),!0),(0,e.setBigUint64)(S,8,BigInt(A.length),!0),v.update(B);const x=v.digest();return y.fill(0),x},f=l=>(u,p,A)=>((0,e.ensureBytes)(u,32),(0,e.ensureBytes)(p),{tagLength:16,encrypt:(y,v)=>{const B=y.length,S=B+16;v?(0,e.ensureBytes)(v,S):v=new Uint8Array(S),l(u,p,y,v,1);const x=d(l,u,p,v.subarray(0,-16),A);return v.set(x,B),v},decrypt:(y,v)=>{const B=y.length,S=B-16;if(B<16)throw new Error("encrypted data must be at least 16 bytes");v?(0,e.ensureBytes)(v,S):v=new Uint8Array(S);const x=y.subarray(0,-16),Q=y.subarray(-16),N=d(l,u,p,x,A);if(!(0,e.equalBytes)(Q,N))throw new Error("invalid tag");return l(u,p,x,v,1),v}});t._poly1305_aead=f,t.chacha20poly1305=(0,t._poly1305_aead)(t.chacha20),t.xchacha20poly1305=(0,t._poly1305_aead)(t.xchacha20)})(rz);var ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.hkdf=ql.expand=ql.extract=void 0;const Xx=Mi,BU=Pd,cz=dD;function fz(t,e,r){return(0,Xx.hash)(t),r===void 0&&(r=new Uint8Array(t.outputLen)),(0,cz.hmac)(t,(0,BU.toBytes)(r),(0,BU.toBytes)(e))}ql.extract=fz;const lQ=new Uint8Array([0]),CU=new Uint8Array;function dz(t,e,r,n=32){if((0,Xx.hash)(t),(0,Xx.number)(n),n>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(n/t.outputLen);r===void 0&&(r=CU);const i=new Uint8Array(o*t.outputLen),s=cz.hmac.create(t,e),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let d=0;d<o;d++)lQ[0]=d+1,a.update(d===0?CU:c).update(r).update(lQ).digestInto(c),i.set(c,t.outputLen*d),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),lQ.fill(0),i.slice(0,n)}ql.expand=dz;const vxe=(t,e,r,n,o)=>dz(t,fz(t,e,r),n,o);ql.hkdf=vxe;var TC={};Object.defineProperty(TC,"__esModule",{value:!0});TC.aes256gcm=void 0;var QU=cc,xU=tD(),uQ=Tn;function Bxe(t,e,r){var n=function(i){var s=(0,xU.createCipheriv)("aes-256-gcm",t,e);r&&s.setAAD(r);var a=s.update(i),c=s.final();return(0,QU.concatBytes)(a,c,s.getAuthTag())},o=function(i){var s=i.subarray(0,i.length-uQ.AEAD_TAG_LENGTH),a=i.subarray(-uQ.AEAD_TAG_LENGTH),c=(0,xU.createDecipheriv)("aes-256-gcm",t,e);r&&c.setAAD(r),c.setAuthTag(a);var d=c.update(s),f=c.final();return(0,QU.concatBytes)(d,f)};return{tagLength:uQ.AEAD_TAG_LENGTH,encrypt:n,decrypt:o}}TC.aes256gcm=Bxe;Object.defineProperty(yd,"__esModule",{value:!0});yd.deriveKey=yd.aesDecrypt=yd.aesEncrypt=void 0;var Cxe=rz,lz=cc,Qxe=eA,xxe=ql,Sxe=rA,SU=Xh,WE=Tn,_xe=TC;function Dxe(t,e){return uz(!0,t,e)}yd.aesEncrypt=Dxe;function kxe(t,e){return uz(!1,t,e)}yd.aesDecrypt=kxe;function Txe(t){return(0,xxe.hkdf)(Sxe.sha256,t,void 0,void 0,32)}yd.deriveKey=Txe;function uz(t,e,r){var n=(0,SU.symmetricAlgorithm)(),o=t?Fxe:Mxe;if(n==="aes-256-gcm")return o(_xe.aes256gcm,e,r,(0,SU.symmetricNonceLength)());if(n==="xchacha20")return o(Cxe.xchacha20poly1305,e,r,WE.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function Fxe(t,e,r,n){var o=(0,Qxe.randomBytes)(n),i=t(e,o),s=i.encrypt(r),a=s.subarray(0,s.length-WE.AEAD_TAG_LENGTH),c=s.subarray(-WE.AEAD_TAG_LENGTH);return(0,lz.concatBytes)(o,c,a)}function Mxe(t,e,r,n){var o=n+WE.AEAD_TAG_LENGTH,i=r.subarray(0,n),s=r.subarray(n,o),a=r.subarray(o),c=t(e,Uint8Array.from(i)),d=(0,lz.concatBytes)(a,s);return c.decrypt(d)}Object.defineProperty(eo,"__esModule",{value:!0});eo.hexToPublicKey=eo.convertPublicKeyFormat=eo.getSharedPoint=eo.getSharedKey=eo.getPublicKey=eo.isValidPrivateKey=eo.getValidSecret=void 0;var Uxe=cc,Rxe=eA,_U=hj,Nxe=Zj,hQ=Xh,hz=Tn,Pxe=nA,Oxe=yd;function Kxe(){var t;do t=(0,Rxe.randomBytes)(hz.SECRET_KEY_LENGTH);while(!Az(t));return t}eo.getValidSecret=Kxe;function Az(t){return $m(function(e){return e.utils.isValidPrivateKey(t)},function(){return!0},function(){return!0})}eo.isValidPrivateKey=Az;function Hxe(t){return $m(function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)},function(e){return e.getPublicKey(t)})}eo.getPublicKey=Hxe;function Lxe(t,e){return(0,Oxe.deriveKey)((0,Uxe.concatBytes)(t,e))}eo.getSharedKey=Lxe;function Gxe(t,e,r){return $m(function(n){return n.getSharedSecret(t,e,r)},function(n){return n.getSharedSecret(t,e)},function(n){var o=n.utils.getExtendedPublicKey(t).scalar,i=n.ExtendedPoint.fromHex(e).multiply(o);return i.toRawBytes()})}eo.getSharedPoint=Gxe;function qxe(t,e){return $m(function(r){return r.getSharedSecret(BigInt(1),t,e)},function(){return t},function(){return t})}eo.convertPublicKeyFormat=qxe;function $xe(t){var e=(0,Pxe.decodeHex)(t);return $m(function(){if(e.length===hz.ETH_PUBLIC_KEY_SIZE){var r=new Uint8Array(1+e.length);return r.set([4]),r.set(e,1),r}return e},function(){return e},function(){return e})}eo.hexToPublicKey=$xe;function $m(t,e,r){if((0,hQ.ellipticCurve)()==="secp256k1")return t(Nxe.secp256k1);if((0,hQ.ellipticCurve)()==="x25519")return e(_U.x25519);if((0,hQ.ellipticCurve)()==="ed25519")return r(_U.ed25519);throw new Error("Not implemented")}(function(t){var e=ea&&ea.__createBinding||(Object.create?function(n,o,i,s){s===void 0&&(s=i);var a=Object.getOwnPropertyDescriptor(o,i);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,a)}:function(n,o,i,s){s===void 0&&(s=i),n[s]=o[i]}),r=ea&&ea.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&e(o,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(eo,t),r(nA,t),r(yd,t)})(vC);var jm={};Object.defineProperty(jm,"__esModule",{value:!0});jm.PublicKey=void 0;var AQ=cc,jxe=Xh,y1=vC,zxe=function(){function t(e){this.data=(0,y1.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,y1.hexToPublicKey)(e))},Object.defineProperty(t.prototype,"uncompressed",{get:function(){return qe.Buffer.from((0,y1.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"compressed",{get:function(){return qe.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),e?(0,AQ.bytesToHex)(this.data):(0,AQ.bytesToHex)(this.uncompressed)},t.prototype.decapsulate=function(e){var r,n;return(0,jxe.isHkdfKeyCompressed)()?(r=this.data,n=e.multiply(this,!0)):(r=this.uncompressed,n=e.multiply(this,!1)),(0,y1.getSharedKey)(r,n)},t.prototype.equals=function(e){return(0,AQ.equalBytes)(this.data,e.data)},t}();jm.PublicKey=zxe;Object.defineProperty(EC,"__esModule",{value:!0});EC.PrivateKey=void 0;var DU=cc,Yxe=Xh,$A=vC,Jxe=jm,Vxe=function(){function t(e){var r=e===void 0?(0,$A.getValidSecret)():e;if(!(0,$A.isValidPrivateKey)(r))throw new Error("Invalid private key");this.data=r,this.publicKey=new Jxe.PublicKey((0,$A.getPublicKey)(r))}return t.fromHex=function(e){return new t((0,$A.decodeHex)(e))},Object.defineProperty(t.prototype,"secret",{get:function(){return qe.Buffer.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,DU.bytesToHex)(this.data)},t.prototype.encapsulate=function(e){var r,n;return(0,Yxe.isHkdfKeyCompressed)()?(r=this.publicKey.compressed,n=this.multiply(e,!0)):(r=this.publicKey.uncompressed,n=this.multiply(e,!1)),(0,$A.getSharedKey)(r,n)},t.prototype.multiply=function(e,r){return r===void 0&&(r=!1),(0,$A.getSharedPoint)(this.data,e.compressed,r)},t.prototype.equals=function(e){return(0,DU.equalBytes)(this.data,e.data)},t}();EC.PrivateKey=Vxe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=EC;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return e.PrivateKey}});var r=jm;Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return r.PublicKey}})})(Jx);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=t.decrypt=t.encrypt=void 0;var e=cc,r=Xh,n=Jx,o=vC;function i(d,f){var l=new n.PrivateKey,u=d instanceof Uint8Array?new n.PublicKey(d):n.PublicKey.fromHex(d),p=l.encapsulate(u),A=(0,o.aesEncrypt)(p,f),h;return(0,r.isEphemeralKeyCompressed)()?h=l.publicKey.compressed:h=l.publicKey.uncompressed,qe.Buffer.from((0,e.concatBytes)(h,A))}t.encrypt=i;function s(d,f){var l=d instanceof Uint8Array?new n.PrivateKey(d):n.PrivateKey.fromHex(d),u=(0,r.ephemeralKeySize)(),p=new n.PublicKey(f.subarray(0,u)),A=f.subarray(u),h=p.decapsulate(l);return qe.Buffer.from((0,o.aesDecrypt)(h,A))}t.decrypt=s;var a=Xh;Object.defineProperty(t,"ECIES_CONFIG",{enumerable:!0,get:function(){return a.ECIES_CONFIG}});var c=Jx;Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return c.PrivateKey}}),Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return c.PublicKey}}),t.utils={aesDecrypt:o.aesDecrypt,aesEncrypt:o.aesEncrypt,decodeHex:o.decodeHex,getValidSecret:o.getValidSecret,remove0x:o.remove0x}})(ug);var I1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};ug.ECIES_CONFIG.isEphemeralKeyCompressed=!0;class NI{static aes256CtrEncrypt(e,r,n){return I1(this,void 0,void 0,function*(){const o=zE.createCipheriv("aes-256-ctr",e,r),i=new lI.Readable({read(){}});return n.on("data",s=>{const a=o.update(s);i.push(a)}),n.on("end",()=>{const s=o.final();i.push(s),i.push(null)}),n.on("error",s=>{i.emit("error",s)}),i})}static aes256CtrDecrypt(e,r,n){return I1(this,void 0,void 0,function*(){const o=zE.createDecipheriv("aes-256-ctr",e,r),i=new lI.Readable({read(){}});return n.on("data",s=>{const a=o.update(s);i.push(a)}),n.on("end",()=>{const s=o.final();i.push(s),i.push(null)}),n.on("error",s=>{i.emit("error",s)}),i})}static eciesSecp256k1Encrypt(e,r){return I1(this,void 0,void 0,function*(){const n=qe.Buffer.from(e),o=qe.Buffer.from(r),i=ug.encrypt(n,o);let s=0,a=NI.isEphemeralKeyCompressed?33:65;const c=i.subarray(s,a);s=a,a+=ug.ECIES_CONFIG.symmetricNonceLength;const d=i.subarray(s,a);s=a,a+=16;const f=i.subarray(s,a);return{ciphertext:i.subarray(a),ephemeralPublicKey:c,initializationVector:d,messageAuthenticationCode:f}})}static eciesSecp256k1Decrypt(e){return I1(this,void 0,void 0,function*(){const r=qe.Buffer.from(e.privateKey),n=qe.Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return ug.decrypt(r,n)})}static get isEphemeralKeyCompressed(){return ug.ECIES_CONFIG.isEphemeralKeyCompressed}}var ZE;(function(t){t.Aes256Ctr="A256CTR",t.EciesSecp256k1="ECIES-ES256K"})(ZE||(ZE={}));globalThis&&globalThis.__awaiter;var hs;(function(t){t.DataFormats="dataFormats",t.ProtocolContext="protocolContext",t.ProtocolPath="protocolPath",t.Schemas="schemas"})(hs||(hs={}));var kU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Dn{static decrypt(e,r,n){return kU(this,void 0,void 0,function*(){const{encryption:o}=e,i=o.keyEncryption.find(h=>h.rootKeyId===r.rootKeyId&&h.derivationScheme===r.derivationScheme);if(i===void 0)throw new be(we.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${r.rootKeyId}' and '${r.derivationScheme}' derivation scheme.`);const s=Dn.constructKeyDerivationPath(i.derivationScheme,e),a=yield Dn.derivePrivateKey(r,s),c=Kt.base64UrlToBytes(i.encryptedKey),d=Xr.publicJwkToBytes(i.ephemeralPublicKey),f=Kt.base64UrlToBytes(i.initializationVector),l=Kt.base64UrlToBytes(i.messageAuthenticationCode),u=yield NI.eciesSecp256k1Decrypt({ciphertext:c,ephemeralPublicKey:d,initializationVector:f,messageAuthenticationCode:l,privateKey:a}),p=Kt.base64UrlToBytes(o.initializationVector);return yield NI.aes256CtrDecrypt(u,p,n)})}static constructKeyDerivationPath(e,r){const n=r.descriptor,o=r.contextId;let i;return e===hs.DataFormats?i=Dn.constructKeyDerivationPathUsingDataFormatsScheme(n.schema,n.dataFormat):e===hs.ProtocolPath?i=Dn.constructKeyDerivationPathUsingProtocolPathScheme(n):e===hs.ProtocolContext?i=Dn.constructKeyDerivationPathUsingProtocolContextScheme(o):i=Dn.constructKeyDerivationPathUsingSchemasScheme(n.schema),i}static constructKeyDerivationPathUsingDataFormatsScheme(e,r){return e!==void 0?[hs.DataFormats,e,r]:[hs.DataFormats,r]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(e.protocol===void 0)throw new be(we.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const r=e.protocolPath.split("/");return[hs.ProtocolPath,e.protocol,...r]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(e===void 0)throw new be(we.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return[hs.ProtocolContext,e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(e===void 0)throw new be(we.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[hs.Schemas,e]}static derivePrivateKey(e,r){var n;return kU(this,void 0,void 0,function*(){if(e.derivedPrivateKey.crv!=="secp256k1")throw new be(we.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${e.derivedPrivateKey.crv} is not supported.`);const o=(n=e.derivationPath)!==null&&n!==void 0?n:[];Dn.validateAncestorKeyAndDescentKeyDerivationPathsMatch(o,r);const i=r.slice(o.length),s=Xr.privateJwkToBytes(e.derivedPrivateKey);return yield Xr.derivePrivateKey(s,i)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,r){for(let n=0;n<e.length;n++){const o=e[n],i=r[n];if(o!==i)throw new be(we.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${o}' mismatches against the descendant key derivation segment '${i}'.`)}}static normalizeFilter(e){let r;e.protocol===void 0?r=void 0:r=ap(e.protocol);let n;return e.schema===void 0?n=void 0:n=_m(e.schema),Object.assign(Object.assign({},e),{protocol:r,schema:n})}static convertFilter(e){const r=Object.assign({},e),{dateCreated:n,datePublished:o,dateUpdated:i}=e,s=n?this.convertRangeCriterion(n):void 0;s&&(r.dateCreated=s);const a=o?this.convertRangeCriterion(o):void 0;a&&(r.published=!0,r.datePublished=a);const c=i?this.convertRangeCriterion(i):void 0;return c&&(r.messageTimestamp=c,delete r.dateUpdated),r}static convertRangeCriterion(e){let r;return e.to!==void 0&&e.from!==void 0?r={gte:e.from,lt:e.to}:e.to!==void 0?r={lt:e.to}:e.from!==void 0&&(r={gte:e.from}),r}static validateDelegatedGrantReferentialIntegrity(e,r){var n;const o=r?.delegatedGrantId!==void 0,i=((n=e.authorization)===null||n===void 0?void 0:n.authorDelegatedGrant)!==void 0;if(o!==i)throw new be(we.RecordsValidateIntegrityDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId and authorDelegatedGrant must both exist or be undefined.            delegatedGrantId defined: ${o}, authorDelegatedGrant defined: ${i}`);if(i){const s=e.authorization.authorDelegatedGrant.descriptor.grantedTo,a=Qe.getSigner(e);if(s!==a)throw new be(we.RecordsValidateIntegrityGrantedToAndSignerMismatch,`grantedTo ${s} must be the same as the signer ${a} of the message`)}}}var TU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class PI extends gf{static parse(e){return TU(this,void 0,void 0,function*(){let r;if(e.authorization!==void 0&&(r=yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),Dn.validateDelegatedGrantReferentialIntegrity(e,r),r?.protocolRole!==void 0&&e.descriptor.filter.protocolPath===void 0)throw new be(we.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return e.descriptor.filter.protocol!==void 0&&qB(e.descriptor.filter.protocol),e.descriptor.filter.schema!==void 0&&c_(e.descriptor.filter.schema),Kr.validateTimestamp(e.descriptor.messageTimestamp),new PI(e)})}static create(e){var r;return TU(this,void 0,void 0,function*(){const n={interface:He.Records,method:Re.Query,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),filter:Dn.normalizeFilter(e.filter),dateSort:e.dateSort,pagination:e.pagination};tf(n);const o=e.signer;let i;o&&(i=yield Qe.createAuthorization({descriptor:n,signer:o,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}));const s={descriptor:n,authorization:i};return Qe.validateJsonSchema(s),new PI(s)})}}var FU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Id{static toBytes(e){return FU(this,void 0,void 0,function*(){return new Promise((r,n)=>{const o=[];e.on("data",i=>{o.push(i)}),e.on("end",()=>{const i=Id.concatenateArrayOfBytes(o);r(i)}),e.on("error",n)})})}static toObject(e){return FU(this,void 0,void 0,function*(){const r=yield Id.toBytes(e);return Kt.bytesToObject(r)})}static concatenateArrayOfBytes(e){const r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);let o=0;for(const i of e)n.set(i,o),o+=i.length;return n}static fromBytes(e){let n=0;return new lI.Readable({read(i){n+1e5>e.length?(this.push(e.subarray(n)),this.push(null)):(this.push(e.subarray(n,n+1e5)),n=n+1e5)}})}static fromObject(e){const r=Kt.objectToBytes(e);return Id.fromBytes(r)}}var hg;(function(t){t.CreatedAscending="createdAscending",t.CreatedDescending="createdDescending",t.PublishedAscending="publishedAscending",t.PublishedDescending="publishedDescending"})(hg||(hg={}));var Wxe=e6,MU=128,Zxe=127,Xxe=~Zxe,e6e=Math.pow(2,31);function e6(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e6.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=e6e;)e[r++]=t&255|MU,t/=128;for(;t&Xxe;)e[r++]=t&255|MU,t>>>=7;return e[r]=t|0,e6.bytes=r-n+1,e}var t6e=t6,r6e=128,UU=127;function t6(t,n){var r=0,n=n||0,o=0,i=n,s,a=t.length;do{if(i>=a||o>49)throw t6.bytes=0,new RangeError("Could not decode varint");s=t[i++],r+=o<28?(s&UU)<<o:(s&UU)*Math.pow(2,o),o+=7}while(s>=r6e);return t6.bytes=i-n,r}var n6e=Math.pow(2,7),i6e=Math.pow(2,14),o6e=Math.pow(2,21),s6e=Math.pow(2,28),a6e=Math.pow(2,35),c6e=Math.pow(2,42),f6e=Math.pow(2,49),d6e=Math.pow(2,56),l6e=Math.pow(2,63),u6e=function(t){return t<n6e?1:t<i6e?2:t<o6e?3:t<s6e?4:t<a6e?5:t<c6e?6:t<f6e?7:t<d6e?8:t<l6e?9:10},h6e={encode:Wxe,decode:t6e,encodingLength:u6e};const RU=Qo(h6e);class gz{static getMethodSpecificId(e){const r=e.indexOf(":",4);return e.substring(r+1)}static validate(e){if(typeof e!="string")throw new be(we.DidNotString,`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new be(we.DidNotValid,`DID is not a valid DID: ${e}`)}static getMethodName(e){const r=e.indexOf(":",4);return e.substring(4,r)}}var NU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class XE{method(){return"key"}static getMulticodecSize(e){let r=0;for(;;){const n=e[r];if(r++,(n&128)!==128)break}return r}resolve(e){return NU(this,void 0,void 0,function*(){const[r,n,o]=e.split(":",3);try{const i=ei.decode(o),s=RU.decode(i),a=XE.getMulticodecSize(i),c=i.slice(a),d=[];let f;if(s===237)d.push("https://w3id.org/security/suites/ed25519-2020/v1"),f=yield V8.publicKeyToJwk(c);else if(s===231)f=yield Xr.publicKeyToJwk(c);else throw Error(`key type of multicodec ${s} is not supported`);const l=`${e}#${o}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...d],id:e,verificationMethod:[{id:l,type:"JsonWebKey2020",controller:e,publicKeyJwk:f}],authentication:[l],assertionMethod:[l],capabilityDelegation:[l],capabilityInvocation:[l]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch{return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}})}static generate(){return NU(this,void 0,void 0,function*(){const{publicJwk:e,privateJwk:r}=yield V8.generateKeyPair(),n=RU.encode(237),o=Kt.base64UrlToBytes(e.x),i=new Uint8Array(n.length+o.byteLength);i.set(n,0),i.set(o,n.length);const a=`did:key:${ei.encode(i)}`,c=XE.getKeyId(a);return{did:a,keyId:c,keyPair:{publicJwk:e,privateJwk:r}}})}static getKeyId(e){const r=gz.getMethodSpecificId(e);return`${e}#${r}`}}var r6={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(s){var a={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function c(g){return g&&DataView.prototype.isPrototypeOf(g)}if(a.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(g){return g&&d.indexOf(Object.prototype.toString.call(g))>-1};function l(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function u(g){return typeof g!="string"&&(g=String(g)),g}function p(g){var w={next:function(){var F=g.shift();return{done:F===void 0,value:F}}};return a.iterable&&(w[Symbol.iterator]=function(){return w}),w}function A(g){this.map={},g instanceof A?g.forEach(function(w,F){this.append(F,w)},this):Array.isArray(g)?g.forEach(function(w){this.append(w[0],w[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(w){this.append(w,g[w])},this)}A.prototype.append=function(g,w){g=l(g),w=u(w);var F=this.map[g];this.map[g]=F?F+", "+w:w},A.prototype.delete=function(g){delete this.map[l(g)]},A.prototype.get=function(g){return g=l(g),this.has(g)?this.map[g]:null},A.prototype.has=function(g){return this.map.hasOwnProperty(l(g))},A.prototype.set=function(g,w){this.map[l(g)]=u(w)},A.prototype.forEach=function(g,w){for(var F in this.map)this.map.hasOwnProperty(F)&&g.call(w,this.map[F],F,this)},A.prototype.keys=function(){var g=[];return this.forEach(function(w,F){g.push(F)}),p(g)},A.prototype.values=function(){var g=[];return this.forEach(function(w){g.push(w)}),p(g)},A.prototype.entries=function(){var g=[];return this.forEach(function(w,F){g.push([F,w])}),p(g)},a.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function h(g){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}function y(g){return new Promise(function(w,F){g.onload=function(){w(g.result)},g.onerror=function(){F(g.error)}})}function v(g){var w=new FileReader,F=y(w);return w.readAsArrayBuffer(g),F}function B(g){var w=new FileReader,F=y(w);return w.readAsText(g),F}function S(g){for(var w=new Uint8Array(g),F=new Array(w.length),H=0;H<w.length;H++)F[H]=String.fromCharCode(w[H]);return F.join("")}function x(g){if(g.slice)return g.slice(0);var w=new Uint8Array(g.byteLength);return w.set(new Uint8Array(g)),w.buffer}function Q(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:a.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:a.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():a.arrayBuffer&&a.blob&&c(g)?(this._bodyArrayBuffer=x(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||f(g))?this._bodyArrayBuffer=x(g):this._bodyText=g=Object.prototype.toString.call(g):this._bodyText="",this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var g=h(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=h(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(v)}),this.text=function(){var g=h(this);if(g)return g;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function $(g){var w=g.toUpperCase();return N.indexOf(w)>-1?w:g}function G(g,w){if(!(this instanceof G))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w=w||{};var F=w.body;if(g instanceof G){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,w.headers||(this.headers=new A(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!F&&g._bodyInit!=null&&(F=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new A(w.headers)),this.method=$(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(F),(this.method==="GET"||this.method==="HEAD")&&(w.cache==="no-store"||w.cache==="no-cache")){var H=/([?&])_=[^&]*/;if(H.test(this.url))this.url=this.url.replace(H,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}G.prototype.clone=function(){return new G(this,{body:this._bodyInit})};function z(g){var w=new FormData;return g.trim().split("&").forEach(function(F){if(F){var H=F.split("="),K=H.shift().replace(/\+/g," "),D=H.join("=").replace(/\+/g," ");w.append(decodeURIComponent(K),decodeURIComponent(D))}}),w}function Y(g){var w=new A,F=g.replace(/\r?\n[\t ]+/g," ");return F.split("\r").map(function(H){return H.indexOf(`
`)===0?H.substr(1,H.length):H}).forEach(function(H){var K=H.split(":"),D=K.shift().trim();if(D){var I=K.join(":").trim();w.append(D,I)}}),w}Q.call(G.prototype);function R(g,w){if(!(this instanceof R))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText=w.statusText===void 0?"":""+w.statusText,this.headers=new A(w.headers),this.url=w.url||"",this._initBody(g)}Q.call(R.prototype),R.prototype.clone=function(){return new R(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},R.error=function(){var g=new R(null,{status:0,statusText:""});return g.type="error",g};var C=[301,302,303,307,308];R.redirect=function(g,w){if(C.indexOf(w)===-1)throw new RangeError("Invalid status code");return new R(null,{status:w,headers:{location:g}})},s.DOMException=i.DOMException;try{new s.DOMException}catch{s.DOMException=function(w,F){this.message=w,this.name=F;var H=Error(w);this.stack=H.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function m(g,w){return new Promise(function(F,H){var K=new G(g,w);if(K.signal&&K.signal.aborted)return H(new s.DOMException("Aborted","AbortError"));var D=new XMLHttpRequest;function I(){D.abort()}D.onload=function(){var T={status:D.status,statusText:D.statusText,headers:Y(D.getAllResponseHeaders()||"")};T.url="responseURL"in D?D.responseURL:T.headers.get("X-Request-URL");var V="response"in D?D.response:D.responseText;setTimeout(function(){F(new R(V,T))},0)},D.onerror=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){H(new TypeError("Network request failed"))},0)},D.onabort=function(){setTimeout(function(){H(new s.DOMException("Aborted","AbortError"))},0)};function P(T){try{return T===""&&i.location.href?i.location.href:T}catch{return T}}D.open(K.method,P(K.url),!0),K.credentials==="include"?D.withCredentials=!0:K.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(a.blob?D.responseType="blob":a.arrayBuffer&&K.headers.get("Content-Type")&&K.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(D.responseType="arraybuffer")),w&&typeof w.headers=="object"&&!(w.headers instanceof A)?Object.getOwnPropertyNames(w.headers).forEach(function(T){D.setRequestHeader(T,u(w.headers[T]))}):K.headers.forEach(function(T,V){D.setRequestHeader(V,T)}),K.signal&&(K.signal.addEventListener("abort",I),D.onreadystatechange=function(){D.readyState===4&&K.signal.removeEventListener("abort",I)}),D.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}return m.polyfill=!0,i.fetch||(i.fetch=m,i.Headers=A,i.Request=G,i.Response=R),s.Headers=A,s.Request=G,s.Response=R,s.fetch=m,s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=r.fetch?r:n;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(r6,r6.exports);var A6e=r6.exports;const g6e=Qo(A6e);var p6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},gQ;const y6e=(gQ=globalThis.fetch)!==null&&gQ!==void 0?gQ:g6e;class I6e{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}resolve(e){return p6e(this,void 0,void 0,function*(){const r=new URL("./"+e,this.resolutionEndpoint).toString(),n=yield y6e(r);if(n.status!==200)throw new be(we.DidResolutionFailed,`unable to resolve ${e}, got http status ${n.status}`);return yield n.json()})}}var m6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class w6e{constructor(e,r){this.cache=r||new RH(600),(e===void 0||e.length===0)&&(e=[new I6e,new XE]),this.didResolvers=new Map;for(const n of e)this.didResolvers.set(n.method(),n)}resolve(e){return m6e(this,void 0,void 0,function*(){gz.validate(e);const n=e.split(":",3)[1],o=this.didResolvers.get(n);if(!o)throw new be(we.DidMethodNotSupported,`${n} DID method not supported`);const i=yield this.cache.get(e),s=i??(yield o.resolve(e));i===void 0&&(yield this.cache.set(e,s));const{didDocument:a,didResolutionMetadata:c}=s;if(!a||c?.error){const{error:d}=c;let f=`Failed to resolve DID ${e}.`;throw f+=d?` Error: ${d}`:"",new be(we.DidResolutionFailed,f)}return s})}}var PU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class OI extends gf{static parse(e){return PU(this,void 0,void 0,function*(){return Qe.validateJsonSchema(e),yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Kr.validateTimestamp(e.descriptor.messageTimestamp),new OI(e)})}static create(e){var r;return PU(this,void 0,void 0,function*(){const n={interface:He.Events,method:Re.Get,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp()};e.watermark&&(n.watermark=e.watermark);const o=yield Qe.createAuthorization({descriptor:n,signer:e.signer}),i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),new OI(i)})}}function sr(t,e){const r=t instanceof Error?t.message:"Error";return{status:{code:e,detail:r}}}var b6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class E6e{constructor(e,r){this.didResolver=e,this.eventLog=r}handle({tenant:e,message:r}){return b6e(this,void 0,void 0,function*(){let n;try{n=yield OI.parse(r)}catch(s){return sr(s,400)}try{yield rc(r.authorization,this.didResolver),yield f_(e,n)}catch(s){return sr(s,401)}let o;r.descriptor.watermark&&(o={gt:r.descriptor.watermark});const i=yield this.eventLog.getEvents(e,o);return{status:{code:200,detail:"OK"},events:i}})}}var OU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Mh extends gf{static parse(e){return OU(this,void 0,void 0,function*(){return Qe.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Kr.validateTimestamp(e.descriptor.messageTimestamp),new Mh(e)})}static create(e){var r;return OU(this,void 0,void 0,function*(){const n={interface:He.Messages,method:Re.Get,messageCids:e.messageCids,messageTimestamp:(r=e?.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp()},o=yield Qe.createAuthorization({descriptor:n,signer:e.signer}),i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),Mh.validateMessageCids(e.messageCids),new Mh(i)})}static validateMessageCids(e){for(const r of e)try{Wi.parseCid(r)}catch{throw new be(we.MessageGetInvalidCid,`${r} is not a valid CID`)}}}var v6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class B6e{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.dataStore=n}handle({tenant:e,message:r}){return v6e(this,void 0,void 0,function*(){let n;try{n=yield Mh.parse(r)}catch(a){return sr(a,400)}try{yield rc(r.authorization,this.didResolver),yield f_(e,n)}catch(a){return sr(a,401)}const o=[],i=new Set(r.descriptor.messageCids);for(const a of i){const c=this.messageStore.get(e,a).then(d=>({messageCid:a,message:d})).catch(d=>({messageCid:a,message:void 0,error:`Failed to get message ${a}`}));o.push(c)}const s=yield Promise.all(o);for(const a of s){const{message:c}=a;if(!c)continue;const{interface:d,method:f}=c.descriptor;if(d!==He.Records||f!==Re.Write)continue;const l=c;l.encodedData!==void 0&&(a.encodedData=l.encodedData,delete l.encodedData)}return{status:{code:200,detail:"OK"},messages:s}})}}var C6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Q6e=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class x6e{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.eventLog=n}handle({tenant:e,message:r}){return C6e(this,void 0,void 0,function*(){let n;try{n=yield jf.parse(r)}catch(d){return sr(d,400)}try{yield rc(r.authorization,this.didResolver),yield n.authorize()}catch(d){return sr(d,401)}const o=r.descriptor,i=Q6e(o,["scope","conditions"]),s=Object.assign({author:n.author},i),a=yield Qe.getCid(r);return(yield this.messageStore.get(e,a))===void 0&&(yield this.messageStore.put(e,r,s),yield this.eventLog.append(e,a)),{status:{code:202,detail:"Accepted"}}})}}var KU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class ev extends gf{static parse(e){return KU(this,void 0,void 0,function*(){return yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Kr.validateTimestamp(e.descriptor.messageTimestamp),new ev(e)})}static create(e){var r;return KU(this,void 0,void 0,function*(){const n={interface:He.Permissions,method:Re.Request,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};tf(n);const o=yield Qe.createAuthorization({descriptor:n,signer:e.signer}),i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),new ev(i)})}}var S6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},_6e=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class D6e{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.eventLog=n}handle({tenant:e,message:r}){return S6e(this,void 0,void 0,function*(){let n;try{n=yield ev.parse(r)}catch(d){return sr(d,400)}try{yield rc(r.authorization,this.didResolver)}catch(d){return sr(d,401)}const o=r.descriptor,i=_6e(o,["scope","conditions"]),s=Object.assign(Object.assign({},i),{author:n.author}),a=yield Qe.getCid(r);return(yield this.messageStore.get(e,a))===void 0&&(yield this.messageStore.put(e,r,s),yield this.eventLog.append(e,a)),{status:{code:202,detail:"Accepted"}}})}}var pQ=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class tv extends gf{static parse(e){return pQ(this,void 0,void 0,function*(){return yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Kr.validateTimestamp(e.descriptor.messageTimestamp),new tv(e)})}static create(e){var r;return pQ(this,void 0,void 0,function*(){const n={interface:He.Permissions,method:Re.Revoke,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),permissionsGrantId:e.permissionsGrantId},o=yield Qe.createAuthorization({descriptor:n,signer:e.signer}),i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),new tv(i)})}authorize(e){return pQ(this,void 0,void 0,function*(){if(this.author!==e.descriptor.grantedFor)throw new be(we.PermissionsRevokeUnauthorizedRevoke,"Only the DWN owner may revoke a grant")})}}var k6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class T6e{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.eventLog=n}handle({tenant:e,message:r}){return k6e(this,void 0,void 0,function*(){let n;try{n=yield tv.parse(r)}catch(A){return sr(A,400)}try{yield rc(r.authorization,this.didResolver)}catch(A){return sr(A,401)}const o=r.descriptor.permissionsGrantId,i=yield this.messageStore.get(e,o);if(i===void 0)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${o}`}};try{yield n.authorize(i)}catch(A){return sr(A,401)}if(r.descriptor.messageTimestamp<i.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};const s={interface:He.Permissions,method:Re.Revoke,permissionsGrantId:o},{messages:a}=yield this.messageStore.query(e,[s]),c=yield Qe.getOldestMessage(a);if(c!==void 0&&!(yield Qe.isOlder(r,c)))return{status:{code:409,detail:"Conflict"}};const d={interface:He.Permissions,method:Re.Revoke,permissionsGrantId:r.descriptor.permissionsGrantId};yield this.messageStore.put(e,r,d),yield this.eventLog.append(e,yield Qe.getCid(r));const f=[];for(const A of a){const h=yield Qe.getCid(A);yield this.messageStore.delete(e,h),f.push(h)}yield this.eventLog.deleteEventsByCid(e,f);const l={permissionsGrantId:o,dateCreated:{gte:r.descriptor.messageTimestamp}},{messages:u}=yield this.messageStore.query(e,[l]),p=[];for(const A of u){const h=yield Qe.getCid(A);yield this.messageStore.delete(e,h)}return this.eventLog.deleteEventsByCid(e,p),{status:{code:202,detail:"Accepted"}}})}}var Uh;(function(t){t.Anyone="anyone",t.Author="author",t.Recipient="recipient"})(Uh||(Uh={}));var Lf;(function(t){t.Delete="delete",t.Query="query",t.Read="read",t.Update="update",t.Write="write"})(Lf||(Lf={}));var HU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Ma extends gf{static parse(e){return HU(this,void 0,void 0,function*(){return Qe.validateJsonSchema(e),Ma.validateProtocolDefinition(e.descriptor.definition),yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor),Kr.validateTimestamp(e.descriptor.messageTimestamp),new Ma(e)})}static create(e){var r;return HU(this,void 0,void 0,function*(){const n={interface:He.Protocols,method:Re.Configure,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),definition:Ma.normalizeDefinition(e.definition)},o=yield Qe.createAuthorization({descriptor:n,signer:e.signer,permissionsGrantId:e.permissionsGrantId}),i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),Ma.validateProtocolDefinition(i.descriptor.definition),new Ma(i)})}static validateProtocolDefinition(e){const{protocol:r,types:n}=e;qB(r);for(const o in n){const i=n[o].schema;i!==void 0&&c_(i)}Ma.validateStructure(e)}static validateStructure(e){const r=[];for(const n in e.structure)e.structure[n].$globalRole&&r.push(n);for(const n in e.structure){const o=e.structure[n],i=[];for(const s in o){if(s.startsWith("$"))continue;o[s].$contextRole&&i.push(`${n}/${s}`)}Ma.validateRuleSet(o,n,[...r,...i])}}static validateRuleSet(e,r,n){var o;const i=r.split("/").length;if(e.$globalRole&&i!==1)throw new be(we.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath,`$globalRole is not allowed at protocol path (${r}). Only root records may set $globalRole true.`);if(e.$contextRole&&i!==2)throw new be(we.ProtocolsConfigureContextRoleAtProhibitedProtocolPath,`$contextRole is not allowed at protocol path (${r}). Only second-level records may set $contextRole true.`);const s=(o=e.$actions)!==null&&o!==void 0?o:[];for(const a of s){if(a.role!==void 0&&!n.includes(a.role))throw new be(we.ProtocolsConfigureInvalidRole,`Invalid role '${a.role}' found at protocol path '${r}'`);if(a.who==="anyone"&&a.of)throw new be(we.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at protocol path (${r})`);if(a.who===Uh.Recipient&&a.of===void 0&&!["update","delete"].includes(a.can))throw new be(we.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` === `delete` or `update`");if(a.who===Uh.Author&&!a.of)throw new be(we.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'")}for(const a in e){if(a.startsWith("$"))continue;const c=e[a],d=`${r}/${a}`;Ma.validateRuleSet(c,d,n)}}static normalizeDefinition(e){const r=Object.assign({},e.types);for(const n in r){const o=r[n].schema;o!==void 0&&(r[n].schema=_m(o))}return Object.assign(Object.assign({},e),{protocol:ap(e.protocol),types:r})}}var F6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},M6e=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class uD{constructor(e,r,n,o){this.didResolver=e,this.messageStore=r,this.dataStore=n,this.eventLog=o}handle({tenant:e,message:r,dataStream:n}){return F6e(this,void 0,void 0,function*(){let o;try{o=yield Ma.parse(r)}catch(l){return sr(l,400)}try{yield rc(r.authorization,this.didResolver),yield f_(e,o)}catch(l){return sr(l,401)}const i={interface:He.Protocols,method:Re.Configure,protocol:r.descriptor.definition.protocol},{messages:s}=yield this.messageStore.query(e,[i]);let a=yield Qe.getNewestMessage(s),c=!1;(a===void 0||(yield Qe.isNewer(r,a)))&&(c=!0,a=r);let d;if(c){const l=uD.constructProtocolsConfigureIndexes(o),u=yield Qe.getCid(r);yield this.messageStore.put(e,r,l),yield this.eventLog.append(e,u),d={status:{code:202,detail:"Accepted"}}}else d={status:{code:409,detail:"Conflict"}};const f=[];for(const l of s)if(yield Qe.isNewer(a,l)){const u=yield Qe.getCid(l);f.push(u),yield this.messageStore.delete(e,u)}return yield this.eventLog.deleteEventsByCid(e,f),d})}static constructProtocolsConfigureIndexes(e){const r=e.message.descriptor,{definition:n}=r,o=M6e(r,["definition"]),{author:i}=e;return Object.assign(Object.assign({},o),{author:i,protocol:n.protocol,published:n.published})}}var m1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Ul{static authorizeGenericMessage(e,r,n,o,i){return m1(this,void 0,void 0,function*(){const s=r.message.descriptor,a=yield Ul.fetchGrant(e,i,o);return Ul.verifyGrantedToAndGrantedFor(n,e,a),yield Ul.verifyGrantActive(e,s.messageTimestamp,a,o,i),yield Ul.verifyGrantScopeInterfaceAndMethod(s.interface,s.method,a,o),a})}static fetchGrant(e,r,n){return m1(this,void 0,void 0,function*(){const o=yield r.get(e,n),i=o?.descriptor.interface,s=o?.descriptor.method;if(o===void 0||i!==He.Permissions||s!==Re.Grant)throw new be(we.GrantAuthorizationGrantMissing,`Could not find PermissionsGrant with CID ${n}`);return o})}static verifyGrantedToAndGrantedFor(e,r,n){const o=n.descriptor.grantedTo;if(o!==e)throw new be(we.GrantAuthorizationNotGrantedToAuthor,`PermissionsGrant has grantedTo ${o}, but given ${e}`);const i=n.descriptor.grantedFor;if(i!==r)throw new be(we.GrantAuthorizationNotGrantedForTenant,`PermissionsGrant has grantedFor ${i}, but given ${r}`)}static verifyGrantActive(e,r,n,o,i){return m1(this,void 0,void 0,function*(){if(r<n.descriptor.messageTimestamp)throw new be(we.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated PermissionsGrant becomes active");if(r>=n.descriptor.dateExpires)throw new be(we.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated PermissionsGrant");const s={interface:He.Permissions,method:Re.Revoke,permissionsGrantId:o},{messages:a}=yield i.query(e,[s]),c=yield Qe.getOldestMessage(a);if(c!==void 0&&c.descriptor.messageTimestamp<=r)throw new be(we.GrantAuthorizationGrantRevoked,`PermissionsGrant with CID ${o} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(e,r,n,o){return m1(this,void 0,void 0,function*(){if(e!==n.descriptor.scope.interface)throw new be(we.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${o}`);if(r!==n.descriptor.scope.method)throw new be(we.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${o}`)})}}var yQ=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Kg extends gf{static parse(e){return yQ(this,void 0,void 0,function*(){return e.authorization!==void 0&&(yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),e.descriptor.filter!==void 0&&qB(e.descriptor.filter.protocol),Kr.validateTimestamp(e.descriptor.messageTimestamp),new Kg(e)})}static create(e){var r;return yQ(this,void 0,void 0,function*(){const n={interface:He.Protocols,method:Re.Query,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:Kr.getCurrentTimestamp(),filter:Kg.normalizeFilter(e.filter)};tf(n);let o;e.signer!==void 0&&(o=yield Qe.createAuthorization({descriptor:n,signer:e.signer,permissionsGrantId:e.permissionsGrantId}));const i={descriptor:n,authorization:o};return Qe.validateJsonSchema(i),new Kg(i)})}static normalizeFilter(e){if(e!==void 0)return Object.assign(Object.assign({},e),{protocol:ap(e.protocol)})}authorize(e,r){return yQ(this,void 0,void 0,function*(){if(this.author!==e)if(this.author!==void 0&&this.signaturePayload.permissionsGrantId)yield Ul.authorizeGenericMessage(e,this,this.author,this.signaturePayload.permissionsGrantId,r);else throw new be(we.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization")})}}var LU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class U6e{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.dataStore=n}handle({tenant:e,message:r}){return LU(this,void 0,void 0,function*(){let n;try{n=yield Kg.parse(r)}catch(s){return sr(s,400)}try{yield rc(r.authorization,this.didResolver),yield n.authorize(e,this.messageStore)}catch(s){if(s.code===we.AuthenticateJwsMissing||s.code===we.ProtocolsQueryUnauthorized){const a=yield this.fetchPublishedProtocolsConfigure(e,n);return{status:{code:200,detail:"OK"},entries:a}}else return sr(s,401)}const o=Object.assign(Object.assign({},r.descriptor.filter),{interface:He.Protocols,method:Re.Configure});tf(o);const{messages:i}=yield this.messageStore.query(e,[o]);return{status:{code:200,detail:"OK"},entries:i}})}fetchPublishedProtocolsConfigure(e,r){return LU(this,void 0,void 0,function*(){const n=Object.assign(Object.assign({},r.message.descriptor.filter),{interface:He.Protocols,method:Re.Configure,published:!0}),{messages:o}=yield this.messageStore.query(e,[n]);return o})}}var jn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class dr{get message(){if(this._message.authorization===void 0)throw new be(we.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}constructor(e){this._message=e,e.authorization!==void 0&&(e.authorization.authorDelegatedGrant!==void 0?this._author=Qe.getSigner(e.authorization.authorDelegatedGrant):this._author=Qe.getSigner(e),this._signaturePayload=mn.decodePlainObjectPayload(e.authorization.signature),e.authorization.ownerSignature!==void 0&&(this._owner=mn.getSignerDid(e.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=mn.decodePlainObjectPayload(e.authorization.ownerSignature))),this.attesters=dr.getAttesters(e)}static parse(e){return jn(this,void 0,void 0,function*(){yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor,"RecordsWriteSignaturePayload"),e.authorization.ownerSignature!==void 0&&(yield Qe.validateMessageSignatureIntegrity(e.authorization.ownerSignature,e.descriptor)),yield dr.validateAttestationIntegrity(e);const r=new dr(e);return yield r.validateIntegrity(),r})}static create(e){var r,n,o,i;return jn(this,void 0,void 0,function*(){if(e.protocol===void 0&&e.protocolPath!==void 0||e.protocol!==void 0&&e.protocolPath===void 0)throw new be(we.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(e.data===void 0&&e.dataCid===void 0||e.data!==void 0&&e.dataCid!==void 0)throw new be(we.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is allowed");if(e.dataCid===void 0&&e.dataSize!==void 0||e.dataCid!==void 0&&e.dataSize===void 0)throw new be(we.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(e.parentId!==void 0&&e.contextId===void 0)throw new be(we.RecordsWriteCreateContextIdAndParentIdMutuallyInclusive,"`contextId` must also be given when `parentId` is specified");if(e.signer===void 0&&e.delegatedGrant!==void 0)throw new be(we.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const s=(r=e.dataCid)!==null&&r!==void 0?r:yield Wi.computeDagPbCidFromBytes(e.data),a=(n=e.dataSize)!==null&&n!==void 0?n:e.data.length,c=Kr.getCurrentTimestamp(),d={interface:He.Records,method:Re.Write,protocol:e.protocol!==void 0?ap(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:e.schema!==void 0?_m(e.schema):void 0,parentId:e.parentId,dataCid:s,dataSize:a,dateCreated:(o=e.dateCreated)!==null&&o!==void 0?o:c,messageTimestamp:(i=e.messageTimestamp)!==null&&i!==void 0?i:c,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};e.published===!0&&e.datePublished===void 0&&(d.datePublished=c),tf(d);const f=e.recordId,l=e.contextId,u=yield Wi.computeCid(d),p=yield dr.createAttestation(u,e.attestationSigners),A=yield dr.createEncryptionProperty(d,e.encryptionInput),h={recordId:f,descriptor:d};l!==void 0&&(h.contextId=l),p!==void 0&&(h.attestation=p),A!==void 0&&(h.encryption=A);const y=new dr(h);return e.signer!==void 0&&(yield y.sign({signer:e.signer,delegatedGrant:e.delegatedGrant,permissionsGrantId:e.permissionsGrantId,protocolRole:e.protocolRole})),y})}static createFrom(e){var r,n;return jn(this,void 0,void 0,function*(){const o=e.recordsWriteMessage,i=Kr.getCurrentTimestamp(),s=(r=e.published)!==null&&r!==void 0?r:e.datePublished?!0:o.descriptor.published;let a;e.datePublished?a=e.datePublished:s&&(o.descriptor.published?a=o.descriptor.datePublished:a=i);const c={recipient:o.descriptor.recipient,recordId:o.recordId,dateCreated:o.descriptor.dateCreated,contextId:o.contextId,protocol:o.descriptor.protocol,protocolPath:o.descriptor.protocolPath,parentId:o.descriptor.parentId,schema:o.descriptor.schema,dataFormat:o.descriptor.dataFormat,messageTimestamp:(n=e.messageTimestamp)!==null&&n!==void 0?n:i,published:s,datePublished:a,data:e.data,dataCid:e.data?void 0:o.descriptor.dataCid,dataSize:e.data?void 0:o.descriptor.dataSize,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant,signer:e.signer,attestationSigners:e.attestationSigners};return yield dr.create(c)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(e){return jn(this,void 0,void 0,function*(){this._message.encryption=yield dr.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(e){var r;return jn(this,void 0,void 0,function*(){const{signer:n,delegatedGrant:o,permissionsGrantId:i,protocolRole:s}=e;let a,c;o!==void 0?(a=yield Qe.getCid(o),c=mn.getSignerDid(o.authorization.signature.signatures[0])):c=mn.extractDid(n.keyId);const d=this._message.descriptor,f=yield Wi.computeCid(d);this._message.recordId=(r=this._message.recordId)!==null&&r!==void 0?r:yield dr.getEntryId(c,d),this._message.contextId===void 0&&this._message.descriptor.protocol!==void 0&&(this._message.contextId=yield dr.getEntryId(c,d));const l=yield dr.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:f,attestation:this._message.attestation,encryption:this._message.encryption,signer:n,delegatedGrantId:a,permissionsGrantId:i,protocolRole:s});this._message.authorization={signature:l},o!==void 0&&(this._message.authorization.authorDelegatedGrant=o),this._signaturePayload=mn.decodePlainObjectPayload(l),this._author=c})}signAsOwner(e,r){return jn(this,void 0,void 0,function*(){if(this._author===void 0)throw new be(we.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner if without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,o=yield Qe.createSignature(n,e,{permissionsGrantId:r});this._message.authorization.ownerSignature=o,this._ownerSignaturePayload=mn.decodePlainObjectPayload(o),this._owner=mn.extractDid(e.keyId)})}validateIntegrity(){return jn(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const n=this.message.descriptor.dateCreated,o=this.message.descriptor.messageTimestamp;if(o!==n)throw new be(we.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${o} must match dateCreated ${n} for the initial write`);if(this.message.descriptor.protocol!==void 0&&this.message.descriptor.parentId===void 0){const i=yield this.getEntryId();if(this.message.contextId!==i)throw new be(we.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${i}`)}}const r=this.signaturePayload;if(this.message.recordId!==r.recordId)throw new be(we.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${r.recordId}`);if(this.message.contextId!==r.contextId)throw new be(we.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${r.contextId}`);if(Dn.validateDelegatedGrantReferentialIntegrity(this.message,r),r.attestationCid!==void 0){const n=yield Wi.computeCid(this.message.attestation),o=r.attestationCid;if(o!==n)throw new be(we.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${n} of attestation property in message does not match attestationCid in authorization: ${o}`)}if(r.encryptionCid!==void 0){const n=yield Wi.computeCid(this.message.encryption),o=r.encryptionCid;if(o!==n)throw new be(we.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${n} of encryption property in message does not match encryptionCid in authorization: ${o}`)}this.message.descriptor.protocol!==void 0&&qB(this.message.descriptor.protocol),this.message.descriptor.schema!==void 0&&c_(this.message.descriptor.schema),Kr.validateTimestamp(this.message.descriptor.messageTimestamp),Kr.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Kr.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(e){return jn(this,void 0,void 0,function*(){if(e.attestation===void 0)return;if(e.attestation.signatures.length!==1)throw new be(we.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);const r=mn.decodePlainObjectPayload(e.attestation),{descriptorCid:n}=r,o=yield Wi.computeCid(e.descriptor);if(n!==o)throw new be(we.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${n} does not match expected descriptorCid ${o}`);const i=Object.keys(r).length;if(i>1)throw new be(we.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${i} properties.`)})}getEntryId(){return jn(this,void 0,void 0,function*(){return yield dr.getEntryId(this.author,this.message.descriptor)})}static getEntryId(e,r){return jn(this,void 0,void 0,function*(){if(e===void 0)throw new be(we.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const n=Object.assign({},r);return n.author=e,yield Wi.computeCid(n)})}isInitialWrite(){return jn(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}isAuthoredByInitialRecordAuthor(e,r){return jn(this,void 0,void 0,function*(){const n={entryId:this.message.recordId},{messages:o}=yield r.query(e,[n]);return(yield dr.parse(o[0])).author===this.author})}constructRecordsWriteIndexes(e){return jn(this,void 0,void 0,function*(){const r=this.message,n=Object.assign({},r.descriptor);delete n.published;const o=Object.assign(Object.assign({},n),{isLatestBaseState:e,published:!!r.descriptor.published,author:this.author,recordId:r.recordId,entryId:yield dr.getEntryId(this.author,this.message.descriptor)});return this.attesters.length>0&&(o.attester=this.attesters[0]),r.contextId!==void 0&&(o.contextId=r.contextId),o})}static isInitialWrite(e){return jn(this,void 0,void 0,function*(){if(e.descriptor.interface!==He.Records||e.descriptor.method!==Re.Write)return!1;const r=e,n=dr.getAuthor(r);return(yield dr.getEntryId(n,r.descriptor))===r.recordId})}static getAuthor(e){let r;return e.authorization.authorDelegatedGrant!==void 0?r=Qe.getSigner(e.authorization.authorDelegatedGrant):r=Qe.getSigner(e),r}static createEncryptionProperty(e,r){var n,o;return jn(this,void 0,void 0,function*(){if(r===void 0)return;const i=[];for(const a of r.keyEncryptionInputs){if(a.derivationScheme===hs.ProtocolPath&&e.protocol===void 0)throw new be(we.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(a.derivationScheme===hs.Schemas&&e.schema===void 0)throw new be(we.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const c=Xr.publicJwkToBytes(a.publicKey),d=yield NI.eciesSecp256k1Encrypt(c,r.key),f=Kt.bytesToBase64Url(d.ciphertext),l=yield Xr.publicKeyToJwk(d.ephemeralPublicKey),u=Kt.bytesToBase64Url(d.initializationVector),p=Kt.bytesToBase64Url(d.messageAuthenticationCode),A={rootKeyId:a.publicKeyId,algorithm:(n=a.algorithm)!==null&&n!==void 0?n:ZE.EciesSecp256k1,derivationScheme:a.derivationScheme,ephemeralPublicKey:l,initializationVector:u,messageAuthenticationCode:p,encryptedKey:f};a.derivationScheme===hs.ProtocolContext&&(A.derivedPublicKey=a.publicKey),i.push(A)}return{algorithm:(o=r.algorithm)!==null&&o!==void 0?o:ZE.Aes256Ctr,initializationVector:Kt.bytesToBase64Url(r.initializationVector),keyEncryption:i}})}static createAttestation(e,r){return jn(this,void 0,void 0,function*(){if(r===void 0||r.length===0)return;const n={descriptorCid:e},o=Kt.objectToBytes(n);return(yield QI.create(o,r)).getJws()})}static createSignerSignature(e){return jn(this,void 0,void 0,function*(){const{recordId:r,contextId:n,descriptorCid:o,attestation:i,encryption:s,signer:a,delegatedGrantId:c,permissionsGrantId:d,protocolRole:f}=e,l=i?yield Wi.computeCid(i):void 0,u=s?yield Wi.computeCid(s):void 0,p={recordId:r,descriptorCid:o,contextId:n,attestationCid:l,encryptionCid:u,delegatedGrantId:c,permissionsGrantId:d,protocolRole:f};tf(p);const A=Kt.objectToBytes(p);return(yield QI.create(A,[a])).getJws()})}static getInitialWrite(e){return jn(this,void 0,void 0,function*(){for(const r of e)if(yield dr.isInitialWrite(r))return r;throw new be(we.RecordsWriteGetInitialWriteNotFound,"initial write is not found")})}static verifyEqualityOfImmutableProperties(e,r){const n=["dataCid","dataSize","datePublished","published","messageTimestamp"];let o=[];o.push(...Object.keys(e.descriptor)),o.push(...Object.keys(r.descriptor)),o=[...new Set(o)];for(const i of o)if(n.indexOf(i)===-1){const s=e.descriptor[i],a=r.descriptor[i];if(a!==s)throw new be(we.RecordsWriteImmutablePropertyChanged,`${i} is an immutable property: cannot change '${s}' to '${a}'`)}return!0}static getAttesters(e){var r,n;return((n=(r=e.attestation)===null||r===void 0?void 0:r.signatures)!==null&&n!==void 0?n:[]).map(s=>mn.getSignerDid(s))}}var Wo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Ot{static validateReferentialIntegrity(e,r,n){return Wo(this,void 0,void 0,function*(){const o=yield Ot.fetchProtocolDefinition(e,r.message.descriptor.protocol,n);Ot.verifyType(r.message,o.types),yield Ot.verifyProtocolPath(e,r,n);const i=Ot.getRuleSet(r.message.descriptor.protocolPath,o);yield Ot.verifyUniqueRoleRecipient(e,r,i,n)})}static authorizeWrite(e,r,n){return Wo(this,void 0,void 0,function*(){const o=yield Ot.constructAncestorMessageChain(e,r,r,n),i=yield Ot.fetchProtocolDefinition(e,r.message.descriptor.protocol,n),s=Ot.getRuleSet(r.message.descriptor.protocolPath,i);yield Ot.verifyInvokedRole(e,r,r.message.descriptor.protocol,r.message.contextId,i,n),yield Ot.verifyAllowedActions(e,r,s,o,n)})}static authorizeRead(e,r,n,o){return Wo(this,void 0,void 0,function*(){const i=yield Ot.constructAncestorMessageChain(e,r,n,o),s=yield Ot.fetchProtocolDefinition(e,n.message.descriptor.protocol,o),a=Ot.getRuleSet(n.message.descriptor.protocolPath,s);yield Ot.verifyInvokedRole(e,r,n.message.descriptor.protocol,n.message.contextId,s,o),yield Ot.verifyAllowedActions(e,r,a,i,o)})}static authorizeQuery(e,r,n){return Wo(this,void 0,void 0,function*(){const{protocol:o,protocolPath:i,contextId:s}=r.message.descriptor.filter,a=yield Ot.fetchProtocolDefinition(e,o,n),c=Ot.getRuleSet(i,a);yield Ot.verifyInvokedRole(e,r,o,s,a,n),yield Ot.verifyAllowedActions(e,r,c,[],n)})}static authorizeDelete(e,r,n,o){return Wo(this,void 0,void 0,function*(){const i=yield Ot.constructAncestorMessageChain(e,r,n,o),s=yield Ot.fetchProtocolDefinition(e,n.message.descriptor.protocol,o),a=Ot.getRuleSet(n.message.descriptor.protocolPath,s);yield Ot.verifyInvokedRole(e,r,n.message.descriptor.protocol,n.message.contextId,s,o),yield Ot.verifyAllowedActions(e,r,a,i,o)})}static fetchProtocolDefinition(e,r,n){return Wo(this,void 0,void 0,function*(){const o={interface:He.Protocols,method:Re.Configure,protocol:r},{messages:i}=yield n.query(e,[o]);if(i.length===0)throw new be(we.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${r}`);return i[0].descriptor.definition})}static constructAncestorMessageChain(e,r,n,o){return Wo(this,void 0,void 0,function*(){const i=[];r.message.descriptor.method!==Re.Write&&i.push(n.message);const s=n.message.descriptor.protocol,a=n.message.contextId;let c=n.message.descriptor.parentId;for(;c!==void 0;){const d={interface:He.Records,method:Re.Write,protocol:s,contextId:a,recordId:c},{messages:f}=yield o.query(e,[d]);if(f.length===0)throw new be(we.ProtocolAuthorizationParentNotFound,`no parent found with ID ${c}`);const l=f[0];i.push(l),c=l.descriptor.parentId}return i.reverse()})}static getRuleSet(e,r){const n=Ot.getRuleSetAtProtocolPath(e,r);if(n===void 0)throw new be(we.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${e}`);return n}static verifyProtocolPath(e,r,n){var o,i;return Wo(this,void 0,void 0,function*(){const s=r.message.descriptor.protocolPath,a=Ot.getTypeName(s),c=r.message.descriptor.parentId;if(c===void 0){if(s!==a)throw new be(we.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${s}' is not valid for records with no parentId'.`)}else{const d=r.message.descriptor.protocol,f=r.message.contextId,l={interface:He.Records,method:Re.Write,protocol:d,contextId:f,recordId:c},{messages:u}=yield n.query(e,[l]),p=(i=(o=u[0])===null||o===void 0?void 0:o.descriptor)===null||i===void 0?void 0:i.protocolPath,A=`${p}/${a}`;if(p===void 0||A!==s)throw new be(we.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${s}'.`)}})}static verifyType(e,r){const n=Object.keys(r),o=e.descriptor.protocolPath,i=Ot.getTypeName(o);if(!n.includes(i))throw new be(we.ProtocolAuthorizationInvalidType,`record with type ${i} not allowed in protocol`);const s=e.descriptor.protocolPath,a=Ot.getTypeName(s),c=r[a],{schema:d}=e.descriptor;if(c.schema!==void 0&&c.schema!==d)throw new be(we.ProtocolAuthorizationInvalidSchema,`type '${a}' must have schema '${c.schema}',         instead has '${d}'`);const{dataFormat:f}=e.descriptor;if(c.dataFormats!==void 0&&!c.dataFormats.includes(f))throw new be(we.ProtocolAuthorizationIncorrectDataFormat,`type '${a}' must have data format in (${c.dataFormats}),         instead has '${f}'`)}static verifyInvokedRole(e,r,n,o,i,s){var a;return Wo(this,void 0,void 0,function*(){const c=(a=r.signaturePayload)===null||a===void 0?void 0:a.protocolRole;if(c===void 0)return;const d=Ot.getRuleSetAtProtocolPath(c,i);if(d===void 0||!d.$globalRole&&!d.$contextRole)throw new be(we.ProtocolAuthorizationNotARole,`Protocol path ${c} is not a valid protocolRole`);const f={interface:He.Records,method:Re.Write,protocol:n,protocolPath:c,recipient:r.author,isLatestBaseState:!0};if(d.$contextRole){if(o===void 0)throw new be(we.ProtocolAuthorizationMissingContextId,"Could not verify $contextRole because contextId is missing");f.contextId=o}const{messages:l}=yield s.query(e,[f]);if(l.length===0)throw new be(we.ProtocolAuthorizationMissingRole,`No matching role record found for protocol path ${c}`)})}static getActionsSeekingARuleMatch(e,r,n){return Wo(this,void 0,void 0,function*(){switch(r.message.descriptor.method){case Re.Delete:return[Lf.Delete];case Re.Query:return[Lf.Query];case Re.Read:return[Lf.Read];case Re.Write:const o=r;return(yield o.isInitialWrite())?[Lf.Write]:(yield o.isAuthoredByInitialRecordAuthor(e,n))?[Lf.Write,Lf.Update]:[Lf.Update]}})}static verifyAllowedActions(e,r,n,o,i){var s;return Wo(this,void 0,void 0,function*(){const a=r.message.descriptor.method,c=yield Ot.getActionsSeekingARuleMatch(e,r,i),d=r.author,f=n.$actions;if(f===void 0)throw new be(we.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for ${a}, ${d} is unauthorized`);const l=(s=r.signaturePayload)===null||s===void 0?void 0:s.protocolRole;for(const u of f){if(!c.includes(u.can))continue;if(l!==void 0){if(u.role===l)return;continue}else if(u.who===Uh.Recipient&&u.of===void 0&&d!==void 0){let A;if(r.message.descriptor.method===Re.Write?A=r.message:A=o[o.length-1],A.descriptor.recipient===d)return}else{if(u.who===Uh.Anyone)return;if(d===void 0)continue}if(yield Ot.checkActor(d,u,o))return}throw new be(we.ProtocolAuthorizationActionNotAllowed,"inbound message action not allowed for author")})}static verifyUniqueRoleRecipient(e,r,n,o){return Wo(this,void 0,void 0,function*(){const i=r;if(!n.$globalRole&&!n.$contextRole)return;const s=i.message.descriptor.recipient;if(s===void 0)throw new be(we.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const a=i.message.descriptor.protocolPath,c={interface:He.Records,method:Re.Write,isLatestBaseState:!0,protocol:i.message.descriptor.protocol,protocolPath:a,recipient:s};n.$contextRole&&(c.contextId=i.message.contextId);const{messages:d}=yield o.query(e,[c]);if(d.filter(u=>u.recordId!==i.message.recordId).length>0)throw n.$globalRole?new be(we.ProtocolAuthorizationDuplicateGlobalRoleRecipient,`DID '${s}' is already recipient of a $globalRole record at protocol path '${a}`):new be(we.ProtocolAuthorizationDuplicateContextRoleRecipient,`DID '${s}' is already recipient of a $contextRole record at protocol path '${a} in the same context`)})}static getRuleSetAtProtocolPath(e,r){const n=e.split("/");let o=r.structure,i=0;for(;i<n.length;){const s=n[i],a=o[s];if(a===void 0)return;o=a,i++}return o}static checkActor(e,r,n){return Wo(this,void 0,void 0,function*(){const o=n.find(i=>i.descriptor.protocolPath===r.of);if(o===void 0)return!1;if(r.who===Uh.Recipient)return e===o.descriptor.recipient;{const i=(yield dr.parse(o)).author;return e===i}})}static getTypeName(e){return e.split("/").slice(-1)[0]}}var GU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class KI extends gf{static parse(e){return GU(this,void 0,void 0,function*(){let r;return e.authorization!==void 0&&(r=yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),Dn.validateDelegatedGrantReferentialIntegrity(e,r),Kr.validateTimestamp(e.descriptor.messageTimestamp),new KI(e)})}static create(e){var r;return GU(this,void 0,void 0,function*(){const n=e.recordId,o=Kr.getCurrentTimestamp(),i={interface:He.Records,method:Re.Delete,recordId:n,messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:o},s=yield Qe.createAuthorization({descriptor:i,signer:e.signer,protocolRole:e.protocolRole,delegatedGrant:e.delegatedGrant}),a={descriptor:i,authorization:s};return Qe.validateJsonSchema(a),new KI(a)})}}class hD{}hD.maxDataSizeAllowedToBeEncoded=3e4;var qU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class FC{static delete(e,r,n,o){return qU(this,void 0,void 0,function*(){const i=yield Qe.getCid(o);if(o.descriptor.method===Re.Write&&o.descriptor.dataSize>hD.maxDataSizeAllowedToBeEncoded){const s=o;yield r.delete(n,i,s.descriptor.dataCid)}yield e.delete(n,i)})}static deleteAllOlderMessagesButKeepInitialWrite(e,r,n,o,i,s){return qU(this,void 0,void 0,function*(){const a=[];for(const c of r){if(yield Qe.isOlder(c,n))if(yield FC.delete(o,i,e,c),yield dr.isInitialWrite(c)){const l=yield dr.parse(c),u=!1,p=yield l.constructRecordsWriteIndexes(u),A=c;delete A.encodedData,yield o.put(e,A,p)}else{const l=yield Qe.getCid(c);a.push(l)}yield s.deleteEventsByCid(e,a)}})}}var n6=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class AD{constructor(e,r,n,o){this.didResolver=e,this.messageStore=r,this.dataStore=n,this.eventLog=o}handle({tenant:e,message:r}){return n6(this,void 0,void 0,function*(){let n;try{n=yield KI.parse(r)}catch(u){return sr(u,400)}try{yield rc(r.authorization,this.didResolver)}catch(u){return sr(u,401)}const o={interface:He.Records,recordId:r.descriptor.recordId},{messages:i}=yield this.messageStore.query(e,[o]),s=yield Qe.getNewestMessage(i);let a=!1,c;if(s===void 0||(yield Qe.isNewer(r,s))?(a=!0,c=r):c=s,!a)return{status:{code:409,detail:"Conflict"}};if(s===void 0||s.descriptor.method===Re.Delete)return{status:{code:404,detail:"Not Found"}};try{yield AD.authorizeRecordsDelete(e,n,yield dr.parse(s),this.messageStore)}catch(u){return sr(u,401)}const d=yield R6e(e,n);yield this.messageStore.put(e,r,d);const f=yield Qe.getCid(r);return yield this.eventLog.append(e,f),yield FC.deleteAllOlderMessagesButKeepInitialWrite(e,i,c,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(e,r,n,o){return n6(this,void 0,void 0,function*(){if(r.author!==e)if(n.message.descriptor.protocol!==void 0)yield Ot.authorizeDelete(e,r,n,o);else throw new be(we.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization")})}}function R6e(t,e){return n6(this,void 0,void 0,function*(){const r=e.message,n=Object.assign({},r.descriptor);return Object.assign({author:e.author},n)})}var Zf;(function(t){t[t.Descending=-1]="Descending",t[t.Ascending=1]="Ascending"})(Zf||(Zf={}));var w1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class qs{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.dataStore=n}handle({tenant:e,message:r}){return w1(this,void 0,void 0,function*(){let n;try{n=yield PI.parse(r)}catch(s){return sr(s,400)}let o,i;if(qs.filterIncludesPublishedRecords(n)&&n.author===void 0){const s=yield this.fetchPublishedRecords(e,n);o=s.messages,i=s.cursor}else{try{yield rc(r.authorization,this.didResolver),qs.shouldProtocolAuthorizeQuery(n)&&(yield Ot.authorizeQuery(e,n,this.messageStore))}catch(s){return sr(s,401)}if(n.author===e){const s=yield this.fetchRecordsAsOwner(e,n);o=s.messages,i=s.cursor}else{const s=yield this.fetchRecordsAsNonOwner(e,n);o=s.messages,i=s.cursor}}return{status:{code:200,detail:"OK"},entries:o,cursor:i}})}convertDateSort(e){switch(e){case hg.CreatedAscending:return{dateCreated:Zf.Ascending};case hg.CreatedDescending:return{dateCreated:Zf.Descending};case hg.PublishedAscending:return{datePublished:Zf.Ascending};case hg.PublishedDescending:return{datePublished:Zf.Descending};default:return{dateCreated:Zf.Ascending}}}fetchRecordsAsOwner(e,r){return w1(this,void 0,void 0,function*(){const{dateSort:n,filter:o,pagination:i}=r.message.descriptor,s=Object.assign(Object.assign({},Dn.convertFilter(o)),{interface:He.Records,method:Re.Write,isLatestBaseState:!0}),a=this.convertDateSort(n);return this.messageStore.query(e,[s],a,i)})}fetchRecordsAsNonOwner(e,r){return w1(this,void 0,void 0,function*(){const{dateSort:n,pagination:o}=r.message.descriptor,i=[];if(qs.filterIncludesPublishedRecords(r)&&i.push(qs.buildPublishedRecordsFilter(r)),qs.filterIncludesUnpublishedRecords(r)){i.push(qs.buildUnpublishedRecordsByQueryAuthorFilter(r));const a=r.message.descriptor.filter.recipient;(a===void 0||a===r.author)&&i.push(qs.buildUnpublishedRecordsForQueryAuthorFilter(r)),qs.shouldProtocolAuthorizeQuery(r)&&i.push(qs.buildUnpublishedProtocolAuthorizedRecordsFilter(r))}const s=this.convertDateSort(n);return this.messageStore.query(e,i,s,o)})}fetchPublishedRecords(e,r){return w1(this,void 0,void 0,function*(){const{dateSort:n,pagination:o}=r.message.descriptor,i=qs.buildPublishedRecordsFilter(r),s=this.convertDateSort(n);return this.messageStore.query(e,[i],s,o)})}static buildPublishedRecordsFilter(e){return Object.assign(Object.assign({},Dn.convertFilter(e.message.descriptor.filter)),{interface:He.Records,method:Re.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(e){return Object.assign(Object.assign({},Dn.convertFilter(e.message.descriptor.filter)),{interface:He.Records,method:Re.Write,recipient:e.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(e){return Object.assign(Object.assign({},Dn.convertFilter(e.message.descriptor.filter)),{interface:He.Records,method:Re.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(e){return Object.assign(Object.assign({},Dn.convertFilter(e.message.descriptor.filter)),{author:e.author,interface:He.Records,method:Re.Write,isLatestBaseState:!0,published:!1})}static shouldProtocolAuthorizeQuery(e){return e.signaturePayload.protocolRole!==void 0}static filterIncludesPublishedRecords(e){const{filter:r}=e.message.descriptor;return r.datePublished!==void 0||r.published!==!1}static filterIncludesUnpublishedRecords(e){const{filter:r}=e.message.descriptor;return r.datePublished===void 0&&r.published===void 0?!0:r.published===!1}}var rv;(function(t){t.Required="Required",t.Prohibited="Prohibited"})(rv||(rv={}));var $U=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class zf{static authorizeWrite(e,r,n,o){return $U(this,void 0,void 0,function*(){const i=yield Ul.authorizeGenericMessage(e,r,n,r.signaturePayload.permissionsGrantId,o);zf.verifyScope(r,i),zf.verifyConditions(r,i)})}static authorizeRead(e,r,n,o,i){return $U(this,void 0,void 0,function*(){const s=yield Ul.authorizeGenericMessage(e,r,o,r.signaturePayload.permissionsGrantId,i);zf.verifyScope(n,s)})}static verifyScope(e,r){const n=r.descriptor.scope;zf.isUnrestrictedScope(n)||(e.message.descriptor.protocol!==void 0?zf.authorizeProtocolRecord(e,n):zf.authorizeFlatRecord(e,n))}static authorizeProtocolRecord(e,r){if(r.protocol===void 0)throw new be(we.RecordsGrantAuthorizationScopeNotProtocol,"Grant for protocol record must specify protocol in its scope");if(r.protocol!==e.message.descriptor.protocol)throw new be(we.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(r.contextId!==void 0&&r.contextId!==e.message.contextId)throw new be(we.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(r.protocolPath!==void 0&&r.protocolPath!==e.message.descriptor.protocolPath)throw new be(we.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static authorizeFlatRecord(e,r){if(r.schema!==void 0&&r.schema!==e.message.descriptor.schema)throw new be(we.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in PermissionsGrant scope with schema '${r.schema}'`)}static verifyConditions(e,r){const n=r.descriptor.conditions;if(n?.publication===rv.Required&&!e.message.descriptor.published)throw new be(we.RecordsGrantAuthorizationConditionPublicationRequired,"PermissionsGrant requires message to be published");if(n?.publication===rv.Prohibited&&e.message.descriptor.published)throw new be(we.RecordsGrantAuthorizationConditionPublicationProhibited,"PermissionsGrant prohibits message from being published")}static isUnrestrictedScope(e){return e.protocol===void 0&&e.schema===void 0}}var jU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class T0 extends gf{static parse(e){return jU(this,void 0,void 0,function*(){let r;return e.authorization!==void 0&&(r=yield Qe.validateMessageSignatureIntegrity(e.authorization.signature,e.descriptor)),Dn.validateDelegatedGrantReferentialIntegrity(e,r),Kr.validateTimestamp(e.descriptor.messageTimestamp),new T0(e)})}static create(e){var r;return jU(this,void 0,void 0,function*(){const{filter:n,signer:o,permissionsGrantId:i,protocolRole:s}=e,a=Kr.getCurrentTimestamp(),c={interface:He.Records,method:Re.Read,filter:Dn.normalizeFilter(n),messageTimestamp:(r=e.messageTimestamp)!==null&&r!==void 0?r:a};tf(c);let d;o!==void 0&&(d=yield Qe.createAuthorization({descriptor:c,signer:o,permissionsGrantId:i,protocolRole:s,delegatedGrant:e.delegatedGrant}));const f={descriptor:c,authorization:d};return Qe.validateJsonSchema(f),new T0(f)})}}var zU=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class gD{constructor(e,r,n){this.didResolver=e,this.messageStore=r,this.dataStore=n}handle({tenant:e,message:r}){return zU(this,void 0,void 0,function*(){let n;try{n=yield T0.parse(r)}catch(d){return sr(d,400)}try{n.author!==void 0&&(yield rc(r.authorization,this.didResolver))}catch(d){return sr(d,401)}const o=Object.assign({interface:He.Records,isLatestBaseState:!0},Dn.convertFilter(r.descriptor.filter)),{messages:i}=yield this.messageStore.query(e,[o]);if(i.length===0)return{status:{code:404,detail:"Not Found"}};if(i.length>1)return sr(new be(we.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const s=i[0];try{yield gD.authorizeRecordsRead(e,n,yield dr.parse(s),this.messageStore)}catch(d){return sr(d,401)}let a;if(s.encodedData!==void 0){const d=Kt.base64UrlToBytes(s.encodedData);a=Id.fromBytes(d),delete s.encodedData}else{const d=yield Qe.getCid(s),f=yield this.dataStore.get(e,d,s.descriptor.dataCid);if(f?.dataStream===void 0)return{status:{code:404,detail:"Not Found"}};a=f.dataStream}return{status:{code:200,detail:"OK"},record:Object.assign(Object.assign({},s),{data:a})}})}static authorizeRecordsRead(e,r,n,o){return zU(this,void 0,void 0,function*(){const{descriptor:i}=n.message;if(r.author!==e){if(i.published===!0)return;if(r.author!==void 0&&r.author===i.recipient)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0)yield zf.authorizeRead(e,r,n,r.author,o);else if(i.protocol!==void 0)yield Ot.authorizeRead(e,r,n,o);else throw new be(we.RecordsReadAuthorizationFailed,"message failed authorization")}})}}var b1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class Hg{constructor(e,r,n,o){this.didResolver=e,this.messageStore=r,this.dataStore=n,this.eventLog=o}handle({tenant:e,message:r,options:n,dataStream:o}){return b1(this,void 0,void 0,function*(){let i;try{i=yield dr.parse(r),r.descriptor.protocol!==void 0&&(yield Ot.validateReferentialIntegrity(e,i,this.messageStore))}catch(y){return sr(y,400)}try{yield rc(r.authorization,this.didResolver),yield Hg.authorizeRecordsWrite(e,i,this.messageStore)}catch(y){return sr(y,401)}const s={interface:He.Records,recordId:r.recordId},{messages:a}=yield this.messageStore.query(e,[s]);if(!(yield i.isInitialWrite()))try{const y=yield dr.getInitialWrite(a);dr.verifyEqualityOfImmutableProperties(y,r)}catch(y){return sr(y,400)}const d=yield Qe.getNewestMessage(a);let f=!1,l;if(d===void 0||(yield Qe.isNewer(r,d))?(f=!0,l=r):l=d,!f)return{status:{code:409,detail:"Conflict"}};const u=!0,p=yield i.constructRecordsWriteIndexes(u);let A=r;if(n===void 0||!n.skipDataStorage){if(o===void 0&&d?.descriptor.method===Re.Delete)return sr(new be(we.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete"),400);try{r.descriptor.dataSize<=hD.maxDataSizeAllowedToBeEncoded?A=yield this.processEncodedData(r,o,d):yield this.putData(e,r,o)}catch(y){const v=y;if(v.code===we.RecordsWriteMissingDataInPrevious||v.code===we.RecordsWriteMissingDataAssociation||v.code===we.RecordsWriteDataCidMismatch||v.code===we.RecordsWriteDataSizeMismatch)return sr(y,400);throw y}}yield this.messageStore.put(e,A,p),yield this.eventLog.append(e,yield Qe.getCid(r));const h={status:{code:202,detail:"Accepted"}};return yield FC.deleteAllOlderMessagesButKeepInitialWrite(e,a,l,this.messageStore,this.dataStore,this.eventLog),h})}processEncodedData(e,r,n){return b1(this,void 0,void 0,function*(){let o;if(r===void 0){const a=n;if(a?.encodedData===void 0)throw new be(we.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");o=Kt.base64UrlToBytes(a.encodedData)}else o=yield Id.toBytes(r);const i=yield Wi.computeDagPbCidFromBytes(o);Hg.validateDataIntegrity(e.descriptor.dataCid,e.descriptor.dataSize,i,o.length);const s=Object.assign({},e);return s.encodedData=Kt.bytesToBase64Url(o),s})}putData(e,r,n){return b1(this,void 0,void 0,function*(){let o;const i=yield Qe.getCid(r);if(n===void 0){const s=yield this.dataStore.associate(e,i,r.descriptor.dataCid);if(s===void 0)throw new be(we.RecordsWriteMissingDataAssociation,`Unable to associate dataCid ${r.descriptor.dataCid} to messageCid ${i} because dataStream was not provided and data was not found in dataStore`);o=s}else o=yield this.dataStore.put(e,i,r.descriptor.dataCid,n);try{Hg.validateDataIntegrity(r.descriptor.dataCid,r.descriptor.dataSize,o.dataCid,o.dataSize)}catch(s){throw yield this.dataStore.delete(e,i,r.descriptor.dataCid),s}})}static validateDataIntegrity(e,r,n,o){if(e!==n)throw new be(we.RecordsWriteDataCidMismatch,`actual data CID ${n} does not match dataCid in descriptor: ${e}`);if(r!==o)throw new be(we.RecordsWriteDataSizeMismatch,`actual data size ${o} bytes does not match dataSize in descriptor: ${r}`)}static authorizeRecordsWrite(e,r,n){return b1(this,void 0,void 0,function*(){if(r.owner!==void 0&&r.owner!==e)throw new be(we.RecordsWriteOwnerAndTenantMismatch,`Owner ${r.owner} must be the same as tenant ${e} when specified.`);if(r.owner===void 0){if(r.author===e)return;if(r.author!==void 0&&r.signaturePayload.permissionsGrantId!==void 0)yield zf.authorizeWrite(e,r,r.author,n);else if(r.message.descriptor.protocol!==void 0)yield Ot.authorizeWrite(e,r,n);else throw new be(we.RecordsWriteAuthorizationFailed,"message failed authorization")}})}}var $u=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class pD{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={[He.Events+Re.Get]:new E6e(this.didResolver,this.eventLog),[He.Messages+Re.Get]:new B6e(this.didResolver,this.messageStore,this.dataStore),[He.Permissions+Re.Grant]:new x6e(this.didResolver,this.messageStore,this.eventLog),[He.Permissions+Re.Request]:new D6e(this.didResolver,this.messageStore,this.eventLog),[He.Permissions+Re.Revoke]:new T6e(this.didResolver,this.messageStore,this.eventLog),[He.Protocols+Re.Configure]:new uD(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[He.Protocols+Re.Query]:new U6e(this.didResolver,this.messageStore,this.dataStore),[He.Records+Re.Delete]:new AD(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[He.Records+Re.Query]:new qs(this.didResolver,this.messageStore,this.dataStore),[He.Records+Re.Read]:new gD(this.didResolver,this.messageStore,this.dataStore),[He.Records+Re.Write]:new Hg(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static create(e){var r,n;return $u(this,void 0,void 0,function*(){(r=e.didResolver)!==null&&r!==void 0||(e.didResolver=new w6e),(n=e.tenantGate)!==null&&n!==void 0||(e.tenantGate=new d1e);const o=new pD(e);return yield o.open(),o})}open(){return $u(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open()})}close(){return $u(this,void 0,void 0,function*(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()})}processMessage(e,r,n){var o;return $u(this,void 0,void 0,function*(){const i=(o=yield this.validateTenant(e))!==null&&o!==void 0?o:yield this.validateMessageIntegrity(r);if(i!==void 0)return i;const s=r.descriptor.interface+r.descriptor.method;return yield this.methodHandlers[s].handle({tenant:e,message:r,dataStream:n})})}synchronizePrunedInitialRecordsWrite(e,r){var n;return $u(this,void 0,void 0,function*(){const o=(n=yield this.validateTenant(e))!==null&&n!==void 0?n:yield this.validateMessageIntegrity(r,He.Records,Re.Write);if(o!==void 0)return o;const i={skipDataStorage:!0};return yield new Hg(this.didResolver,this.messageStore,this.dataStore,this.eventLog).handle({tenant:e,message:r,options:i})})}validateTenant(e){return $u(this,void 0,void 0,function*(){if(!(yield this.tenantGate.isTenant(e)))return{status:{code:401,detail:`${e} is not a tenant`}}})}validateMessageIntegrity(e,r,n){var o,i;return $u(this,void 0,void 0,function*(){const s=(o=e?.descriptor)===null||o===void 0?void 0:o.interface,a=(i=e?.descriptor)===null||i===void 0?void 0:i.method;if(s===void 0||a===void 0)return{status:{code:400,detail:`Both interface and method must be present, interface: ${s}, method: ${a}`}};if(r!==void 0&&r!==s)return{status:{code:400,detail:`Expected interface ${r}, received ${s}`}};if(n!==void 0&&n!==a)return{status:{code:400,detail:`Expected method ${r}${n}, received ${s}${a}`}};try{Qe.validateJsonSchema(e)}catch(c){return sr(c,400)}})}}var N6e=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function P6e(t){return new Promise((e,r)=>{if(t.aborted){r(t.reason);return}t.addEventListener("abort",()=>{r(t.reason)})})}function pn(t,e){return N6e(this,void 0,void 0,function*(){return e?Promise.race([t,P6e(e)]):t})}globalThis&&globalThis.__awaiter;var ts=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},Ua=globalThis&&globalThis.__await||function(t){return this instanceof Ua?(this.v=t,this):new Ua(t)},IQ=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}},YU=globalThis&&globalThis.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(u){n[u]&&(o[u]=function(p){return new Promise(function(A,h){i.push([u,p,A,h])>1||a(u,p)})})}function a(u,p){try{c(n[u](p))}catch(A){l(i[0][3],A)}}function c(u){u.value instanceof Ua?Promise.resolve(u.value.v).then(d,f):l(i[0][2],u)}function d(u){a("next",u)}function f(u){a("throw",u)}function l(u,p){u(p),i.shift(),i.length&&a(i[0][0],i[0][1])}};function mp(t,e){return ts(this,void 0,void 0,function*(){return new Fv(t,Object.assign(Object.assign({},e),{keyEncoding:"utf8"}))})}class F0{constructor(e,r){this.config=Object.assign({createLevelDatabase:mp},e),this.db=r}open(){return ts(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(e=>{this.db.once("open",e)});case"closing":return new Promise((e,r)=>{const n=()=>{this.db.open().then(e).catch(r)};this.db.once("closed",n)});case"closed":return this.db.open()}})}close(){return ts(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((e,r)=>{const n=()=>{this.db.close().then(e).catch(r)};this.db.once("open",n)});case"closing":return new Promise(e=>{this.db.once("closed",e)});case"closed":return}})}partition(e){return ts(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new F0(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(e,r){var n;return ts(this,void 0,void 0,function*(){(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield pn(this.createLevelDatabase(),r?.signal);try{return yield pn(this.db.get(String(e)),r?.signal)}catch(o){if(o.code==="LEVEL_NOT_FOUND")return;throw o}})}has(e,r){return ts(this,void 0,void 0,function*(){return!!(yield this.get(e,r))})}keys(e){var r,n;return YU(this,arguments,function*(){var i,s,a,c;(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield Ua(pn(this.createLevelDatabase(),e?.signal));try{for(var d=!0,f=IQ(this.db.keys()),l;l=yield Ua(f.next()),i=l.done,!i;d=!0){c=l.value,d=!1;const u=c;(n=e?.signal)===null||n===void 0||n.throwIfAborted(),yield yield Ua(u)}}catch(u){s={error:u}}finally{try{!d&&!i&&(a=f.return)&&(yield Ua(a.call(f)))}finally{if(s)throw s.error}}})}iterator(e,r){var n,o;return YU(this,arguments,function*(){var s,a,c,d;(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield Ua(pn(this.createLevelDatabase(),r?.signal));try{for(var f=!0,l=IQ(this.db.iterator(e)),u;u=yield Ua(l.next()),s=u.done,!s;f=!0){d=u.value,f=!1;const p=d;(o=r?.signal)===null||o===void 0||o.throwIfAborted(),yield yield Ua(p)}}catch(p){a={error:p}}finally{try{!f&&!s&&(c=l.return)&&(yield Ua(c.call(l)))}finally{if(a)throw a.error}}})}put(e,r,n){var o;return ts(this,void 0,void 0,function*(){return(o=n?.signal)===null||o===void 0||o.throwIfAborted(),yield pn(this.createLevelDatabase(),n?.signal),pn(this.db.put(String(e),r),n?.signal)})}delete(e,r){var n;return ts(this,void 0,void 0,function*(){return(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield pn(this.createLevelDatabase(),r?.signal),pn(this.db.del(String(e)),r?.signal)})}isEmpty(e){var r,n,o,i;return ts(this,void 0,void 0,function*(){try{for(var s=!0,a=IQ(this.keys(e)),c;c=yield a.next(),r=c.done,!r;s=!0){i=c.value,s=!1;const d=i;return!1}}catch(d){n={error:d}}finally{try{!s&&!r&&(o=a.return)&&(yield o.call(a))}finally{if(n)throw n.error}}return!0})}clear(){return ts(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(e,r){var n;return ts(this,void 0,void 0,function*(){return(n=r?.signal)===null||n===void 0||n.throwIfAborted(),yield pn(this.createLevelDatabase(),r?.signal),pn(this.db.batch(e),r?.signal)})}compactUnderlyingStorage(e){var r,n,o;return ts(this,void 0,void 0,function*(){(r=e?.signal)===null||r===void 0||r.throwIfAborted(),yield pn(this.createLevelDatabase(),e?.signal);const i=this.sublevelRange;if(!i)return;const s=this.root;if(s.db.supports.additionalMethods.compactRange)return pn((o=(n=s.db).compactRange)===null||o===void 0?void 0:o.call(n,...i),e?.signal)})}get sublevelRange(){const e=this.db.prefix;if(!e)return;const r=e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1);return[e,r]}get root(){let e=this.db;for(const r=e.db;r&&r!==e;)e=r;return new F0(this.config,e)}createLevelDatabase(){var e;return ts(this,void 0,void 0,function*(){(e=this.db)!==null&&e!==void 0||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Df=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},E1=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}},Yn=globalThis&&globalThis.__await||function(t){return this instanceof Yn?(this.v=t,this):new Yn(t)},v1=globalThis&&globalThis.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(u){n[u]&&(o[u]=function(p){return new Promise(function(A,h){i.push([u,p,A,h])>1||a(u,p)})})}function a(u,p){try{c(n[u](p))}catch(A){l(i[0][3],A)}}function c(u){u.value instanceof Yn?Promise.resolve(u.value.v).then(d,f):l(i[0][2],u)}function d(u){a("next",u)}function f(u){a("throw",u)}function l(u,p){u(p),i.shift(),i.length&&a(i[0][0],i[0][1])}};class MC{constructor(e,r){this.config=Object.assign({createLevelDatabase:mp},e),this.db=r??new F0(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Df(this,void 0,void 0,function*(){return this.db.open()})}close(){return Df(this,void 0,void 0,function*(){return this.db.close()})}partition(e){return Df(this,void 0,void 0,function*(){const r=yield this.db.partition(e);return new MC(Object.assign(Object.assign({},this.config),{location:""}),r)})}put(e,r,n){return Df(this,void 0,void 0,function*(){return yield this.db.put(String(e),r,n),ln.parse(e.toString())})}get(e,r){return Df(this,void 0,void 0,function*(){return yield this.db.get(String(e),r)})}has(e,r){return Df(this,void 0,void 0,function*(){return this.db.has(String(e),r)})}delete(e,r){return Df(this,void 0,void 0,function*(){return this.db.delete(String(e),r)})}isEmpty(e){return Df(this,void 0,void 0,function*(){return this.db.isEmpty(e)})}putMany(e,r){return v1(this,arguments,function*(){var o,i,s,a;try{for(var c=!0,d=E1(e),f;f=yield Yn(d.next()),o=f.done,!o;c=!0){a=f.value,c=!1;const l=a;yield Yn(this.put(l.cid,l.block,r)),yield yield Yn(l.cid)}}catch(l){i={error:l}}finally{try{!c&&!o&&(s=d.return)&&(yield Yn(s.call(d)))}finally{if(i)throw i.error}}})}getMany(e,r){return v1(this,arguments,function*(){var o,i,s,a;try{for(var c=!0,d=E1(e),f;f=yield Yn(d.next()),o=f.done,!o;c=!0){a=f.value,c=!1;const l=a;yield yield Yn({cid:l,block:yield Yn(this.get(l,r))})}}catch(l){i={error:l}}finally{try{!c&&!o&&(s=d.return)&&(yield Yn(s.call(d)))}finally{if(i)throw i.error}}})}getAll(e){return v1(this,arguments,function*(){var n,o,i,s;const a=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);try{for(var c=!0,d=E1(a),f;f=yield Yn(d.next()),n=f.done,!n;c=!0){s=f.value,c=!1;const[l,u]=s;yield yield Yn({cid:ln.decode(l),block:u})}}catch(l){o={error:l}}finally{try{!c&&!n&&(i=d.return)&&(yield Yn(i.call(d)))}finally{if(o)throw o.error}}})}deleteMany(e,r){return v1(this,arguments,function*(){var o,i,s,a;try{for(var c=!0,d=E1(e),f;f=yield Yn(d.next()),o=f.done,!o;c=!0){a=f.value,c=!1;const l=a;yield Yn(this.delete(l,r)),yield yield Yn(l)}}catch(l){i={error:l}}finally{try{!c&&!o&&(s=d.return)&&(yield Yn(s.call(d)))}finally{if(i)throw i.error}}})}clear(){return Df(this,void 0,void 0,function*(){return this.db.clear()})}}function O6e(t){return t[Symbol.asyncIterator]!=null}function K6e(t){if(O6e(t))return(async()=>{let r;for await(const n of t)r=n;return r})();let e;for(const r of t)e=r;return e}const pz=0,H6e="identity",yz=P0,L6e=t=>Cb(pz,yz(t)),G6e={code:pz,name:H6e,encode:yz,digest:L6e},q6e=async(t,e,r,n,o,i,s,a)=>{const c=await s.get(t,a),d=ZH(c);let f=d,l=r;for(;n.length>0;){const u=n[0];if(u in f){n.shift(),l=`${l}/${u}`;const p=ln.asCID(f[u]);if(p!=null)return{entry:{type:"object",name:e,path:r,cid:t,node:c,depth:i,size:BigInt(c.length),content:async function*(){yield d}},next:{cid:p,name:u,path:l,toResolve:n}};f=f[u]}else throw wr(new Error(`No property named ${u} found in cbor node ${t}`),"ERR_NO_PROP")}return{entry:{type:"object",name:e,path:r,cid:t,node:c,depth:i,size:BigInt(c.length),content:async function*(){yield d}}}};function nv(t,e,r,n){const o=BigInt(t.length),i=BigInt(e+o);return r>=i||n<e?new Uint8Array(0):(n>=e&&n<i&&(t=t.subarray(0,Number(n-e))),r>=e&&r<i&&(t=t.subarray(Number(r-e))),t)}const yD=(t,e=0,r=t)=>{const n=BigInt(t),o=BigInt(e??0);let i=BigInt(r);if(i!==n&&(i=o+i),i>n&&(i=n),o<0n)throw wr(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>n)throw wr(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(i<0n)throw wr(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(i>n)throw wr(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:o,end:i}},$6e=t=>{async function*e(r={}){const{start:n,end:o}=yD(t.length,r.offset,r.length),i=nv(t,0n,n,o);r.onProgress?.(new da("unixfs:exporter:progress:identity",{bytesRead:BigInt(i.byteLength),totalBytes:o-n,fileSize:BigInt(t.byteLength)})),yield i}return e},j6e=async(t,e,r,n,o,i,s,a)=>{if(n.length>0)throw wr(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");const c=T6(t.multihash.bytes);return{entry:{type:"identity",name:e,path:r,cid:t,content:$6e(c.digest),depth:i,size:BigInt(c.digest.length),node:c.digest}}},z6e=t=>{async function*e(r={}){const{start:n,end:o}=yD(t.length,r.offset,r.length),i=nv(t,0n,n,o);r.onProgress?.(new da("unixfs:exporter:progress:raw",{bytesRead:BigInt(i.byteLength),totalBytes:o-n,fileSize:BigInt(t.byteLength)})),yield i}return e},Y6e=async(t,e,r,n,o,i,s,a)=>{if(n.length>0)throw wr(new Error(`No link named ${r} found in raw node ${t}`),"ERR_NOT_FOUND");const c=await s.get(t,a);return{entry:{type:"raw",name:e,path:r,cid:t,content:z6e(c),depth:i,size:BigInt(c.length),node:c}}},J6e=async function(t){return(await pL.encode(t)).slice(0,8).reverse()},V6e=async(t,e,r)=>{await Promise.all(t.map(async n=>{if(n.Name==null)throw new Error("Unexpected Link without a Name");if(n.Name.length===2){const o=parseInt(n.Name,16);e._putObjectAt(o,new gs({hash:r._options.hash,bits:r._options.bits},e,o));return}await r.put(n.Name.substring(2),!0)}))},JU=t=>t.toString(16).toUpperCase().padStart(2,"0").substring(0,2),W6e=t=>{let e=t.bucket;const r=[];for(;e._parent!=null;)r.push(e),e=e._parent;return r.push(e),r.reverse()},Iz=async(t,e,r,n,o)=>{if(n==null){const f=mL({hashFn:J6e});n={rootBucket:f,hamtDepth:1,lastBucket:f}}await V6e(t.Links,n.lastBucket,n.rootBucket);const i=await n.rootBucket._findNewBucketAndPos(e);let s=JU(i.pos);const a=W6e(i);a.length>n.hamtDepth&&(n.lastBucket=a[n.hamtDepth],s=JU(n.lastBucket._posAtParent));const c=t.Links.find(f=>{if(f.Name==null)return!1;const l=f.Name.substring(0,2),u=f.Name.substring(2);return!(l!==s||u!==""&&u!==e)});if(c==null)return;if(c.Name!=null&&c.Name.substring(2)===e)return c.Hash;n.hamtDepth++;const d=await r.get(c.Hash,o);return t=hm(d),Iz(t,e,r,n,o)};function mz(t){const[e,r]=t[Symbol.asyncIterator]!=null?[t[Symbol.asyncIterator](),Symbol.asyncIterator]:[t[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>e.next(),push:o=>{n.push(o)},next:()=>n.length>0?{done:!1,value:n.shift()}:e.next(),[r](){return this}}}function Z6e(t){return t[Symbol.asyncIterator]!=null}function X6e(t,e){if(Z6e(t))return async function*(){for await(const a of t)await e(a)&&(yield a)}();const r=mz(t),{value:n,done:o}=r.next();if(o===!0)return function*(){}();const i=e(n);if(typeof i.then=="function")return async function*(){await i&&(yield n);for await(const a of r)await e(a)&&(yield a)}();const s=e;return function*(){i===!0&&(yield n);for(const a of r)s(a)&&(yield a)}()}function e4e(t){return t[Symbol.asyncIterator]!=null}function ID(t,e){if(e4e(t))return async function*(){for await(const a of t)yield e(a)}();const r=mz(t),{value:n,done:o}=r.next();if(o===!0)return function*(){}();const i=e(n);if(typeof i.then=="function")return async function*(){yield await i;for await(const a of r)yield e(a)}();const s=e;return function*(){yield i;for(const a of r)yield s(a)}()}function Ag(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const B1=globalThis.CustomEvent??Event;async function*mD(t,e={}){let r=e.concurrency??1/0;r<1&&(r=1/0);const n=e.ordered==null?!1:e.ordered,o=new EventTarget,i=[];let s=Ag(),a=Ag(),c=!1,d,f=!1;o.addEventListener("task-complete",()=>{a.resolve()}),Promise.resolve().then(async()=>{try{for await(const A of t){if(i.length===r&&(s=Ag(),await s.promise),f)break;const h={done:!1};i.push(h),A().then(y=>{h.done=!0,h.ok=!0,h.value=y,o.dispatchEvent(new B1("task-complete"))},y=>{h.done=!0,h.err=y,o.dispatchEvent(new B1("task-complete"))})}c=!0,o.dispatchEvent(new B1("task-complete"))}catch(A){d=A,o.dispatchEvent(new B1("task-complete"))}});function l(){return n?i[0]?.done:!!i.find(A=>A.done)}function*u(){for(;i.length>0&&i[0].done;){const A=i[0];if(i.shift(),A.ok)yield A.value;else throw f=!0,s.resolve(),A.err;s.resolve()}}function*p(){for(;l();)for(let A=0;A<i.length;A++)if(i[A].done){const h=i[A];if(i.splice(A,1),A--,h.ok)yield h.value;else throw f=!0,s.resolve(),h.err;s.resolve()}}for(;;){if(l()||(a=Ag(),await a.promise),d!=null)throw d;if(n?yield*u():yield*p(),c&&i.length===0)break}}class VU{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}class mQ{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new VU(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return e?.byteLength!=null?e.byteLength:1}push(e){if(e?.value!=null&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const r=this.head;this.head=r.next=new VU(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next!=null){const r=this.tail.next;this.tail.next=null,this.tail=r,e=this.tail.shift()}return e?.value!=null&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}let t4e=class extends Error{type;code;constructor(e,r){super(e??"The operation was aborted"),this.type="aborted",this.code=r??"ABORT_ERR"}};function wD(t={}){return r4e(r=>{const n=r.shift();if(n==null)return{done:!0};if(n.error!=null)throw n.error;return{done:n.done===!0,value:n.value}},t)}function r4e(t,e){e=e??{};let r=e.onEnd,n=new mQ,o,i,s,a=Ag();const c=async()=>{try{return n.isEmpty()?s?{done:!0}:await new Promise((y,v)=>{i=B=>{i=null,n.push(B);try{y(t(n))}catch(S){v(S)}return o}}):t(n)}finally{n.isEmpty()&&queueMicrotask(()=>{a.resolve(),a=Ag()})}},d=y=>i!=null?i(y):(n.push(y),o),f=y=>(n=new mQ,i!=null?i({error:y}):(n.push({error:y}),o)),l=y=>{if(s)return o;if(e?.objectMode!==!0&&y?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return d({done:!1,value:y})},u=y=>s?o:(s=!0,y!=null?f(y):d({done:!0})),p=()=>(n=new mQ,u(),{done:!0}),A=y=>(u(y),{done:!0});if(o={[Symbol.asyncIterator](){return this},next:c,return:p,throw:A,push:l,end:u,get readableLength(){return n.size},onEmpty:async y=>{const v=y?.signal;if(v?.throwIfAborted(),n.isEmpty())return;let B,S;v!=null&&(B=new Promise((x,Q)=>{S=()=>{Q(new t4e)},v.addEventListener("abort",S)}));try{await Promise.race([a.promise,B])}finally{S!=null&&v!=null&&v?.removeEventListener("abort",S)}}},r==null)return o;const h=o;return o={[Symbol.asyncIterator](){return this},next(){return h.next()},throw(y){return h.throw(y),r!=null&&(r(y),r=void 0),{done:!0}},return(){return h.return(),r!=null&&(r(),r=void 0),{done:!0}},push:l,end(y){return h.end(y),r!=null&&(r(y),r=void 0),o},get readableLength(){return h.readableLength},onEmpty:y=>h.onEmpty(y)},o}function n4e(t){return t[Symbol.asyncIterator]!=null}function i4e(...t){const e=[];for(const r of t)n4e(r)||e.push(r);return e.length===t.length?function*(){for(const r of e)yield*r}():async function*(){const r=wD({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(t.map(async n=>{for await(const o of n)r.push(o)})),r.end()}catch(n){r.end(n)}}),yield*r}()}function bD(t,...e){if(t==null)throw new Error("Empty pipeline");if(wQ(t)){const n=t;t=()=>n.source}else if(bz(t)||wz(t)){const n=t;t=()=>n}const r=[t,...e];if(r.length>1&&wQ(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let n=1;n<r.length-1;n++)wQ(r[n])&&(r[n]=s4e(r[n]));return o4e(...r)}const o4e=(...t)=>{let e;for(;t.length>0;)e=t.shift()(e);return e},wz=t=>t?.[Symbol.asyncIterator]!=null,bz=t=>t?.[Symbol.iterator]!=null,wQ=t=>t==null?!1:t.sink!=null&&t.source!=null,s4e=t=>e=>{const r=t.sink(e);if(r?.then!=null){const n=wD({objectMode:!0});r.then(()=>{n.end()},s=>{n.end(s)});let o;const i=t.source;if(wz(i))o=async function*(){yield*i,n.end()};else if(bz(i))o=function*(){yield*i,n.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return i4e(n,o())}return t.source},a4e=(t,e,r,n,o,i,s)=>{async function*a(c={}){const d=c.offset??0,f=c.length??e.Links.length,l=e.Links.slice(d,f);c.onProgress?.(new da("unixfs:exporter:walk:directory",{cid:t})),yield*bD(l,u=>ID(u,p=>async()=>{const A=p.Name??"",h=`${n}/${A}`;return(await o(p.Hash,A,h,[],i+1,s,c)).entry}),u=>mD(u,{ordered:!0}),u=>X6e(u,p=>p!=null))}return a};var Ez={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function i(c,d,f,l,u){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new o(f,l||c,u),A=r?r+d:d;return c._events[A]?c._events[A].fn?c._events[A]=[c._events[A],p]:c._events[A].push(p):(c._events[A]=p,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],f,l;if(this._eventsCount===0)return d;for(l in f=this._events)e.call(f,l)&&d.push(r?l.slice(1):l);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},a.prototype.listeners=function(d){var f=r?r+d:d,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var u=0,p=l.length,A=new Array(p);u<p;u++)A[u]=l[u].fn;return A},a.prototype.listenerCount=function(d){var f=r?r+d:d,l=this._events[f];return l?l.fn?1:l.length:0},a.prototype.emit=function(d,f,l,u,p,A){var h=r?r+d:d;if(!this._events[h])return!1;var y=this._events[h],v=arguments.length,B,S;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,l),!0;case 4:return y.fn.call(y.context,f,l,u),!0;case 5:return y.fn.call(y.context,f,l,u,p),!0;case 6:return y.fn.call(y.context,f,l,u,p,A),!0}for(S=1,B=new Array(v-1);S<v;S++)B[S-1]=arguments[S];y.fn.apply(y.context,B)}else{var x=y.length,Q;for(S=0;S<x;S++)switch(y[S].once&&this.removeListener(d,y[S].fn,void 0,!0),v){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,l);break;case 4:y[S].fn.call(y[S].context,f,l,u);break;default:if(!B)for(Q=1,B=new Array(v-1);Q<v;Q++)B[Q-1]=arguments[Q];y[S].fn.apply(y[S].context,B)}}return!0},a.prototype.on=function(d,f,l){return i(this,d,f,l,!1)},a.prototype.once=function(d,f,l){return i(this,d,f,l,!0)},a.prototype.removeListener=function(d,f,l,u){var p=r?r+d:d;if(!this._events[p])return this;if(!f)return s(this,p),this;var A=this._events[p];if(A.fn)A.fn===f&&(!u||A.once)&&(!l||A.context===l)&&s(this,p);else{for(var h=0,y=[],v=A.length;h<v;h++)(A[h].fn!==f||u&&!A[h].once||l&&A[h].context!==l)&&y.push(A[h]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},a.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Ez);var c4e=Ez.exports;const f4e=Qo(c4e);class vz extends Error{constructor(e){super(e),this.name="TimeoutError"}}let d4e=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}};const WU=t=>globalThis.DOMException===void 0?new d4e(t):new DOMException(t),ZU=t=>{const e=t.reason===void 0?WU("This operation was aborted."):t.reason;return e instanceof Error?e:WU(e)};function l4e(t,e,r,n){let o;const i=new Promise((s,a)=>{if(typeof e!="number"||Math.sign(e)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e===Number.POSITIVE_INFINITY){s(t);return}if(n={customTimers:{setTimeout,clearTimeout},...n},n.signal){const{signal:c}=n;c.aborted&&a(ZU(c)),c.addEventListener("abort",()=>{a(ZU(c))})}o=n.customTimers.setTimeout.call(void 0,()=>{if(typeof r=="function"){try{s(r())}catch(f){a(f)}return}const c=typeof r=="string"?r:`Promise timed out after ${e} milliseconds`,d=r instanceof Error?r:new vz(c);typeof t.cancel=="function"&&t.cancel(),a(d)},e),(async()=>{try{s(await t)}catch(c){a(c)}finally{n.customTimers.clearTimeout.call(void 0,o)}})()});return i.clear=()=>{clearTimeout(o),o=void 0},i}function u4e(t,e,r){let n=0,o=t.length;for(;o>0;){const i=Math.trunc(o/2);let s=n+i;r(t[s],e)<=0?(n=++s,o-=i+1):o=i}return n}var ju=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Of;class h4e{constructor(){Of.set(this,[])}enqueue(e,r){r={priority:0,...r};const n={priority:r.priority,run:e};if(this.size&&ju(this,Of,"f")[this.size-1].priority>=r.priority){ju(this,Of,"f").push(n);return}const o=u4e(ju(this,Of,"f"),n,(i,s)=>s.priority-i.priority);ju(this,Of,"f").splice(o,0,n)}dequeue(){const e=ju(this,Of,"f").shift();return e?.run}filter(e){return ju(this,Of,"f").filter(r=>r.priority===e.priority).map(r=>r.run)}get size(){return ju(this,Of,"f").length}}Of=new WeakMap;var Wr=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},Ge=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},yn,Ly,Gy,Ql,iv,qy,ub,ka,Ey,ss,hb,As,$y,El,Ab,XU,eR,Bz,tR,rR,gb,bQ,EQ,ov,Cz,pb;class Qz extends Error{}class A4e extends f4e{constructor(e){var r,n,o,i;if(super(),yn.add(this),Ly.set(this,void 0),Gy.set(this,void 0),Ql.set(this,0),iv.set(this,void 0),qy.set(this,void 0),ub.set(this,0),ka.set(this,void 0),Ey.set(this,void 0),ss.set(this,void 0),hb.set(this,void 0),As.set(this,0),$y.set(this,void 0),El.set(this,void 0),Ab.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:h4e,...e},!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=e.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(i=(o=e.interval)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""}\` (${typeof e.interval})`);Wr(this,Ly,e.carryoverConcurrencyCount,"f"),Wr(this,Gy,e.intervalCap===Number.POSITIVE_INFINITY||e.interval===0,"f"),Wr(this,iv,e.intervalCap,"f"),Wr(this,qy,e.interval,"f"),Wr(this,ss,new e.queueClass,"f"),Wr(this,hb,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Wr(this,Ab,e.throwOnTimeout===!0,"f"),Wr(this,El,e.autoStart===!1,"f")}get concurrency(){return Ge(this,$y,"f")}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);Wr(this,$y,e,"f"),Ge(this,yn,"m",ov).call(this)}async add(e,r={}){return r={timeout:this.timeout,throwOnTimeout:Ge(this,Ab,"f"),...r},new Promise((n,o)=>{Ge(this,ss,"f").enqueue(async()=>{var i,s,a;Wr(this,As,(s=Ge(this,As,"f"),s++,s),"f"),Wr(this,Ql,(a=Ge(this,Ql,"f"),a++,a),"f");try{if(!((i=r.signal)===null||i===void 0)&&i.aborted)throw new Qz("The task was aborted.");let c=e({signal:r.signal});r.timeout&&(c=l4e(Promise.resolve(c),r.timeout)),r.signal&&(c=Promise.race([c,Ge(this,yn,"m",Cz).call(this,r.signal)]));const d=await c;n(d),this.emit("completed",d)}catch(c){if(c instanceof vz&&!r.throwOnTimeout){n();return}o(c),this.emit("error",c)}finally{Ge(this,yn,"m",Bz).call(this)}},r),this.emit("add"),Ge(this,yn,"m",gb).call(this)})}async addAll(e,r){return Promise.all(e.map(async n=>this.add(n,r)))}start(){return Ge(this,El,"f")?(Wr(this,El,!1,"f"),Ge(this,yn,"m",ov).call(this),this):this}pause(){Wr(this,El,!0,"f")}clear(){Wr(this,ss,new(Ge(this,hb,"f")),"f")}async onEmpty(){Ge(this,ss,"f").size!==0&&await Ge(this,yn,"m",pb).call(this,"empty")}async onSizeLessThan(e){Ge(this,ss,"f").size<e||await Ge(this,yn,"m",pb).call(this,"next",()=>Ge(this,ss,"f").size<e)}async onIdle(){Ge(this,As,"f")===0&&Ge(this,ss,"f").size===0||await Ge(this,yn,"m",pb).call(this,"idle")}get size(){return Ge(this,ss,"f").size}sizeBy(e){return Ge(this,ss,"f").filter(e).length}get pending(){return Ge(this,As,"f")}get isPaused(){return Ge(this,El,"f")}}Ly=new WeakMap,Gy=new WeakMap,Ql=new WeakMap,iv=new WeakMap,qy=new WeakMap,ub=new WeakMap,ka=new WeakMap,Ey=new WeakMap,ss=new WeakMap,hb=new WeakMap,As=new WeakMap,$y=new WeakMap,El=new WeakMap,Ab=new WeakMap,yn=new WeakSet,XU=function(){return Ge(this,Gy,"f")||Ge(this,Ql,"f")<Ge(this,iv,"f")},eR=function(){return Ge(this,As,"f")<Ge(this,$y,"f")},Bz=function(){var e;Wr(this,As,(e=Ge(this,As,"f"),e--,e),"f"),Ge(this,yn,"m",gb).call(this),this.emit("next")},tR=function(){Ge(this,yn,"m",EQ).call(this),Ge(this,yn,"m",bQ).call(this),Wr(this,Ey,void 0,"f")},rR=function(){const e=Date.now();if(Ge(this,ka,"f")===void 0){const r=Ge(this,ub,"f")-e;if(r<0)Wr(this,Ql,Ge(this,Ly,"f")?Ge(this,As,"f"):0,"f");else return Ge(this,Ey,"f")===void 0&&Wr(this,Ey,setTimeout(()=>{Ge(this,yn,"m",tR).call(this)},r),"f"),!0}return!1},gb=function(){if(Ge(this,ss,"f").size===0)return Ge(this,ka,"f")&&clearInterval(Ge(this,ka,"f")),Wr(this,ka,void 0,"f"),this.emit("empty"),Ge(this,As,"f")===0&&this.emit("idle"),!1;if(!Ge(this,El,"f")){const e=!Ge(this,yn,"a",rR);if(Ge(this,yn,"a",XU)&&Ge(this,yn,"a",eR)){const r=Ge(this,ss,"f").dequeue();return r?(this.emit("active"),r(),e&&Ge(this,yn,"m",bQ).call(this),!0):!1}}return!1},bQ=function(){Ge(this,Gy,"f")||Ge(this,ka,"f")!==void 0||(Wr(this,ka,setInterval(()=>{Ge(this,yn,"m",EQ).call(this)},Ge(this,qy,"f")),"f"),Wr(this,ub,Date.now()+Ge(this,qy,"f"),"f"))},EQ=function(){Ge(this,Ql,"f")===0&&Ge(this,As,"f")===0&&Ge(this,ka,"f")&&(clearInterval(Ge(this,ka,"f")),Wr(this,ka,void 0,"f")),Wr(this,Ql,Ge(this,Ly,"f")?Ge(this,As,"f"):0,"f"),Ge(this,yn,"m",ov).call(this)},ov=function(){for(;Ge(this,yn,"m",gb).call(this););},Cz=async function(e){return new Promise((r,n)=>{e.addEventListener("abort",()=>{n(new Qz("The task was aborted."))},{once:!0})})},pb=async function(e,r){return new Promise(n=>{const o=()=>{r&&!r()||(this.off(e,o),n())};this.on(e,o)})};async function xz(t,e,r,n,o,i,s){if(e instanceof Uint8Array){const d=nv(e,n,o,i);r.push(d);return}if(e.Data==null)throw wr(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let a;try{a=Wa.unmarshal(e.Data)}catch(d){throw wr(d,"ERR_NOT_UNIXFS")}if(a.data!=null){const d=a.data,f=nv(d,n,o,i);r.push(f),n+=BigInt(f.byteLength)}const c=[];if(e.Links.length!==a.blockSizes.length)throw wr(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let d=0;d<e.Links.length;d++){const f=e.Links[d],l=n,u=l+a.blockSizes[d];if((o>=l&&o<u||i>=l&&i<=u||o<l&&i>u)&&c.push({link:f,blockStart:n}),n=u,n>i)break}await bD(c,d=>ID(d,f=>async()=>{const l=await t.get(f.link.Hash,s);return{...f,block:l}}),d=>mD(d,{ordered:!0}),async d=>{for await(const{link:f,block:l,blockStart:u}of d){let p;switch(f.Hash.code){case CS:p=hm(l);break;case f0:p=l;break;default:r.end(wr(new Error(`Unsupported codec: ${f.Hash.code}`),"ERR_NOT_UNIXFS"));return}const A=new A4e({concurrency:1});A.on("error",h=>{r.end(h)}),A.add(async()=>{s.onProgress?.(new da("unixfs:exporter:walk:file",{cid:f.Hash})),await xz(t,p,r,u,o,i,s)}),await A.onIdle()}}),n>=i&&r.end()}const nR=(t,e,r,n,o,i,s)=>{async function*a(c={}){const d=r.fileSize();if(d===void 0)throw new Error("File was a directory");const{start:f,end:l}=yD(d,c.offset,c.length);if(l===0n)return;let u=0n;const p=l-f,A=wD();c.onProgress?.(new da("unixfs:exporter:walk:file",{cid:t})),xz(s,e,A,0n,f,l,c).catch(h=>{A.end(h)});for await(const h of A)if(h!=null){if(u+=BigInt(h.byteLength),u>p)throw A.end(),wr(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");u===p&&A.end(),c.onProgress?.(new da("unixfs:exporter:progress:unixfs:file",{bytesRead:u,totalBytes:p,fileSize:d})),yield h}if(u<p)throw wr(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")}return a},g4e=(t,e,r,n,o,i,s)=>{function a(c={}){return c.onProgress?.(new da("unixfs:exporter:walk:hamt-sharded-directory",{cid:t})),Sz(e,n,o,i,s,c)}return a};async function*Sz(t,e,r,n,o,i){const s=t.Links,a=bD(s,c=>ID(c,d=>async()=>{const f=d.Name!=null?d.Name.substring(2):null;if(f!=null&&f!==""){const l=await r(d.Hash,f,`${e}/${f}`,[],n+1,o,i);return{entries:l.entry==null?[]:[l.entry]}}else{const l=await o.get(d.Hash,i);return t=hm(l),i.onProgress?.(new da("unixfs:exporter:walk:hamt-sharded-directory",{cid:d.Hash})),{entries:Sz(t,e,r,n,o,i)}}}),c=>mD(c,{ordered:!0}));for await(const{entries:c}of a)yield*c}const p4e=(t,e)=>t.Links.find(n=>n.Name===e)?.Hash,y4e={raw:nR,file:nR,directory:a4e,"hamt-sharded-directory":g4e,metadata:(t,e,r,n,o,i,s)=>()=>[],symlink:(t,e,r,n,o,i,s)=>()=>[]},I4e=async(t,e,r,n,o,i,s,a)=>{const c=await s.get(t,a),d=hm(c);let f,l;if(e==null&&(e=t.toString()),d.Data==null)throw wr(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{f=Wa.unmarshal(d.Data)}catch(p){throw wr(p,"ERR_NOT_UNIXFS")}if(r==null&&(r=e),n.length>0){let p;if(f?.type==="hamt-sharded-directory"?p=await Iz(d,n[0],s):p=p4e(d,n[0]),p==null)throw wr(new Error("file does not exist"),"ERR_NOT_FOUND");const A=n.shift(),h=`${r}/${A}`;l={cid:p,toResolve:n,name:A??"",path:h}}const u=y4e[f.type](t,d,f,r,o,i,s);if(u==null)throw wr(new Error("could not find content exporter"),"ERR_NOT_FOUND");return f.isDirectory()?{entry:{type:"directory",name:e,path:r,cid:t,content:u,unixfs:f,depth:i,node:d,size:f.fileSize()},next:l}:{entry:{type:"file",name:e,path:r,cid:t,content:u,unixfs:f,depth:i,node:d,size:f.fileSize()},next:l}},m4e={[CS]:I4e,[f0]:Y6e,[QB]:q6e,[G6e.code]:j6e},_z=async(t,e,r,n,o,i,s)=>{const a=m4e[t.code];if(a==null)throw wr(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return a(t,e,r,n,_z,o,i,s)},w4e=(t="")=>(t.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean),b4e=t=>{if(t instanceof Uint8Array)return{cid:ln.decode(t),toResolve:[]};const e=ln.asCID(t);if(e!=null)return{cid:e,toResolve:[]};if(typeof t=="string"){t.indexOf("/ipfs/")===0&&(t=t.substring(6));const r=w4e(t);return{cid:ln.parse(r[0]),toResolve:r.slice(1)}}throw wr(new Error(`Unknown path type ${t}`),"ERR_BAD_PATH")};async function*E4e(t,e,r={}){let{cid:n,toResolve:o}=b4e(t),i=n.toString(),s=i;const a=o.length;for(;;){const c=await _z(n,i,s,o,a,e,r);if(c.entry==null&&c.next==null)throw wr(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");if(c.entry!=null&&(yield c.entry),c.next==null)return;o=c.next.toResolve,n=c.next.cid,i=c.next.name,s=c.next.path}}async function iR(t,e,r={}){const n=await K6e(E4e(t,e,r));if(n==null)throw wr(new Error(`Could not resolve ${t}`),"ERR_NOT_FOUND");return n}var pc=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},v4e=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};const oR=new Uint8Array;class B4e{constructor(e={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:mp},e),this.blockstore=new MC({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return pc(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return pc(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(e,r,n,o){var i,s,a,c,d,f;return pc(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForReferenceCounting(e,n)).put(r,oR);const u=yield this.getBlockstoreForStoringData(e,n),p=hx([{content:o}],u,{cidVersion:1});let A;try{for(var h=!0,y=v4e(p),v;v=yield y.next(),i=v.done,!i;h=!0)c=v.value,h=!1,A=c}catch(B){s={error:B}}finally{try{!h&&!i&&(a=y.return)&&(yield a.call(y))}finally{if(s)throw s.error}}return{dataCid:String(A.cid),dataSize:Number((f=(d=A.unixfs)===null||d===void 0?void 0:d.fileSize())!==null&&f!==void 0?f:A.size)}})}get(e,r,n){return pc(this,void 0,void 0,function*(){if(!(yield(yield this.getBlockstoreForReferenceCounting(e,n)).has(r)))return;const s=yield this.getBlockstoreForStoringData(e,n);if(!(yield s.has(n)))return;const c=yield iR(n,s),d=c.content(),f=new lI.Readable({read(){return pc(this,void 0,void 0,function*(){const u=yield d.next();u.done?this.push(null):this.push(u.value)})}});let l=c.size;return(c.type==="file"||c.type==="directory")&&(l=c.unixfs.fileSize()),{dataCid:String(c.cid),dataSize:Number(l),dataStream:f}})}associate(e,r,n){return pc(this,void 0,void 0,function*(){const o=yield this.getBlockstoreForReferenceCounting(e,n);if(yield o.isEmpty())return;const s=yield this.getBlockstoreForStoringData(e,n);if(!(yield s.has(n)))return;yield o.put(r,oR);const c=yield iR(n,s);let d=c.size;return(c.type==="file"||c.type==="directory")&&(d=c.unixfs.fileSize()),{dataCid:String(c.cid),dataSize:Number(d)}})}delete(e,r,n){return pc(this,void 0,void 0,function*(){const o=yield this.getBlockstoreForReferenceCounting(e,n);if(yield o.delete(r),!(yield o.isEmpty()))return;yield(yield this.getBlockstoreForStoringData(e,n)).clear()})}clear(){return pc(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForReferenceCounting(e,r){return pc(this,void 0,void 0,function*(){const n="references";return yield(yield(yield this.blockstore.partition(n)).partition(e)).partition(r)})}getBlockstoreForStoringData(e,r){return pc(this,void 0,void 0,function*(){const n="data";return yield(yield(yield this.blockstore.partition(n)).partition(e)).partition(r)})}}function vQ(t){if(!ED(t))throw new Error("Parameter was not an error")}function ED(t){return C4e(t)==="[object Error]"||t instanceof Error}function C4e(t){return Object.prototype.toString.call(t)}function Q4e(t){let e,r="";if(t.length===0)e={};else if(ED(t[0]))e={cause:t[0]},r=t.slice(1).join(" ")||"";else if(t[0]&&typeof t[0]=="object")e=Object.assign({},t[0]),r=t.slice(1).join(" ")||"";else if(typeof t[0]=="string")e={},r=r=t.join(" ")||"";else throw new Error("Invalid arguments passed to Layerr");return{options:e,shortMessage:r}}class vs extends Error{constructor(e,r){const n=[...arguments],{options:o,shortMessage:i}=Q4e(n);let s=i;if(o.cause&&(s=`${s}: ${o.cause.message}`),super(s),this.message=s,o.name&&typeof o.name=="string"?this.name=o.name:this.name="Layerr",o.cause&&Object.defineProperty(this,"_cause",{value:o.cause}),Object.defineProperty(this,"_info",{value:{}}),o.info&&typeof o.info=="object"&&Object.assign(this._info,o.info),Error.captureStackTrace){const a=o.constructorOpt||this.constructor;Error.captureStackTrace(this,a)}}static cause(e){return vQ(e),e._cause&&ED(e._cause)?e._cause:null}static fullStack(e){vQ(e);const r=vs.cause(e);return r?`${e.stack}
caused by: ${vs.fullStack(r)}`:e.stack}static info(e){vQ(e);const r={},n=vs.cause(e);return n&&Object.assign(r,vs.info(n)),e._info&&Object.assign(r,e._info),r}cause(){return vs.cause(this)}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}}const jy="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Lg=32,sR=0xffffffffffff,aR=10,x4e=16,wh=Object.freeze({source:"ulid"});function S4e(t){const e=t||_4e(),r=e&&(e.crypto||e.msCrypto)||null;if(typeof r?.getRandomValues=="function")return()=>{const n=new Uint8Array(1);return r.getRandomValues(n),n[0]/255};if(typeof r?.randomBytes=="function")return()=>r.randomBytes(1).readUInt8()/255;throw new vs({info:{code:"PRNG_DETECT",...wh}},"Failed to find a reliable PRNG")}function _4e(){return T4e()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}function D4e(t,e){let r="";for(;t>0;t--)r=M4e(e)+r;return r}function cR(t,e){if(isNaN(t))throw new vs({info:{code:"ENC_TIME_NAN",...wh}},`Time must be a number: ${t}`);if(t>sR)throw new vs({info:{code:"ENC_TIME_SIZE_EXCEED",...wh}},`Cannot encode a time larger than ${sR}: ${t}`);if(t<0)throw new vs({info:{code:"ENC_TIME_NEG",...wh}},`Time must be positive: ${t}`);if(Number.isInteger(t)===!1)throw new vs({info:{code:"ENC_TIME_TYPE",...wh}},`Time must be an integer: ${t}`);let r,n="";for(let o=e;o>0;o--)r=t%Lg,n=jy.charAt(r)+n,t=(t-r)/Lg;return n}function k4e(t){let e,r=t.length,n,o,i=t;const s=Lg-1;for(;!e&&r-->=0;){if(n=i[r],o=jy.indexOf(n),o===-1)throw new vs({info:{code:"B32_INC_ENC",...wh}},"Incorrectly encoded string");if(o===s){i=fR(i,r,jy[0]);continue}e=fR(i,r,jy[o+1])}if(typeof e=="string")return e;throw new vs({info:{code:"B32_INC_INVALID",...wh}},"Failed incrementing string")}function T4e(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}function F4e(t){const e=t||S4e();let r=0,n;return function(i){const s=isNaN(i)?Date.now():i;if(s<=r){const c=n=k4e(n);return cR(r,aR)+c}r=s;const a=n=D4e(x4e,e);return cR(s,aR)+a}}function M4e(t){let e=Math.floor(t()*Lg);return e===Lg&&(e=Lg-1),jy.charAt(e)}function fR(t,e,r){return e>t.length-1?t:t.substr(0,e)+r+t.substr(e+1)}var jA=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},U4e=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};const dR="watermarks",lR="cids";class R4e{constructor(e){this.config=Object.assign({location:"EVENTLOG",createLevelDatabase:mp},e),this.db=new F0({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,valueEncoding:"utf8"}),this.ulidFactory=F4e()}open(){return jA(this,void 0,void 0,function*(){return this.db.open()})}close(){return jA(this,void 0,void 0,function*(){return this.db.close()})}clear(){return jA(this,void 0,void 0,function*(){return this.db.clear()})}append(e,r){return jA(this,void 0,void 0,function*(){const n=yield this.db.partition(e),o=yield n.partition(dR),i=yield n.partition(lR),s=this.ulidFactory();return yield o.put(s,r),yield i.put(r,s),s})}getEvents(e,r){var n,o,i,s;return jA(this,void 0,void 0,function*(){const c=yield(yield this.db.partition(e)).partition(dR),d=[];try{for(var f=!0,l=U4e(c.iterator(r)),u;u=yield l.next(),n=u.done,!n;f=!0){s=u.value,f=!1;const[p,A]=s,h={watermark:p,messageCid:A};d.push(h)}}catch(p){o={error:p}}finally{try{!f&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(o)throw o.error}}return d})}deleteEventsByCid(e,r){return jA(this,void 0,void 0,function*(){if(r.length===0)return 0;const n=yield this.db.partition(e),o=yield n.partition(lR);let i=[];const s=[];for(const f of r){i.push({type:"del",key:f});const l=o.get(f).catch(u=>u);s.push(l)}yield o.batch(i),i=[];let a=0;const c=yield Promise.all(s);for(const f of c)f&&(i.push({type:"del",key:f}),a+=1);return yield(yield n.partition("watermarks")).batch(i),a})}}function C1({enumerable:t=!0,configurable:e=!1}={}){return{enumerable:t,configurable:e,writable:!1}}function*N4e(t,e){if(e!=null&&typeof e=="object")if(Array.isArray(e))for(const[r,n]of e.entries()){const o=[...t,r],i=ln.asCID(n);i?yield[o.join("/"),i]:typeof n=="object"&&(yield*i6(n,o))}else{const r=ln.asCID(e);r?yield[t.join("/"),r]:yield*i6(e,t)}}function*i6(t,e){if(t==null||t instanceof Uint8Array)return;const r=ln.asCID(t);r&&(yield[e.join("/"),r]);for(const[n,o]of Object.entries(t)){const i=[...e,n];yield*N4e(i,o)}}function*P4e(t,e){if(Array.isArray(e))for(const[r,n]of e.entries()){const o=[...t,r];yield o.join("/"),typeof n=="object"&&!ln.asCID(n)&&(yield*o6(n,o))}else yield*o6(e,t)}function*o6(t,e){if(!(t==null||typeof t!="object"))for(const[r,n]of Object.entries(t)){const o=[...e,r];yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!ln.asCID(n)&&(yield*P4e(o,n))}}function O4e(t,e){let r=t;for(const[n,o]of e.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${e.slice(0,n+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);const i=ln.asCID(r);if(i)return{value:i,remaining:e.slice(n+1).join("/")}}return{value:r}}class Dz{constructor({cid:e,bytes:r,value:n}){if(!e||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:C1(),bytes:C1(),value:C1(),asBlock:C1()})}links(){return i6(this.value,[])}tree(){return o6(this.value,[])}get(e="/"){return O4e(this.value,e.split("/").filter(Boolean))}}async function K4e({value:t,codec:e,hasher:r}){if(typeof t>"u")throw new Error('Missing required argument "value"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");const n=e.encode(t),o=await r.digest(n),i=ln.create(1,e.code,o);return new Dz({value:t,bytes:n,cid:i})}async function H4e({bytes:t,codec:e,hasher:r}){if(!t)throw new Error('Missing required argument "bytes"');if(!e||!r)throw new Error("Missing required argument: codec or hasher");const n=e.decode(t),o=await r.digest(t),i=ln.create(1,e.code,o);return new Dz({value:n,bytes:t,cid:i})}var uR=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},L4e=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};class G4e{static byteArraysEqual(e,r){return e.length===r.length&&e.every((o,i)=>o===r[i])}static fromAsyncGenerator(e){var r,n,o,i,s,a,c;return uR(this,void 0,void 0,function*(){const d=[];try{for(r=!0,n=L4e(e);o=yield n.next(),i=o.done,!i;r=!0){c=o.value,r=!1;const f=c;d.push(f)}}catch(f){s={error:f}}finally{try{!r&&!i&&(a=n.return)&&(yield a.call(n))}finally{if(s)throw s.error}}return d})}static asyncSort(e,r){return uR(this,void 0,void 0,function*(){for(let n=0;n<e.length;n++)for(let o=n+1;o<e.length;o++)(yield r(e[n],e[o]))>0&&([e[n],e[o]]=[e[o],e[n]]);return e})}}var kf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},hR=globalThis&&globalThis.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)}};class Gg{constructor(e){this.config=Object.assign({createLevelDatabase:mp},e),this.db=new F0(Object.assign(Object.assign({},this.config),{valueEncoding:"utf8"}))}open(){return kf(this,void 0,void 0,function*(){return this.db.open()})}close(){return kf(this,void 0,void 0,function*(){return this.db.close()})}put(e,r,n,o){return kf(this,void 0,void 0,function*(){const i=yield pn(this.db.partition(e),o?.signal);n=rwe(n);const s=[];for(const a in n){const c=n[a],d=this.join(a,this.encodeValue(c),r);s.push({type:"put",key:d,value:r})}s.push({type:"put",key:`__${r}__indexes`,value:JSON.stringify(n)}),yield i.batch(s,o)})}executeSingleFilterQuery(e,r,n,o){var i;return kf(this,void 0,void 0,function*(){const s={};for(const c in r){const d=r[c];if(typeof d=="object")if(Array.isArray(d)){s[c]=[];for(const f of new Set(d)){const l=this.findExactMatches(e,c,f,o);s[c].push(l)}}else{const f=this.findRangeMatches(e,c,d,o);s[c]=[f]}else{const f=this.findExactMatches(e,c,d,o);s[c]=[f]}}const a={};for(const[c,d]of Object.entries(s))for(const f of d)for(const l of yield f)n.has(l)||((i=a[l])!==null&&i!==void 0||(a[l]=new Set([...Object.keys(r)])),a[l].delete(c),a[l].size===0&&n.add(l))})}query(e,r,n){return kf(this,void 0,void 0,function*(){const o=new Set;for(const i of r)yield this.executeSingleFilterQuery(e,i,o,n);return[...o]})}delete(e,r,n){return kf(this,void 0,void 0,function*(){const o=yield pn(this.db.partition(e),n?.signal),i=yield o.get(`__${r}__indexes`,n);if(!i)return;const s=JSON.parse(i),a=[];for(const c in s){const d=s[c],f=this.join(c,this.encodeValue(d),r);a.push({type:"del",key:f})}a.push({type:"del",key:`__${r}__indexes`}),yield o.batch(a,n)})}clear(){return kf(this,void 0,void 0,function*(){return this.db.clear()})}findExactMatches(e,r,n,o){var i,s,a,c;return kf(this,void 0,void 0,function*(){const d=yield pn(this.db.partition(e),o?.signal),f=this.join(r,this.encodeValue(n),""),l={gt:f},u=[];try{for(var p=!0,A=hR(d.iterator(l,o)),h;h=yield A.next(),i=h.done,!i;p=!0){c=h.value,p=!1;const[y,v]=c;if(!y.startsWith(f))break;u.push(v)}}catch(y){s={error:y}}finally{try{!p&&!i&&(a=A.return)&&(yield a.call(A))}finally{if(s)throw s.error}}return u})}findRangeMatches(e,r,n,o){var i,s,a,c;return kf(this,void 0,void 0,function*(){const d=yield pn(this.db.partition(e),o?.signal),f={};for(const h in n){const y=h;f[y]=this.join(r,this.encodeValue(n[y]))}f.gt===void 0&&f.gte===void 0&&(f.reverse=!0);const l=[];try{for(var u=!0,p=hR(d.iterator(f,o)),A;A=yield p.next(),i=A.done,!i;u=!0){c=A.value,u=!1;const[h,y]=c;if(!("gt"in n&&Gg.extractValueFromKey(h)===this.encodeValue(n.gt))){if(!h.startsWith(r))break;l.push(y)}}}catch(h){s={error:h}}finally{try{!u&&!i&&(a=p.return)&&(yield a.call(p))}finally{if(s)throw s.error}}if("lte"in n)for(const h of yield this.findExactMatches(e,r,n.lte,o))l.push(h);return l})}encodeValue(e){switch(typeof e){case"string":return`"${e}"`;case"number":return Gg.encodeNumberValue(e);default:return String(e)}}static encodeNumberValue(e){const r=Number.MAX_SAFE_INTEGER,n="!",o=String(Number.MAX_SAFE_INTEGER).length,i=e<0?n:"",s=e<0?r:0;return i+String(e+s).padStart(o,"0")}static extractValueFromKey(e){const[,r]=e.split(this.delimiter);return r}join(...e){return e.join(Gg.delimiter)}}Gg.delimiter="\0";var yc=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class sv{constructor(e={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:mp},e),this.blockstore=new MC({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new Gg({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return yc(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return yc(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(e,r,n){var o;return yc(this,void 0,void 0,function*(){(o=n?.signal)===null||o===void 0||o.throwIfAborted();const i=yield pn(this.blockstore.partition(e),n?.signal),s=ln.parse(r),a=yield i.get(s,n);return a?(yield pn(H4e({bytes:a,codec:nx,hasher:Oc}),n?.signal)).value:void 0})}query(e,r,n,o,i){var s;return yc(this,void 0,void 0,function*(){(s=i?.signal)===null||s===void 0||s.throwIfAborted();const a=[],c=yield this.index.query(e,r.map(l=>Object.assign(Object.assign({},l),{tenant:e})),i);let d;for(const l of c){const u=yield this.get(e,l,i);u&&a.push(u),o?.cursor&&o.cursor===l&&(d=u)}if(o?.cursor!==void 0&&d===void 0)return{messages:[]};const f=yield sv.sortMessages(a,n);return this.paginateMessages(f,d,o)})}paginateMessages(e,r,n={}){return yc(this,void 0,void 0,function*(){const{limit:o}=n;if(r===void 0&&o===void 0)return{messages:e};const i=r?e.indexOf(r):void 0,s=i===void 0?0:i+1,a=o===void 0?void 0:s+o,c=e.slice(s,a),d=a!==void 0&&a<e.length;let f;if(d){const l=c.at(-1);f=yield Qe.getCid(l)}return{messages:c,cursor:f}})}static lexicographicalCompare(e,r,n,o){return yc(this,void 0,void 0,function*(){const i=e.descriptor[n],s=r.descriptor[n];if(o===Zf.Ascending){if(i>s)return 1;if(i<s)return-1}else{if(s>i)return 1;if(s<i)return-1}return yield Qe.compareCid(e,r)})}static sortMessages(e,r={}){return yc(this,void 0,void 0,function*(){const{dateCreated:n,datePublished:o,messageTimestamp:i}=r;let s=Zf.Ascending,a=e,c;n!==void 0?c="dateCreated":o!==void 0?(c="datePublished",a=e.filter(f=>f.descriptor.published)):i!==void 0&&(c="messageTimestamp"),c!==void 0?s=r[c]:c="messageTimestamp";const d=(f,l)=>sv.lexicographicalCompare(f,l,c,s);return yield G4e.asyncSort(a,d)})}delete(e,r,n){var o;return yc(this,void 0,void 0,function*(){(o=n?.signal)===null||o===void 0||o.throwIfAborted();const i=yield pn(this.blockstore.partition(e),n?.signal),s=ln.parse(r);yield i.delete(s,n),yield this.index.delete(e,r,n)})}put(e,r,n,o){var i;return yc(this,void 0,void 0,function*(){(i=o?.signal)===null||i===void 0||i.throwIfAborted();const s=yield pn(this.blockstore.partition(e),o?.signal),a=yield pn(K4e({value:r,codec:nx,hasher:Oc}),o?.signal),c=Wi.parseCid(yield Qe.getCid(r));yield s.put(c,a.bytes,o);const d=c.toString(),f=Object.assign(Object.assign({},n),{tenant:e});yield this.index.put(e,d,f,o)})}clear(){return yc(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var vD={};Object.defineProperty(vD,"__esModule",{value:!0});var kz=vD.ReadableWebToNodeStream=void 0;const q4e=w_;class $4e extends q4e.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}kz=vD.ReadableWebToNodeStream=$4e;globalThis&&globalThis.__awaiter;function AR(t){return cv(t.stream())}function j4e(t){var e,r;const{cryptoKeyPair:n,keyData:o}=t,i=n.privateKey,s=n.publicKey;return{privateKey:{id:(e=o.id)!==null&&e!==void 0?e:"",algorithm:i.algorithm,alias:o.alias,extractable:i.extractable,kms:o.kms,material:i.material,metadata:o.metadata,type:i.type,usages:i.usages},publicKey:{id:(r=o.id)!==null&&r!==void 0?r:"",algorithm:s.algorithm,alias:o.alias,extractable:s.extractable,kms:o.kms,material:s.material,metadata:o.metadata,type:s.type,usages:s.usages}}}function av(t){return t!==void 0&&"algorithm"in t&&"extractable"in t&&"type"in t&&"usages"in t}function Xn(t){return t!==void 0&&"privateKey"in t&&"publicKey"in t}function cv(t){return new kz(t)}var Sa=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const gR={[He.Events+Re.Get]:OI,[He.Messages+Re.Get]:Mh,[He.Records+Re.Read]:T0,[He.Records+Re.Query]:PI,[He.Records+Re.Write]:dr,[He.Records+Re.Delete]:KI,[He.Protocols+Re.Query]:Kg,[He.Protocols+Re.Configure]:Ma};class BD{constructor(e){this._agent=e.agent,this._dwn=e.dwn}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}get dwn(){return this._dwn}static create(e){return Sa(this,void 0,void 0,function*(){let{agent:r,dataPath:n,didResolver:o,dwn:i}=e??{};if(n??(n="DATA/AGENT"),i===void 0){const s=new B4e({blockstoreLocation:`${n}/DWN_DATASTORE`}),a=new R4e({location:`${n}/DWN_EVENTLOG`}),c=new sv({blockstoreLocation:`${n}/DWN_MESSAGESTORE`,indexLocation:`${n}/DWN_MESSAGEINDEX`});i=yield pD.create({dataStore:s,didResolver:o,eventLog:a,messageStore:c})}return new BD({agent:r,dwn:i})})}processRequest(e){return Sa(this,void 0,void 0,function*(){const{message:r,dataStream:n}=yield this.constructDwnMessage({request:e});let o;return e.store!==!1?o=yield this._dwn.processMessage(e.target,r,n):o={status:{code:202,detail:"Accepted"}},{reply:o,message:r,messageCid:yield Qe.getCid(r)}})}sendRequest(e){var r,n;return Sa(this,void 0,void 0,function*(){const o={targetDid:e.target};let i;if("messageCid"in e){const{message:u,data:p}=yield this.getDwnMessage({author:e.author,messageCid:e.messageCid,messageType:e.messageType});o.message=u,i=p}else{const{message:u}=yield this.constructDwnMessage({request:e});o.message=u,i=e.dataStream}i&&(o.data=i);const{didDocument:s,didResolutionMetadata:a}=yield this.agent.didResolver.resolve(e.target);if(!s){const u=(r=`${a?.error}: `)!==null&&r!==void 0?r:"",p=`Unable to resolve target DID: ${e.target}`,A=(n=a?.errorMessage)!==null&&n!==void 0?n:p;throw new Error(`DwnManager: ${u}${A}`)}const[c]=fB({didDocument:s,id:"#dwn"});if(!c)throw new Error(`DwnManager: DID Document of '${e.target}' has no service endpoints with ID '#dwn'`);if(!J4(c.serviceEndpoint))throw new Error("DwnManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");const d=c.serviceEndpoint.nodes;let f,l=[];for(let u of d){o.dwnUrl=u;try{f=yield this.agent.rpcClient.sendDwnRequest(o);break}catch(p){const A=p instanceof Error?p.message:"Uknown error";l.push({url:u,message:A})}}if(!f)throw new Error(JSON.stringify(l));return{message:o.message,messageCid:yield Qe.getCid(o.message),reply:f}})}constructDwnMessage(e){var r;return Sa(this,void 0,void 0,function*(){const{request:n}=e;let o;if(n.messageType==="RecordsWrite"){const c=n.messageOptions;if(n.dataStream&&!c.data){const{dataStream:d}=n;let f;if(d instanceof Blob)f=AR(d),o=AR(d);else if(d instanceof ReadableStream){const[l,u]=d.tee();f=cv(l),o=cv(u)}c.dataCid=yield Wi.computeDagPbCidFromStream(f),(r=c.dataSize)!==null&&r!==void 0||(c.dataSize=f.bytesRead)}}const i=yield this.constructDwnSigner(n.author);return{message:(yield gR[n.messageType].create(Object.assign(Object.assign({},n.messageOptions),{signer:i}))).message,dataStream:o}})}getAuthorSigningKeyId(e){return Sa(this,void 0,void 0,function*(){const{did:r}=e,n=yield this.agent.didManager.getDefaultSigningKey({did:r});if(!n)throw new Error(`DwnManager: Unable to determine signing key for author: '${r}'`);return n})}constructDwnSigner(e){return Sa(this,void 0,void 0,function*(){const r=yield this.getAuthorSigningKeyId({did:e}),n=$c({didUrl:r});if(!n)throw new Error(`DidIonMethod: Unable to parse DID: ${r}`);const i=`${n.did.split(":",3).join(":")}#${n.fragment}`,s=yield this.agent.keyManager.getKey({keyRef:i});if(!Xn(s))throw new Error(`DwnManager: Signing key not found for author: '${e}'`);const{alg:a}=lr.webCryptoToJose(s.privateKey.algorithm);if(a===void 0)throw Error(`No algorithm provided to sign with key ID ${r}`);return{keyId:r,algorithm:a,sign:c=>Sa(this,void 0,void 0,function*(){return yield this.agent.keyManager.sign({algorithm:s.privateKey.algorithm,data:c,keyRef:i})})}})}getDwnMessage(e){return Sa(this,void 0,void 0,function*(){const{author:r,messageType:n,messageCid:o}=e,i=yield this.constructDwnSigner(r),s=yield Mh.create({messageCids:[o],signer:i}),a=yield this._dwn.processMessage(r,s.message);if(!(a.messages&&a.messages.length===1))throw new Error("TODO: figure out error message");const[c]=a.messages;let{message:d}=c;if(!d)throw new Error("TODO: message not found");let f={message:d};if(n==="RecordsWrite"){const{encodedData:l}=c,u=d;if(l){const p=Pe.base64Url(l).toUint8Array();f.data=new Blob([p])}else{const p=yield T0.create({filter:{recordId:u.recordId},signer:i}),A=yield this._dwn.processMessage(r,p.message);if(A.status.code>=400){const{status:{code:h,detail:y}}=A;throw new Error(`(${h}) Failed to read data associated with record ${u.recordId}. ${y}}`)}else if(A.record){const h=yield Id.toBytes(A.record.data);f.data=new Blob([h])}}}return f})}createMessage(e){return Sa(this,void 0,void 0,function*(){const{author:r,messageOptions:n,messageType:o}=e,i=yield this.constructDwnSigner(r);return yield gR[o].create(Object.assign(Object.assign({},n),{signer:i}))})}writePrunedRecord(e){return Sa(this,void 0,void 0,function*(){const{targetDid:r,message:n}=e;return yield this._dwn.synchronizePrunedInitialRecordsWrite(r,n)})}processMessage(e){return Sa(this,void 0,void 0,function*(){const{dataStream:r,message:n,targetDid:o}=e;return yield this._dwn.processMessage(o,n,r)})}}var Xf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class z4e{constructor(){this._identityRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-identity"}}deleteIdentity(e){var r;return Xf(this,void 0,void 0,function*(){const{agent:n,context:o,did:i}=e,s=yield this.getAuthor({agent:n,context:o,did:i}),{reply:a}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});let c;for(const f of(r=a.entries)!==null&&r!==void 0?r:[])if(f.encodedData){const l=Pe.base64Url(f.encodedData).toObject();if(l&&l.did===i){c=f.recordId;break}}if(!c)return!1;const{reply:{status:d}}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:c}});return d.code===202})}getIdentity(e){var r;return Xf(this,void 0,void 0,function*(){const{agent:n,context:o,did:i}=e,s=yield this.getAuthor({agent:n,context:o,did:i}),{reply:a}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});for(const c of(r=a.entries)!==null&&r!==void 0?r:[])if(c.encodedData){const d=Pe.base64Url(c.encodedData).toObject();if(d&&d.did===i)return d}})}importIdentity(e){return Xf(this,void 0,void 0,function*(){const{agent:r,context:n,identity:o}=e,i=yield this.getAuthor({agent:r,context:n,did:o.did});if(yield this.getIdentity({agent:r,context:n,did:o.did}))throw new Error(`IdentityStoreDwn: Identity with DID already exists: '${o.did}'`);const a=Pe.object(o).toUint8Array(),{reply:{status:c}}=yield r.dwnManager.processRequest({author:i,target:i,messageType:"RecordsWrite",messageOptions:Object.assign({},this._identityRecordProperties),dataStream:new Blob([a])});if(c.code!==202)throw new Error("IdentityStoreDwn: Failed to write imported identity to store.")})}listIdentities(e){var r;return Xf(this,void 0,void 0,function*(){const{agent:n,context:o}=e,i=yield this.getAuthor({agent:n,context:o}),{reply:s}=yield n.dwnManager.processRequest({author:i,target:i,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});let a=[];for(const c of(r=s.entries)!==null&&r!==void 0?r:[])if(c.encodedData){const d=Pe.base64Url(c.encodedData).toObject();a.push(d)}return a})}getAuthor(e){return Xf(this,void 0,void 0,function*(){const{context:r,did:n,agent:o}=e;if(r)return r;if(o.agentDid)return o.agentDid;if(!n)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");const i=yield o.didManager.getDefaultSigningKey({did:n});if(i?yield o.keyManager.getKey({keyRef:i}):void 0)return n;throw new Error(`IdentityStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${n}'`)})}}class Y4e{constructor(){this.store=new Map}deleteIdentity({did:e}){return Xf(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}getIdentity({did:e}){return Xf(this,void 0,void 0,function*(){return this.store.get(e)})}importIdentity(e){return Xf(this,void 0,void 0,function*(){const{identity:r}=e;if(this.store.has(r.did))throw new Error(`IdentityStoreMemory: Identity with DID already exists: '${r.did}'`);const n=structuredClone(r);this.store.set(r.did,n)})}listIdentities(){return Xf(this,void 0,void 0,function*(){return Array.from(this.store.values())})}}var Q1=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class J4e{constructor(e){const{agent:r,store:n}=e??{};this._agent=r,this._store=n??new Y4e}get agent(){if(this._agent===void 0)throw new Error("IdentityManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return Q1(this,void 0,void 0,function*(){let{context:r,did:n,didMethod:o,didOptions:i,kms:s,name:a}=e;if(!(o?!n:n))throw new Error("Either 'did' or 'didMethod' must be defined, but not both.");let c;const d=this.agent;if(o?c=yield d.didManager.create(Object.assign({method:o,context:r,kms:s},i)):n&&(c=yield d.didManager.import({did:n,context:r,kms:s})),c===void 0)throw new Error("IdentityManager: Unable to generate or import DID.");const f={did:c.did,name:a};return r??(r=f.did),yield this._store.importIdentity({identity:f,agent:d,context:r}),f})}get(e){return Q1(this,void 0,void 0,function*(){const{context:r,did:n}=e;return this._store.getIdentity({did:n,agent:this.agent,context:r})})}import(e){return Q1(this,void 0,void 0,function*(){let{context:r,did:n,identity:o,kms:i}=e;const s=this.agent;return n&&(yield s.didManager.import({did:n,context:r,kms:i})),r??(r=o.did),yield this._store.importIdentity({identity:o,agent:s,context:r}),o})}list(e){return Q1(this,void 0,void 0,function*(){const{context:r}=e??{};return this._store.listIdentities({agent:this.agent,context:r})})}}var pR;(function(t){t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.ParseError=-32700]="ParseError",t[t.TransportError=-32300]="TransportError",t[t.BadRequest=-50400]="BadRequest",t[t.Unauthorized=-50401]="Unauthorized",t[t.Forbidden=-50403]="Forbidden"})(pR||(pR={}));const Tz=(t,e,r)=>({jsonrpc:"2.0",id:t,method:e,params:r});function V4e(t){try{return JSON.parse(t)}catch{return null}}var Ir=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},W4e=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class yR{constructor(e){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-key"};const{schema:r}=e??{};r&&(this._keyRecordProperties.schema=r)}deleteKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o,id:i}=e,s=yield this.getAuthor({agent:n,context:o}),{reply:a}=yield this.getKeyRecords(n,o);let c;for(const f of(r=a.entries)!==null&&r!==void 0?r:[])if(f.encodedData){const l=this.decodeKey(f.encodedData),u=Xn(l)?l.publicKey.id:l.id;if(l&&u===i){c=f.recordId;break}}if(!c)return!1;const{reply:{status:d}}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:c}});return d.code===202})}findKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,alias:o,context:i,id:s}=e,{reply:a}=yield this.getKeyRecords(n,i);for(const c of(r=a.entries)!==null&&r!==void 0?r:[])if(c.encodedData){const d=this.decodeKey(c.encodedData);if(Xn(d)){if(d.publicKey.id===s||d.publicKey.alias===o)return d}else if(d.id===s||d.alias===o)return d}})}getKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o,id:i}=e,{reply:s}=yield this.getKeyRecords(n,o);for(const a of(r=s.entries)!==null&&r!==void 0?r:[])if(a.encodedData){const c=this.decodeKey(a.encodedData);if((Xn(c)?c.publicKey.id:c.id)===i)return c}})}importKey(e){return Ir(this,void 0,void 0,function*(){const{agent:r,context:n,key:o}=e;let i;Xn(o)?i=o.publicKey.id:(o.id||(o.id=H0()),i=o.id);const s=yield this.getAuthor({agent:r,context:n});if(yield this.getKey({agent:r,context:n,id:i}))throw new Error(`KeyStoreDwn: Key with ID already exists: '${i}'`);const c=this.encodeKey(o),{reply:{status:d}}=yield r.dwnManager.processRequest({author:s,target:s,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([c])});if(d.code!==202)throw new Error("DidStoreDwn: Failed to write imported DID to store.");return i})}listKeys(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o}=e,{reply:i}=yield this.getKeyRecords(n,o);let s=[];for(const a of(r=i.entries)!==null&&r!==void 0?r:[])if(a.encodedData){const c=this.decodeKey(a.encodedData);s.push(c)}return s})}updateKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o,id:i}=e,s={alias:e.alias,metadata:e.metadata},a=yield this.getAuthor({agent:n,context:o}),{reply:c}=yield this.getKeyRecords(n,o);let d,f;for(const h of(r=c.entries)!==null&&r!==void 0?r:[]){const{encodedData:y}=h,v=W4e(h,["encodedData"]);if(y){const B=this.decodeKey(y),S=Xn(B)?B.publicKey.id:B.id;if(B&&S===i){d=B,f=v;break}}}if(!f||!d)return!1;n4(s),r4(s);const l=structuredClone(s);Xn(d)?(d.privateKey=Object.assign(Object.assign({},d.privateKey),l),d.publicKey=Object.assign(Object.assign({},d.publicKey),l)):d=Object.assign(Object.assign({},d),l);const u=this.encodeKey(d);let p=Object.assign({},f.descriptor);p.contextId=f.contextId,p.recordId=f.recordId,delete p.dataCid,delete p.dataSize,delete p.data,delete p.messageTimestamp;const{reply:{status:A}}=yield n.dwnManager.processRequest({author:a,target:a,messageType:"RecordsWrite",messageOptions:p,dataStream:new Blob([u])});if(A.code!==202)throw new Error("DidStoreDwn: Failed to write updated key to store.");return!0})}decodeKey(e){const r=Pe.base64Url(e).toObject();if("publicKey"in r){const n=r.privateKey.material?Pe.base64Url(r.privateKey.material).toUint8Array():void 0,o=r.publicKey.material?Pe.base64Url(r.publicKey.material).toUint8Array():void 0;return{privateKey:Object.assign(Object.assign({},r.privateKey),{material:n}),publicKey:Object.assign(Object.assign({},r.publicKey),{material:o})}}else{const n=r.material?Pe.base64Url(r.material).toUint8Array():void 0;return Object.assign(Object.assign({},r),{material:n})}}encodeKey(e){let r;if(Xn(e)){const o=e.privateKey.material?Pe.uint8Array(e.privateKey.material).toBase64Url():void 0,i=e.publicKey.material?Pe.uint8Array(e.publicKey.material).toBase64Url():void 0;r={privateKey:Object.assign(Object.assign({},e.privateKey),{material:o}),publicKey:Object.assign(Object.assign({},e.publicKey),{material:i})}}else{const o=e.material?Pe.uint8Array(e.material).toBase64Url():void 0;r=Object.assign(Object.assign({},e),{material:o})}return Pe.object(r).toUint8Array()}getAuthor(e){return Ir(this,void 0,void 0,function*(){const{agent:r,context:n}=e;if(n)return n;if(r.agentDid)return r.agentDid;throw new Error("KeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")})}getKeyRecords(e,r){return Ir(this,void 0,void 0,function*(){const n=yield this.getAuthor({agent:e,context:r});return yield e.dwnManager.processRequest({author:n,target:n,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})})}}class s6{constructor(){this.store=new Map}deleteKey({id:e}){return Ir(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}findKey(e){return Ir(this,void 0,void 0,function*(){let{alias:r,id:n}=e;if(n)return this.store.get(n);if(r){for(const o of yield this.listKeys())if("alias"in o&&o.alias===r||"publicKey"in o&&o.publicKey.alias===r)return o}})}getKey({id:e}){return Ir(this,void 0,void 0,function*(){return this.store.get(e)})}importKey({key:e}){return Ir(this,void 0,void 0,function*(){let r;if(Xn(e)?r=e.publicKey.id:(e.id||(e.id=H0()),r=e.id),this.store.has(r))throw new Error(`KeyStoreMemory: Key with ID already exists: '${r}'`);const n=structuredClone(e);return this.store.set(r,n),r})}listKeys(){return Ir(this,void 0,void 0,function*(){return Array.from(this.store.values())})}updateKey(e){return Ir(this,void 0,void 0,function*(){const r=e.id,n={alias:e.alias,metadata:e.metadata};if(!this.store.has(r))return!1;let i=yield this.getKey({id:r});n4(n),r4(n);const s=structuredClone(n);return Xn(i)?(i.privateKey=Object.assign(Object.assign({},i.privateKey),s),i.publicKey=Object.assign(Object.assign({},i.publicKey),s)):i=Object.assign(Object.assign(Object.assign({},i),s),{id:i.id}),this.store.set(r,i),!0})}}class Z4e{constructor(){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/kms-private-key"}}deleteKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o,id:i}=e,s=yield this.getAuthor({agent:n,context:o}),{reply:a}=yield this.getKeyRecords(n,o);let c;for(const f of(r=a.entries)!==null&&r!==void 0?r:[])if(f.encodedData){const l=this.decodeKey(f.encodedData);if(l&&l.id===i){c=f.recordId;break}}if(!c)return!1;const{reply:{status:d}}=yield n.dwnManager.processRequest({author:s,target:s,messageType:"RecordsDelete",messageOptions:{recordId:c}});return d.code===202})}findKey(){return Ir(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreDwn: Method not implemented: 'findKey'")})}getKey(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o,id:i}=e,{reply:s}=yield this.getKeyRecords(n,o);for(const a of(r=s.entries)!==null&&r!==void 0?r:[])if(a.encodedData){const c=this.decodeKey(a.encodedData);if(c.id===i)return c}})}importKey(e){return Ir(this,void 0,void 0,function*(){const{agent:r,context:n,key:o}=e;if(!o.material)throw new TypeError("Required parameter missing: 'material'");if(!o.type)throw new TypeError("Required parameter missing: 'type'");const i=yield this.getAuthor({agent:r,context:n}),s=H0(),a=this.encodeKey(Object.assign(Object.assign({},o),{id:s})),{reply:{status:c}}=yield r.dwnManager.processRequest({author:i,target:i,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([a])});if(c.code!==202)throw new Error("PrivateKeyStoreDwn: Failed to write imported DID to store.");return s})}listKeys(e){var r;return Ir(this,void 0,void 0,function*(){const{agent:n,context:o}=e,{reply:i}=yield this.getKeyRecords(n,o);let s=[];for(const a of(r=i.entries)!==null&&r!==void 0?r:[])if(a.encodedData){const c=this.decodeKey(a.encodedData);s.push(c)}return s})}updateKey(){return Ir(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")})}decodeKey(e){const r=Pe.base64Url(e).toObject();return Object.assign(Object.assign({},r),{material:Pe.base64Url(r.material).toUint8Array()})}encodeKey(e){const r=Object.assign(Object.assign({},e),{material:Pe.uint8Array(e.material).toBase64Url()});return Pe.object(r).toUint8Array()}getAuthor(e){return Ir(this,void 0,void 0,function*(){const{agent:r,context:n}=e;if(n)return n;if(r.agentDid)return r.agentDid;throw new Error("PrivateKeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")})}getKeyRecords(e,r){return Ir(this,void 0,void 0,function*(){const n=yield this.getAuthor({agent:e,context:r});return yield e.dwnManager.processRequest({author:n,target:n,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})})}}class Fz{constructor(){this.store=new Map}deleteKey({id:e}){return Ir(this,void 0,void 0,function*(){return this.store.has(e)?(this.store.delete(e),!0):!1})}findKey(){return Ir(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'findKey'")})}getKey({id:e}){return Ir(this,void 0,void 0,function*(){return this.store.get(e)})}importKey({key:e}){return Ir(this,void 0,void 0,function*(){if(!e.material)throw new TypeError("Required parameter missing: 'material'");if(!e.type)throw new TypeError("Required parameter missing: 'type'");const r=structuredClone(e,{transfer:[e.material.buffer]});return r.id=H0(),this.store.set(r.id,r),r.id})}listKeys(){return Ir(this,void 0,void 0,function*(){return Array.from(this.store.values())})}updateKey(){return Ir(this,void 0,void 0,function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")})}}var Tf=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const X4e={"AES-CTR":Tte,ECDH:kte,ECDSA:t4,EdDSA:Kv};class a6{constructor(e){this._supportedAlgorithms=new Map;const{agent:r,kmsName:n,keyStore:o,privateKeyStore:i}=e;this._agent=r,this._name=n,this._keyStore=o??new s6,this._privateKeyStore=i??new Fz;const s=Object.assign(Object.assign({},X4e),e.cryptoAlgorithms);this.registerSupportedAlgorithms(s)}get agent(){if(this._agent===void 0)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}decrypt(e){return Tf(this,void 0,void 0,function*(){const{algorithm:r,data:n,keyRef:o}=e,i=yield this.getKey({keyRef:o});if(av(i)){const s=yield this._privateKeyStore.getKey({id:i.id,agent:this.agent});if(s!==void 0){const a=this.toCryptoKey(Object.assign(Object.assign({},i),{material:s.material}));return this.getAlgorithm(r).decrypt({algorithm:r,key:a,data:n})}}throw new Error(`Operation failed: 'decrypt'. Key not found: ${o}`)})}deriveBits(e){return Tf(this,void 0,void 0,function*(){let{algorithm:r,baseKeyRef:n,length:o}=e;const i=yield this.getKey({keyRef:n});if(Xn(i)){const s=yield this._privateKeyStore.getKey({id:i.privateKey.id,agent:this.agent});if(s!==void 0){const a=this.toCryptoKey(Object.assign(Object.assign({},i.privateKey),{material:s.material}));return this.getAlgorithm(r).deriveBits({algorithm:r,baseKey:a,length:o??null})}}throw new Error(`Operation failed: 'deriveBits'. Key not found: ${n}`)})}encrypt(e){return Tf(this,void 0,void 0,function*(){const{algorithm:r,data:n,keyRef:o}=e,i=yield this.getKey({keyRef:o});if(av(i)){const s=yield this._privateKeyStore.getKey({id:i.id,agent:this.agent});if(s!==void 0){const a=this.toCryptoKey(Object.assign(Object.assign({},i),{material:s.material}));return this.getAlgorithm(r).encrypt({algorithm:r,key:a,data:n})}}throw new Error(`Operation failed: 'encrypt'. Key not found: ${o}`)})}generateKey(e){return Tf(this,void 0,void 0,function*(){let{algorithm:r,alias:n,extractable:o,keyUsages:i,metadata:s}=e;const a=this.getAlgorithm(r);o??(o=!0);const c=yield a.generateKey({algorithm:r,extractable:o,keyUsages:i});let d;if(xX(c)){const f=c.privateKey.type,l=yield this._privateKeyStore.importKey({key:{material:c.privateKey.material,type:f},agent:this.agent});d={privateKey:this.toManagedKey(Object.assign(Object.assign({},c.privateKey),{id:l,alias:n,metadata:s})),publicKey:this.toManagedKey(Object.assign(Object.assign({},c.publicKey),{material:c.publicKey.material,id:l,alias:n,metadata:s}))}}else{const f=c.type,l=yield this._privateKeyStore.importKey({key:{material:c.material,type:f},agent:this.agent});d=this.toManagedKey(Object.assign(Object.assign({},c),{id:l,alias:n,metadata:s}))}return yield this._keyStore.importKey({key:d,agent:this.agent}),d})}getKey(e){return Tf(this,void 0,void 0,function*(){return this._keyStore.getKey({id:e.keyRef,agent:this.agent})})}importKey(e){return Tf(this,void 0,void 0,function*(){if("privateKey"in e){const{privateKey:n,publicKey:o}=e;if(n.type==="public"&&o.type==="private")throw new Error("Import failed due to private and public key mismatch");if(!(n.type==="private"&&o.type==="public"))throw new TypeError(`Out of range: '${n.type}, ${o.type}'. Must be 'private, public'`);const i=yield this._privateKeyStore.importKey({key:{material:n.material,type:n.type},agent:this.agent}),s={privateKey:this.toManagedKey(Object.assign(Object.assign({},n),{id:i,material:void 0})),publicKey:this.toManagedKey(Object.assign(Object.assign({},o),{material:o.material,id:i}))};return yield this._keyStore.importKey({key:s,agent:this.agent}),s}const r=e.type;switch(r){case"private":{const n=e.material,o=yield this._privateKeyStore.importKey({key:{material:n,type:r},agent:this.agent}),i=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:o}));return yield this._keyStore.importKey({key:i,agent:this.agent}),i}case"public":{const n=e.material,o=this.toManagedKey(Object.assign(Object.assign({},e),{material:n,id:""}));return o.id=yield this._keyStore.importKey({key:o,agent:this.agent}),o}case"secret":{const n=e.material,o=yield this._privateKeyStore.importKey({key:{material:n,type:r},agent:this.agent}),i=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:o}));return yield this._keyStore.importKey({key:i,agent:this.agent}),i}default:throw new TypeError(`Out of range: '${r}'. Must be one of 'private, public, secret'`)}})}sign(e){return Tf(this,void 0,void 0,function*(){const{algorithm:r,data:n,keyRef:o}=e,i=yield this.getKey({keyRef:o});if(Xn(i)){const s=yield this._privateKeyStore.getKey({id:i.privateKey.id,agent:this.agent});if(s!==void 0){const a=this.toCryptoKey(Object.assign(Object.assign({},i.privateKey),{material:s.material}));return this.getAlgorithm(r).sign({algorithm:r,key:a,data:n})}}throw new Error(`Operation failed: 'sign'. Key not found: ${o}`)})}updateKey(e){return Tf(this,void 0,void 0,function*(){const{keyRef:r,alias:n,metadata:o}=e,i=yield this.getKey({keyRef:r});if(!i)throw new Error(`Key not found: '${r}'`);const s=Xn(i)?i.publicKey.id:i.id;return this._keyStore.updateKey({id:s,alias:n,metadata:o,agent:this.agent})})}verify(e){return Tf(this,void 0,void 0,function*(){const{algorithm:r,data:n,keyRef:o,signature:i}=e,s=yield this.getKey({keyRef:o});if(Xn(s)){if(s.publicKey.material===void 0)throw new Error("Required property missing: 'material'");const a=this.toCryptoKey(Object.assign(Object.assign({},s.publicKey),{material:s.publicKey.material}));return this.getAlgorithm(r).verify({algorithm:r,key:a,signature:i,data:n})}throw new Error(`Operation failed: 'verify'. Key not found: ${o}`)})}getAlgorithm(e){od({property:"name",inObject:e});const r=this._supportedAlgorithms.get(e.name.toUpperCase());if(r===void 0)throw new Error(`The algorithm '${e.name}' is not supported`);return r.create()}registerSupportedAlgorithms(e){for(const[r,n]of Object.entries(e))this._supportedAlgorithms.set(r.toUpperCase(),n)}toCryptoKey(e){return{algorithm:e.algorithm,extractable:e.extractable,material:e.material,type:e.type,usages:e.usages}}toManagedKey(e){return{id:e.id,algorithm:e.algorithm,alias:e.alias,extractable:e.extractable,kms:this._name,material:e.type==="public"?e.material:void 0,metadata:e.metadata,state:"Enabled",type:e.type,usages:e.usages}}}var Ic=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},zA=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class eSe{constructor(e){let{agent:r,kms:n,store:o}=e??{};this._agent=r,this._store=o??new s6,n??(n=this.useMemoryKms()),this._kms=new Map(Object.entries(n))}get agent(){if(this._agent===void 0)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e,this._kms.forEach(r=>{r.agent=e})}decrypt(e){return Ic(this,void 0,void 0,function*(){let{keyRef:r}=e,n=zA(e,["keyRef"]);const o=yield this.getKey({keyRef:r});if(!av(o))throw new Error(`Key not found: '${r}'`);const i=o.kms,s=this.getKms(i),a=o.id;return yield s.decrypt(Object.assign({keyRef:a},n))})}deriveBits(e){return Ic(this,void 0,void 0,function*(){const{baseKeyRef:r}=e,n=zA(e,["baseKeyRef"]),o=yield this.getKey({keyRef:r});if(!Xn(o))throw new Error(`Key not found: '${r}'`);const i=o.privateKey.kms,s=this.getKms(i),a=o.privateKey.id;return s.deriveBits(Object.assign({baseKeyRef:a},n))})}encrypt(e){return Ic(this,void 0,void 0,function*(){let{keyRef:r}=e,n=zA(e,["keyRef"]);const o=yield this.getKey({keyRef:r});if(!av(o))throw new Error(`Key not found: '${r}'`);const i=o.kms,s=this.getKms(i),a=o.id;return yield s.encrypt(Object.assign({keyRef:a},n))})}generateKey(e){return Ic(this,void 0,void 0,function*(){const{kms:r}=e,n=zA(e,["kms"]),i=yield this.getKms(r).generateKey(n);return yield this._store.importKey({key:i,agent:this.agent}),i})}getKey({keyRef:e}){var r,n;return Ic(this,void 0,void 0,function*(){let o;const i=(r=this._defaultSigningKey)===null||r===void 0?void 0:r.publicKey.id,s=(n=this._defaultSigningKey)===null||n===void 0?void 0:n.publicKey.alias;if(e===i||e===s)return this._defaultSigningKey;if(o=yield this._store.getKey({id:e,agent:this.agent}),o||(o=yield this._store.findKey({alias:e,agent:this.agent}),o))return o})}importKey(e){return Ic(this,void 0,void 0,function*(){const r="privateKey"in e?e.privateKey.kms:e.kms,o=yield this.getKms(r).importKey(e);return yield this._store.importKey({key:o,agent:this.agent}),o})}listKms(){return Array.from(this._kms.keys())}setDefaultSigningKey({key:e}){return Ic(this,void 0,void 0,function*(){const r=e.privateKey.kms,o=yield this.getKms(r).importKey(e);this._defaultSigningKey=o})}sign(e){return Ic(this,void 0,void 0,function*(){const{keyRef:r}=e,n=zA(e,["keyRef"]),o=yield this.getKey({keyRef:r});if(!Xn(o))throw new Error(`Key not found: '${r}'`);const i=o.privateKey.kms,s=this.getKms(i),a=o.privateKey.id;return yield s.sign(Object.assign({keyRef:a},n))})}updateKey(e){return Ic(this,void 0,void 0,function*(){const{keyRef:r,alias:n,metadata:o}=e,i=yield this.getKey({keyRef:r});if(!i)throw new Error(`Key not found: '${r}'`);const{id:s,kms:a}=Xn(i)?Object.assign({},i.publicKey):Object.assign({},i);return(yield this.getKms(a).updateKey(e))?yield this._store.updateKey({id:s,alias:n,metadata:o,agent:this.agent}):!1})}verify(e){return Ic(this,void 0,void 0,function*(){let{keyRef:r}=e,n=zA(e,["keyRef"]);const o=yield this.getKey({keyRef:r});if(!Xn(o))throw new Error(`Key not found: '${r}'`);const i=o.publicKey.kms,s=this.getKms(i),a=o.publicKey.id;return yield s.verify(Object.assign({keyRef:a},n))})}getKms(e){e??(e=this._kms.size===1?this._kms.keys().next().value:"");const r=this._kms.get(e);if(!r)throw Error(`Unknown key management system: '${e}'`);return r}useMemoryKms(){const e=new s6,r=new Fz;return{memory:new a6({kmsName:"memory",keyStore:e,privateKeyStore:r})}}}var CD=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},IR;(function(t){t.Create="did.create",t.Resolve="did.resolve"})(IR||(IR={}));class tSe{constructor(e=[]){this.transportClients=new Map,e=[new nSe,...e];for(let r of e)for(let n of r.transportProtocols)this.transportClients.set(n,r)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(e){return CD(this,void 0,void 0,function*(){const r=new URL(e.url),n=this.transportClients.get(r.protocol);if(!n){const o=new Error(`no ${r.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return n.sendDidRequest(e)})}sendDwnRequest(e){const r=new URL(e.dwnUrl),n=this.transportClients.get(r.protocol);if(!n){const o=new Error(`no ${r.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return n.sendDwnRequest(e)}}class rSe{get transportProtocols(){return["http:","https:"]}sendDwnRequest(e){return CD(this,void 0,void 0,function*(){const r=H0(),n=Tz(r,"dwn.processMessage",{target:e.targetDid,message:e.message}),o={method:"POST",headers:{"dwn-request":JSON.stringify(n)}};e.data&&(o.headers["content-type"]="application/octet-stream",o.body=e.data);const i=yield fetch(e.dwnUrl,o);let s,a;const{headers:c}=i;if(c.has("dwn-response")){const f=V4e(c.get("dwn-response"));if(f==null)throw new Error(`failed to parse json rpc response. dwn url: ${e.dwnUrl}`);a=i.body,s=f}else{const f=yield i.text();s=JSON.parse(f)}if(s.error){const{code:f,message:l}=s.error;throw new Error(`(${f}) - ${l}`)}const{reply:d}=s.result;return a&&(d.record.data=a),d})}}class nSe extends rSe{sendDidRequest(e){return CD(this,void 0,void 0,function*(){const r=H0(),n=Tz(r,e.method,{data:e.data}),o=new Request(e.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let i;try{const s=yield fetch(o);if(s.ok){if(i=yield s.json(),i.error){const{code:a,message:c}=i.error;throw new Error(`JSON RPC (${a}) - ${c}`)}}else throw new Error(`HTTP (${s.status}) - ${s.statusText}`)}catch(s){throw new Error(`Error encountered while processing response from ${e.url}: ${s.message}`)}return i.result})}}var Zo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};const mR=t=>t>=200&&t<=299,iSe=t=>t>=400&&t<=499;class oSe{constructor(e){let{agent:r,dataPath:n="DATA/AGENT/SYNC_STORE",db:o}=e??{};this._agent=r,this._db=o||new Fv(n)}get agent(){if(this._agent===void 0)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}clear(){return Zo(this,void 0,void 0,function*(){yield this._db.clear()})}pull(){var e;return Zo(this,void 0,void 0,function*(){const r=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:r});const n=this.getPullQueue(),o=yield n.iterator().all(),i=[],s=new Set;for(let a of o){const[c]=a,[d,f,l,u]=c.split("~");if(s.has(f))continue;if(yield this.messageExists(d,u)){yield this.setWatermark(d,f,"pull",l),i.push({type:"del",key:c});continue}const A=yield this.agent.dwnManager.createMessage({author:d,messageType:"MessagesGet",messageOptions:{messageCids:[u]}});let h;try{h=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:f,targetDid:d,message:A})}catch{s.add(f);continue}for(let y of(e=h.messages)!==null&&e!==void 0?e:[]){if(y.error||!y.message){yield this.setWatermark(d,f,"pull",l),yield this.addMessage(d,u),i.push({type:"del",key:c});continue}const v=this.getDwnMessageType(y.message);let B;if(v==="RecordsWrite"){const{encodedData:x}=y,Q=y.message;if(x){const N=Pe.base64Url(x).toUint8Array();B=Id.fromBytes(N)}else{const N=yield this.agent.dwnManager.createMessage({author:d,messageType:"RecordsRead",messageOptions:{filter:{recordId:Q.recordId}}}),$=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:f,targetDid:d,message:N.message}),{record:G,status:z}=$;if(mR(z.code)&&G)B=cv(G.data);else if(z.code>=400){const Y=yield this.agent.dwnManager.writePrunedRecord({targetDid:d,message:Q});if(Y.status.code===202||Y.status.code===409){yield this.setWatermark(d,f,"pull",l),yield this.addMessage(d,u),i.push({type:"del",key:c});continue}else throw new Error(`SyncManager: Failed to sync tombstone for message '${u}'`)}}}const S=yield this.agent.dwnManager.processMessage({targetDid:d,message:y.message,dataStream:B});(S.status.code===202||S.status.code===409)&&(yield this.setWatermark(d,f,"pull",l),yield this.addMessage(d,u),i.push({type:"del",key:c}))}}yield n.batch(i)})}push(){return Zo(this,void 0,void 0,function*(){const e=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:e});const r=this.getPushQueue(),n=yield r.iterator().all(),o=[],i=new Set;for(let s of n){const[a]=s,[c,d,f,l]=a.split("~");if(i.has(d))continue;const u=yield this.getDwnMessage(c,l);if(!u){o.push({type:"del",key:a}),yield this.setWatermark(c,d,"push",f),yield this.addMessage(c,l);continue}try{const p=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:d,targetDid:c,data:u.data,message:u.message});(p.status.code===202||p.status.code===409)&&(yield this.setWatermark(c,d,"push",f),yield this.addMessage(c,l),o.push({type:"del",key:a}))}catch{i.add(d)}}yield r.batch(o)})}registerIdentity(e){return Zo(this,void 0,void 0,function*(){const{did:r}=e;yield this._db.sublevel("registeredIdentities").put(r,"")})}startSync(e){const{interval:r=12e4}=e;return new Promise((n,o)=>{this._syncIntervalId&&clearInterval(this._syncIntervalId),this._syncIntervalId=setInterval(()=>Zo(this,void 0,void 0,function*(){try{yield this.push(),yield this.pull()}catch(i){this.stopSync(),o(i)}}),r)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations(e){return Zo(this,void 0,void 0,function*(){const{syncDirection:r,syncPeerState:n}=e;for(let o of n){const i=yield this.getDwnEventLog({did:o.did,dwnUrl:o.dwnUrl,syncDirection:r,watermark:o.watermark}),s=[];for(let a of i){const d={type:"put",key:[o.did,o.dwnUrl,a.watermark,a.messageCid].join("~"),value:""};s.push(d)}s.length>0&&(yield(r==="pull"?this.getPullQueue():this.getPushQueue()).batch(s))}})}getDwnEventLog(e){var r;return Zo(this,void 0,void 0,function*(){const{did:n,dwnUrl:o,syncDirection:i,watermark:s}=e;let a={};if(i==="pull"){const d=yield this.agent.dwnManager.createMessage({author:n,messageType:"EventsGet",messageOptions:{watermark:s}});try{a=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:o,targetDid:n,message:d})}catch{}}else i==="push"&&({reply:a}=yield this.agent.dwnManager.processRequest({author:n,target:n,messageType:"EventsGet",messageOptions:{watermark:s}}));return(r=a.events)!==null&&r!==void 0?r:[]})}getDwnMessage(e,r){return Zo(this,void 0,void 0,function*(){const o=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"MessagesGet",messageOptions:{messageCids:[r]}})).reply;if(!(o.messages&&o.messages.length===1))return;const[i]=o.messages;let{message:s}=i;if(!s)return;let a={message:s};if(`${s.descriptor.interface}${s.descriptor.method}`==="RecordsWrite"){const{encodedData:d}=i,f=s;if(d){const l=Pe.base64Url(d).toUint8Array();a.data=new Blob([l])}else{const u=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"RecordsRead",messageOptions:{filter:{recordId:f.recordId}}})).reply;if(mR(u.status.code)&&u.record){const p=yield Id.toBytes(u.record.data);a.data=new Blob([p])}else if(!iSe(u.status.code)){const{status:p}=u;throw new Error(`SyncManager: Failed to read data associated with record ${f.recordId}. (${p.code}) ${p.detail}}`)}}}return a})}getSyncPeerState(e){var r,n;return Zo(this,void 0,void 0,function*(){const{syncDirection:o}=e,i=yield this._db.sublevel("registeredIdentities").keys().all(),s=[];for(let a of i){const{didDocument:c,didResolutionMetadata:d}=yield this.agent.didResolver.resolve(a);if(!c){const l=(r=`${d?.error}: `)!==null&&r!==void 0?r:"",u=`Unable to resolve DID: ${a}`,p=(n=d?.errorMessage)!==null&&n!==void 0?n:u;throw new Error(`SyncManager: ${l}${p}`)}const[f]=fB({didDocument:c,id:"#dwn"});if(f){if(!J4(f.serviceEndpoint))throw new Error("SyncManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");for(let l of f.serviceEndpoint.nodes){const u=yield this.getWatermark(a,l,o);s.push({did:a,dwnUrl:l,watermark:u})}}}return s})}getWatermark(e,r,n){return Zo(this,void 0,void 0,function*(){const o=`${e}~${r}~${n}`,i=this.getWatermarkStore();try{return yield i.get(o)}catch(s){if(s.notFound)return}})}setWatermark(e,r,n,o){return Zo(this,void 0,void 0,function*(){const i=`${e}~${r}~${n}`;yield this.getWatermarkStore().put(i,o)})}messageExists(e,r){return Zo(this,void 0,void 0,function*(){const n=this.getMessageStore(e);try{return yield n.get(r),!0}catch(o){if(o.notFound)return!1;throw o}})}addMessage(e,r){return Zo(this,void 0,void 0,function*(){return yield this.getMessageStore(e).put(r,"")})}getMessageStore(e){return this._db.sublevel("history").sublevel(e).sublevel("messages")}getWatermarkStore(){return this._db.sublevel("watermarks")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}getDwnMessageType(e){return`${e.descriptor.interface}${e.descriptor.method}`}}globalThis&&globalThis.__awaiter;var sSe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class aSe{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}resolve(e,r){return sSe(this,void 0,void 0,function*(){const n=yield this.agent.processDidRequest({messageOptions:{didUrl:e,resolutionOptions:r},messageType:EI.Resolve}),{result:o}=n;return o})}}const Mz=(t,e)=>{let r;const n=cI(t);if(e==="text/plain"||n==="String")r=new Blob([t],{type:"text/plain"});else if(e==="application/json"||n==="Object"){const o=Pe.object(t).toUint8Array();r=new Blob([o],{type:"application/json"})}else if(n==="Uint8Array"||n==="ArrayBuffer")r=new Blob([t],{type:"application/octet-stream"});else if(n==="Blob")r=t;else throw new Error("data type not supported.");return e=e||r.type||"application/octet-stream",{dataBlob:r,dataFormat:e}};var dl=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},cSe=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class zy{get attestation(){return this._attestation}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}constructor(e,r){this._agent=e,this.author=r.author,this.target=r.target,this._remoteTarget=r.remoteTarget,this._attestation=r.attestation,this._contextId=r.contextId,this._descriptor=r.descriptor,this._encryption=r.encryption,this._recordId=r.recordId,r.encodedData&&(this._encodedData=typeof r.encodedData=="string"?new Blob([Pe.base64Url(r.encodedData).toUint8Array()],{type:this.dataFormat}):r.encodedData),r.data&&(this._readableStream=e8.isReadableStream(r.data)?ds.fromWebReadable({readableStream:r.data}):r.data)}get data(){const e=this,r={blob(){return dl(this,void 0,void 0,function*(){return new Blob([yield ds.consumeToBytes({readable:yield this.stream()})],{type:e.dataFormat})})},bytes(){return dl(this,void 0,void 0,function*(){return yield ds.consumeToBytes({readable:yield this.stream()})})},json(){return dl(this,void 0,void 0,function*(){return yield ds.consumeToJson({readable:yield this.stream()})})},text(){return dl(this,void 0,void 0,function*(){return yield ds.consumeToText({readable:yield this.stream()})})},stream(){return dl(this,void 0,void 0,function*(){if(e._encodedData?e._readableStream=ds.fromWebReadable({readableStream:e._encodedData.stream()}):ds.isReadable({readable:e._readableStream})||(e._readableStream=e._remoteTarget?yield e.readRecordData({target:e._remoteTarget,isRemote:!0}):yield e.readRecordData({target:e.target,isRemote:!1})),!e._readableStream)throw new Error("Record data is not available.");return e._readableStream})},then(...n){return this.stream().then(...n)},catch(n){return r.then().catch(n)}};return r}send(e){return dl(this,void 0,void 0,function*(){const{reply:{status:r}}=yield this._agent.sendDwnRequest({messageType:He.Records+Re.Write,author:this.author,dataStream:yield this.data.blob(),target:e,messageOptions:this.toJSON()});return{status:r}})}toJSON(){return{attestation:this.attestation,author:this.author,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,target:this.target}}toString(){let e=`Record: {
`;return e+=`  ID: ${this.id}
`,e+=this.contextId?`  Context ID: ${this.contextId}
`:"",e+=this.protocol?`  Protocol: ${this.protocol}
`:"",e+=this.schema?`  Schema: ${this.schema}
`:"",e+=`  Data CID: ${this.dataCid}
`,e+=`  Data Format: ${this.dataFormat}
`,e+=`  Data Size: ${this.dataSize}
`,e+=`  Created: ${this.dateCreated}
`,e+=`  Modified: ${this.dateModified}
`,e+="}",e}update(e={}){return dl(this,void 0,void 0,function*(){const r=e,{dateModified:n}=r,o=cSe(r,["dateModified"]);o.messageTimestamp=n;let i=Object.assign(Object.assign({},this._descriptor),o),s;e.data!==void 0&&(delete i.dataCid,delete i.dataSize,delete i.data,{dataBlob:s}=Mz(e.data,i.dataFormat));const a=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published"]);zy.verifyPermittedMutation(Object.keys(e),a),e.dateModified===void 0&&delete i.messageTimestamp,e.published===!1&&i.datePublished!==void 0&&delete i.datePublished,i.recordId=this._recordId,i.contextId=this._contextId;const c=Object.assign({},i),d=yield this._agent.processDwnRequest({author:this.author,dataStream:s,messageOptions:c,messageType:He.Records+Re.Write,target:this.target}),{message:f,reply:{status:l}}=d,u=f;return 200<=l.code&&l.code<=299&&(a.forEach(p=>{this._descriptor[p]=u.descriptor[p]}),e.data!==void 0&&(this._encodedData=s)),{status:l}})}readRecordData({target:e,isRemote:r}){return dl(this,void 0,void 0,function*(){const n={author:this.author,messageOptions:{filter:{recordId:this.id}},messageType:He.Records+Re.Read,target:e},o=r?this._agent.sendDwnRequest(n):this._agent.processDwnRequest(n);try{const{reply:{record:i}}=yield o,s=i.data;return e8.isReadableStream(s)?ds.fromWebReadable({readableStream:s}):s}catch(i){throw new Error(`Error encountered while attempting to read data: ${i.message}`)}})}static verifyPermittedMutation(e,r){for(const n of e)if(!r.has(n))throw new Error(`${n} is an immutable property. Its value cannot be changed.`)}}var fSe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class wR{get definition(){return this._protocolsConfigureMessage.descriptor.definition}constructor(e,r,n){this._agent=e,this._metadata=n,this._protocolsConfigureMessage=r}toJSON(){return this._protocolsConfigureMessage}send(e){return fSe(this,void 0,void 0,function*(){const{reply:r}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:"ProtocolsConfigure",target:e});return{status:r.status}})}}var ll=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})},dSe=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};class lSe{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}get protocols(){return{configure:e=>ll(this,void 0,void 0,function*(){const r=yield this.agent.processDwnRequest({target:this.connectedDid,author:this.connectedDid,messageOptions:e.message,messageType:He.Protocols+Re.Configure}),{message:n,messageCid:o,reply:{status:i}}=r,s={status:i};if(i.code<300){const a={author:this.connectedDid,messageCid:o};s.protocol=new wR(this.agent,n,a)}return s}),query:e=>ll(this,void 0,void 0,function*(){const r={author:this.connectedDid,messageOptions:e.message,messageType:He.Protocols+Re.Query,target:e.from||this.connectedDid};let n;e.from?n=yield this.agent.sendDwnRequest(r):n=yield this.agent.processDwnRequest(r);const{reply:{entries:o=[],status:i}}=n;return{protocols:o.map(a=>{const c={author:this.connectedDid};return new wR(this.agent,a,c)}),status:i}})}}get records(){return{create:e=>ll(this,void 0,void 0,function*(){return this.records.write(e)}),createFrom:e=>ll(this,void 0,void 0,function*(){var r;const n=e.record.toJSON(),{author:o}=n,i=dSe(n,["author"]);return delete i.target,e.data!==void 0&&(delete i.dataCid,delete i.dataSize),((r=e.message)===null||r===void 0?void 0:r.published)===!1&&i.datePublished!==void 0&&(delete i.datePublished,delete i.published),(!sP(e.message)||e.author&&e.author!==o)&&delete i.recordId,this.records.write({data:e.data,message:Object.assign(Object.assign({},i),e.message)})}),delete:e=>ll(this,void 0,void 0,function*(){const r={author:this.connectedDid,messageOptions:e.message,messageType:He.Records+Re.Delete,target:e.from||this.connectedDid};let n;e.from?n=yield this.agent.sendDwnRequest(r):n=yield this.agent.processDwnRequest(r);const{reply:{status:o}}=n;return{status:o}}),query:e=>ll(this,void 0,void 0,function*(){const r={author:this.connectedDid,messageOptions:e.message,messageType:He.Records+Re.Query,target:e.from||this.connectedDid};let n;e.from?n=yield this.agent.sendDwnRequest(r):n=yield this.agent.processDwnRequest(r);const{reply:{entries:o,status:i,cursor:s}}=n;return{records:o.map(c=>{const d=Object.assign({author:dr.getAuthor(c),target:this.connectedDid,remoteTarget:e.from},c);return new zy(this.agent,d)}),status:i,cursor:s}}),read:e=>ll(this,void 0,void 0,function*(){const r={author:this.connectedDid,messageOptions:e.message,messageType:He.Records+Re.Read,target:e.from||this.connectedDid};let n;e.from?n=yield this.agent.sendDwnRequest(r):n=yield this.agent.processDwnRequest(r);const{reply:{record:o,status:i}}=n;let s;if(200<=i.code&&i.code<=299){const a=Object.assign({author:dr.getAuthor(o),target:this.connectedDid,remoteTarget:e.from},o);s=new zy(this.agent,a)}return{record:s,status:i}}),write:e=>ll(this,void 0,void 0,function*(){const r=Object.assign({},e.message),{dataBlob:n,dataFormat:o}=Mz(e.data,r.dataFormat);r.dataFormat=o;const i=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:n,messageOptions:r,messageType:He.Records+Re.Write,store:e.store,target:this.connectedDid}),{message:s,reply:{status:a}}=i,c=s;let d;if(200<=a.code&&a.code<=299){const f=Object.assign({author:this.connectedDid,encodedData:n,target:this.connectedDid},c);d=new zy(this.agent,f)}return{record:d,status:a}})}}}var uSe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class hSe{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}create(){return uSe(this,void 0,void 0,function*(){throw new Error("Not implemented.")})}}var mc=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class QD{constructor(e){this.agentDid=e.agentDid,this.appData=e.appData,this.keyManager=e.keyManager,this.didManager=e.didManager,this.didResolver=e.didResolver,this.dwnManager=e.dwnManager,this.identityManager=e.identityManager,this.rpcClient=e.rpcClient,this.syncManager=e.syncManager,this.didManager.agent=this,this.dwnManager.agent=this,this.identityManager.agent=this,this.keyManager.agent=this,this.syncManager.agent=this}static create(e={}){return mc(this,void 0,void 0,function*(){let{agentDid:r,appData:n,didManager:o,didResolver:i,dwnManager:s,identityManager:a,keyManager:c,rpcClient:d,syncManager:f}=e;if(r===void 0&&(r=""),n===void 0&&(n=new nge({store:new Kte("DATA/AGENT/APPDATA")})),o===void 0&&(o=new age({didMethods:[Vr,us],store:new ige})),i===void 0&&(i=new jAe({cache:new bI,didResolvers:[Vr,us]})),s===void 0&&(s=yield BD.create({didResolver:i})),a===void 0&&(a=new J4e({store:new z4e})),c===void 0){const u=new a6({kmsName:"local",keyStore:new yR({schema:"https://identity.foundation/schemas/web5/kms-key"}),privateKeyStore:new Z4e}),p=new a6({kmsName:"memory"});c=new eSe({kms:{local:u,memory:p},store:new yR({schema:"https://identity.foundation/schemas/web5/managed-key"})})}return d===void 0&&(d=new tSe),f===void 0&&(f=new oSe),new QD({agentDid:r,appData:n,didManager:o,didResolver:i,dwnManager:s,keyManager:c,identityManager:a,rpcClient:d,syncManager:f})})}firstLaunch(){return mc(this,void 0,void 0,function*(){const{initialized:e}=yield this.appData.getStatus();return e===!1})}initialize(e){return mc(this,void 0,void 0,function*(){const{passphrase:r}=e,n=yield new Kv().generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});yield this.appData.initialize({passphrase:r,keyPair:n})})}processDidRequest(e){return mc(this,void 0,void 0,function*(){switch(e.messageType){case EI.Resolve:{const{didUrl:r,resolutionOptions:n}=e.messageOptions;return{result:yield this.didResolver.resolve(r,n)}}default:return this.didManager.processRequest(e)}})}processDwnRequest(e){return mc(this,void 0,void 0,function*(){return this.dwnManager.processRequest(e)})}processVcRequest(e){return mc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(e){return mc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(e){return mc(this,void 0,void 0,function*(){return this.dwnManager.sendRequest(e)})}sendVcRequest(e){return mc(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start(e){return mc(this,void 0,void 0,function*(){const{passphrase:r}=e;(yield this.firstLaunch())?yield this.initialize({passphrase:r}):yield this.appData.unlock({passphrase:r}),this.agentDid=yield this.appData.getDid();const n=j4e({cryptoKeyPair:{privateKey:yield this.appData.getPrivateKey(),publicKey:yield this.appData.getPublicKey()},keyData:{alias:yield this.didManager.getDefaultSigningKey({did:this.agentDid}),kms:"memory"}});yield this.keyManager.setDefaultSigningKey({key:n})})}}var ASe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};function gSe(){return ASe(this,void 0,void 0,function*(){let t;try{if(t=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!t.ok)throw new Error(`HTTP Error: ${t.status} ${t.statusText}`)}catch(o){return console.warn("failed to get tech preview dwn endpoints:",o.message),[]}const e=yield t.json(),[r]=fB({didDocument:e,id:"#dwn",type:"DecentralizedWebNode"}),n=new Set;if("serviceEndpoint"in r&&!Array.isArray(r.serviceEndpoint)&&typeof r.serviceEndpoint!="string"&&Array.isArray(r.serviceEndpoint.nodes)){const o=r.serviceEndpoint.nodes,i=Math.min(o.length,2);for(let s=0;s<o.length&&n.size<i;s+=1){const a=pSe(0,o.length),c=o[a];try{(yield fetch(`${c}/health`)).ok&&n.add(c)}catch{}}}return Array.from(n)})}function pSe(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}var ySe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(l){s(l)}}function c(f){try{d(n.throw(f))}catch(l){s(l)}}function d(f){f.done?i(f.value):o(f.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};class xD{constructor(e){const{agent:r,connectedDid:n}=e;this.agent=r,this.connectedDid=n,this.did=new aSe({agent:r,connectedDid:n}),this.dwn=new lSe({agent:r,connectedDid:n}),this.vc=new hSe({agent:r,connectedDid:n})}static connect(e={}){var r;return ySe(this,void 0,void 0,function*(){let{agent:n,appData:o,connectedDid:i,sync:s,techPreview:a}=e;if(n===void 0){const d=yield QD.create({appData:o});n=d,yield d.start({passphrase:"insecure-static-phrase"});{const f=yield d.identityManager.list(),l=f.length;if(l===0){const u=(r=a?.dwnEndpoints)!==null&&r!==void 0?r:yield gSe(),p=yield Vr.generateDwnOptions({serviceEndpointNodes:u}),A=yield d.identityManager.create({name:"Default",didMethod:"ion",didOptions:p,kms:"local"});yield d.identityManager.import({identity:A,context:d.agentDid}),i=A.did}else if(l===1){const[u]=f;i=u.did}else throw new Error(`connect() failed due to unexpected state: ${l} stored identities`)}s!=="off"&&(yield d.syncManager.registerIdentity({did:i}),s??(s="2m"),d.syncManager.startSync({interval:_H(s)}).catch(f=>{console.error(`Sync failed: ${f}`)}))}return{web5:new xD({agent:n,connectedDid:i}),did:i}})}}var Uz={},x1={},SD={},Rz={exports:{}};(function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",c=1e14,d=14,f=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],u=1e7,p=1e9;function A(N){var $,G,z,Y=ee.prototype={constructor:ee,toString:null,valueOf:null},R=new ee(1),C=20,m=4,g=-7,w=21,F=-1e7,H=1e7,K=!1,D=1,I=0,P={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function ee(W,j){var M,E,b,k,U,_,L,J,te=this;if(!(te instanceof ee))return new ee(W,j);if(j==null){if(W&&W._isBigNumber===!0){te.s=W.s,!W.c||W.e>H?te.c=te.e=null:W.e<F?te.c=[te.e=0]:(te.e=W.e,te.c=W.c.slice());return}if((_=typeof W=="number")&&W*0==0){if(te.s=1/W<0?(W=-W,-1):1,W===~~W){for(k=0,U=W;U>=10;U/=10,k++);k>H?te.c=te.e=null:(te.e=k,te.c=[W]);return}J=String(W)}else{if(!n.test(J=String(W)))return z(te,J,_);te.s=J.charCodeAt(0)==45?(J=J.slice(1),-1):1}(k=J.indexOf("."))>-1&&(J=J.replace(".","")),(U=J.search(/e/i))>0?(k<0&&(k=U),k+=+J.slice(U+1),J=J.substring(0,U)):k<0&&(k=J.length)}else{if(B(j,2,T.length,"Base"),j==10&&V)return te=new ee(W),X(te,C+te.e+1,m);if(J=String(W),_=typeof W=="number"){if(W*0!=0)return z(te,J,_,j);if(te.s=1/W<0?(J=J.slice(1),-1):1,ee.DEBUG&&J.replace(/^0\.0*|\./,"").length>15)throw Error(a+W)}else te.s=J.charCodeAt(0)===45?(J=J.slice(1),-1):1;for(M=T.slice(0,j),k=U=0,L=J.length;U<L;U++)if(M.indexOf(E=J.charAt(U))<0){if(E=="."){if(U>k){k=L;continue}}else if(!b&&(J==J.toUpperCase()&&(J=J.toLowerCase())||J==J.toLowerCase()&&(J=J.toUpperCase()))){b=!0,U=-1,k=0;continue}return z(te,String(W),_,j)}_=!1,J=G(J,j,10,te.s),(k=J.indexOf("."))>-1?J=J.replace(".",""):k=J.length}for(U=0;J.charCodeAt(U)===48;U++);for(L=J.length;J.charCodeAt(--L)===48;);if(J=J.slice(U,++L)){if(L-=U,_&&ee.DEBUG&&L>15&&(W>f||W!==i(W)))throw Error(a+te.s*W);if((k=k-U-1)>H)te.c=te.e=null;else if(k<F)te.c=[te.e=0];else{if(te.e=k,te.c=[],U=(k+1)%d,k<0&&(U+=d),U<L){for(U&&te.c.push(+J.slice(0,U)),L-=d;U<L;)te.c.push(+J.slice(U,U+=d));U=d-(J=J.slice(U)).length}else U-=L;for(;U--;J+="0");te.c.push(+J)}}else te.c=[te.e=0]}ee.clone=A,ee.ROUND_UP=0,ee.ROUND_DOWN=1,ee.ROUND_CEIL=2,ee.ROUND_FLOOR=3,ee.ROUND_HALF_UP=4,ee.ROUND_HALF_DOWN=5,ee.ROUND_HALF_EVEN=6,ee.ROUND_HALF_CEIL=7,ee.ROUND_HALF_FLOOR=8,ee.EUCLID=9,ee.config=ee.set=function(W){var j,M;if(W!=null)if(typeof W=="object"){if(W.hasOwnProperty(j="DECIMAL_PLACES")&&(M=W[j],B(M,0,p,j),C=M),W.hasOwnProperty(j="ROUNDING_MODE")&&(M=W[j],B(M,0,8,j),m=M),W.hasOwnProperty(j="EXPONENTIAL_AT")&&(M=W[j],M&&M.pop?(B(M[0],-p,0,j),B(M[1],0,p,j),g=M[0],w=M[1]):(B(M,-p,p,j),g=-(w=M<0?-M:M))),W.hasOwnProperty(j="RANGE"))if(M=W[j],M&&M.pop)B(M[0],-p,-1,j),B(M[1],1,p,j),F=M[0],H=M[1];else if(B(M,-p,p,j),M)F=-(H=M<0?-M:M);else throw Error(s+j+" cannot be zero: "+M);if(W.hasOwnProperty(j="CRYPTO"))if(M=W[j],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))K=M;else throw K=!M,Error(s+"crypto unavailable");else K=M;else throw Error(s+j+" not true or false: "+M);if(W.hasOwnProperty(j="MODULO_MODE")&&(M=W[j],B(M,0,9,j),D=M),W.hasOwnProperty(j="POW_PRECISION")&&(M=W[j],B(M,0,p,j),I=M),W.hasOwnProperty(j="FORMAT"))if(M=W[j],typeof M=="object")P=M;else throw Error(s+j+" not an object: "+M);if(W.hasOwnProperty(j="ALPHABET"))if(M=W[j],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))V=M.slice(0,10)=="0123456789",T=M;else throw Error(s+j+" invalid: "+M)}else throw Error(s+"Object expected: "+W);return{DECIMAL_PLACES:C,ROUNDING_MODE:m,EXPONENTIAL_AT:[g,w],RANGE:[F,H],CRYPTO:K,MODULO_MODE:D,POW_PRECISION:I,FORMAT:P,ALPHABET:T}},ee.isBigNumber=function(W){if(!W||W._isBigNumber!==!0)return!1;if(!ee.DEBUG)return!0;var j,M,E=W.c,b=W.e,k=W.s;e:if({}.toString.call(E)=="[object Array]"){if((k===1||k===-1)&&b>=-p&&b<=p&&b===i(b)){if(E[0]===0){if(b===0&&E.length===1)return!0;break e}if(j=(b+1)%d,j<1&&(j+=d),String(E[0]).length==j){for(j=0;j<E.length;j++)if(M=E[j],M<0||M>=c||M!==i(M))break e;if(M!==0)return!0}}}else if(E===null&&b===null&&(k===null||k===1||k===-1))return!0;throw Error(s+"Invalid BigNumber: "+W)},ee.maximum=ee.max=function(){return Z(arguments,-1)},ee.minimum=ee.min=function(){return Z(arguments,1)},ee.random=function(){var W=9007199254740992,j=Math.random()*W&2097151?function(){return i(Math.random()*W)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var E,b,k,U,_,L=0,J=[],te=new ee(R);if(M==null?M=C:B(M,0,p),U=o(M/d),K)if(crypto.getRandomValues){for(E=crypto.getRandomValues(new Uint32Array(U*=2));L<U;)_=E[L]*131072+(E[L+1]>>>11),_>=9e15?(b=crypto.getRandomValues(new Uint32Array(2)),E[L]=b[0],E[L+1]=b[1]):(J.push(_%1e14),L+=2);L=U/2}else if(crypto.randomBytes){for(E=crypto.randomBytes(U*=7);L<U;)_=(E[L]&31)*281474976710656+E[L+1]*1099511627776+E[L+2]*4294967296+E[L+3]*16777216+(E[L+4]<<16)+(E[L+5]<<8)+E[L+6],_>=9e15?crypto.randomBytes(7).copy(E,L):(J.push(_%1e14),L+=7);L=U/7}else throw K=!1,Error(s+"crypto unavailable");if(!K)for(;L<U;)_=j(),_<9e15&&(J[L++]=_%1e14);for(U=J[--L],M%=d,U&&M&&(_=l[d-M],J[L]=i(U/_)*_);J[L]===0;J.pop(),L--);if(L<0)J=[k=0];else{for(k=-1;J[0]===0;J.splice(0,1),k-=d);for(L=1,_=J[0];_>=10;_/=10,L++);L<d&&(k-=d-L)}return te.e=k,te.c=J,te}}(),ee.sum=function(){for(var W=1,j=arguments,M=new ee(j[0]);W<j.length;)M=M.plus(j[W++]);return M},G=function(){var W="0123456789";function j(M,E,b,k){for(var U,_=[0],L,J=0,te=M.length;J<te;){for(L=_.length;L--;_[L]*=E);for(_[0]+=k.indexOf(M.charAt(J++)),U=0;U<_.length;U++)_[U]>b-1&&(_[U+1]==null&&(_[U+1]=0),_[U+1]+=_[U]/b|0,_[U]%=b)}return _.reverse()}return function(M,E,b,k,U){var _,L,J,te,oe,fe,ue,Ae,ie=M.indexOf("."),ae=C,le=m;for(ie>=0&&(te=I,I=0,M=M.replace(".",""),Ae=new ee(E),fe=Ae.pow(M.length-ie),I=te,Ae.c=j(Q(y(fe.c),fe.e,"0"),10,b,W),Ae.e=Ae.c.length),ue=j(M,E,b,U?(_=T,W):(_=W,T)),J=te=ue.length;ue[--te]==0;ue.pop());if(!ue[0])return _.charAt(0);if(ie<0?--J:(fe.c=ue,fe.e=J,fe.s=k,fe=$(fe,Ae,ae,le,b),ue=fe.c,oe=fe.r,J=fe.e),L=J+ae+1,ie=ue[L],te=b/2,oe=oe||L<0||ue[L+1]!=null,oe=le<4?(ie!=null||oe)&&(le==0||le==(fe.s<0?3:2)):ie>te||ie==te&&(le==4||oe||le==6&&ue[L-1]&1||le==(fe.s<0?8:7)),L<1||!ue[0])M=oe?Q(_.charAt(1),-ae,_.charAt(0)):_.charAt(0);else{if(ue.length=L,oe)for(--b;++ue[--L]>b;)ue[L]=0,L||(++J,ue=[1].concat(ue));for(te=ue.length;!ue[--te];);for(ie=0,M="";ie<=te;M+=_.charAt(ue[ie++]));M=Q(M,J,_.charAt(0))}return M}}(),$=function(){function W(E,b,k){var U,_,L,J,te=0,oe=E.length,fe=b%u,ue=b/u|0;for(E=E.slice();oe--;)L=E[oe]%u,J=E[oe]/u|0,U=ue*L+J*fe,_=fe*L+U%u*u+te,te=(_/k|0)+(U/u|0)+ue*J,E[oe]=_%k;return te&&(E=[te].concat(E)),E}function j(E,b,k,U){var _,L;if(k!=U)L=k>U?1:-1;else for(_=L=0;_<k;_++)if(E[_]!=b[_]){L=E[_]>b[_]?1:-1;break}return L}function M(E,b,k,U){for(var _=0;k--;)E[k]-=_,_=E[k]<b[k]?1:0,E[k]=_*U+E[k]-b[k];for(;!E[0]&&E.length>1;E.splice(0,1));}return function(E,b,k,U,_){var L,J,te,oe,fe,ue,Ae,ie,ae,le,ge,me,ve,Ue,ut,_e,Qt,We=E.s==b.s?1:-1,Fe=E.c,Le=b.c;if(!Fe||!Fe[0]||!Le||!Le[0])return new ee(!E.s||!b.s||(Fe?Le&&Fe[0]==Le[0]:!Le)?NaN:Fe&&Fe[0]==0||!Le?We*0:We/0);for(ie=new ee(We),ae=ie.c=[],J=E.e-b.e,We=k+J+1,_||(_=c,J=h(E.e/d)-h(b.e/d),We=We/d|0),te=0;Le[te]==(Fe[te]||0);te++);if(Le[te]>(Fe[te]||0)&&J--,We<0)ae.push(1),oe=!0;else{for(Ue=Fe.length,_e=Le.length,te=0,We+=2,fe=i(_/(Le[0]+1)),fe>1&&(Le=W(Le,fe,_),Fe=W(Fe,fe,_),_e=Le.length,Ue=Fe.length),ve=_e,le=Fe.slice(0,_e),ge=le.length;ge<_e;le[ge++]=0);Qt=Le.slice(),Qt=[0].concat(Qt),ut=Le[0],Le[1]>=_/2&&ut++;do{if(fe=0,L=j(Le,le,_e,ge),L<0){if(me=le[0],_e!=ge&&(me=me*_+(le[1]||0)),fe=i(me/ut),fe>1)for(fe>=_&&(fe=_-1),ue=W(Le,fe,_),Ae=ue.length,ge=le.length;j(ue,le,Ae,ge)==1;)fe--,M(ue,_e<Ae?Qt:Le,Ae,_),Ae=ue.length,L=1;else fe==0&&(L=fe=1),ue=Le.slice(),Ae=ue.length;if(Ae<ge&&(ue=[0].concat(ue)),M(le,ue,ge,_),ge=le.length,L==-1)for(;j(Le,le,_e,ge)<1;)fe++,M(le,_e<ge?Qt:Le,ge,_),ge=le.length}else L===0&&(fe++,le=[0]);ae[te++]=fe,le[0]?le[ge++]=Fe[ve]||0:(le=[Fe[ve]],ge=1)}while((ve++<Ue||le[0]!=null)&&We--);oe=le[0]!=null,ae[0]||ae.splice(0,1)}if(_==c){for(te=1,We=ae[0];We>=10;We/=10,te++);X(ie,k+(ie.e=te+J*d-1)+1,U,oe)}else ie.e=J,ie.r=+oe;return ie}}();function se(W,j,M,E){var b,k,U,_,L;if(M==null?M=m:B(M,0,8),!W.c)return W.toString();if(b=W.c[0],U=W.e,j==null)L=y(W.c),L=E==1||E==2&&(U<=g||U>=w)?x(L,U):Q(L,U,"0");else if(W=X(new ee(W),j,M),k=W.e,L=y(W.c),_=L.length,E==1||E==2&&(j<=k||k<=g)){for(;_<j;L+="0",_++);L=x(L,k)}else if(j-=U,L=Q(L,k,"0"),k+1>_){if(--j>0)for(L+=".";j--;L+="0");}else if(j+=k-_,j>0)for(k+1==_&&(L+=".");j--;L+="0");return W.s<0&&b?"-"+L:L}function Z(W,j){for(var M,E,b=1,k=new ee(W[0]);b<W.length;b++)E=new ee(W[b]),(!E.s||(M=v(k,E))===j||M===0&&k.s===j)&&(k=E);return k}function ne(W,j,M){for(var E=1,b=j.length;!j[--b];j.pop());for(b=j[0];b>=10;b/=10,E++);return(M=E+M*d-1)>H?W.c=W.e=null:M<F?W.c=[W.e=0]:(W.e=M,W.c=j),W}z=function(){var W=/^(-?)0([xbo])(?=\w[\w.]*$)/i,j=/^([^.]+)\.$/,M=/^\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,b=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(k,U,_,L){var J,te=_?U:U.replace(b,"");if(E.test(te))k.s=isNaN(te)?null:te<0?-1:1;else{if(!_&&(te=te.replace(W,function(oe,fe,ue){return J=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!L||L==J?fe:oe}),L&&(J=L,te=te.replace(j,"$1").replace(M,"0.$1")),U!=te))return new ee(te,J);if(ee.DEBUG)throw Error(s+"Not a"+(L?" base "+L:"")+" number: "+U);k.s=null}k.c=k.e=null}}();function X(W,j,M,E){var b,k,U,_,L,J,te,oe=W.c,fe=l;if(oe){e:{for(b=1,_=oe[0];_>=10;_/=10,b++);if(k=j-b,k<0)k+=d,U=j,L=oe[J=0],te=i(L/fe[b-U-1]%10);else if(J=o((k+1)/d),J>=oe.length)if(E){for(;oe.length<=J;oe.push(0));L=te=0,b=1,k%=d,U=k-d+1}else break e;else{for(L=_=oe[J],b=1;_>=10;_/=10,b++);k%=d,U=k-d+b,te=U<0?0:i(L/fe[b-U-1]%10)}if(E=E||j<0||oe[J+1]!=null||(U<0?L:L%fe[b-U-1]),E=M<4?(te||E)&&(M==0||M==(W.s<0?3:2)):te>5||te==5&&(M==4||E||M==6&&(k>0?U>0?L/fe[b-U]:0:oe[J-1])%10&1||M==(W.s<0?8:7)),j<1||!oe[0])return oe.length=0,E?(j-=W.e+1,oe[0]=fe[(d-j%d)%d],W.e=-j||0):oe[0]=W.e=0,W;if(k==0?(oe.length=J,_=1,J--):(oe.length=J+1,_=fe[d-k],oe[J]=U>0?i(L/fe[b-U]%fe[U])*_:0),E)for(;;)if(J==0){for(k=1,U=oe[0];U>=10;U/=10,k++);for(U=oe[0]+=_,_=1;U>=10;U/=10,_++);k!=_&&(W.e++,oe[0]==c&&(oe[0]=1));break}else{if(oe[J]+=_,oe[J]!=c)break;oe[J--]=0,_=1}for(k=oe.length;oe[--k]===0;oe.pop());}W.e>H?W.c=W.e=null:W.e<F&&(W.c=[W.e=0])}return W}function re(W){var j,M=W.e;return M===null?W.toString():(j=y(W.c),j=M<=g||M>=w?x(j,M):Q(j,M,"0"),W.s<0?"-"+j:j)}return Y.absoluteValue=Y.abs=function(){var W=new ee(this);return W.s<0&&(W.s=1),W},Y.comparedTo=function(W,j){return v(this,new ee(W,j))},Y.decimalPlaces=Y.dp=function(W,j){var M,E,b,k=this;if(W!=null)return B(W,0,p),j==null?j=m:B(j,0,8),X(new ee(k),W+k.e+1,j);if(!(M=k.c))return null;if(E=((b=M.length-1)-h(this.e/d))*d,b=M[b])for(;b%10==0;b/=10,E--);return E<0&&(E=0),E},Y.dividedBy=Y.div=function(W,j){return $(this,new ee(W,j),C,m)},Y.dividedToIntegerBy=Y.idiv=function(W,j){return $(this,new ee(W,j),0,1)},Y.exponentiatedBy=Y.pow=function(W,j){var M,E,b,k,U,_,L,J,te,oe=this;if(W=new ee(W),W.c&&!W.isInteger())throw Error(s+"Exponent not an integer: "+re(W));if(j!=null&&(j=new ee(j)),_=W.e>14,!oe.c||!oe.c[0]||oe.c[0]==1&&!oe.e&&oe.c.length==1||!W.c||!W.c[0])return te=new ee(Math.pow(+re(oe),_?W.s*(2-S(W)):+re(W))),j?te.mod(j):te;if(L=W.s<0,j){if(j.c?!j.c[0]:!j.s)return new ee(NaN);E=!L&&oe.isInteger()&&j.isInteger(),E&&(oe=oe.mod(j))}else{if(W.e>9&&(oe.e>0||oe.e<-1||(oe.e==0?oe.c[0]>1||_&&oe.c[1]>=24e7:oe.c[0]<8e13||_&&oe.c[0]<=9999975e7)))return k=oe.s<0&&S(W)?-0:0,oe.e>-1&&(k=1/k),new ee(L?1/k:k);I&&(k=o(I/d+2))}for(_?(M=new ee(.5),L&&(W.s=1),J=S(W)):(b=Math.abs(+re(W)),J=b%2),te=new ee(R);;){if(J){if(te=te.times(oe),!te.c)break;k?te.c.length>k&&(te.c.length=k):E&&(te=te.mod(j))}if(b){if(b=i(b/2),b===0)break;J=b%2}else if(W=W.times(M),X(W,W.e+1,1),W.e>14)J=S(W);else{if(b=+re(W),b===0)break;J=b%2}oe=oe.times(oe),k?oe.c&&oe.c.length>k&&(oe.c.length=k):E&&(oe=oe.mod(j))}return E?te:(L&&(te=R.div(te)),j?te.mod(j):k?X(te,I,m,U):te)},Y.integerValue=function(W){var j=new ee(this);return W==null?W=m:B(W,0,8),X(j,j.e+1,W)},Y.isEqualTo=Y.eq=function(W,j){return v(this,new ee(W,j))===0},Y.isFinite=function(){return!!this.c},Y.isGreaterThan=Y.gt=function(W,j){return v(this,new ee(W,j))>0},Y.isGreaterThanOrEqualTo=Y.gte=function(W,j){return(j=v(this,new ee(W,j)))===1||j===0},Y.isInteger=function(){return!!this.c&&h(this.e/d)>this.c.length-2},Y.isLessThan=Y.lt=function(W,j){return v(this,new ee(W,j))<0},Y.isLessThanOrEqualTo=Y.lte=function(W,j){return(j=v(this,new ee(W,j)))===-1||j===0},Y.isNaN=function(){return!this.s},Y.isNegative=function(){return this.s<0},Y.isPositive=function(){return this.s>0},Y.isZero=function(){return!!this.c&&this.c[0]==0},Y.minus=function(W,j){var M,E,b,k,U=this,_=U.s;if(W=new ee(W,j),j=W.s,!_||!j)return new ee(NaN);if(_!=j)return W.s=-j,U.plus(W);var L=U.e/d,J=W.e/d,te=U.c,oe=W.c;if(!L||!J){if(!te||!oe)return te?(W.s=-j,W):new ee(oe?U:NaN);if(!te[0]||!oe[0])return oe[0]?(W.s=-j,W):new ee(te[0]?U:m==3?-0:0)}if(L=h(L),J=h(J),te=te.slice(),_=L-J){for((k=_<0)?(_=-_,b=te):(J=L,b=oe),b.reverse(),j=_;j--;b.push(0));b.reverse()}else for(E=(k=(_=te.length)<(j=oe.length))?_:j,_=j=0;j<E;j++)if(te[j]!=oe[j]){k=te[j]<oe[j];break}if(k&&(b=te,te=oe,oe=b,W.s=-W.s),j=(E=oe.length)-(M=te.length),j>0)for(;j--;te[M++]=0);for(j=c-1;E>_;){if(te[--E]<oe[E]){for(M=E;M&&!te[--M];te[M]=j);--te[M],te[E]+=c}te[E]-=oe[E]}for(;te[0]==0;te.splice(0,1),--J);return te[0]?ne(W,te,J):(W.s=m==3?-1:1,W.c=[W.e=0],W)},Y.modulo=Y.mod=function(W,j){var M,E,b=this;return W=new ee(W,j),!b.c||!W.s||W.c&&!W.c[0]?new ee(NaN):!W.c||b.c&&!b.c[0]?new ee(b):(D==9?(E=W.s,W.s=1,M=$(b,W,0,3),W.s=E,M.s*=E):M=$(b,W,0,D),W=b.minus(M.times(W)),!W.c[0]&&D==1&&(W.s=b.s),W)},Y.multipliedBy=Y.times=function(W,j){var M,E,b,k,U,_,L,J,te,oe,fe,ue,Ae,ie,ae,le=this,ge=le.c,me=(W=new ee(W,j)).c;if(!ge||!me||!ge[0]||!me[0])return!le.s||!W.s||ge&&!ge[0]&&!me||me&&!me[0]&&!ge?W.c=W.e=W.s=null:(W.s*=le.s,!ge||!me?W.c=W.e=null:(W.c=[0],W.e=0)),W;for(E=h(le.e/d)+h(W.e/d),W.s*=le.s,L=ge.length,oe=me.length,L<oe&&(Ae=ge,ge=me,me=Ae,b=L,L=oe,oe=b),b=L+oe,Ae=[];b--;Ae.push(0));for(ie=c,ae=u,b=oe;--b>=0;){for(M=0,fe=me[b]%ae,ue=me[b]/ae|0,U=L,k=b+U;k>b;)J=ge[--U]%ae,te=ge[U]/ae|0,_=ue*J+te*fe,J=fe*J+_%ae*ae+Ae[k]+M,M=(J/ie|0)+(_/ae|0)+ue*te,Ae[k--]=J%ie;Ae[k]=M}return M?++E:Ae.splice(0,1),ne(W,Ae,E)},Y.negated=function(){var W=new ee(this);return W.s=-W.s||null,W},Y.plus=function(W,j){var M,E=this,b=E.s;if(W=new ee(W,j),j=W.s,!b||!j)return new ee(NaN);if(b!=j)return W.s=-j,E.minus(W);var k=E.e/d,U=W.e/d,_=E.c,L=W.c;if(!k||!U){if(!_||!L)return new ee(b/0);if(!_[0]||!L[0])return L[0]?W:new ee(_[0]?E:b*0)}if(k=h(k),U=h(U),_=_.slice(),b=k-U){for(b>0?(U=k,M=L):(b=-b,M=_),M.reverse();b--;M.push(0));M.reverse()}for(b=_.length,j=L.length,b-j<0&&(M=L,L=_,_=M,j=b),b=0;j;)b=(_[--j]=_[j]+L[j]+b)/c|0,_[j]=c===_[j]?0:_[j]%c;return b&&(_=[b].concat(_),++U),ne(W,_,U)},Y.precision=Y.sd=function(W,j){var M,E,b,k=this;if(W!=null&&W!==!!W)return B(W,1,p),j==null?j=m:B(j,0,8),X(new ee(k),W,j);if(!(M=k.c))return null;if(b=M.length-1,E=b*d+1,b=M[b]){for(;b%10==0;b/=10,E--);for(b=M[0];b>=10;b/=10,E++);}return W&&k.e+1>E&&(E=k.e+1),E},Y.shiftedBy=function(W){return B(W,-f,f),this.times("1e"+W)},Y.squareRoot=Y.sqrt=function(){var W,j,M,E,b,k=this,U=k.c,_=k.s,L=k.e,J=C+4,te=new ee("0.5");if(_!==1||!U||!U[0])return new ee(!_||_<0&&(!U||U[0])?NaN:U?k:1/0);if(_=Math.sqrt(+re(k)),_==0||_==1/0?(j=y(U),(j.length+L)%2==0&&(j+="0"),_=Math.sqrt(+j),L=h((L+1)/2)-(L<0||L%2),_==1/0?j="5e"+L:(j=_.toExponential(),j=j.slice(0,j.indexOf("e")+1)+L),M=new ee(j)):M=new ee(_+""),M.c[0]){for(L=M.e,_=L+J,_<3&&(_=0);;)if(b=M,M=te.times(b.plus($(k,b,J,1))),y(b.c).slice(0,_)===(j=y(M.c)).slice(0,_))if(M.e<L&&--_,j=j.slice(_-3,_+1),j=="9999"||!E&&j=="4999"){if(!E&&(X(b,b.e+C+2,0),b.times(b).eq(k))){M=b;break}J+=4,_+=4,E=1}else{(!+j||!+j.slice(1)&&j.charAt(0)=="5")&&(X(M,M.e+C+2,1),W=!M.times(M).eq(k));break}}return X(M,M.e+C+1,m,W)},Y.toExponential=function(W,j){return W!=null&&(B(W,0,p),W++),se(this,W,j,1)},Y.toFixed=function(W,j){return W!=null&&(B(W,0,p),W=W+this.e+1),se(this,W,j)},Y.toFormat=function(W,j,M){var E,b=this;if(M==null)W!=null&&j&&typeof j=="object"?(M=j,j=null):W&&typeof W=="object"?(M=W,W=j=null):M=P;else if(typeof M!="object")throw Error(s+"Argument not an object: "+M);if(E=b.toFixed(W,j),b.c){var k,U=E.split("."),_=+M.groupSize,L=+M.secondaryGroupSize,J=M.groupSeparator||"",te=U[0],oe=U[1],fe=b.s<0,ue=fe?te.slice(1):te,Ae=ue.length;if(L&&(k=_,_=L,L=k,Ae-=k),_>0&&Ae>0){for(k=Ae%_||_,te=ue.substr(0,k);k<Ae;k+=_)te+=J+ue.substr(k,_);L>0&&(te+=J+ue.slice(k)),fe&&(te="-"+te)}E=oe?te+(M.decimalSeparator||"")+((L=+M.fractionGroupSize)?oe.replace(new RegExp("\\d{"+L+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):oe):te}return(M.prefix||"")+E+(M.suffix||"")},Y.toFraction=function(W){var j,M,E,b,k,U,_,L,J,te,oe,fe,ue=this,Ae=ue.c;if(W!=null&&(_=new ee(W),!_.isInteger()&&(_.c||_.s!==1)||_.lt(R)))throw Error(s+"Argument "+(_.isInteger()?"out of range: ":"not an integer: ")+re(_));if(!Ae)return new ee(ue);for(j=new ee(R),J=M=new ee(R),E=L=new ee(R),fe=y(Ae),k=j.e=fe.length-ue.e-1,j.c[0]=l[(U=k%d)<0?d+U:U],W=!W||_.comparedTo(j)>0?k>0?j:J:_,U=H,H=1/0,_=new ee(fe),L.c[0]=0;te=$(_,j,0,1),b=M.plus(te.times(E)),b.comparedTo(W)!=1;)M=E,E=b,J=L.plus(te.times(b=J)),L=b,j=_.minus(te.times(b=j)),_=b;return b=$(W.minus(M),E,0,1),L=L.plus(b.times(J)),M=M.plus(b.times(E)),L.s=J.s=ue.s,k=k*2,oe=$(J,E,k,m).minus(ue).abs().comparedTo($(L,M,k,m).minus(ue).abs())<1?[J,E]:[L,M],H=U,oe},Y.toNumber=function(){return+re(this)},Y.toPrecision=function(W,j){return W!=null&&B(W,1,p),se(this,W,j,2)},Y.toString=function(W){var j,M=this,E=M.s,b=M.e;return b===null?E?(j="Infinity",E<0&&(j="-"+j)):j="NaN":(W==null?j=b<=g||b>=w?x(y(M.c),b):Q(y(M.c),b,"0"):W===10&&V?(M=X(new ee(M),C+b+1,m),j=Q(y(M.c),M.e,"0")):(B(W,2,T.length,"Base"),j=G(Q(y(M.c),b,"0"),10,W,E,!0)),E<0&&M.c[0]&&(j="-"+j)),j},Y.valueOf=Y.toJSON=function(){return re(this)},Y._isBigNumber=!0,N!=null&&ee.set(N),ee}function h(N){var $=N|0;return N>0||N===$?$:$-1}function y(N){for(var $,G,z=1,Y=N.length,R=N[0]+"";z<Y;){for($=N[z++]+"",G=d-$.length;G--;$="0"+$);R+=$}for(Y=R.length;R.charCodeAt(--Y)===48;);return R.slice(0,Y+1||1)}function v(N,$){var G,z,Y=N.c,R=$.c,C=N.s,m=$.s,g=N.e,w=$.e;if(!C||!m)return null;if(G=Y&&!Y[0],z=R&&!R[0],G||z)return G?z?0:-m:C;if(C!=m)return C;if(G=C<0,z=g==w,!Y||!R)return z?0:!Y^G?1:-1;if(!z)return g>w^G?1:-1;for(m=(g=Y.length)<(w=R.length)?g:w,C=0;C<m;C++)if(Y[C]!=R[C])return Y[C]>R[C]^G?1:-1;return g==w?0:g>w^G?1:-1}function B(N,$,G,z){if(N<$||N>G||N!==i(N))throw Error(s+(z||"Argument")+(typeof N=="number"?N<$||N>G?" out of range: ":" not an integer: ":" not a primitive number: ")+String(N))}function S(N){var $=N.c.length-1;return h(N.e/d)==$&&N.c[$]%2!=0}function x(N,$){return(N.length>1?N.charAt(0)+"."+N.slice(1):N)+($<0?"e":"e+")+$}function Q(N,$,G){var z,Y;if($<0){for(Y=G+".";++$;Y+=G);N=Y+N}else if(z=N.length,++$>z){for(Y=G,$-=z;--$;Y+=G);N+=Y}else $<z&&(N=N.slice(0,$)+"."+N.slice($));return N}r=A(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(ea)})(Rz);var ISe=Rz.exports;Object.defineProperty(SD,"__esModule",{value:!0});const mSe=ISe;class wSe{BigNum;constructor(){this.BigNum=(e,r)=>{let n=mSe.BigNumber.clone({DECIMAL_PLACES:r});return new n(e)}}winstonToAr(e,{formatted:r=!1,decimals:n=12,trim:o=!0}={}){let i=this.stringToBigNum(e,n).shiftedBy(-12);return r?i.toFormat(n):i.toFixed(n)}arToWinston(e,{formatted:r=!1}={}){let n=this.stringToBigNum(e).shiftedBy(12);return r?n.toFormat():n.toFixed(0)}compare(e,r){let n=this.stringToBigNum(e),o=this.stringToBigNum(r);return n.comparedTo(o)}isEqual(e,r){return this.compare(e,r)===0}isLessThan(e,r){let n=this.stringToBigNum(e),o=this.stringToBigNum(r);return n.isLessThan(o)}isGreaterThan(e,r){let n=this.stringToBigNum(e),o=this.stringToBigNum(r);return n.isGreaterThan(o)}add(e,r){let n=this.stringToBigNum(e);return this.stringToBigNum(r),n.plus(r).toFixed(0)}sub(e,r){let n=this.stringToBigNum(e);return this.stringToBigNum(r),n.minus(r).toFixed(0)}stringToBigNum(e,r=12){return this.BigNum(e,r)}}SD.default=wSe;var _D={};Object.defineProperty(_D,"__esModule",{value:!0});class bSe{METHOD_GET="GET";METHOD_POST="POST";config;constructor(e){this.applyConfig(e)}applyConfig(e){this.config=this.mergeDefaults(e)}getConfig(){return this.config}mergeDefaults(e){const r=e.protocol||"http",n=e.port||(r==="https"?443:80);return{host:e.host||"127.0.0.1",protocol:r,port:n,timeout:e.timeout||2e4,logging:e.logging||!1,logger:e.logger||console.log,network:e.network}}async get(e,r){return await this.request(e,{...r,method:this.METHOD_GET})}async post(e,r,n){const o=new Headers(n?.headers||{});return o.get("content-type")?.includes("application/json")||o.append("content-type","application/json"),o.append("accept","application/json, text/plain, */*"),await this.request(e,{...n,method:this.METHOD_POST,body:typeof r!="string"?JSON.stringify(r):r,headers:o})}async request(e,r){const n=new Headers(r?.headers||{}),o=`${this.config.protocol}://${this.config.host}:${this.config.port}`,i=r?.responseType;delete r?.responseType,e.startsWith("/")&&(e=e.slice(1)),this.config.network&&n.append("x-network",this.config.network),this.config.logging&&this.config.logger(`Requesting: ${o}/${e}`);let s=await fetch(`${o}/${e}`,{...r||{},headers:n});this.config.logging&&this.config.logger(`Response:   ${s.url} - ${s.status}`);const c=s.headers.get("content-type")?.match(/charset=([^()<>@,;:\"/[\]?.=\s]*)/i)?.[1],d=s,f=async()=>{if(c)try{d.data=new TextDecoder(c).decode(await s.arrayBuffer())}catch{d.data=await s.text()}else d.data=await s.text()};if(i==="arraybuffer")d.data=await s.arrayBuffer();else if(i==="text")await f();else if(i==="webstream")d.data=ESe(s.body);else try{let l=await s.clone().json();typeof l!="object"?await f():d.data=await s.json(),l=null}catch{await f()}return d}}_D.default=bSe;const ESe=t=>{const e=t;return typeof e[Symbol.asyncIterator]>"u"?(e[Symbol.asyncIterator]=vSe(t),e):t},vSe=function(t){return async function*(){const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)return;yield o}}finally{r.releaseLock()}}};var DD={},or={},UC={};UC.byteLength=QSe;UC.toByteArray=SSe;UC.fromByteArray=kSe;var Uc=[],zs=[],BSe=typeof Uint8Array<"u"?Uint8Array:Array,BQ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var YA=0,CSe=BQ.length;YA<CSe;++YA)Uc[YA]=BQ[YA],zs[BQ.charCodeAt(YA)]=YA;zs["-".charCodeAt(0)]=62;zs["_".charCodeAt(0)]=63;function Nz(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function QSe(t){var e=Nz(t),r=e[0],n=e[1];return(r+n)*3/4-n}function xSe(t,e,r){return(e+r)*3/4-r}function SSe(t){var e,r=Nz(t),n=r[0],o=r[1],i=new BSe(xSe(t,n,o)),s=0,a=o>0?n-4:n,c;for(c=0;c<a;c+=4)e=zs[t.charCodeAt(c)]<<18|zs[t.charCodeAt(c+1)]<<12|zs[t.charCodeAt(c+2)]<<6|zs[t.charCodeAt(c+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=e&255;return o===2&&(e=zs[t.charCodeAt(c)]<<2|zs[t.charCodeAt(c+1)]>>4,i[s++]=e&255),o===1&&(e=zs[t.charCodeAt(c)]<<10|zs[t.charCodeAt(c+1)]<<4|zs[t.charCodeAt(c+2)]>>2,i[s++]=e>>8&255,i[s++]=e&255),i}function _Se(t){return Uc[t>>18&63]+Uc[t>>12&63]+Uc[t>>6&63]+Uc[t&63]}function DSe(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),o.push(_Se(n));return o.join("")}function kSe(t){for(var e,r=t.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push(DSe(t,s,s+i>a?a:s+i));return n===1?(e=t[r-1],o.push(Uc[e>>2]+Uc[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(Uc[e>>10]+Uc[e>>4&63]+Uc[e<<2&63]+"=")),o.join("")}Object.defineProperty(or,"__esModule",{value:!0});or.b64UrlDecode=or.b64UrlEncode=or.bufferTob64Url=or.bufferTob64=or.b64UrlToBuffer=or.stringToB64Url=or.stringToBuffer=or.bufferToString=or.b64UrlToString=or.concatBuffers=void 0;const Pz=UC;function TSe(t){let e=0;for(let o=0;o<t.length;o++)e+=t[o].byteLength;let r=new Uint8Array(e),n=0;r.set(new Uint8Array(t[0]),n),n+=t[0].byteLength;for(let o=1;o<t.length;o++)r.set(new Uint8Array(t[o]),n),n+=t[o].byteLength;return r}or.concatBuffers=TSe;function FSe(t){let e=Hz(t);return Oz(e)}or.b64UrlToString=FSe;function Oz(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}or.bufferToString=Oz;function Kz(t){return new TextEncoder().encode(t)}or.stringToBuffer=Kz;function MSe(t){return Gz(Kz(t))}or.stringToB64Url=MSe;function Hz(t){return new Uint8Array(Pz.toByteArray($z(t)))}or.b64UrlToBuffer=Hz;function Lz(t){return Pz.fromByteArray(new Uint8Array(t))}or.bufferTob64=Lz;function Gz(t){return qz(Lz(t))}or.bufferTob64Url=Gz;function qz(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}or.b64UrlEncode=qz;function $z(t){t=t.replace(/\-/g,"+").replace(/\_/g,"/");let e;return t.length%4==0?e=0:e=4-t.length%4,t.concat("=".repeat(e))}or.b64UrlDecode=$z;Object.defineProperty(DD,"__esModule",{value:!0});const ul=or;class USe{keyLength=4096;publicExponent=65537;hashAlgorithm="sha256";driver;constructor(){if(!this.detectWebCrypto())throw new Error("SubtleCrypto not available!");this.driver=crypto.subtle}async generateJWK(){let e=await this.driver.generateKey({name:"RSA-PSS",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign"]),r=await this.driver.exportKey("jwk",e.privateKey);return{kty:r.kty,e:r.e,n:r.n,d:r.d,p:r.p,q:r.q,dp:r.dp,dq:r.dq,qi:r.qi}}async sign(e,r,{saltLength:n}={}){let o=await this.driver.sign({name:"RSA-PSS",saltLength:32},await this.jwkToCryptoKey(e),r);return new Uint8Array(o)}async hash(e,r="SHA-256"){let n=await this.driver.digest(r,e);return new Uint8Array(n)}async verify(e,r,n){const o={kty:"RSA",e:"AQAB",n:e},i=await this.jwkToPublicCryptoKey(o),s=await this.driver.digest("SHA-256",r),a=await this.driver.verify({name:"RSA-PSS",saltLength:0},i,n,r),c=await this.driver.verify({name:"RSA-PSS",saltLength:32},i,n,r),d=await this.driver.verify({name:"RSA-PSS",saltLength:Math.ceil((i.algorithm.modulusLength-1)/8)-s.byteLength-2},i,n,r);return a||c||d}async jwkToCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["sign"])}async jwkToPublicCryptoKey(e){return this.driver.importKey("jwk",e,{name:"RSA-PSS",hash:{name:"SHA-256"}},!1,["verify"])}detectWebCrypto(){if(typeof crypto>"u")return!1;const e=crypto?.subtle;return e===void 0?!1:["generateKey","importKey","exportKey","digest","sign"].every(n=>typeof e[n]=="function")}async encrypt(e,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ul.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:n?ul.stringToBuffer(n):ul.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=new Uint8Array(16);crypto.getRandomValues(s);const a=await this.driver.encrypt({name:"AES-CBC",iv:s},i,e);return ul.concatBuffers([s,a])}async decrypt(e,r,n){const o=await this.driver.importKey("raw",typeof r=="string"?ul.stringToBuffer(r):r,{name:"PBKDF2",length:32},!1,["deriveKey"]),i=await this.driver.deriveKey({name:"PBKDF2",salt:n?ul.stringToBuffer(n):ul.stringToBuffer("salt"),iterations:1e5,hash:"SHA-256"},o,{name:"AES-CBC",length:256},!1,["encrypt","decrypt"]),s=e.slice(0,16),a=await this.driver.decrypt({name:"AES-CBC",iv:s},i,e.slice(16));return ul.concatBuffers([a])}}DD.default=USe;var kD={};Object.defineProperty(kD,"__esModule",{value:!0});class RSe{api;constructor(e){this.api=e}getInfo(){return this.api.get("info").then(e=>e.data)}getPeers(){return this.api.get("peers").then(e=>e.data)}}kD.default=RSe;var S1={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getError=void 0;class NSe extends Error{type;response;constructor(e,r={}){r.message?super(r.message):super(),this.type=e,this.response=r.response}getType(){return this.type}}Eu.default=NSe;function PSe(t){let e=t.data;if(typeof t.data=="string")try{e=JSON.parse(t.data)}catch{}if(t.data instanceof ArrayBuffer||t.data instanceof Uint8Array)try{e=JSON.parse(e.toString())}catch{}return e?e.error||e:t.statusText||"unknown"}Eu.getError=PSe;var JA={},_1={},bR;function OSe(){if(bR)return _1;bR=1,Object.defineProperty(_1,"__esModule",{value:!0});const t=dv();async function e(n){if(Array.isArray(n)){const s=t.default.utils.concatBuffers([t.default.utils.stringToBuffer("list"),t.default.utils.stringToBuffer(n.length.toString())]);return await r(n,await t.default.crypto.hash(s,"SHA-384"))}const o=t.default.utils.concatBuffers([t.default.utils.stringToBuffer("blob"),t.default.utils.stringToBuffer(n.byteLength.toString())]),i=t.default.utils.concatBuffers([await t.default.crypto.hash(o,"SHA-384"),await t.default.crypto.hash(n,"SHA-384")]);return await t.default.crypto.hash(i,"SHA-384")}_1.default=e;async function r(n,o){if(n.length<1)return o;const i=t.default.utils.concatBuffers([o,await e(n[0])]),s=await t.default.crypto.hash(i,"SHA-384");return await r(n.slice(1),s)}return _1}var CQ={},ER;function jz(){return ER||(ER=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.validatePath=t.arrayCompare=t.bufferToInt=t.intToBuffer=t.arrayFlatten=t.generateProofs=t.buildLayers=t.generateTransactionChunks=t.generateTree=t.computeRootHash=t.generateLeaves=t.chunkData=t.MIN_CHUNK_SIZE=t.MAX_CHUNK_SIZE=void 0;const e=dv(),r=or;t.MAX_CHUNK_SIZE=256*1024,t.MIN_CHUNK_SIZE=32*1024;const n=32,o=32;async function i(Q){let N=[],$=Q,G=0;for(;$.byteLength>=t.MAX_CHUNK_SIZE;){let z=t.MAX_CHUNK_SIZE,Y=$.byteLength-t.MAX_CHUNK_SIZE;Y>0&&Y<t.MIN_CHUNK_SIZE&&(z=Math.ceil($.byteLength/2));const R=$.slice(0,z),C=await e.default.crypto.hash(R);G+=R.byteLength,N.push({dataHash:C,minByteRange:G-R.byteLength,maxByteRange:G}),$=$.slice(z)}return N.push({dataHash:await e.default.crypto.hash($),minByteRange:G,maxByteRange:G+$.byteLength}),N}t.chunkData=i;async function s(Q){return Promise.all(Q.map(async({dataHash:N,minByteRange:$,maxByteRange:G})=>({type:"leaf",id:await h(await Promise.all([h(N),h(y(G))])),dataHash:N,minByteRange:$,maxByteRange:G})))}t.generateLeaves=s;async function a(Q){return(await c(Q)).id}t.computeRootHash=a;async function c(Q){return await f(await s(await i(Q)))}t.generateTree=c;async function d(Q){const N=await i(Q),$=await s(N),G=await f($),z=await l(G),Y=N.slice(-1)[0];return Y.maxByteRange-Y.minByteRange===0&&(N.splice(N.length-1,1),z.splice(z.length-1,1)),{data_root:G.id,chunks:N,proofs:z}}t.generateTransactionChunks=d;async function f(Q,N=0){if(Q.length<2)return Q[0];const $=[];for(let G=0;G<Q.length;G+=2)$.push(await A(Q[G],Q[G+1]));return f($,N+1)}t.buildLayers=f;function l(Q){const N=u(Q);return Array.isArray(N)?p(N):[N]}t.generateProofs=l;function u(Q,N=new Uint8Array,$=0){if(Q.type=="leaf")return{offset:Q.maxByteRange-1,proof:(0,r.concatBuffers)([N,Q.dataHash,y(Q.maxByteRange)])};if(Q.type=="branch"){const G=(0,r.concatBuffers)([N,Q.leftChild.id,Q.rightChild.id,y(Q.byteRange)]);return[u(Q.leftChild,G,$+1),u(Q.rightChild,G,$+1)]}throw new Error("Unexpected node type")}function p(Q){const N=[];return Q.forEach($=>{Array.isArray($)?N.push(...p($)):N.push($)}),N}t.arrayFlatten=p;async function A(Q,N){return N?{type:"branch",id:await h([await h(Q.id),await h(N.id),await h(y(Q.maxByteRange))]),byteRange:Q.maxByteRange,maxByteRange:N.maxByteRange,leftChild:Q,rightChild:N}:Q}async function h(Q){return Array.isArray(Q)&&(Q=e.default.utils.concatBuffers(Q)),new Uint8Array(await e.default.crypto.hash(Q))}function y(Q){const N=new Uint8Array(n);for(var $=N.length-1;$>=0;$--){var G=Q%256;N[$]=G,Q=(Q-G)/256}return N}t.intToBuffer=y;function v(Q){let N=0;for(var $=0;$<Q.length;$++)N*=256,N+=Q[$];return N}t.bufferToInt=v;const B=(Q,N)=>Q.every(($,G)=>N[G]===$);t.arrayCompare=B;async function S(Q,N,$,G,z){if(G<=0)return!1;if(N>=G)return S(Q,0,G-1,G,z);if(N<0)return S(Q,0,0,G,z);if(z.length==o+n){const F=z.slice(0,o),H=z.slice(F.length,F.length+n),K=await h([await h(F),await h(H)]);return(0,t.arrayCompare)(Q,K)?{offset:G-1,leftBound:$,rightBound:G,chunkSize:G-$}:!1}const Y=z.slice(0,o),R=z.slice(Y.length,Y.length+o),C=z.slice(Y.length+R.length,Y.length+R.length+n),m=v(C),g=z.slice(Y.length+R.length+C.length),w=await h([await h(Y),await h(R),await h(C)]);return(0,t.arrayCompare)(Q,w)?N<m?await S(Y,N,$,Math.min(G,m),g):await S(R,N,Math.max($,m),G,g):!1}t.validatePath=S;async function x(Q,N=""){if(Q.byteLength<1)return N;const $=Q.slice(0,o),G=Q.slice($.length,$.length+o),z=Q.slice($.length+G.length,$.length+G.length+n),Y=v(z),R=Q.slice($.length+G.length+z.length),C=await h([await h($),await h(G),await h(z)]),m=`${N}
${JSON.stringify(qe.Buffer.from($))},${JSON.stringify(qe.Buffer.from(G))},${Y} => ${JSON.stringify(C)}`;return x(R,m)}t.debug=x}(CQ)),CQ}var vR;function TD(){if(vR)return JA;vR=1,Object.defineProperty(JA,"__esModule",{value:!0}),JA.Tag=void 0;const t=or,e=OSe(),r=jz();class n{get(a,c){if(!Object.getOwnPropertyNames(this).includes(a))throw new Error(`Field "${a}" is not a property of the Arweave Transaction class.`);if(this[a]instanceof Uint8Array)return c&&c.decode&&c.string?t.bufferToString(this[a]):c&&c.decode&&!c.string?this[a]:t.bufferTob64Url(this[a]);if(this[a]instanceof Array){if(c?.decode!==void 0||c?.string!==void 0)throw a==="tags"&&console.warn(`Did you mean to use 'transaction["tags"]' ?`),new Error("Cannot decode or stringify an array.");return this[a]}return c&&c.decode==!0?c&&c.string?t.b64UrlToString(this[a]):t.b64UrlToBuffer(this[a]):this[a]}}class o extends n{name;value;constructor(a,c,d=!1){super(),this.name=a,this.value=c}}JA.Tag=o;class i extends n{format=2;id="";last_tx="";owner="";tags=[];target="";quantity="0";data_size="0";data=new Uint8Array;data_root="";reward="0";signature="";chunks;constructor(a={}){super(),Object.assign(this,a),typeof this.data=="string"&&(this.data=t.b64UrlToBuffer(this.data)),a.tags&&(this.tags=a.tags.map(c=>new o(c.name,c.value)))}addTag(a,c){this.tags.push(new o(t.stringToB64Url(a),t.stringToB64Url(c)))}toJSON(){return{format:this.format,id:this.id,last_tx:this.last_tx,owner:this.owner,tags:this.tags,target:this.target,quantity:this.quantity,data:t.bufferTob64Url(this.data),data_size:this.data_size,data_root:this.data_root,data_tree:this.data_tree,reward:this.reward,signature:this.signature}}setOwner(a){this.owner=a}setSignature({id:a,owner:c,reward:d,tags:f,signature:l}){this.id=a,this.owner=c,d&&(this.reward=d),f&&(this.tags=f),this.signature=l}async prepareChunks(a){!this.chunks&&a.byteLength>0&&(this.chunks=await(0,r.generateTransactionChunks)(a),this.data_root=t.bufferTob64Url(this.chunks.data_root)),!this.chunks&&a.byteLength===0&&(this.chunks={chunks:[],data_root:new Uint8Array,proofs:[]},this.data_root="")}getChunk(a,c){if(!this.chunks)throw new Error("Chunks have not been prepared");const d=this.chunks.proofs[a],f=this.chunks.chunks[a];return{data_root:this.data_root,data_size:this.data_size,data_path:t.bufferTob64Url(d.proof),offset:d.offset.toString(),chunk:t.bufferTob64Url(c.slice(f.minByteRange,f.maxByteRange))}}async getSignatureData(){switch(this.format){case 1:let a=this.tags.reduce((d,f)=>t.concatBuffers([d,f.get("name",{decode:!0,string:!1}),f.get("value",{decode:!0,string:!1})]),new Uint8Array);return t.concatBuffers([this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),this.get("data",{decode:!0,string:!1}),t.stringToBuffer(this.quantity),t.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),a]);case 2:this.data_root||await this.prepareChunks(this.data);const c=this.tags.map(d=>[d.get("name",{decode:!0,string:!1}),d.get("value",{decode:!0,string:!1})]);return await(0,e.default)([t.stringToBuffer(this.format.toString()),this.get("owner",{decode:!0,string:!1}),this.get("target",{decode:!0,string:!1}),t.stringToBuffer(this.quantity),t.stringToBuffer(this.reward),this.get("last_tx",{decode:!0,string:!1}),c,t.stringToBuffer(this.data_size),this.get("data_root",{decode:!0,string:!1})]);default:throw new Error(`Unexpected transaction format: ${this.format}`)}}}return JA.default=i,JA}var fy={},BR;function KSe(){if(BR)return fy;BR=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.TransactionUploader=void 0;const t=TD(),e=or,r=Eu,n=jz(),o=1,i=["invalid_json","chunk_too_big","data_path_too_big","offset_too_big","data_size_too_big","chunk_proof_ratio_not_attractive","invalid_proof"],s=1e3*40;class a{api;chunkIndex=0;txPosted=!1;transaction;lastRequestTimeEnd=0;totalErrors=0;data;lastResponseStatus=0;lastResponseError="";get isComplete(){return this.txPosted&&this.chunkIndex===this.transaction.chunks.chunks.length}get totalChunks(){return this.transaction.chunks.chunks.length}get uploadedChunks(){return this.chunkIndex}get pctComplete(){return Math.trunc(this.uploadedChunks/this.totalChunks*100)}constructor(d,f){if(this.api=d,!f.id)throw new Error("Transaction is not signed");if(!f.chunks)throw new Error("Transaction chunks not prepared");this.data=f.data,this.transaction=new t.default(Object.assign({},f,{data:new Uint8Array(0)}))}async uploadChunk(d){if(this.isComplete)throw new Error("Upload is already complete");if(this.lastResponseError!==""?this.totalErrors++:this.totalErrors=0,this.totalErrors===100)throw new Error(`Unable to complete upload: ${this.lastResponseStatus}: ${this.lastResponseError}`);let f=this.lastResponseError===""?0:Math.max(this.lastRequestTimeEnd+s-Date.now(),s);if(f>0&&(f=f-f*Math.random()*.3,await new Promise(A=>setTimeout(A,f))),this.lastResponseError="",!this.txPosted){await this.postTransaction();return}d&&(this.chunkIndex=d);const l=this.transaction.getChunk(d||this.chunkIndex,this.data);if(!await(0,n.validatePath)(this.transaction.chunks.data_root,parseInt(l.offset),0,parseInt(l.data_size),e.b64UrlToBuffer(l.data_path)))throw new Error(`Unable to validate chunk ${this.chunkIndex}`);const p=await this.api.post("chunk",this.transaction.getChunk(this.chunkIndex,this.data)).catch(A=>(console.error(A.message),{status:-1,data:{error:A.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=p.status,this.lastResponseStatus==200)this.chunkIndex++;else if(this.lastResponseError=(0,r.getError)(p),i.includes(this.lastResponseError))throw new Error(`Fatal error uploading chunk ${this.chunkIndex}: ${this.lastResponseError}`)}static async fromSerialized(d,f,l){if(!f||typeof f.chunkIndex!="number"||typeof f.transaction!="object")throw new Error("Serialized object does not match expected format.");var u=new t.default(f.transaction);u.chunks||await u.prepareChunks(l);const p=new a(d,u);if(p.chunkIndex=f.chunkIndex,p.lastRequestTimeEnd=f.lastRequestTimeEnd,p.lastResponseError=f.lastResponseError,p.lastResponseStatus=f.lastResponseStatus,p.txPosted=f.txPosted,p.data=l,p.transaction.data_root!==f.transaction.data_root)throw new Error("Data mismatch: Uploader doesn't match provided data.");return p}static async fromTransactionId(d,f){const l=await d.get(`tx/${f}`);if(l.status!==200)throw new Error(`Tx ${f} not found: ${l.status}`);const u=l.data;return u.data=new Uint8Array(0),{txPosted:!0,chunkIndex:0,lastResponseError:"",lastRequestTimeEnd:0,lastResponseStatus:0,transaction:u}}toJSON(){return{chunkIndex:this.chunkIndex,transaction:this.transaction,lastRequestTimeEnd:this.lastRequestTimeEnd,lastResponseStatus:this.lastResponseStatus,lastResponseError:this.lastResponseError,txPosted:this.txPosted}}async postTransaction(){if(this.totalChunks<=o){this.transaction.data=this.data;const l=await this.api.post("tx",this.transaction).catch(u=>(console.error(u),{status:-1,data:{error:u.message}}));if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=l.status,this.transaction.data=new Uint8Array(0),l.status>=200&&l.status<300){this.txPosted=!0,this.chunkIndex=o;return}throw this.lastResponseError=(0,r.getError)(l),new Error(`Unable to upload transaction: ${l.status}, ${this.lastResponseError}`)}const f=await this.api.post("tx",this.transaction);if(this.lastRequestTimeEnd=Date.now(),this.lastResponseStatus=f.status,!(f.status>=200&&f.status<300))throw this.lastResponseError=(0,r.getError)(f),new Error(`Unable to upload transaction: ${f.status}, ${this.lastResponseError}`);this.txPosted=!0}}return fy.TransactionUploader=a,fy}var CR;function HSe(){if(CR)return S1;CR=1,Object.defineProperty(S1,"__esModule",{value:!0});const t=Eu,e=TD(),r=or,n=KSe();class o{api;crypto;chunks;constructor(s,a,c){this.api=s,this.crypto=a,this.chunks=c}async getTransactionAnchor(){const s=await this.api.get("tx_anchor");if(!s.data.match(/^[a-z0-9_-]{43,}/i)||!s.ok)throw new Error(`Could not getTransactionAnchor. Received: ${s.data}. Status: ${s.status}, ${s.statusText}`);return s.data}async getPrice(s,a){let c=a?`price/${s}/${a}`:`price/${s}`;const d=await this.api.get(c);if(!/^\d+$/.test(d.data)||!d.ok)throw new Error(`Could not getPrice. Received: ${d.data}. Status: ${d.status}, ${d.statusText}`);return d.data}async get(s){const a=await this.api.get(`tx/${s}`);if(a.status==200){const c=parseInt(a.data.data_size);if(a.data.format>=2&&c>0&&c<=1024*1024*12){const d=await this.getData(s);return new e.default({...a.data,data:d})}return new e.default({...a.data,format:a.data.format||1})}throw a.status==404?new t.default("TX_NOT_FOUND"):a.status==410?new t.default("TX_FAILED"):new t.default("TX_INVALID")}fromRaw(s){return new e.default(s)}async search(s,a){return this.api.post("arql",{op:"equals",expr1:s,expr2:a}).then(c=>c.data?c.data:[])}getStatus(s){return this.api.get(`tx/${s}/status`).then(a=>a.status==200?{status:200,confirmed:a.data}:{status:a.status,confirmed:null})}async getData(s,a){let c;try{c=await this.chunks.downloadChunkedData(s)}catch(d){console.error(`Error while trying to download chunked data for ${s}`),console.error(d)}if(!c){console.warn(`Falling back to gateway cache for ${s}`);try{const{data:d,ok:f,status:l,statusText:u}=await this.api.get(`/${s}`,{responseType:"arraybuffer"});if(!f)throw new Error("Bad http status code",{cause:{status:l,statusText:u}});c=d}catch(d){console.error(`Error while trying to download contiguous data from gateway cache for ${s}`),console.error(d)}}if(!c)throw new Error(`${s} data was not found!`);return a&&a.decode&&!a.string?c:a&&a.decode&&a.string?r.bufferToString(c):r.bufferTob64Url(c)}async sign(s,a,c){const f=typeof a=="object"&&(u=>{let p=!0;return["n","e","d","p","q","dp","dq","qi"].map(A=>!(A in u)&&(p=!1)),p})(a),l=typeof arweaveWallet=="object";if(!f&&!l)throw new Error("No valid JWK or external wallet found to sign transaction.");if(f){s.setOwner(a.n);let u=await s.getSignatureData(),p=await this.crypto.sign(a,u,c),A=await this.crypto.hash(p);s.setSignature({id:r.bufferTob64Url(A),owner:a.n,signature:r.bufferTob64Url(p)})}else if(l){try{(await arweaveWallet.getPermissions()).includes("SIGN_TRANSACTION")||await arweaveWallet.connect(["SIGN_TRANSACTION"])}catch{}const u=await arweaveWallet.sign(s,c);s.setSignature({id:u.id,owner:u.owner,reward:u.reward,tags:u.tags,signature:u.signature})}else throw new Error("An error occurred while signing. Check wallet is valid")}async verify(s){const a=await s.getSignatureData(),c=s.get("signature",{decode:!0,string:!1}),d=r.bufferTob64Url(await this.crypto.hash(c));if(s.id!==d)throw new Error("Invalid transaction signature or ID! The transaction ID doesn't match the expected SHA-256 hash of the signature.");return this.crypto.verify(s.owner,a,c)}async post(s){if(typeof s=="string"?s=new e.default(JSON.parse(s)):typeof s.readInt32BE=="function"?s=new e.default(JSON.parse(s.toString())):typeof s=="object"&&!(s instanceof e.default)&&(s=new e.default(s)),!(s instanceof e.default))throw new Error("Must be Transaction object");s.chunks||await s.prepareChunks(s.data);const a=await this.getUploader(s,s.data);try{for(;!a.isComplete;)await a.uploadChunk()}catch(c){if(a.lastResponseStatus>0)return{status:a.lastResponseStatus,statusText:a.lastResponseError,data:{error:a.lastResponseError}};throw c}return{status:200,statusText:"OK",data:{}}}async getUploader(s,a){let c;if(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),s instanceof e.default){if(a||(a=s.data),!(a instanceof Uint8Array))throw new Error("Data format is invalid");s.chunks||await s.prepareChunks(a),c=new n.TransactionUploader(this.api,s),(!c.data||c.data.length===0)&&(c.data=a)}else{if(typeof s=="string"&&(s=await n.TransactionUploader.fromTransactionId(this.api,s)),!a||!(a instanceof Uint8Array))throw new Error("Must provide data when resuming upload");c=await n.TransactionUploader.fromSerialized(this.api,s,a)}return c}async*upload(s,a){const c=await this.getUploader(s,a);for(;!c.isComplete;)await c.uploadChunk(),yield c;return c}}return S1.default=o,S1}var FD={};Object.defineProperty(FD,"__esModule",{value:!0});const QR=or;class LSe{api;crypto;constructor(e,r){this.api=e,this.crypto=r}getBalance(e){return this.api.get(`wallet/${e}/balance`).then(r=>r.data)}getLastTransactionID(e){return this.api.get(`wallet/${e}/last_tx`).then(r=>r.data)}generate(){return this.crypto.generateJWK()}async jwkToAddress(e){return!e||e==="use_wallet"?this.getAddress():this.getAddress(e)}async getAddress(e){if(!e||e==="use_wallet"){try{await arweaveWallet.connect(["ACCESS_ADDRESS"])}catch{}return arweaveWallet.getActiveAddress()}else return this.ownerToAddress(e.n)}async ownerToAddress(e){return QR.bufferTob64Url(await this.crypto.hash(QR.b64UrlToBuffer(e)))}}FD.default=LSe;var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.SiloResource=void 0;const xR=or;class GSe{api;crypto;transactions;constructor(e,r,n){this.api=e,this.crypto=r,this.transactions=n}async get(e){if(!e)throw new Error("No Silo URI specified");const r=await this.parseUri(e),n=await this.transactions.search("Silo-Name",r.getAccessKey());if(n.length==0)throw new Error(`No data could be found for the Silo URI: ${e}`);const o=await this.transactions.get(n[0]);if(!o)throw new Error(`No data could be found for the Silo URI: ${e}`);const i=o.get("data",{decode:!0,string:!1});return this.crypto.decrypt(i,r.getEncryptionKey())}async readTransactionData(e,r){if(!r)throw new Error("No Silo URI specified");const n=await this.parseUri(r),o=e.get("data",{decode:!0,string:!1});return this.crypto.decrypt(o,n.getEncryptionKey())}async parseUri(e){const r=e.match(/^([a-z0-9-_]+)\.([0-9]+)/i);if(!r)throw new Error("Invalid Silo name, must be a name in the format of [a-z0-9]+.[0-9]+, e.g. 'bubble.7'");const n=r[1],o=Math.pow(2,parseInt(r[2])),i=await this.hash(xR.stringToBuffer(n),o),s=xR.bufferTob64(i.slice(0,15)),a=await this.hash(i.slice(16,31),1);return new zz(e,s,a)}async hash(e,r){let n=await this.crypto.hash(e);for(let o=0;o<r-1;o++)n=await this.crypto.hash(n);return n}}zm.default=GSe;class zz{uri;accessKey;encryptionKey;constructor(e,r,n){this.uri=e,this.accessKey=r,this.encryptionKey=n}getUri(){return this.uri}getAccessKey(){return this.accessKey}getEncryptionKey(){return this.encryptionKey}}zm.SiloResource=zz;var MD={};Object.defineProperty(MD,"__esModule",{value:!0});const SR=Eu,qSe=or;class $Se{api;constructor(e){this.api=e}async getTransactionOffset(e){const r=await this.api.get(`tx/${e}/offset`);if(r.status===200)return r.data;throw new Error(`Unable to get transaction offset: ${(0,SR.getError)(r)}`)}async getChunk(e){const r=await this.api.get(`chunk/${e}`);if(r.status===200)return r.data;throw new Error(`Unable to get chunk: ${(0,SR.getError)(r)}`)}async getChunkData(e){const r=await this.getChunk(e);return qSe.b64UrlToBuffer(r.chunk)}firstChunkOffset(e){return parseInt(e.offset)-parseInt(e.size)+1}async downloadChunkedData(e){const r=await this.getTransactionOffset(e),n=parseInt(r.size),i=parseInt(r.offset)-n+1,s=new Uint8Array(n);let a=0;for(;a<n;){this.api.config.logging&&console.log(`[chunk] ${a}/${n}`);let c;try{c=await this.getChunkData(i+a)}catch{console.error(`[chunk] Failed to fetch chunk at offset ${i+a}`),console.error("[chunk] This could indicate that the chunk wasn't uploaded or hasn't yet seeded properly to a particular gateway/node")}if(c)s.set(c,a),a+=c.length;else throw new Error(`Couldn't complete data download at ${a}/${n}`)}return s}}MD.default=$Se;var UD={};Object.defineProperty(UD,"__esModule",{value:!0});const _R=Eu;class fv{api;network;static HASH_ENDPOINT="block/hash/";static HEIGHT_ENDPOINT="block/height/";constructor(e,r){this.api=e,this.network=r}async get(e){const r=await this.api.get(`${fv.HASH_ENDPOINT}${e}`);if(r.status===200)return r.data;throw r.status===404?new _R.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getByHeight(e){const r=await this.api.get(`${fv.HEIGHT_ENDPOINT}${e}`);if(r.status===200)return r.data;throw r.status===404?new _R.default("BLOCK_NOT_FOUND"):new Error(`Error while loading block data: ${r}`)}async getCurrent(){const{current:e}=await this.network.getInfo();return await this.get(e)}}UD.default=fv;var DR;function dv(){if(DR)return x1;DR=1,Object.defineProperty(x1,"__esModule",{value:!0});const t=SD,e=_D,r=DD,n=kD,o=HSe(),i=FD,s=TD(),a=or,c=zm,d=MD,f=UD;class l{api;wallets;transactions;network;blocks;ar;silo;chunks;static init;static crypto=new r.default;static utils=a;constructor(p){this.api=new e.default(p),this.wallets=new i.default(this.api,l.crypto),this.chunks=new d.default(this.api),this.transactions=new o.default(this.api,l.crypto,this.chunks),this.silo=new c.default(this.api,this.crypto,this.transactions),this.network=new n.default(this.api),this.blocks=new f.default(this.api,this.network),this.ar=new t.default}get crypto(){return l.crypto}get utils(){return l.utils}getConfig(){return{api:this.api.getConfig(),crypto:null}}async createTransaction(p,A){const h={};if(Object.assign(h,p),!p.data&&!(p.target&&p.quantity))throw new Error("A new Arweave transaction must have a 'data' value, or 'target' and 'quantity' values.");if(p.owner==null&&A&&A!=="use_wallet"&&(h.owner=A.n),p.last_tx==null&&(h.last_tx=await this.transactions.getTransactionAnchor()),typeof p.data=="string"&&(p.data=a.stringToBuffer(p.data)),p.data instanceof ArrayBuffer&&(p.data=new Uint8Array(p.data)),p.data&&!(p.data instanceof Uint8Array))throw new Error("Expected data to be a string, Uint8Array or ArrayBuffer");if(p.reward==null){const v=p.data?p.data.byteLength:0;h.reward=await this.transactions.getPrice(v,h.target)}h.data_root="",h.data_size=p.data?p.data.byteLength.toString():"0",h.data=p.data||new Uint8Array(0);const y=new s.default(h);return await y.getSignatureData(),y}async createSiloTransaction(p,A,h){const y={};if(Object.assign(y,p),!p.data)throw new Error("Silo transactions must have a 'data' value");if(!h)throw new Error("No Silo URI specified.");if(p.target||p.quantity)throw new Error("Silo transactions can only be used for storing data, sending AR to other wallets isn't supported.");if(p.owner==null){if(!A||!A.n)throw new Error("A new Arweave transaction must either have an 'owner' attribute, or you must provide the jwk parameter.");y.owner=A.n}p.last_tx==null&&(y.last_tx=await this.transactions.getTransactionAnchor());const v=await this.silo.parseUri(h);if(typeof p.data=="string"){const S=await this.crypto.encrypt(a.stringToBuffer(p.data),v.getEncryptionKey());y.reward=await this.transactions.getPrice(S.byteLength),y.data=a.bufferTob64Url(S)}if(p.data instanceof Uint8Array){const S=await this.crypto.encrypt(p.data,v.getEncryptionKey());y.reward=await this.transactions.getPrice(S.byteLength),y.data=a.bufferTob64Url(S)}const B=new s.default(y);return B.addTag("Silo-Name",v.getAccessKey()),B.addTag("Silo-Version","0.1.0"),B}arql(p){return this.api.post("/arql",p).then(A=>A.data||[])}}return x1.default=l,x1}var RC={};Object.defineProperty(RC,"__esModule",{value:!0});RC.getDefaultConfig=void 0;const jSe=(t,e)=>{const r=/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,n=e.split("."),o=n[n.length-1],i=["localhost","[::1]"];return i.includes(e)||t=="file"||i.includes(o)||!!e.match(r)||!!o.match(r)},zSe=t=>{const e=t.charAt(0)==="[",r=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/;return!!t.match(r)||e},YSe=(t,e)=>{if(jSe(t,e))return{protocol:"https",host:"arweave.net",port:443};if(!zSe(e)){let r=e.split(".");if(r.length>=3){r.shift();const n=r.join(".");return{protocol:t,host:n}}}return{protocol:t,host:e}};RC.getDefaultConfig=YSe;(function(t){var e=ea&&ea.__createBinding||(Object.create?function(i,s,a,c){c===void 0&&(c=a);var d=Object.getOwnPropertyDescriptor(s,a);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(i,c,d)}:function(i,s,a,c){c===void 0&&(c=a),i[c]=s[a]}),r=ea&&ea.__exportStar||function(i,s){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,i,a)};Object.defineProperty(t,"__esModule",{value:!0});const n=dv(),o=RC;n.default.init=function(i={}){const s={host:"arweave.net",port:443,protocol:"https"};if(typeof location!="object"||!location.protocol||!location.hostname)return new n.default({...i,...s});const a=location.protocol.replace(":",""),c=location.hostname,d=location.port?parseInt(location.port):a=="https"?443:80,f=(0,o.getDefaultConfig)(a,c),l=i.protocol||f.protocol,u=i.host||f.host,p=i.port||f.port||d;return new n.default({...i,host:u,protocol:l,port:p})},typeof globalThis=="object"?globalThis.Arweave=n.default:typeof self=="object"&&(self.Arweave=n.default),r(dv(),t),t.default=n.default})(Uz);const JSe=Qo(Uz),VSe={class:"flex flex-col items-center justify-center min-h-full px-8 py-12 sm:px-6"},WSe={class:"sm:max-w-md sm:w-full mb-10"},ZSe=Xt("h2",{class:"font-bold text-3xl text-center tracking-tight mb-2"}," ChainGuard Personal Data ",-1),XSe={class:"text-center"},e_e={key:0},t_e={key:1,class:"text-green-500"},r_e={key:0,class:"text-red-500"},n_e={class:"w-full max-w-md"},i_e=["onSubmit"],o_e={class:"mb-4"},s_e=Xt("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[N0(" Full Name "),Xt("span",{class:"text-red-500"},"*")],-1),a_e={class:"mb-4"},c_e=Xt("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[N0(" Content Description "),Xt("span",{class:"text-red-500"},"*")],-1),f_e=Xt("button",{type:"submit",class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"}," Add Data ",-1),d_e={key:1,class:"w-full max-w-2xl mt-10"},l_e={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},u_e={class:"text-gray-900 font-medium"},h_e={class:"text-gray-600"},A_e=["onClick"],g_e={key:2,class:"w-full max-w-2xl mt-10"},p_e={class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},y_e={class:"buttons"},I_e={key:0,class:"w-full max-w-2xl mt-10"},m_e=["disabled"],w_e=["disabled"],b_e={key:0,class:"output"},E_e={__name:"App",setup(t){let e;const r=Kd(""),n=Kd([]),o=Kd("");let i,s=Kd(null),a=Kd(null),c=Kd(null);const d=Kd(""),f=Kd("");let l=null;uN(async()=>{console.log("Attempting to connect to Web5...");try{e||await p(),r.value=i,console.log("onBeforeMount: Attempting to load personal data entries...");const{records:x}=await e.dwn.records.query({message:{filter:{schema:"http://example.org/personal-data-schema"},dateSort:"createdAscending"}});console.log("onBeforeMount: Personal data entries loaded:",x),n.value=[];for(let N of x){const $=await N.data.json();console.log("onBeforeMount: Raw data for record:",$);const G={fullName:$.fullName,content:$.content,id:N.id};console.log("onBeforeMount: Mapping record to personalEntry: ",G),n.value.push(G)}console.log("onBeforeMount: Attempting to load transaction records...");const Q=await e.dwn.records.query({message:{filter:{schema:"http://example.org/transaction-data-schema"},dateSort:"createdAscending"}});if(console.log("onBeforeMount: Transaction records loaded:",Q.records),Q.records.length>0){const N=await Q.records[Q.records.length-1].data.json();s.value=N.arweaveTransactionId,console.log(`onBeforeMount: Restored Transaction ID from the last record: ${s.value}`)}else console.log("No transaction records found.");l=JSe.init({host:"arweave.net",port:443,protocol:"https"}),console.log("Arweave.init",l)}catch(x){console.error("Failed to connect or load data:",x)}});async function u(x){try{e||await p();const Q={arweaveTransactionId:x},{record:N}=await e.dwn.records.create({data:Q,message:{schema:"http://example.org/transaction-data-schema",dataFormat:"application/json"}});console.log("storeTransactionIdInWeb5: Transaction ID stored in Web5:",N.id)}catch(Q){console.error("Failed to store transaction ID in Web5:",Q)}}async function p(){try{const x=await xD.connect();e=x.web5,i=x.did,console.log("Connected to Web5 and retrieved the user's DID:",i)}catch(x){console.error("Failed to connect to Web5 and retrieve the user's DID:",x)}}async function A(){if(e||await p(),!d.value.trim()||!f.value.trim()){console.error("Full name and content description are required."),o.value="Both Full Name and Content Description are required.";return}try{const x={fullName:d.value,content:f.value};d.value="",f.value="";const{record:Q}=await e.dwn.records.create({data:x,message:{schema:"http://example.org/personal-data-schema",dataFormat:"application/json"}}),N=await Q.data.json();n.value.push({fullName:N.fullName,content:N.content,id:Q.id})}catch(x){console.error("Failed to add personal data:",x),o.value="Failed to add data. Check console for details."}}async function h(x){try{e||await p(),n.value=n.value.filter(Q=>Q.id!==x.id),await e.dwn.records.delete({message:{recordId:x.id}})}catch(Q){console.error("Failed to delete personal data:",Q)}}async function y(){try{const{records:x}=await e.dwn.records.query({message:{filter:{schema:"http://example.org/personal-data-schema"},dateSort:"createdAscending"}});return Promise.all(x.map(Q=>Q.data.json()))}catch(x){return console.error("Failed to fetch data from Web5:",x),[]}}async function v(){const x=await y();console.log("fetchFromWeb5AndStoreDataPermanently: dataFromWeb5:",x),a.value=JSON.stringify(x),console.log(`fetchFromWeb5AndStoreDataPermanently: aggregated userInput.value: ${a.value}`),await B()}async function B(){try{if(!window.arweaveWallet)throw new Error("dispatchTransaction: ArConnect extension is not installed or not enabled.");console.log(`dispatchTransaction: userInput.value: ${a.value}`),await window.arweaveWallet.connect(["ACCESS_ADDRESS","SIGN_TRANSACTION","DISPATCH"]);let x=await l.createTransaction({data:a.value});x.addTag("App-Name","AIT-ChainGuard"),x.addTag("Content-Type","text/plain"),x.addTag("Version","1.0.1"),x.addTag("Type","post"),await l.transactions.sign(x);let Q=await window.arweaveWallet.dispatch(x);s.value=Q.id,console.log(`dispatchTransaction: transactionId: ${s.value}`),await u(s.value)}catch(x){console.error("Error dispatching the transaction: ",x)}}async function S(){if(!s.value){console.error("No transaction ID to read from.");return}try{console.log("transactionId.value",s.value);const x=await l.transactions.getData(s.value,{decode:!0,string:!0});console.log("Retrieved Data: data",x),c.value=x,console.log("Retrieved Data: retrievedData.value",c.value)}catch(x){console.error("Error reading the transaction: ",x),c.value="Failed to read from Arweave!"}}return(x,Q)=>(er(),In("div",VSe,[Xt("div",WSe,[ZSe,Xt("div",XSe,[r.value?(er(),In("div",t_e,"Web5 Connected")):(er(),In("div",e_e,"Connecting to Web5 . . ."))])]),o.value?(er(),In("div",r_e,ig(o.value),1)):vl("",!0),Xt("section",n_e,[Xt("form",{onSubmit:ON(A,["prevent"]),class:"flex flex-col space-y-4"},[Xt("div",o_e,[s_e,VD(Xt("input",{type:"text","onUpdate:modelValue":Q[0]||(Q[0]=N=>d.value=N),placeholder:"Full Name",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[w5,d.value]])]),Xt("div",a_e,[c_e,VD(Xt("textarea",{rows:"3","onUpdate:modelValue":Q[1]||(Q[1]=N=>f.value=N),placeholder:"Enter personal data content",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[w5,f.value]])]),f_e],40,i_e)]),n.value.length>0?(er(),In("section",d_e,[Xt("div",l_e,[Xt("ul",null,[(er(!0),In(ki,null,kQ(n.value,N=>(er(),In("li",{key:N.id,class:"border-b border-gray-200 flex justify-between items-center py-3"},[Xt("div",null,[Xt("p",u_e,ig(N.fullName),1),Xt("p",h_e,ig(N.content),1)]),Xt("button",{onClick:$=>h(N),class:"text-red-500 hover:text-red-700"},[Po(pl(bW),{class:"h-6 w-6"})],8,A_e)]))),128))])])])):vl("",!0),pl(s)?(er(),In("section",g_e,[Xt("div",p_e,[Xt("div",y_e,[n.value.length>0?(er(),In("section",I_e,[Xt("button",{class:"btn",onClick:v,disabled:!pl(s)}," Store Data Permanently on Arweave ",8,m_e)])):vl("",!0),Xt("button",{class:"btn",onClick:S,disabled:!pl(s)}," Read Data from Arweave ",8,w_e)]),pl(c)?(er(),In("div",b_e,[Xt("p",null,"Retrieved Data from Arweave: "+ig(pl(c)),1)])):vl("",!0)])])):vl("",!0)]))}};KN(E_e).use(wW).mount("#app")});export default v_e();
